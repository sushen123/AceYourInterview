"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/music-metadata";
exports.ids = ["vendor-chunks/music-metadata"];
exports.modules = {

/***/ "(ssr)/./node_modules/music-metadata/lib/ParserFactory.js":
/*!**********************************************************!*\
  !*** ./node_modules/music-metadata/lib/ParserFactory.js ***!
  \**********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getParserIdForExtension: () => (/* binding */ getParserIdForExtension),\n/* harmony export */   loadParser: () => (/* binding */ loadParser),\n/* harmony export */   parse: () => (/* binding */ parse),\n/* harmony export */   parseHttpContentType: () => (/* binding */ parseHttpContentType),\n/* harmony export */   parseOnContentType: () => (/* binding */ parseOnContentType)\n/* harmony export */ });\n/* harmony import */ var file_type__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! file-type */ \"(ssr)/./node_modules/file-type/core.js\");\n/* harmony import */ var content_type__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! content-type */ \"(ssr)/./node_modules/content-type/index.js\");\n/* harmony import */ var media_typer__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! media-typer */ \"(ssr)/./node_modules/media-typer/index.js\");\n/* harmony import */ var debug__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! debug */ \"(ssr)/./node_modules/debug/src/index.js\");\n/* harmony import */ var _common_MetadataCollector_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./common/MetadataCollector.js */ \"(ssr)/./node_modules/music-metadata/lib/common/MetadataCollector.js\");\n/* harmony import */ var _aiff_AiffParser_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./aiff/AiffParser.js */ \"(ssr)/./node_modules/music-metadata/lib/aiff/AiffParser.js\");\n/* harmony import */ var _apev2_APEv2Parser_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./apev2/APEv2Parser.js */ \"(ssr)/./node_modules/music-metadata/lib/apev2/APEv2Parser.js\");\n/* harmony import */ var _asf_AsfParser_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./asf/AsfParser.js */ \"(ssr)/./node_modules/music-metadata/lib/asf/AsfParser.js\");\n/* harmony import */ var _flac_FlacParser_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./flac/FlacParser.js */ \"(ssr)/./node_modules/music-metadata/lib/flac/FlacParser.js\");\n/* harmony import */ var _mp4_MP4Parser_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./mp4/MP4Parser.js */ \"(ssr)/./node_modules/music-metadata/lib/mp4/MP4Parser.js\");\n/* harmony import */ var _mpeg_MpegParser_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./mpeg/MpegParser.js */ \"(ssr)/./node_modules/music-metadata/lib/mpeg/MpegParser.js\");\n/* harmony import */ var _musepack_index_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./musepack/index.js */ \"(ssr)/./node_modules/music-metadata/lib/musepack/index.js\");\n/* harmony import */ var _ogg_OggParser_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./ogg/OggParser.js */ \"(ssr)/./node_modules/music-metadata/lib/ogg/OggParser.js\");\n/* harmony import */ var _wav_WaveParser_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./wav/WaveParser.js */ \"(ssr)/./node_modules/music-metadata/lib/wav/WaveParser.js\");\n/* harmony import */ var _wavpack_WavPackParser_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./wavpack/WavPackParser.js */ \"(ssr)/./node_modules/music-metadata/lib/wavpack/WavPackParser.js\");\n/* harmony import */ var _dsf_DsfParser_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./dsf/DsfParser.js */ \"(ssr)/./node_modules/music-metadata/lib/dsf/DsfParser.js\");\n/* harmony import */ var _dsdiff_DsdiffParser_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./dsdiff/DsdiffParser.js */ \"(ssr)/./node_modules/music-metadata/lib/dsdiff/DsdiffParser.js\");\n/* harmony import */ var _matroska_MatroskaParser_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./matroska/MatroskaParser.js */ \"(ssr)/./node_modules/music-metadata/lib/matroska/MatroskaParser.js\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst debug = debug__WEBPACK_IMPORTED_MODULE_2__('music-metadata:parser:factory');\nfunction parseHttpContentType(contentType) {\n    const type = content_type__WEBPACK_IMPORTED_MODULE_0__.parse(contentType);\n    const mime = (0,media_typer__WEBPACK_IMPORTED_MODULE_1__.parse)(type.type);\n    return {\n        type: mime.type,\n        subtype: mime.subtype,\n        suffix: mime.suffix,\n        parameters: type.parameters\n    };\n}\n/**\n * Parse metadata from tokenizer\n * @param tokenizer - Tokenizer\n * @param opts - Options\n * @returns Native metadata\n */\nasync function parseOnContentType(tokenizer, opts) {\n    const { mimeType, path, url } = tokenizer.fileInfo;\n    // Resolve parser based on MIME-type or file extension\n    const parserId = getParserIdForMimeType(mimeType) || getParserIdForExtension(path) || getParserIdForExtension(url);\n    if (!parserId) {\n        debug(`No parser found for MIME-type / extension: ${mimeType}`);\n    }\n    return parse(tokenizer, parserId, opts);\n}\nasync function parse(tokenizer, parserId, opts) {\n    if (!parserId) {\n        // Parser could not be determined on MIME-type or extension\n        debug('Guess parser on content...');\n        const buf = new Uint8Array(4100);\n        await tokenizer.peekBuffer(buf, { mayBeLess: true });\n        if (tokenizer.fileInfo.path) {\n            parserId = getParserIdForExtension(tokenizer.fileInfo.path);\n        }\n        if (!parserId) {\n            const guessedType = await (0,file_type__WEBPACK_IMPORTED_MODULE_17__.fileTypeFromBuffer)(buf);\n            if (!guessedType) {\n                throw new Error('Failed to determine audio format');\n            }\n            debug(`Guessed file type is mime=${guessedType.mime}, extension=${guessedType.ext}`);\n            parserId = getParserIdForMimeType(guessedType.mime);\n            if (!parserId) {\n                throw new Error(`Guessed MIME-type not supported: ${guessedType.mime}`);\n            }\n        }\n    }\n    // Parser found, execute parser\n    const parser = await loadParser(parserId);\n    const metadata = new _common_MetadataCollector_js__WEBPACK_IMPORTED_MODULE_3__.MetadataCollector(opts);\n    await parser.init(metadata, tokenizer, opts !== null && opts !== void 0 ? opts : {}).parse();\n    return metadata.toCommonMetadata();\n}\n/**\n * @param filePath - Path, filename or extension to audio file\n * @return Parser submodule name\n */\nfunction getParserIdForExtension(filePath) {\n    if (!filePath)\n        return;\n    const extension = getExtension(filePath).toLocaleLowerCase() || filePath;\n    switch (extension) {\n        case '.mp2':\n        case '.mp3':\n        case '.m2a':\n        case '.aac': // Assume it is ADTS-container\n            return 'mpeg';\n        case '.ape':\n            return 'apev2';\n        case '.mp4':\n        case '.m4a':\n        case '.m4b':\n        case '.m4pa':\n        case '.m4v':\n        case '.m4r':\n        case '.3gp':\n            return 'mp4';\n        case '.wma':\n        case '.wmv':\n        case '.asf':\n            return 'asf';\n        case '.flac':\n            return 'flac';\n        case '.ogg':\n        case '.ogv':\n        case '.oga':\n        case '.ogm':\n        case '.ogx':\n        case '.opus': // recommended filename extension for Ogg Opus\n        case '.spx': // recommended filename extension for Ogg Speex\n            return 'ogg';\n        case '.aif':\n        case '.aiff':\n        case '.aifc':\n            return 'aiff';\n        case '.wav':\n        case '.bwf': // Broadcast Wave Format\n            return 'riff';\n        case '.wv':\n        case '.wvp':\n            return 'wavpack';\n        case '.mpc':\n            return 'musepack';\n        case '.dsf':\n            return 'dsf';\n        case '.dff':\n            return 'dsdiff';\n        case '.mka':\n        case '.mkv':\n        case '.mk3d':\n        case '.mks':\n        case '.webm':\n            return 'matroska';\n    }\n}\nasync function loadParser(moduleName) {\n    switch (moduleName) {\n        case 'aiff': return new _aiff_AiffParser_js__WEBPACK_IMPORTED_MODULE_4__.AIFFParser();\n        case 'adts':\n        case 'mpeg':\n            return new _mpeg_MpegParser_js__WEBPACK_IMPORTED_MODULE_9__.MpegParser();\n        case 'apev2': return new _apev2_APEv2Parser_js__WEBPACK_IMPORTED_MODULE_5__.APEv2Parser();\n        case 'asf': return new _asf_AsfParser_js__WEBPACK_IMPORTED_MODULE_6__.AsfParser();\n        case 'dsf': return new _dsf_DsfParser_js__WEBPACK_IMPORTED_MODULE_14__.DsfParser();\n        case 'dsdiff': return new _dsdiff_DsdiffParser_js__WEBPACK_IMPORTED_MODULE_15__.DsdiffParser();\n        case 'flac': return new _flac_FlacParser_js__WEBPACK_IMPORTED_MODULE_7__.FlacParser();\n        case 'mp4': return new _mp4_MP4Parser_js__WEBPACK_IMPORTED_MODULE_8__.MP4Parser();\n        case 'musepack': return new _musepack_index_js__WEBPACK_IMPORTED_MODULE_10__[\"default\"]();\n        case 'ogg': return new _ogg_OggParser_js__WEBPACK_IMPORTED_MODULE_11__.OggParser();\n        case 'riff': return new _wav_WaveParser_js__WEBPACK_IMPORTED_MODULE_12__.WaveParser();\n        case 'wavpack': return new _wavpack_WavPackParser_js__WEBPACK_IMPORTED_MODULE_13__.WavPackParser();\n        case 'matroska': return new _matroska_MatroskaParser_js__WEBPACK_IMPORTED_MODULE_16__.MatroskaParser();\n        default:\n            throw new Error(`Unknown parser type: ${moduleName}`);\n    }\n}\nfunction getExtension(fname) {\n    const i = fname.lastIndexOf('.');\n    return i === -1 ? '' : fname.slice(i);\n}\n/**\n * @param httpContentType - HTTP Content-Type, extension, path or filename\n * @returns Parser submodule name\n */\nfunction getParserIdForMimeType(httpContentType) {\n    let mime;\n    if (!httpContentType)\n        return;\n    try {\n        mime = parseHttpContentType(httpContentType);\n    }\n    catch (err) {\n        debug(`Invalid HTTP Content-Type header value: ${httpContentType}`);\n        return;\n    }\n    const subType = mime.subtype.indexOf('x-') === 0 ? mime.subtype.substring(2) : mime.subtype;\n    switch (mime.type) {\n        case 'audio':\n            switch (subType) {\n                case 'mp3': // Incorrect MIME-type, Chrome, in Web API File object\n                case 'mpeg':\n                    return 'mpeg';\n                case 'aac':\n                case 'aacp':\n                    return 'adts';\n                case 'flac':\n                    return 'flac';\n                case 'ape':\n                case 'monkeys-audio':\n                    return 'apev2';\n                case 'mp4':\n                case 'm4a':\n                    return 'mp4';\n                case 'ogg': // RFC 7845\n                case 'opus': // RFC 6716\n                case 'speex': // RFC 5574\n                    return 'ogg';\n                case 'ms-wma':\n                case 'ms-wmv':\n                case 'ms-asf':\n                    return 'asf';\n                case 'aiff':\n                case 'aif':\n                case 'aifc':\n                    return 'aiff';\n                case 'vnd.wave':\n                case 'wav':\n                case 'wave':\n                    return 'riff';\n                case 'wavpack':\n                    return 'wavpack';\n                case 'musepack':\n                    return 'musepack';\n                case 'matroska':\n                case 'webm':\n                    return 'matroska';\n                case 'dsf':\n                    return 'dsf';\n            }\n            break;\n        case 'video':\n            switch (subType) {\n                case 'ms-asf':\n                case 'ms-wmv':\n                    return 'asf';\n                case 'm4v':\n                case 'mp4':\n                    return 'mp4';\n                case 'ogg':\n                    return 'ogg';\n                case 'matroska':\n                case 'webm':\n                    return 'matroska';\n            }\n            break;\n        case 'application':\n            switch (subType) {\n                case 'vnd.ms-asf':\n                    return 'asf';\n                case 'ogg':\n                    return 'ogg';\n            }\n            break;\n    }\n}\n//# sourceMappingURL=ParserFactory.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbXVzaWMtbWV0YWRhdGEvbGliL1BhcnNlckZhY3RvcnkuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBK0M7QUFDUjtBQUNjO0FBQ3ZCO0FBQ29DO0FBQ2hCO0FBQ0c7QUFDTjtBQUNHO0FBQ0g7QUFDRztBQUNEO0FBQ0Y7QUFDRTtBQUNVO0FBQ1o7QUFDUztBQUNNO0FBQzlELGNBQWMsa0NBQVM7QUFDaEI7QUFDUCxpQkFBaUIsK0NBQWlCO0FBQ2xDLGlCQUFpQixrREFBYTtBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1AsWUFBWSxzQkFBc0I7QUFDbEM7QUFDQTtBQUNBO0FBQ0EsNERBQTRELFNBQVM7QUFDckU7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBDQUEwQyxpQkFBaUI7QUFDM0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQ0FBc0MsOERBQWtCO0FBQ3hEO0FBQ0E7QUFDQTtBQUNBLCtDQUErQyxpQkFBaUIsY0FBYyxnQkFBZ0I7QUFDOUY7QUFDQTtBQUNBLG9FQUFvRSxpQkFBaUI7QUFDckY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QiwyRUFBaUI7QUFDMUMsdUZBQXVGO0FBQ3ZGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBLGdDQUFnQywyREFBVTtBQUMxQztBQUNBO0FBQ0EsdUJBQXVCLDJEQUFVO0FBQ2pDLGlDQUFpQyw4REFBVztBQUM1QywrQkFBK0Isd0RBQVM7QUFDeEMsK0JBQStCLHlEQUFTO0FBQ3hDLGtDQUFrQyxrRUFBWTtBQUM5QyxnQ0FBZ0MsMkRBQVU7QUFDMUMsK0JBQStCLHdEQUFTO0FBQ3hDLG9DQUFvQywyREFBYztBQUNsRCwrQkFBK0IseURBQVM7QUFDeEMsZ0NBQWdDLDJEQUFVO0FBQzFDLG1DQUFtQyxxRUFBYTtBQUNoRCxvQ0FBb0Msd0VBQWM7QUFDbEQ7QUFDQSxvREFBb0QsV0FBVztBQUMvRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5REFBeUQsZ0JBQWdCO0FBQ3pFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZGV2ZWxldmF0ZS8uL25vZGVfbW9kdWxlcy9tdXNpYy1tZXRhZGF0YS9saWIvUGFyc2VyRmFjdG9yeS5qcz83NDBkIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGZpbGVUeXBlRnJvbUJ1ZmZlciB9IGZyb20gJ2ZpbGUtdHlwZSc7XG5pbXBvcnQgQ29udGVudFR5cGUgZnJvbSAnY29udGVudC10eXBlJztcbmltcG9ydCB7IHBhcnNlIGFzIG1pbWVUeXBlUGFyc2UgfSBmcm9tICdtZWRpYS10eXBlcic7XG5pbXBvcnQgaW5pdERlYnVnIGZyb20gJ2RlYnVnJztcbmltcG9ydCB7IE1ldGFkYXRhQ29sbGVjdG9yIH0gZnJvbSAnLi9jb21tb24vTWV0YWRhdGFDb2xsZWN0b3IuanMnO1xuaW1wb3J0IHsgQUlGRlBhcnNlciB9IGZyb20gJy4vYWlmZi9BaWZmUGFyc2VyLmpzJztcbmltcG9ydCB7IEFQRXYyUGFyc2VyIH0gZnJvbSAnLi9hcGV2Mi9BUEV2MlBhcnNlci5qcyc7XG5pbXBvcnQgeyBBc2ZQYXJzZXIgfSBmcm9tICcuL2FzZi9Bc2ZQYXJzZXIuanMnO1xuaW1wb3J0IHsgRmxhY1BhcnNlciB9IGZyb20gJy4vZmxhYy9GbGFjUGFyc2VyLmpzJztcbmltcG9ydCB7IE1QNFBhcnNlciB9IGZyb20gJy4vbXA0L01QNFBhcnNlci5qcyc7XG5pbXBvcnQgeyBNcGVnUGFyc2VyIH0gZnJvbSAnLi9tcGVnL01wZWdQYXJzZXIuanMnO1xuaW1wb3J0IE11c2VwYWNrUGFyc2VyIGZyb20gJy4vbXVzZXBhY2svaW5kZXguanMnO1xuaW1wb3J0IHsgT2dnUGFyc2VyIH0gZnJvbSAnLi9vZ2cvT2dnUGFyc2VyLmpzJztcbmltcG9ydCB7IFdhdmVQYXJzZXIgfSBmcm9tICcuL3dhdi9XYXZlUGFyc2VyLmpzJztcbmltcG9ydCB7IFdhdlBhY2tQYXJzZXIgfSBmcm9tICcuL3dhdnBhY2svV2F2UGFja1BhcnNlci5qcyc7XG5pbXBvcnQgeyBEc2ZQYXJzZXIgfSBmcm9tICcuL2RzZi9Ec2ZQYXJzZXIuanMnO1xuaW1wb3J0IHsgRHNkaWZmUGFyc2VyIH0gZnJvbSAnLi9kc2RpZmYvRHNkaWZmUGFyc2VyLmpzJztcbmltcG9ydCB7IE1hdHJvc2thUGFyc2VyIH0gZnJvbSAnLi9tYXRyb3NrYS9NYXRyb3NrYVBhcnNlci5qcyc7XG5jb25zdCBkZWJ1ZyA9IGluaXREZWJ1ZygnbXVzaWMtbWV0YWRhdGE6cGFyc2VyOmZhY3RvcnknKTtcbmV4cG9ydCBmdW5jdGlvbiBwYXJzZUh0dHBDb250ZW50VHlwZShjb250ZW50VHlwZSkge1xuICAgIGNvbnN0IHR5cGUgPSBDb250ZW50VHlwZS5wYXJzZShjb250ZW50VHlwZSk7XG4gICAgY29uc3QgbWltZSA9IG1pbWVUeXBlUGFyc2UodHlwZS50eXBlKTtcbiAgICByZXR1cm4ge1xuICAgICAgICB0eXBlOiBtaW1lLnR5cGUsXG4gICAgICAgIHN1YnR5cGU6IG1pbWUuc3VidHlwZSxcbiAgICAgICAgc3VmZml4OiBtaW1lLnN1ZmZpeCxcbiAgICAgICAgcGFyYW1ldGVyczogdHlwZS5wYXJhbWV0ZXJzXG4gICAgfTtcbn1cbi8qKlxuICogUGFyc2UgbWV0YWRhdGEgZnJvbSB0b2tlbml6ZXJcbiAqIEBwYXJhbSB0b2tlbml6ZXIgLSBUb2tlbml6ZXJcbiAqIEBwYXJhbSBvcHRzIC0gT3B0aW9uc1xuICogQHJldHVybnMgTmF0aXZlIG1ldGFkYXRhXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBwYXJzZU9uQ29udGVudFR5cGUodG9rZW5pemVyLCBvcHRzKSB7XG4gICAgY29uc3QgeyBtaW1lVHlwZSwgcGF0aCwgdXJsIH0gPSB0b2tlbml6ZXIuZmlsZUluZm87XG4gICAgLy8gUmVzb2x2ZSBwYXJzZXIgYmFzZWQgb24gTUlNRS10eXBlIG9yIGZpbGUgZXh0ZW5zaW9uXG4gICAgY29uc3QgcGFyc2VySWQgPSBnZXRQYXJzZXJJZEZvck1pbWVUeXBlKG1pbWVUeXBlKSB8fCBnZXRQYXJzZXJJZEZvckV4dGVuc2lvbihwYXRoKSB8fCBnZXRQYXJzZXJJZEZvckV4dGVuc2lvbih1cmwpO1xuICAgIGlmICghcGFyc2VySWQpIHtcbiAgICAgICAgZGVidWcoYE5vIHBhcnNlciBmb3VuZCBmb3IgTUlNRS10eXBlIC8gZXh0ZW5zaW9uOiAke21pbWVUeXBlfWApO1xuICAgIH1cbiAgICByZXR1cm4gcGFyc2UodG9rZW5pemVyLCBwYXJzZXJJZCwgb3B0cyk7XG59XG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gcGFyc2UodG9rZW5pemVyLCBwYXJzZXJJZCwgb3B0cykge1xuICAgIGlmICghcGFyc2VySWQpIHtcbiAgICAgICAgLy8gUGFyc2VyIGNvdWxkIG5vdCBiZSBkZXRlcm1pbmVkIG9uIE1JTUUtdHlwZSBvciBleHRlbnNpb25cbiAgICAgICAgZGVidWcoJ0d1ZXNzIHBhcnNlciBvbiBjb250ZW50Li4uJyk7XG4gICAgICAgIGNvbnN0IGJ1ZiA9IG5ldyBVaW50OEFycmF5KDQxMDApO1xuICAgICAgICBhd2FpdCB0b2tlbml6ZXIucGVla0J1ZmZlcihidWYsIHsgbWF5QmVMZXNzOiB0cnVlIH0pO1xuICAgICAgICBpZiAodG9rZW5pemVyLmZpbGVJbmZvLnBhdGgpIHtcbiAgICAgICAgICAgIHBhcnNlcklkID0gZ2V0UGFyc2VySWRGb3JFeHRlbnNpb24odG9rZW5pemVyLmZpbGVJbmZvLnBhdGgpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghcGFyc2VySWQpIHtcbiAgICAgICAgICAgIGNvbnN0IGd1ZXNzZWRUeXBlID0gYXdhaXQgZmlsZVR5cGVGcm9tQnVmZmVyKGJ1Zik7XG4gICAgICAgICAgICBpZiAoIWd1ZXNzZWRUeXBlKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdGYWlsZWQgdG8gZGV0ZXJtaW5lIGF1ZGlvIGZvcm1hdCcpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZGVidWcoYEd1ZXNzZWQgZmlsZSB0eXBlIGlzIG1pbWU9JHtndWVzc2VkVHlwZS5taW1lfSwgZXh0ZW5zaW9uPSR7Z3Vlc3NlZFR5cGUuZXh0fWApO1xuICAgICAgICAgICAgcGFyc2VySWQgPSBnZXRQYXJzZXJJZEZvck1pbWVUeXBlKGd1ZXNzZWRUeXBlLm1pbWUpO1xuICAgICAgICAgICAgaWYgKCFwYXJzZXJJZCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgR3Vlc3NlZCBNSU1FLXR5cGUgbm90IHN1cHBvcnRlZDogJHtndWVzc2VkVHlwZS5taW1lfWApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIC8vIFBhcnNlciBmb3VuZCwgZXhlY3V0ZSBwYXJzZXJcbiAgICBjb25zdCBwYXJzZXIgPSBhd2FpdCBsb2FkUGFyc2VyKHBhcnNlcklkKTtcbiAgICBjb25zdCBtZXRhZGF0YSA9IG5ldyBNZXRhZGF0YUNvbGxlY3RvcihvcHRzKTtcbiAgICBhd2FpdCBwYXJzZXIuaW5pdChtZXRhZGF0YSwgdG9rZW5pemVyLCBvcHRzICE9PSBudWxsICYmIG9wdHMgIT09IHZvaWQgMCA/IG9wdHMgOiB7fSkucGFyc2UoKTtcbiAgICByZXR1cm4gbWV0YWRhdGEudG9Db21tb25NZXRhZGF0YSgpO1xufVxuLyoqXG4gKiBAcGFyYW0gZmlsZVBhdGggLSBQYXRoLCBmaWxlbmFtZSBvciBleHRlbnNpb24gdG8gYXVkaW8gZmlsZVxuICogQHJldHVybiBQYXJzZXIgc3VibW9kdWxlIG5hbWVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldFBhcnNlcklkRm9yRXh0ZW5zaW9uKGZpbGVQYXRoKSB7XG4gICAgaWYgKCFmaWxlUGF0aClcbiAgICAgICAgcmV0dXJuO1xuICAgIGNvbnN0IGV4dGVuc2lvbiA9IGdldEV4dGVuc2lvbihmaWxlUGF0aCkudG9Mb2NhbGVMb3dlckNhc2UoKSB8fCBmaWxlUGF0aDtcbiAgICBzd2l0Y2ggKGV4dGVuc2lvbikge1xuICAgICAgICBjYXNlICcubXAyJzpcbiAgICAgICAgY2FzZSAnLm1wMyc6XG4gICAgICAgIGNhc2UgJy5tMmEnOlxuICAgICAgICBjYXNlICcuYWFjJzogLy8gQXNzdW1lIGl0IGlzIEFEVFMtY29udGFpbmVyXG4gICAgICAgICAgICByZXR1cm4gJ21wZWcnO1xuICAgICAgICBjYXNlICcuYXBlJzpcbiAgICAgICAgICAgIHJldHVybiAnYXBldjInO1xuICAgICAgICBjYXNlICcubXA0JzpcbiAgICAgICAgY2FzZSAnLm00YSc6XG4gICAgICAgIGNhc2UgJy5tNGInOlxuICAgICAgICBjYXNlICcubTRwYSc6XG4gICAgICAgIGNhc2UgJy5tNHYnOlxuICAgICAgICBjYXNlICcubTRyJzpcbiAgICAgICAgY2FzZSAnLjNncCc6XG4gICAgICAgICAgICByZXR1cm4gJ21wNCc7XG4gICAgICAgIGNhc2UgJy53bWEnOlxuICAgICAgICBjYXNlICcud212JzpcbiAgICAgICAgY2FzZSAnLmFzZic6XG4gICAgICAgICAgICByZXR1cm4gJ2FzZic7XG4gICAgICAgIGNhc2UgJy5mbGFjJzpcbiAgICAgICAgICAgIHJldHVybiAnZmxhYyc7XG4gICAgICAgIGNhc2UgJy5vZ2cnOlxuICAgICAgICBjYXNlICcub2d2JzpcbiAgICAgICAgY2FzZSAnLm9nYSc6XG4gICAgICAgIGNhc2UgJy5vZ20nOlxuICAgICAgICBjYXNlICcub2d4JzpcbiAgICAgICAgY2FzZSAnLm9wdXMnOiAvLyByZWNvbW1lbmRlZCBmaWxlbmFtZSBleHRlbnNpb24gZm9yIE9nZyBPcHVzXG4gICAgICAgIGNhc2UgJy5zcHgnOiAvLyByZWNvbW1lbmRlZCBmaWxlbmFtZSBleHRlbnNpb24gZm9yIE9nZyBTcGVleFxuICAgICAgICAgICAgcmV0dXJuICdvZ2cnO1xuICAgICAgICBjYXNlICcuYWlmJzpcbiAgICAgICAgY2FzZSAnLmFpZmYnOlxuICAgICAgICBjYXNlICcuYWlmYyc6XG4gICAgICAgICAgICByZXR1cm4gJ2FpZmYnO1xuICAgICAgICBjYXNlICcud2F2JzpcbiAgICAgICAgY2FzZSAnLmJ3Zic6IC8vIEJyb2FkY2FzdCBXYXZlIEZvcm1hdFxuICAgICAgICAgICAgcmV0dXJuICdyaWZmJztcbiAgICAgICAgY2FzZSAnLnd2JzpcbiAgICAgICAgY2FzZSAnLnd2cCc6XG4gICAgICAgICAgICByZXR1cm4gJ3dhdnBhY2snO1xuICAgICAgICBjYXNlICcubXBjJzpcbiAgICAgICAgICAgIHJldHVybiAnbXVzZXBhY2snO1xuICAgICAgICBjYXNlICcuZHNmJzpcbiAgICAgICAgICAgIHJldHVybiAnZHNmJztcbiAgICAgICAgY2FzZSAnLmRmZic6XG4gICAgICAgICAgICByZXR1cm4gJ2RzZGlmZic7XG4gICAgICAgIGNhc2UgJy5ta2EnOlxuICAgICAgICBjYXNlICcubWt2JzpcbiAgICAgICAgY2FzZSAnLm1rM2QnOlxuICAgICAgICBjYXNlICcubWtzJzpcbiAgICAgICAgY2FzZSAnLndlYm0nOlxuICAgICAgICAgICAgcmV0dXJuICdtYXRyb3NrYSc7XG4gICAgfVxufVxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGxvYWRQYXJzZXIobW9kdWxlTmFtZSkge1xuICAgIHN3aXRjaCAobW9kdWxlTmFtZSkge1xuICAgICAgICBjYXNlICdhaWZmJzogcmV0dXJuIG5ldyBBSUZGUGFyc2VyKCk7XG4gICAgICAgIGNhc2UgJ2FkdHMnOlxuICAgICAgICBjYXNlICdtcGVnJzpcbiAgICAgICAgICAgIHJldHVybiBuZXcgTXBlZ1BhcnNlcigpO1xuICAgICAgICBjYXNlICdhcGV2Mic6IHJldHVybiBuZXcgQVBFdjJQYXJzZXIoKTtcbiAgICAgICAgY2FzZSAnYXNmJzogcmV0dXJuIG5ldyBBc2ZQYXJzZXIoKTtcbiAgICAgICAgY2FzZSAnZHNmJzogcmV0dXJuIG5ldyBEc2ZQYXJzZXIoKTtcbiAgICAgICAgY2FzZSAnZHNkaWZmJzogcmV0dXJuIG5ldyBEc2RpZmZQYXJzZXIoKTtcbiAgICAgICAgY2FzZSAnZmxhYyc6IHJldHVybiBuZXcgRmxhY1BhcnNlcigpO1xuICAgICAgICBjYXNlICdtcDQnOiByZXR1cm4gbmV3IE1QNFBhcnNlcigpO1xuICAgICAgICBjYXNlICdtdXNlcGFjayc6IHJldHVybiBuZXcgTXVzZXBhY2tQYXJzZXIoKTtcbiAgICAgICAgY2FzZSAnb2dnJzogcmV0dXJuIG5ldyBPZ2dQYXJzZXIoKTtcbiAgICAgICAgY2FzZSAncmlmZic6IHJldHVybiBuZXcgV2F2ZVBhcnNlcigpO1xuICAgICAgICBjYXNlICd3YXZwYWNrJzogcmV0dXJuIG5ldyBXYXZQYWNrUGFyc2VyKCk7XG4gICAgICAgIGNhc2UgJ21hdHJvc2thJzogcmV0dXJuIG5ldyBNYXRyb3NrYVBhcnNlcigpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBVbmtub3duIHBhcnNlciB0eXBlOiAke21vZHVsZU5hbWV9YCk7XG4gICAgfVxufVxuZnVuY3Rpb24gZ2V0RXh0ZW5zaW9uKGZuYW1lKSB7XG4gICAgY29uc3QgaSA9IGZuYW1lLmxhc3RJbmRleE9mKCcuJyk7XG4gICAgcmV0dXJuIGkgPT09IC0xID8gJycgOiBmbmFtZS5zbGljZShpKTtcbn1cbi8qKlxuICogQHBhcmFtIGh0dHBDb250ZW50VHlwZSAtIEhUVFAgQ29udGVudC1UeXBlLCBleHRlbnNpb24sIHBhdGggb3IgZmlsZW5hbWVcbiAqIEByZXR1cm5zIFBhcnNlciBzdWJtb2R1bGUgbmFtZVxuICovXG5mdW5jdGlvbiBnZXRQYXJzZXJJZEZvck1pbWVUeXBlKGh0dHBDb250ZW50VHlwZSkge1xuICAgIGxldCBtaW1lO1xuICAgIGlmICghaHR0cENvbnRlbnRUeXBlKVxuICAgICAgICByZXR1cm47XG4gICAgdHJ5IHtcbiAgICAgICAgbWltZSA9IHBhcnNlSHR0cENvbnRlbnRUeXBlKGh0dHBDb250ZW50VHlwZSk7XG4gICAgfVxuICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgZGVidWcoYEludmFsaWQgSFRUUCBDb250ZW50LVR5cGUgaGVhZGVyIHZhbHVlOiAke2h0dHBDb250ZW50VHlwZX1gKTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBzdWJUeXBlID0gbWltZS5zdWJ0eXBlLmluZGV4T2YoJ3gtJykgPT09IDAgPyBtaW1lLnN1YnR5cGUuc3Vic3RyaW5nKDIpIDogbWltZS5zdWJ0eXBlO1xuICAgIHN3aXRjaCAobWltZS50eXBlKSB7XG4gICAgICAgIGNhc2UgJ2F1ZGlvJzpcbiAgICAgICAgICAgIHN3aXRjaCAoc3ViVHlwZSkge1xuICAgICAgICAgICAgICAgIGNhc2UgJ21wMyc6IC8vIEluY29ycmVjdCBNSU1FLXR5cGUsIENocm9tZSwgaW4gV2ViIEFQSSBGaWxlIG9iamVjdFxuICAgICAgICAgICAgICAgIGNhc2UgJ21wZWcnOlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gJ21wZWcnO1xuICAgICAgICAgICAgICAgIGNhc2UgJ2FhYyc6XG4gICAgICAgICAgICAgICAgY2FzZSAnYWFjcCc6XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAnYWR0cyc7XG4gICAgICAgICAgICAgICAgY2FzZSAnZmxhYyc6XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAnZmxhYyc7XG4gICAgICAgICAgICAgICAgY2FzZSAnYXBlJzpcbiAgICAgICAgICAgICAgICBjYXNlICdtb25rZXlzLWF1ZGlvJzpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICdhcGV2Mic7XG4gICAgICAgICAgICAgICAgY2FzZSAnbXA0JzpcbiAgICAgICAgICAgICAgICBjYXNlICdtNGEnOlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gJ21wNCc7XG4gICAgICAgICAgICAgICAgY2FzZSAnb2dnJzogLy8gUkZDIDc4NDVcbiAgICAgICAgICAgICAgICBjYXNlICdvcHVzJzogLy8gUkZDIDY3MTZcbiAgICAgICAgICAgICAgICBjYXNlICdzcGVleCc6IC8vIFJGQyA1NTc0XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAnb2dnJztcbiAgICAgICAgICAgICAgICBjYXNlICdtcy13bWEnOlxuICAgICAgICAgICAgICAgIGNhc2UgJ21zLXdtdic6XG4gICAgICAgICAgICAgICAgY2FzZSAnbXMtYXNmJzpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICdhc2YnO1xuICAgICAgICAgICAgICAgIGNhc2UgJ2FpZmYnOlxuICAgICAgICAgICAgICAgIGNhc2UgJ2FpZic6XG4gICAgICAgICAgICAgICAgY2FzZSAnYWlmYyc6XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAnYWlmZic7XG4gICAgICAgICAgICAgICAgY2FzZSAndm5kLndhdmUnOlxuICAgICAgICAgICAgICAgIGNhc2UgJ3dhdic6XG4gICAgICAgICAgICAgICAgY2FzZSAnd2F2ZSc6XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAncmlmZic7XG4gICAgICAgICAgICAgICAgY2FzZSAnd2F2cGFjayc6XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAnd2F2cGFjayc7XG4gICAgICAgICAgICAgICAgY2FzZSAnbXVzZXBhY2snOlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gJ211c2VwYWNrJztcbiAgICAgICAgICAgICAgICBjYXNlICdtYXRyb3NrYSc6XG4gICAgICAgICAgICAgICAgY2FzZSAnd2VibSc6XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAnbWF0cm9za2EnO1xuICAgICAgICAgICAgICAgIGNhc2UgJ2RzZic6XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAnZHNmJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICd2aWRlbyc6XG4gICAgICAgICAgICBzd2l0Y2ggKHN1YlR5cGUpIHtcbiAgICAgICAgICAgICAgICBjYXNlICdtcy1hc2YnOlxuICAgICAgICAgICAgICAgIGNhc2UgJ21zLXdtdic6XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAnYXNmJztcbiAgICAgICAgICAgICAgICBjYXNlICdtNHYnOlxuICAgICAgICAgICAgICAgIGNhc2UgJ21wNCc6XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAnbXA0JztcbiAgICAgICAgICAgICAgICBjYXNlICdvZ2cnOlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gJ29nZyc7XG4gICAgICAgICAgICAgICAgY2FzZSAnbWF0cm9za2EnOlxuICAgICAgICAgICAgICAgIGNhc2UgJ3dlYm0nOlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gJ21hdHJvc2thJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdhcHBsaWNhdGlvbic6XG4gICAgICAgICAgICBzd2l0Y2ggKHN1YlR5cGUpIHtcbiAgICAgICAgICAgICAgICBjYXNlICd2bmQubXMtYXNmJzpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICdhc2YnO1xuICAgICAgICAgICAgICAgIGNhc2UgJ29nZyc6XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAnb2dnJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJyZWFrO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVBhcnNlckZhY3RvcnkuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/music-metadata/lib/ParserFactory.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/music-metadata/lib/aiff/AiffParser.js":
/*!************************************************************!*\
  !*** ./node_modules/music-metadata/lib/aiff/AiffParser.js ***!
  \************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AIFFParser: () => (/* binding */ AIFFParser)\n/* harmony export */ });\n/* harmony import */ var token_types__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! token-types */ \"(ssr)/./node_modules/token-types/lib/index.js\");\n/* harmony import */ var debug__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! debug */ \"(ssr)/./node_modules/debug/src/index.js\");\n/* harmony import */ var strtok3__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! strtok3 */ \"(ssr)/./node_modules/strtok3/lib/index.js\");\n/* harmony import */ var _id3v2_ID3v2Parser_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../id3v2/ID3v2Parser.js */ \"(ssr)/./node_modules/music-metadata/lib/id3v2/ID3v2Parser.js\");\n/* harmony import */ var _common_FourCC_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../common/FourCC.js */ \"(ssr)/./node_modules/music-metadata/lib/common/FourCC.js\");\n/* harmony import */ var _common_BasicParser_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../common/BasicParser.js */ \"(ssr)/./node_modules/music-metadata/lib/common/BasicParser.js\");\n/* harmony import */ var _AiffToken_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./AiffToken.js */ \"(ssr)/./node_modules/music-metadata/lib/aiff/AiffToken.js\");\n/* harmony import */ var _iff_index_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../iff/index.js */ \"(ssr)/./node_modules/music-metadata/lib/iff/index.js\");\n\n\n\n\n\n\n\n\n\nconst debug = debug__WEBPACK_IMPORTED_MODULE_1__('music-metadata:parser:aiff');\n/**\n * AIFF - Audio Interchange File Format\n *\n * Ref:\n * - http://www-mmsp.ece.mcgill.ca/Documents/AudioFormats/AIFF/AIFF.html\n * - http://www-mmsp.ece.mcgill.ca/Documents/AudioFormats/AIFF/Docs/AIFF-1.3.pdf\n */\nclass AIFFParser extends _common_BasicParser_js__WEBPACK_IMPORTED_MODULE_5__.BasicParser {\n    constructor() {\n        super(...arguments);\n        this.isCompressed = null;\n    }\n    async parse() {\n        const header = await this.tokenizer.readToken(_iff_index_js__WEBPACK_IMPORTED_MODULE_7__.Header);\n        if (header.chunkID !== 'FORM')\n            throw new Error('Invalid Chunk-ID, expected \\'FORM\\''); // Not AIFF format\n        const type = await this.tokenizer.readToken(_common_FourCC_js__WEBPACK_IMPORTED_MODULE_4__.FourCcToken);\n        switch (type) {\n            case 'AIFF':\n                this.metadata.setFormat('container', type);\n                this.isCompressed = false;\n                break;\n            case 'AIFC':\n                this.metadata.setFormat('container', 'AIFF-C');\n                this.isCompressed = true;\n                break;\n            default:\n                throw new Error(`Unsupported AIFF type: ${type}`);\n        }\n        this.metadata.setFormat('lossless', !this.isCompressed);\n        try {\n            while (!this.tokenizer.fileInfo.size || this.tokenizer.fileInfo.size - this.tokenizer.position >= _iff_index_js__WEBPACK_IMPORTED_MODULE_7__.Header.len) {\n                debug(`Reading AIFF chunk at offset=${this.tokenizer.position}`);\n                const chunkHeader = await this.tokenizer.readToken(_iff_index_js__WEBPACK_IMPORTED_MODULE_7__.Header);\n                const nextChunk = 2 * Math.round(chunkHeader.chunkSize / 2);\n                const bytesRead = await this.readData(chunkHeader);\n                await this.tokenizer.ignore(nextChunk - bytesRead);\n            }\n        }\n        catch (err) {\n            if (err instanceof strtok3__WEBPACK_IMPORTED_MODULE_2__.EndOfStreamError) {\n                debug(\"End-of-stream\");\n            }\n            else {\n                throw err;\n            }\n        }\n    }\n    async readData(header) {\n        var _a;\n        switch (header.chunkID) {\n            case 'COMM': { // The Common Chunk\n                if (this.isCompressed === null) {\n                    throw new Error('Failed to parse AIFF.COMM chunk when compression type is unknown');\n                }\n                const common = await this.tokenizer.readToken(new _AiffToken_js__WEBPACK_IMPORTED_MODULE_6__.Common(header, this.isCompressed));\n                this.metadata.setFormat('bitsPerSample', common.sampleSize);\n                this.metadata.setFormat('sampleRate', common.sampleRate);\n                this.metadata.setFormat('numberOfChannels', common.numChannels);\n                this.metadata.setFormat('numberOfSamples', common.numSampleFrames);\n                this.metadata.setFormat('duration', common.numSampleFrames / common.sampleRate);\n                if (common.compressionName || common.compressionType) {\n                    this.metadata.setFormat('codec', (_a = common.compressionName) !== null && _a !== void 0 ? _a : _AiffToken_js__WEBPACK_IMPORTED_MODULE_6__.compressionTypes[common.compressionType]);\n                }\n                return header.chunkSize;\n            }\n            case 'ID3 ': { // ID3-meta-data\n                const id3_data = await this.tokenizer.readToken(new token_types__WEBPACK_IMPORTED_MODULE_0__.Uint8ArrayType(header.chunkSize));\n                const rst = strtok3__WEBPACK_IMPORTED_MODULE_2__.fromBuffer(id3_data);\n                await new _id3v2_ID3v2Parser_js__WEBPACK_IMPORTED_MODULE_3__.ID3v2Parser().parse(this.metadata, rst, this.options);\n                return header.chunkSize;\n            }\n            case 'SSND': // Sound Data Chunk\n                if (this.metadata.format.duration) {\n                    this.metadata.setFormat('bitrate', 8 * header.chunkSize / this.metadata.format.duration);\n                }\n                return 0;\n            case 'NAME': // Sample name chunk\n            case 'AUTH': // Author chunk\n            case '(c) ': // Copyright chunk\n            case 'ANNO': // Annotation chunk\n                return this.readTextChunk(header);\n            default:\n                debug(`Ignore chunk id=${header.chunkID}, size=${header.chunkSize}`);\n                return 0;\n        }\n    }\n    async readTextChunk(header) {\n        const value = await this.tokenizer.readToken(new token_types__WEBPACK_IMPORTED_MODULE_0__.StringType(header.chunkSize, 'ascii'));\n        const values = value.split('\\0').map(v => v.trim()).filter(v => v === null || v === void 0 ? void 0 : v.length);\n        await Promise.all(values.map(v => this.metadata.addTag('AIFF', header.chunkID, v)));\n        return header.chunkSize;\n    }\n}\n//# sourceMappingURL=AiffParser.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbXVzaWMtbWV0YWRhdGEvbGliL2FpZmYvQWlmZlBhcnNlci5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7QUFBcUM7QUFDUDtBQUNLO0FBQ21CO0FBQ0o7QUFDSztBQUNYO0FBQ0w7QUFDVztBQUNsRCxjQUFjLGtDQUFTO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ08seUJBQXlCLCtEQUFXO0FBQzNDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzREFBc0QsaURBQVU7QUFDaEU7QUFDQSxvRUFBb0U7QUFDcEUsb0RBQW9ELDBEQUFXO0FBQy9EO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMERBQTBELEtBQUs7QUFDL0Q7QUFDQTtBQUNBO0FBQ0EsOEdBQThHLGlEQUFVO0FBQ3hILHNEQUFzRCx3QkFBd0I7QUFDOUUsbUVBQW1FLGlEQUFVO0FBQzdFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtCQUErQixxREFBd0I7QUFDdkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQkFBMkI7QUFDM0I7QUFDQTtBQUNBO0FBQ0Esa0VBQWtFLGlEQUFnQjtBQUNsRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvSEFBb0gsMkRBQWdCO0FBQ3BJO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQjtBQUMzQixvRUFBb0UsdURBQW9CO0FBQ3hGLDRCQUE0QiwrQ0FBa0I7QUFDOUMsMEJBQTBCLDhEQUFXO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUNBQXlDLGVBQWUsU0FBUyxpQkFBaUI7QUFDbEY7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5REFBeUQsbURBQWdCO0FBQ3pFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2RldmVsZXZhdGUvLi9ub2RlX21vZHVsZXMvbXVzaWMtbWV0YWRhdGEvbGliL2FpZmYvQWlmZlBhcnNlci5qcz9jYjExIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAqIGFzIFRva2VuIGZyb20gJ3Rva2VuLXR5cGVzJztcbmltcG9ydCBpbml0RGVidWcgZnJvbSAnZGVidWcnO1xuaW1wb3J0ICogYXMgc3RydG9rMyBmcm9tICdzdHJ0b2szJztcbmltcG9ydCB7IElEM3YyUGFyc2VyIH0gZnJvbSAnLi4vaWQzdjIvSUQzdjJQYXJzZXIuanMnO1xuaW1wb3J0IHsgRm91ckNjVG9rZW4gfSBmcm9tICcuLi9jb21tb24vRm91ckNDLmpzJztcbmltcG9ydCB7IEJhc2ljUGFyc2VyIH0gZnJvbSAnLi4vY29tbW9uL0Jhc2ljUGFyc2VyLmpzJztcbmltcG9ydCAqIGFzIEFpZmZUb2tlbiBmcm9tICcuL0FpZmZUb2tlbi5qcyc7XG5pbXBvcnQgKiBhcyBpZmYgZnJvbSAnLi4vaWZmL2luZGV4LmpzJztcbmltcG9ydCB7IGNvbXByZXNzaW9uVHlwZXMgfSBmcm9tICcuL0FpZmZUb2tlbi5qcyc7XG5jb25zdCBkZWJ1ZyA9IGluaXREZWJ1ZygnbXVzaWMtbWV0YWRhdGE6cGFyc2VyOmFpZmYnKTtcbi8qKlxuICogQUlGRiAtIEF1ZGlvIEludGVyY2hhbmdlIEZpbGUgRm9ybWF0XG4gKlxuICogUmVmOlxuICogLSBodHRwOi8vd3d3LW1tc3AuZWNlLm1jZ2lsbC5jYS9Eb2N1bWVudHMvQXVkaW9Gb3JtYXRzL0FJRkYvQUlGRi5odG1sXG4gKiAtIGh0dHA6Ly93d3ctbW1zcC5lY2UubWNnaWxsLmNhL0RvY3VtZW50cy9BdWRpb0Zvcm1hdHMvQUlGRi9Eb2NzL0FJRkYtMS4zLnBkZlxuICovXG5leHBvcnQgY2xhc3MgQUlGRlBhcnNlciBleHRlbmRzIEJhc2ljUGFyc2VyIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoLi4uYXJndW1lbnRzKTtcbiAgICAgICAgdGhpcy5pc0NvbXByZXNzZWQgPSBudWxsO1xuICAgIH1cbiAgICBhc3luYyBwYXJzZSgpIHtcbiAgICAgICAgY29uc3QgaGVhZGVyID0gYXdhaXQgdGhpcy50b2tlbml6ZXIucmVhZFRva2VuKGlmZi5IZWFkZXIpO1xuICAgICAgICBpZiAoaGVhZGVyLmNodW5rSUQgIT09ICdGT1JNJylcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBDaHVuay1JRCwgZXhwZWN0ZWQgXFwnRk9STVxcJycpOyAvLyBOb3QgQUlGRiBmb3JtYXRcbiAgICAgICAgY29uc3QgdHlwZSA9IGF3YWl0IHRoaXMudG9rZW5pemVyLnJlYWRUb2tlbihGb3VyQ2NUb2tlbik7XG4gICAgICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICAgICAgY2FzZSAnQUlGRic6XG4gICAgICAgICAgICAgICAgdGhpcy5tZXRhZGF0YS5zZXRGb3JtYXQoJ2NvbnRhaW5lcicsIHR5cGUpO1xuICAgICAgICAgICAgICAgIHRoaXMuaXNDb21wcmVzc2VkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdBSUZDJzpcbiAgICAgICAgICAgICAgICB0aGlzLm1ldGFkYXRhLnNldEZvcm1hdCgnY29udGFpbmVyJywgJ0FJRkYtQycpO1xuICAgICAgICAgICAgICAgIHRoaXMuaXNDb21wcmVzc2VkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBVbnN1cHBvcnRlZCBBSUZGIHR5cGU6ICR7dHlwZX1gKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLm1ldGFkYXRhLnNldEZvcm1hdCgnbG9zc2xlc3MnLCAhdGhpcy5pc0NvbXByZXNzZWQpO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgd2hpbGUgKCF0aGlzLnRva2VuaXplci5maWxlSW5mby5zaXplIHx8IHRoaXMudG9rZW5pemVyLmZpbGVJbmZvLnNpemUgLSB0aGlzLnRva2VuaXplci5wb3NpdGlvbiA+PSBpZmYuSGVhZGVyLmxlbikge1xuICAgICAgICAgICAgICAgIGRlYnVnKGBSZWFkaW5nIEFJRkYgY2h1bmsgYXQgb2Zmc2V0PSR7dGhpcy50b2tlbml6ZXIucG9zaXRpb259YCk7XG4gICAgICAgICAgICAgICAgY29uc3QgY2h1bmtIZWFkZXIgPSBhd2FpdCB0aGlzLnRva2VuaXplci5yZWFkVG9rZW4oaWZmLkhlYWRlcik7XG4gICAgICAgICAgICAgICAgY29uc3QgbmV4dENodW5rID0gMiAqIE1hdGgucm91bmQoY2h1bmtIZWFkZXIuY2h1bmtTaXplIC8gMik7XG4gICAgICAgICAgICAgICAgY29uc3QgYnl0ZXNSZWFkID0gYXdhaXQgdGhpcy5yZWFkRGF0YShjaHVua0hlYWRlcik7XG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy50b2tlbml6ZXIuaWdub3JlKG5leHRDaHVuayAtIGJ5dGVzUmVhZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgaWYgKGVyciBpbnN0YW5jZW9mIHN0cnRvazMuRW5kT2ZTdHJlYW1FcnJvcikge1xuICAgICAgICAgICAgICAgIGRlYnVnKFwiRW5kLW9mLXN0cmVhbVwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRocm93IGVycjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBhc3luYyByZWFkRGF0YShoZWFkZXIpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBzd2l0Y2ggKGhlYWRlci5jaHVua0lEKSB7XG4gICAgICAgICAgICBjYXNlICdDT01NJzogeyAvLyBUaGUgQ29tbW9uIENodW5rXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuaXNDb21wcmVzc2VkID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignRmFpbGVkIHRvIHBhcnNlIEFJRkYuQ09NTSBjaHVuayB3aGVuIGNvbXByZXNzaW9uIHR5cGUgaXMgdW5rbm93bicpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCBjb21tb24gPSBhd2FpdCB0aGlzLnRva2VuaXplci5yZWFkVG9rZW4obmV3IEFpZmZUb2tlbi5Db21tb24oaGVhZGVyLCB0aGlzLmlzQ29tcHJlc3NlZCkpO1xuICAgICAgICAgICAgICAgIHRoaXMubWV0YWRhdGEuc2V0Rm9ybWF0KCdiaXRzUGVyU2FtcGxlJywgY29tbW9uLnNhbXBsZVNpemUpO1xuICAgICAgICAgICAgICAgIHRoaXMubWV0YWRhdGEuc2V0Rm9ybWF0KCdzYW1wbGVSYXRlJywgY29tbW9uLnNhbXBsZVJhdGUpO1xuICAgICAgICAgICAgICAgIHRoaXMubWV0YWRhdGEuc2V0Rm9ybWF0KCdudW1iZXJPZkNoYW5uZWxzJywgY29tbW9uLm51bUNoYW5uZWxzKTtcbiAgICAgICAgICAgICAgICB0aGlzLm1ldGFkYXRhLnNldEZvcm1hdCgnbnVtYmVyT2ZTYW1wbGVzJywgY29tbW9uLm51bVNhbXBsZUZyYW1lcyk7XG4gICAgICAgICAgICAgICAgdGhpcy5tZXRhZGF0YS5zZXRGb3JtYXQoJ2R1cmF0aW9uJywgY29tbW9uLm51bVNhbXBsZUZyYW1lcyAvIGNvbW1vbi5zYW1wbGVSYXRlKTtcbiAgICAgICAgICAgICAgICBpZiAoY29tbW9uLmNvbXByZXNzaW9uTmFtZSB8fCBjb21tb24uY29tcHJlc3Npb25UeXBlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubWV0YWRhdGEuc2V0Rm9ybWF0KCdjb2RlYycsIChfYSA9IGNvbW1vbi5jb21wcmVzc2lvbk5hbWUpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IGNvbXByZXNzaW9uVHlwZXNbY29tbW9uLmNvbXByZXNzaW9uVHlwZV0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gaGVhZGVyLmNodW5rU2l6ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgJ0lEMyAnOiB7IC8vIElEMy1tZXRhLWRhdGFcbiAgICAgICAgICAgICAgICBjb25zdCBpZDNfZGF0YSA9IGF3YWl0IHRoaXMudG9rZW5pemVyLnJlYWRUb2tlbihuZXcgVG9rZW4uVWludDhBcnJheVR5cGUoaGVhZGVyLmNodW5rU2l6ZSkpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHJzdCA9IHN0cnRvazMuZnJvbUJ1ZmZlcihpZDNfZGF0YSk7XG4gICAgICAgICAgICAgICAgYXdhaXQgbmV3IElEM3YyUGFyc2VyKCkucGFyc2UodGhpcy5tZXRhZGF0YSwgcnN0LCB0aGlzLm9wdGlvbnMpO1xuICAgICAgICAgICAgICAgIHJldHVybiBoZWFkZXIuY2h1bmtTaXplO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSAnU1NORCc6IC8vIFNvdW5kIERhdGEgQ2h1bmtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5tZXRhZGF0YS5mb3JtYXQuZHVyYXRpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tZXRhZGF0YS5zZXRGb3JtYXQoJ2JpdHJhdGUnLCA4ICogaGVhZGVyLmNodW5rU2l6ZSAvIHRoaXMubWV0YWRhdGEuZm9ybWF0LmR1cmF0aW9uKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIDA7XG4gICAgICAgICAgICBjYXNlICdOQU1FJzogLy8gU2FtcGxlIG5hbWUgY2h1bmtcbiAgICAgICAgICAgIGNhc2UgJ0FVVEgnOiAvLyBBdXRob3IgY2h1bmtcbiAgICAgICAgICAgIGNhc2UgJyhjKSAnOiAvLyBDb3B5cmlnaHQgY2h1bmtcbiAgICAgICAgICAgIGNhc2UgJ0FOTk8nOiAvLyBBbm5vdGF0aW9uIGNodW5rXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMucmVhZFRleHRDaHVuayhoZWFkZXIpO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICBkZWJ1ZyhgSWdub3JlIGNodW5rIGlkPSR7aGVhZGVyLmNodW5rSUR9LCBzaXplPSR7aGVhZGVyLmNodW5rU2l6ZX1gKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgfVxuICAgIH1cbiAgICBhc3luYyByZWFkVGV4dENodW5rKGhlYWRlcikge1xuICAgICAgICBjb25zdCB2YWx1ZSA9IGF3YWl0IHRoaXMudG9rZW5pemVyLnJlYWRUb2tlbihuZXcgVG9rZW4uU3RyaW5nVHlwZShoZWFkZXIuY2h1bmtTaXplLCAnYXNjaWknKSk7XG4gICAgICAgIGNvbnN0IHZhbHVlcyA9IHZhbHVlLnNwbGl0KCdcXDAnKS5tYXAodiA9PiB2LnRyaW0oKSkuZmlsdGVyKHYgPT4gdiA9PT0gbnVsbCB8fCB2ID09PSB2b2lkIDAgPyB2b2lkIDAgOiB2Lmxlbmd0aCk7XG4gICAgICAgIGF3YWl0IFByb21pc2UuYWxsKHZhbHVlcy5tYXAodiA9PiB0aGlzLm1ldGFkYXRhLmFkZFRhZygnQUlGRicsIGhlYWRlci5jaHVua0lELCB2KSkpO1xuICAgICAgICByZXR1cm4gaGVhZGVyLmNodW5rU2l6ZTtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1BaWZmUGFyc2VyLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/music-metadata/lib/aiff/AiffParser.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/music-metadata/lib/aiff/AiffTagMap.js":
/*!************************************************************!*\
  !*** ./node_modules/music-metadata/lib/aiff/AiffTagMap.js ***!
  \************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AiffTagMapper: () => (/* binding */ AiffTagMapper)\n/* harmony export */ });\n/* harmony import */ var _common_GenericTagMapper_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../common/GenericTagMapper.js */ \"(ssr)/./node_modules/music-metadata/lib/common/GenericTagMapper.js\");\n\n/**\n * ID3v1 tag mappings\n */\nconst tagMap = {\n    NAME: 'title',\n    AUTH: 'artist',\n    '(c) ': 'copyright',\n    ANNO: 'comment'\n};\nclass AiffTagMapper extends _common_GenericTagMapper_js__WEBPACK_IMPORTED_MODULE_0__.CommonTagMapper {\n    constructor() {\n        super(['AIFF'], tagMap);\n    }\n}\n//# sourceMappingURL=AiffTagMap.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbXVzaWMtbWV0YWRhdGEvbGliL2FpZmYvQWlmZlRhZ01hcC5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUFnRTtBQUNoRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTyw0QkFBNEIsd0VBQWU7QUFDbEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2RldmVsZXZhdGUvLi9ub2RlX21vZHVsZXMvbXVzaWMtbWV0YWRhdGEvbGliL2FpZmYvQWlmZlRhZ01hcC5qcz9mZWYzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IENvbW1vblRhZ01hcHBlciB9IGZyb20gJy4uL2NvbW1vbi9HZW5lcmljVGFnTWFwcGVyLmpzJztcbi8qKlxuICogSUQzdjEgdGFnIG1hcHBpbmdzXG4gKi9cbmNvbnN0IHRhZ01hcCA9IHtcbiAgICBOQU1FOiAndGl0bGUnLFxuICAgIEFVVEg6ICdhcnRpc3QnLFxuICAgICcoYykgJzogJ2NvcHlyaWdodCcsXG4gICAgQU5OTzogJ2NvbW1lbnQnXG59O1xuZXhwb3J0IGNsYXNzIEFpZmZUYWdNYXBwZXIgZXh0ZW5kcyBDb21tb25UYWdNYXBwZXIge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcihbJ0FJRkYnXSwgdGFnTWFwKTtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1BaWZmVGFnTWFwLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/music-metadata/lib/aiff/AiffTagMap.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/music-metadata/lib/aiff/AiffToken.js":
/*!***********************************************************!*\
  !*** ./node_modules/music-metadata/lib/aiff/AiffToken.js ***!
  \***********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Common: () => (/* binding */ Common),\n/* harmony export */   compressionTypes: () => (/* binding */ compressionTypes)\n/* harmony export */ });\n/* harmony import */ var token_types__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! token-types */ \"(ssr)/./node_modules/token-types/lib/index.js\");\n/* harmony import */ var _common_FourCC_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../common/FourCC.js */ \"(ssr)/./node_modules/music-metadata/lib/common/FourCC.js\");\n\n\nconst compressionTypes = {\n    NONE: 'not compressed\tPCM\tApple Computer',\n    sowt: 'PCM (byte swapped)',\n    fl32: '32-bit floating point IEEE 32-bit float',\n    fl64: '64-bit floating point IEEE 64-bit float\tApple Computer',\n    alaw: 'ALaw 2:1\t8-bit ITU-T G.711 A-law',\n    ulaw: 'µLaw 2:1\t8-bit ITU-T G.711 µ-law\tApple Computer',\n    ULAW: 'CCITT G.711 u-law 8-bit ITU-T G.711 µ-law',\n    ALAW: 'CCITT G.711 A-law 8-bit ITU-T G.711 A-law',\n    FL32: 'Float 32\tIEEE 32-bit float '\n};\nclass Common {\n    constructor(header, isAifc) {\n        this.isAifc = isAifc;\n        const minimumChunkSize = isAifc ? 22 : 18;\n        if (header.chunkSize < minimumChunkSize)\n            throw new Error(`COMMON CHUNK size should always be at least ${minimumChunkSize}`);\n        this.len = header.chunkSize;\n    }\n    get(buf, off) {\n        // see: https://cycling74.com/forums/aiffs-80-bit-sample-rate-value\n        const shift = token_types__WEBPACK_IMPORTED_MODULE_0__.UINT16_BE.get(buf, off + 8) - 16398;\n        const baseSampleRate = token_types__WEBPACK_IMPORTED_MODULE_0__.UINT16_BE.get(buf, off + 8 + 2);\n        const res = {\n            numChannels: token_types__WEBPACK_IMPORTED_MODULE_0__.UINT16_BE.get(buf, off),\n            numSampleFrames: token_types__WEBPACK_IMPORTED_MODULE_0__.UINT32_BE.get(buf, off + 2),\n            sampleSize: token_types__WEBPACK_IMPORTED_MODULE_0__.UINT16_BE.get(buf, off + 6),\n            sampleRate: shift < 0 ? baseSampleRate >> Math.abs(shift) : baseSampleRate << shift\n        };\n        if (this.isAifc) {\n            res.compressionType = _common_FourCC_js__WEBPACK_IMPORTED_MODULE_1__.FourCcToken.get(buf, off + 18);\n            if (this.len > 22) {\n                const strLen = token_types__WEBPACK_IMPORTED_MODULE_0__.UINT8.get(buf, off + 22);\n                if (strLen > 0) {\n                    const padding = (strLen + 1) % 2;\n                    if (23 + strLen + padding === this.len) {\n                        res.compressionName = new token_types__WEBPACK_IMPORTED_MODULE_0__.StringType(strLen, 'latin1').get(buf, off + 23);\n                    }\n                    else {\n                        throw new Error('Illegal pstring length');\n                    }\n                }\n                else {\n                    res.compressionName = undefined;\n                }\n            }\n        }\n        else {\n            res.compressionName = 'PCM';\n        }\n        return res;\n    }\n}\n//# sourceMappingURL=AiffToken.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbXVzaWMtbWV0YWRhdGEvbGliL2FpZmYvQWlmZlRva2VuLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBcUM7QUFDYTtBQUMzQztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJFQUEyRSxpQkFBaUI7QUFDNUY7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0Isa0RBQWU7QUFDckMsK0JBQStCLGtEQUFlO0FBQzlDO0FBQ0EseUJBQXlCLGtEQUFlO0FBQ3hDLDZCQUE2QixrREFBZTtBQUM1Qyx3QkFBd0Isa0RBQWU7QUFDdkM7QUFDQTtBQUNBO0FBQ0Esa0NBQWtDLDBEQUFXO0FBQzdDO0FBQ0EsK0JBQStCLDhDQUFXO0FBQzFDO0FBQ0E7QUFDQTtBQUNBLGtEQUFrRCxtREFBZ0I7QUFDbEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2RldmVsZXZhdGUvLi9ub2RlX21vZHVsZXMvbXVzaWMtbWV0YWRhdGEvbGliL2FpZmYvQWlmZlRva2VuLmpzP2E0ZDgiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICogYXMgVG9rZW4gZnJvbSAndG9rZW4tdHlwZXMnO1xuaW1wb3J0IHsgRm91ckNjVG9rZW4gfSBmcm9tICcuLi9jb21tb24vRm91ckNDLmpzJztcbmV4cG9ydCBjb25zdCBjb21wcmVzc2lvblR5cGVzID0ge1xuICAgIE5PTkU6ICdub3QgY29tcHJlc3NlZFx0UENNXHRBcHBsZSBDb21wdXRlcicsXG4gICAgc293dDogJ1BDTSAoYnl0ZSBzd2FwcGVkKScsXG4gICAgZmwzMjogJzMyLWJpdCBmbG9hdGluZyBwb2ludCBJRUVFIDMyLWJpdCBmbG9hdCcsXG4gICAgZmw2NDogJzY0LWJpdCBmbG9hdGluZyBwb2ludCBJRUVFIDY0LWJpdCBmbG9hdFx0QXBwbGUgQ29tcHV0ZXInLFxuICAgIGFsYXc6ICdBTGF3IDI6MVx0OC1iaXQgSVRVLVQgRy43MTEgQS1sYXcnLFxuICAgIHVsYXc6ICfCtUxhdyAyOjFcdDgtYml0IElUVS1UIEcuNzExIMK1LWxhd1x0QXBwbGUgQ29tcHV0ZXInLFxuICAgIFVMQVc6ICdDQ0lUVCBHLjcxMSB1LWxhdyA4LWJpdCBJVFUtVCBHLjcxMSDCtS1sYXcnLFxuICAgIEFMQVc6ICdDQ0lUVCBHLjcxMSBBLWxhdyA4LWJpdCBJVFUtVCBHLjcxMSBBLWxhdycsXG4gICAgRkwzMjogJ0Zsb2F0IDMyXHRJRUVFIDMyLWJpdCBmbG9hdCAnXG59O1xuZXhwb3J0IGNsYXNzIENvbW1vbiB7XG4gICAgY29uc3RydWN0b3IoaGVhZGVyLCBpc0FpZmMpIHtcbiAgICAgICAgdGhpcy5pc0FpZmMgPSBpc0FpZmM7XG4gICAgICAgIGNvbnN0IG1pbmltdW1DaHVua1NpemUgPSBpc0FpZmMgPyAyMiA6IDE4O1xuICAgICAgICBpZiAoaGVhZGVyLmNodW5rU2l6ZSA8IG1pbmltdW1DaHVua1NpemUpXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYENPTU1PTiBDSFVOSyBzaXplIHNob3VsZCBhbHdheXMgYmUgYXQgbGVhc3QgJHttaW5pbXVtQ2h1bmtTaXplfWApO1xuICAgICAgICB0aGlzLmxlbiA9IGhlYWRlci5jaHVua1NpemU7XG4gICAgfVxuICAgIGdldChidWYsIG9mZikge1xuICAgICAgICAvLyBzZWU6IGh0dHBzOi8vY3ljbGluZzc0LmNvbS9mb3J1bXMvYWlmZnMtODAtYml0LXNhbXBsZS1yYXRlLXZhbHVlXG4gICAgICAgIGNvbnN0IHNoaWZ0ID0gVG9rZW4uVUlOVDE2X0JFLmdldChidWYsIG9mZiArIDgpIC0gMTYzOTg7XG4gICAgICAgIGNvbnN0IGJhc2VTYW1wbGVSYXRlID0gVG9rZW4uVUlOVDE2X0JFLmdldChidWYsIG9mZiArIDggKyAyKTtcbiAgICAgICAgY29uc3QgcmVzID0ge1xuICAgICAgICAgICAgbnVtQ2hhbm5lbHM6IFRva2VuLlVJTlQxNl9CRS5nZXQoYnVmLCBvZmYpLFxuICAgICAgICAgICAgbnVtU2FtcGxlRnJhbWVzOiBUb2tlbi5VSU5UMzJfQkUuZ2V0KGJ1Ziwgb2ZmICsgMiksXG4gICAgICAgICAgICBzYW1wbGVTaXplOiBUb2tlbi5VSU5UMTZfQkUuZ2V0KGJ1Ziwgb2ZmICsgNiksXG4gICAgICAgICAgICBzYW1wbGVSYXRlOiBzaGlmdCA8IDAgPyBiYXNlU2FtcGxlUmF0ZSA+PiBNYXRoLmFicyhzaGlmdCkgOiBiYXNlU2FtcGxlUmF0ZSA8PCBzaGlmdFxuICAgICAgICB9O1xuICAgICAgICBpZiAodGhpcy5pc0FpZmMpIHtcbiAgICAgICAgICAgIHJlcy5jb21wcmVzc2lvblR5cGUgPSBGb3VyQ2NUb2tlbi5nZXQoYnVmLCBvZmYgKyAxOCk7XG4gICAgICAgICAgICBpZiAodGhpcy5sZW4gPiAyMikge1xuICAgICAgICAgICAgICAgIGNvbnN0IHN0ckxlbiA9IFRva2VuLlVJTlQ4LmdldChidWYsIG9mZiArIDIyKTtcbiAgICAgICAgICAgICAgICBpZiAoc3RyTGVuID4gMCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBwYWRkaW5nID0gKHN0ckxlbiArIDEpICUgMjtcbiAgICAgICAgICAgICAgICAgICAgaWYgKDIzICsgc3RyTGVuICsgcGFkZGluZyA9PT0gdGhpcy5sZW4pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlcy5jb21wcmVzc2lvbk5hbWUgPSBuZXcgVG9rZW4uU3RyaW5nVHlwZShzdHJMZW4sICdsYXRpbjEnKS5nZXQoYnVmLCBvZmYgKyAyMyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0lsbGVnYWwgcHN0cmluZyBsZW5ndGgnKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzLmNvbXByZXNzaW9uTmFtZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXMuY29tcHJlc3Npb25OYW1lID0gJ1BDTSc7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlcztcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1BaWZmVG9rZW4uanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/music-metadata/lib/aiff/AiffToken.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/music-metadata/lib/apev2/APEv2Parser.js":
/*!**************************************************************!*\
  !*** ./node_modules/music-metadata/lib/apev2/APEv2Parser.js ***!
  \**************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   APEv2Parser: () => (/* binding */ APEv2Parser)\n/* harmony export */ });\n/* harmony import */ var debug__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! debug */ \"(ssr)/./node_modules/debug/src/index.js\");\n/* harmony import */ var strtok3__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! strtok3 */ \"(ssr)/./node_modules/strtok3/lib/index.js\");\n/* harmony import */ var token_types__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! token-types */ \"(ssr)/./node_modules/token-types/lib/index.js\");\n/* harmony import */ var uint8array_extras__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! uint8array-extras */ \"(ssr)/./node_modules/uint8array-extras/index.js\");\n/* harmony import */ var _common_Util_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../common/Util.js */ \"(ssr)/./node_modules/music-metadata/lib/common/Util.js\");\n/* harmony import */ var _common_BasicParser_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../common/BasicParser.js */ \"(ssr)/./node_modules/music-metadata/lib/common/BasicParser.js\");\n/* harmony import */ var _APEv2Token_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./APEv2Token.js */ \"(ssr)/./node_modules/music-metadata/lib/apev2/APEv2Token.js\");\n\n\n\n\n\n\n\nconst debug = debug__WEBPACK_IMPORTED_MODULE_0__('music-metadata:parser:APEv2');\nconst tagFormat = 'APEv2';\nconst preamble = 'APETAGEX';\nclass APEv2Parser extends _common_BasicParser_js__WEBPACK_IMPORTED_MODULE_4__.BasicParser {\n    constructor() {\n        super(...arguments);\n        this.ape = {};\n    }\n    static tryParseApeHeader(metadata, tokenizer, options) {\n        const apeParser = new APEv2Parser();\n        apeParser.init(metadata, tokenizer, options);\n        return apeParser.tryParseApeHeader();\n    }\n    /**\n     * Calculate the media file duration\n     * @param ah ApeHeader\n     * @return {number} duration in seconds\n     */\n    static calculateDuration(ah) {\n        let duration = ah.totalFrames > 1 ? ah.blocksPerFrame * (ah.totalFrames - 1) : 0;\n        duration += ah.finalFrameBlocks;\n        return duration / ah.sampleRate;\n    }\n    /**\n     * Calculates the APEv1 / APEv2 first field offset\n     * @param reader\n     * @param offset\n     */\n    static async findApeFooterOffset(reader, offset) {\n        // Search for APE footer header at the end of the file\n        const apeBuf = new Uint8Array(_APEv2Token_js__WEBPACK_IMPORTED_MODULE_5__.TagFooter.len);\n        await reader.randomRead(apeBuf, 0, _APEv2Token_js__WEBPACK_IMPORTED_MODULE_5__.TagFooter.len, offset - _APEv2Token_js__WEBPACK_IMPORTED_MODULE_5__.TagFooter.len);\n        const tagFooter = _APEv2Token_js__WEBPACK_IMPORTED_MODULE_5__.TagFooter.get(apeBuf, 0);\n        if (tagFooter.ID === 'APETAGEX') {\n            if (tagFooter.flags.isHeader) {\n                debug(`APE Header found at offset=${offset - _APEv2Token_js__WEBPACK_IMPORTED_MODULE_5__.TagFooter.len}`);\n            }\n            else {\n                debug(`APE Footer found at offset=${offset - _APEv2Token_js__WEBPACK_IMPORTED_MODULE_5__.TagFooter.len}`);\n                offset -= tagFooter.size;\n            }\n            return { footer: tagFooter, offset };\n        }\n    }\n    static parseTagFooter(metadata, buffer, options) {\n        const footer = _APEv2Token_js__WEBPACK_IMPORTED_MODULE_5__.TagFooter.get(buffer, buffer.length - _APEv2Token_js__WEBPACK_IMPORTED_MODULE_5__.TagFooter.len);\n        if (footer.ID !== preamble)\n            throw new Error('Unexpected APEv2 Footer ID preamble value.');\n        strtok3__WEBPACK_IMPORTED_MODULE_1__.fromBuffer(buffer);\n        const apeParser = new APEv2Parser();\n        apeParser.init(metadata, strtok3__WEBPACK_IMPORTED_MODULE_1__.fromBuffer(buffer), options);\n        return apeParser.parseTags(footer);\n    }\n    /**\n     * Parse APEv1 / APEv2 header if header signature found\n     */\n    async tryParseApeHeader() {\n        if (this.tokenizer.fileInfo.size && this.tokenizer.fileInfo.size - this.tokenizer.position < _APEv2Token_js__WEBPACK_IMPORTED_MODULE_5__.TagFooter.len) {\n            debug(\"No APEv2 header found, end-of-file reached\");\n            return;\n        }\n        const footer = await this.tokenizer.peekToken(_APEv2Token_js__WEBPACK_IMPORTED_MODULE_5__.TagFooter);\n        if (footer.ID === preamble) {\n            await this.tokenizer.ignore(_APEv2Token_js__WEBPACK_IMPORTED_MODULE_5__.TagFooter.len);\n            return this.parseTags(footer);\n        }\n        debug(`APEv2 header not found at offset=${this.tokenizer.position}`);\n        if (this.tokenizer.fileInfo.size) {\n            // Try to read the APEv2 header using just the footer-header\n            const remaining = this.tokenizer.fileInfo.size - this.tokenizer.position; // ToDo: take ID3v1 into account\n            const buffer = new Uint8Array(remaining);\n            await this.tokenizer.readBuffer(buffer);\n            return APEv2Parser.parseTagFooter(this.metadata, buffer, this.options);\n        }\n    }\n    async parse() {\n        const descriptor = await this.tokenizer.readToken(_APEv2Token_js__WEBPACK_IMPORTED_MODULE_5__.DescriptorParser);\n        if (descriptor.ID !== 'MAC ')\n            throw new Error('Unexpected descriptor ID');\n        this.ape.descriptor = descriptor;\n        const lenExp = descriptor.descriptorBytes - _APEv2Token_js__WEBPACK_IMPORTED_MODULE_5__.DescriptorParser.len;\n        const header = await (lenExp > 0 ? this.parseDescriptorExpansion(lenExp) : this.parseHeader());\n        await this.tokenizer.ignore(header.forwardBytes);\n        return this.tryParseApeHeader();\n    }\n    async parseTags(footer) {\n        const keyBuffer = new Uint8Array(256); // maximum tag key length\n        let bytesRemaining = footer.size - _APEv2Token_js__WEBPACK_IMPORTED_MODULE_5__.TagFooter.len;\n        debug(`Parse APE tags at offset=${this.tokenizer.position}, size=${bytesRemaining}`);\n        for (let i = 0; i < footer.fields; i++) {\n            if (bytesRemaining < _APEv2Token_js__WEBPACK_IMPORTED_MODULE_5__.TagItemHeader.len) {\n                this.metadata.addWarning(`APEv2 Tag-header: ${footer.fields - i} items remaining, but no more tag data to read.`);\n                break;\n            }\n            // Only APEv2 tag has tag item headers\n            const tagItemHeader = await this.tokenizer.readToken(_APEv2Token_js__WEBPACK_IMPORTED_MODULE_5__.TagItemHeader);\n            bytesRemaining -= _APEv2Token_js__WEBPACK_IMPORTED_MODULE_5__.TagItemHeader.len + tagItemHeader.size;\n            await this.tokenizer.peekBuffer(keyBuffer, { length: Math.min(keyBuffer.length, bytesRemaining) });\n            let zero = _common_Util_js__WEBPACK_IMPORTED_MODULE_3__.findZero(keyBuffer, 0, keyBuffer.length);\n            const key = await this.tokenizer.readToken(new token_types__WEBPACK_IMPORTED_MODULE_2__.StringType(zero, 'ascii'));\n            await this.tokenizer.ignore(1);\n            bytesRemaining -= key.length + 1;\n            switch (tagItemHeader.flags.dataType) {\n                case _APEv2Token_js__WEBPACK_IMPORTED_MODULE_5__.DataType.text_utf8: { // utf-8 text-string\n                    const value = await this.tokenizer.readToken(new token_types__WEBPACK_IMPORTED_MODULE_2__.StringType(tagItemHeader.size, 'utf8'));\n                    const values = value.split(/\\x00/g);\n                    await Promise.all(values.map(val => this.metadata.addTag(tagFormat, key, val)));\n                    break;\n                }\n                case _APEv2Token_js__WEBPACK_IMPORTED_MODULE_5__.DataType.binary: // binary (probably artwork)\n                    if (this.options.skipCovers) {\n                        await this.tokenizer.ignore(tagItemHeader.size);\n                    }\n                    else {\n                        const picData = new Uint8Array(tagItemHeader.size);\n                        await this.tokenizer.readBuffer(picData);\n                        zero = _common_Util_js__WEBPACK_IMPORTED_MODULE_3__.findZero(picData, 0, picData.length);\n                        const description = (0,uint8array_extras__WEBPACK_IMPORTED_MODULE_6__.uint8ArrayToString)(picData.slice(0, zero));\n                        const data = picData.slice(zero + 1);\n                        await this.metadata.addTag(tagFormat, key, {\n                            description,\n                            data\n                        });\n                    }\n                    break;\n                case _APEv2Token_js__WEBPACK_IMPORTED_MODULE_5__.DataType.external_info:\n                    debug(`Ignore external info ${key}`);\n                    await this.tokenizer.ignore(tagItemHeader.size);\n                    break;\n                case _APEv2Token_js__WEBPACK_IMPORTED_MODULE_5__.DataType.reserved:\n                    debug(`Ignore external info ${key}`);\n                    this.metadata.addWarning(`APEv2 header declares a reserved datatype for \"${key}\"`);\n                    await this.tokenizer.ignore(tagItemHeader.size);\n                    break;\n            }\n        }\n    }\n    async parseDescriptorExpansion(lenExp) {\n        await this.tokenizer.ignore(lenExp);\n        return this.parseHeader();\n    }\n    async parseHeader() {\n        const header = await this.tokenizer.readToken(_APEv2Token_js__WEBPACK_IMPORTED_MODULE_5__.Header);\n        // ToDo before\n        this.metadata.setFormat('lossless', true);\n        this.metadata.setFormat('container', 'Monkey\\'s Audio');\n        this.metadata.setFormat('bitsPerSample', header.bitsPerSample);\n        this.metadata.setFormat('sampleRate', header.sampleRate);\n        this.metadata.setFormat('numberOfChannels', header.channel);\n        this.metadata.setFormat('duration', APEv2Parser.calculateDuration(header));\n        if (!this.ape.descriptor) {\n            throw new Error('Missing APE descriptor');\n        }\n        return {\n            forwardBytes: this.ape.descriptor.seekTableBytes + this.ape.descriptor.headerDataBytes +\n                this.ape.descriptor.apeFrameDataBytes + this.ape.descriptor.terminatingDataBytes\n        };\n    }\n}\n//# sourceMappingURL=APEv2Parser.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbXVzaWMtbWV0YWRhdGEvbGliL2FwZXYyL0FQRXYyUGFyc2VyLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQThCO0FBQ0s7QUFDTTtBQUNjO0FBQ2I7QUFDYTtBQUN3QztBQUMvRixjQUFjLGtDQUFTO0FBQ3ZCO0FBQ0E7QUFDTywwQkFBMEIsK0RBQVc7QUFDNUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLFFBQVE7QUFDeEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQ0FBc0MscURBQVM7QUFDL0MsMkNBQTJDLHFEQUFTLGVBQWUscURBQVM7QUFDNUUsMEJBQTBCLHFEQUFTO0FBQ25DO0FBQ0E7QUFDQSxvREFBb0QsU0FBUyxxREFBUyxLQUFLO0FBQzNFO0FBQ0E7QUFDQSxvREFBb0QsU0FBUyxxREFBUyxLQUFLO0FBQzNFO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCLHFEQUFTLDZCQUE2QixxREFBUztBQUN0RTtBQUNBO0FBQ0EsUUFBUSwrQ0FBa0I7QUFDMUI7QUFDQSxpQ0FBaUMsK0NBQWtCO0FBQ25EO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFHQUFxRyxxREFBUztBQUM5RztBQUNBO0FBQ0E7QUFDQSxzREFBc0QscURBQVM7QUFDL0Q7QUFDQSx3Q0FBd0MscURBQVM7QUFDakQ7QUFDQTtBQUNBLGtEQUFrRCx3QkFBd0I7QUFDMUU7QUFDQTtBQUNBLHNGQUFzRjtBQUN0RjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwREFBMEQsNERBQWdCO0FBQzFFO0FBQ0E7QUFDQTtBQUNBLG9EQUFvRCw0REFBZ0I7QUFDcEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtDQUErQztBQUMvQywyQ0FBMkMscURBQVM7QUFDcEQsMENBQTBDLHdCQUF3QixTQUFTLGVBQWU7QUFDMUYsd0JBQXdCLG1CQUFtQjtBQUMzQyxpQ0FBaUMseURBQWE7QUFDOUMsOERBQThELG1CQUFtQjtBQUNqRjtBQUNBO0FBQ0E7QUFDQSxpRUFBaUUseURBQWE7QUFDOUUsOEJBQThCLHlEQUFhO0FBQzNDLHlEQUF5RCxvREFBb0Q7QUFDN0csdUJBQXVCLHFEQUFhO0FBQ3BDLDJEQUEyRCxtREFBVTtBQUNyRTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUIsb0RBQVEsY0FBYztBQUMzQyxxRUFBcUUsbURBQVU7QUFDL0U7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUIsb0RBQVE7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0JBQStCLHFEQUFhO0FBQzVDLDRDQUE0QyxxRUFBa0I7QUFDOUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUI7QUFDekI7QUFDQTtBQUNBLHFCQUFxQixvREFBUTtBQUM3QixrREFBa0QsSUFBSTtBQUN0RDtBQUNBO0FBQ0EscUJBQXFCLG9EQUFRO0FBQzdCLGtEQUFrRCxJQUFJO0FBQ3RELCtGQUErRixJQUFJO0FBQ25HO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0RBQXNELGtEQUFNO0FBQzVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9kZXZlbGV2YXRlLy4vbm9kZV9tb2R1bGVzL211c2ljLW1ldGFkYXRhL2xpYi9hcGV2Mi9BUEV2MlBhcnNlci5qcz80ZWFlIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBpbml0RGVidWcgZnJvbSAnZGVidWcnO1xuaW1wb3J0ICogYXMgc3RydG9rMyBmcm9tICdzdHJ0b2szJztcbmltcG9ydCB7IFN0cmluZ1R5cGUgfSBmcm9tICd0b2tlbi10eXBlcyc7XG5pbXBvcnQgeyB1aW50OEFycmF5VG9TdHJpbmcgfSBmcm9tICd1aW50OGFycmF5LWV4dHJhcyc7XG5pbXBvcnQgKiBhcyB1dGlsIGZyb20gJy4uL2NvbW1vbi9VdGlsLmpzJztcbmltcG9ydCB7IEJhc2ljUGFyc2VyIH0gZnJvbSAnLi4vY29tbW9uL0Jhc2ljUGFyc2VyLmpzJztcbmltcG9ydCB7IERhdGFUeXBlLCBEZXNjcmlwdG9yUGFyc2VyLCBIZWFkZXIsIFRhZ0Zvb3RlciwgVGFnSXRlbUhlYWRlciB9IGZyb20gJy4vQVBFdjJUb2tlbi5qcyc7XG5jb25zdCBkZWJ1ZyA9IGluaXREZWJ1ZygnbXVzaWMtbWV0YWRhdGE6cGFyc2VyOkFQRXYyJyk7XG5jb25zdCB0YWdGb3JtYXQgPSAnQVBFdjInO1xuY29uc3QgcHJlYW1ibGUgPSAnQVBFVEFHRVgnO1xuZXhwb3J0IGNsYXNzIEFQRXYyUGFyc2VyIGV4dGVuZHMgQmFzaWNQYXJzZXIge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlciguLi5hcmd1bWVudHMpO1xuICAgICAgICB0aGlzLmFwZSA9IHt9O1xuICAgIH1cbiAgICBzdGF0aWMgdHJ5UGFyc2VBcGVIZWFkZXIobWV0YWRhdGEsIHRva2VuaXplciwgb3B0aW9ucykge1xuICAgICAgICBjb25zdCBhcGVQYXJzZXIgPSBuZXcgQVBFdjJQYXJzZXIoKTtcbiAgICAgICAgYXBlUGFyc2VyLmluaXQobWV0YWRhdGEsIHRva2VuaXplciwgb3B0aW9ucyk7XG4gICAgICAgIHJldHVybiBhcGVQYXJzZXIudHJ5UGFyc2VBcGVIZWFkZXIoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2FsY3VsYXRlIHRoZSBtZWRpYSBmaWxlIGR1cmF0aW9uXG4gICAgICogQHBhcmFtIGFoIEFwZUhlYWRlclxuICAgICAqIEByZXR1cm4ge251bWJlcn0gZHVyYXRpb24gaW4gc2Vjb25kc1xuICAgICAqL1xuICAgIHN0YXRpYyBjYWxjdWxhdGVEdXJhdGlvbihhaCkge1xuICAgICAgICBsZXQgZHVyYXRpb24gPSBhaC50b3RhbEZyYW1lcyA+IDEgPyBhaC5ibG9ja3NQZXJGcmFtZSAqIChhaC50b3RhbEZyYW1lcyAtIDEpIDogMDtcbiAgICAgICAgZHVyYXRpb24gKz0gYWguZmluYWxGcmFtZUJsb2NrcztcbiAgICAgICAgcmV0dXJuIGR1cmF0aW9uIC8gYWguc2FtcGxlUmF0ZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2FsY3VsYXRlcyB0aGUgQVBFdjEgLyBBUEV2MiBmaXJzdCBmaWVsZCBvZmZzZXRcbiAgICAgKiBAcGFyYW0gcmVhZGVyXG4gICAgICogQHBhcmFtIG9mZnNldFxuICAgICAqL1xuICAgIHN0YXRpYyBhc3luYyBmaW5kQXBlRm9vdGVyT2Zmc2V0KHJlYWRlciwgb2Zmc2V0KSB7XG4gICAgICAgIC8vIFNlYXJjaCBmb3IgQVBFIGZvb3RlciBoZWFkZXIgYXQgdGhlIGVuZCBvZiB0aGUgZmlsZVxuICAgICAgICBjb25zdCBhcGVCdWYgPSBuZXcgVWludDhBcnJheShUYWdGb290ZXIubGVuKTtcbiAgICAgICAgYXdhaXQgcmVhZGVyLnJhbmRvbVJlYWQoYXBlQnVmLCAwLCBUYWdGb290ZXIubGVuLCBvZmZzZXQgLSBUYWdGb290ZXIubGVuKTtcbiAgICAgICAgY29uc3QgdGFnRm9vdGVyID0gVGFnRm9vdGVyLmdldChhcGVCdWYsIDApO1xuICAgICAgICBpZiAodGFnRm9vdGVyLklEID09PSAnQVBFVEFHRVgnKSB7XG4gICAgICAgICAgICBpZiAodGFnRm9vdGVyLmZsYWdzLmlzSGVhZGVyKSB7XG4gICAgICAgICAgICAgICAgZGVidWcoYEFQRSBIZWFkZXIgZm91bmQgYXQgb2Zmc2V0PSR7b2Zmc2V0IC0gVGFnRm9vdGVyLmxlbn1gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGRlYnVnKGBBUEUgRm9vdGVyIGZvdW5kIGF0IG9mZnNldD0ke29mZnNldCAtIFRhZ0Zvb3Rlci5sZW59YCk7XG4gICAgICAgICAgICAgICAgb2Zmc2V0IC09IHRhZ0Zvb3Rlci5zaXplO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHsgZm9vdGVyOiB0YWdGb290ZXIsIG9mZnNldCB9O1xuICAgICAgICB9XG4gICAgfVxuICAgIHN0YXRpYyBwYXJzZVRhZ0Zvb3RlcihtZXRhZGF0YSwgYnVmZmVyLCBvcHRpb25zKSB7XG4gICAgICAgIGNvbnN0IGZvb3RlciA9IFRhZ0Zvb3Rlci5nZXQoYnVmZmVyLCBidWZmZXIubGVuZ3RoIC0gVGFnRm9vdGVyLmxlbik7XG4gICAgICAgIGlmIChmb290ZXIuSUQgIT09IHByZWFtYmxlKVxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdVbmV4cGVjdGVkIEFQRXYyIEZvb3RlciBJRCBwcmVhbWJsZSB2YWx1ZS4nKTtcbiAgICAgICAgc3RydG9rMy5mcm9tQnVmZmVyKGJ1ZmZlcik7XG4gICAgICAgIGNvbnN0IGFwZVBhcnNlciA9IG5ldyBBUEV2MlBhcnNlcigpO1xuICAgICAgICBhcGVQYXJzZXIuaW5pdChtZXRhZGF0YSwgc3RydG9rMy5mcm9tQnVmZmVyKGJ1ZmZlciksIG9wdGlvbnMpO1xuICAgICAgICByZXR1cm4gYXBlUGFyc2VyLnBhcnNlVGFncyhmb290ZXIpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBQYXJzZSBBUEV2MSAvIEFQRXYyIGhlYWRlciBpZiBoZWFkZXIgc2lnbmF0dXJlIGZvdW5kXG4gICAgICovXG4gICAgYXN5bmMgdHJ5UGFyc2VBcGVIZWFkZXIoKSB7XG4gICAgICAgIGlmICh0aGlzLnRva2VuaXplci5maWxlSW5mby5zaXplICYmIHRoaXMudG9rZW5pemVyLmZpbGVJbmZvLnNpemUgLSB0aGlzLnRva2VuaXplci5wb3NpdGlvbiA8IFRhZ0Zvb3Rlci5sZW4pIHtcbiAgICAgICAgICAgIGRlYnVnKFwiTm8gQVBFdjIgaGVhZGVyIGZvdW5kLCBlbmQtb2YtZmlsZSByZWFjaGVkXCIpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGZvb3RlciA9IGF3YWl0IHRoaXMudG9rZW5pemVyLnBlZWtUb2tlbihUYWdGb290ZXIpO1xuICAgICAgICBpZiAoZm9vdGVyLklEID09PSBwcmVhbWJsZSkge1xuICAgICAgICAgICAgYXdhaXQgdGhpcy50b2tlbml6ZXIuaWdub3JlKFRhZ0Zvb3Rlci5sZW4pO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMucGFyc2VUYWdzKGZvb3Rlcik7XG4gICAgICAgIH1cbiAgICAgICAgZGVidWcoYEFQRXYyIGhlYWRlciBub3QgZm91bmQgYXQgb2Zmc2V0PSR7dGhpcy50b2tlbml6ZXIucG9zaXRpb259YCk7XG4gICAgICAgIGlmICh0aGlzLnRva2VuaXplci5maWxlSW5mby5zaXplKSB7XG4gICAgICAgICAgICAvLyBUcnkgdG8gcmVhZCB0aGUgQVBFdjIgaGVhZGVyIHVzaW5nIGp1c3QgdGhlIGZvb3Rlci1oZWFkZXJcbiAgICAgICAgICAgIGNvbnN0IHJlbWFpbmluZyA9IHRoaXMudG9rZW5pemVyLmZpbGVJbmZvLnNpemUgLSB0aGlzLnRva2VuaXplci5wb3NpdGlvbjsgLy8gVG9EbzogdGFrZSBJRDN2MSBpbnRvIGFjY291bnRcbiAgICAgICAgICAgIGNvbnN0IGJ1ZmZlciA9IG5ldyBVaW50OEFycmF5KHJlbWFpbmluZyk7XG4gICAgICAgICAgICBhd2FpdCB0aGlzLnRva2VuaXplci5yZWFkQnVmZmVyKGJ1ZmZlcik7XG4gICAgICAgICAgICByZXR1cm4gQVBFdjJQYXJzZXIucGFyc2VUYWdGb290ZXIodGhpcy5tZXRhZGF0YSwgYnVmZmVyLCB0aGlzLm9wdGlvbnMpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGFzeW5jIHBhcnNlKCkge1xuICAgICAgICBjb25zdCBkZXNjcmlwdG9yID0gYXdhaXQgdGhpcy50b2tlbml6ZXIucmVhZFRva2VuKERlc2NyaXB0b3JQYXJzZXIpO1xuICAgICAgICBpZiAoZGVzY3JpcHRvci5JRCAhPT0gJ01BQyAnKVxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdVbmV4cGVjdGVkIGRlc2NyaXB0b3IgSUQnKTtcbiAgICAgICAgdGhpcy5hcGUuZGVzY3JpcHRvciA9IGRlc2NyaXB0b3I7XG4gICAgICAgIGNvbnN0IGxlbkV4cCA9IGRlc2NyaXB0b3IuZGVzY3JpcHRvckJ5dGVzIC0gRGVzY3JpcHRvclBhcnNlci5sZW47XG4gICAgICAgIGNvbnN0IGhlYWRlciA9IGF3YWl0IChsZW5FeHAgPiAwID8gdGhpcy5wYXJzZURlc2NyaXB0b3JFeHBhbnNpb24obGVuRXhwKSA6IHRoaXMucGFyc2VIZWFkZXIoKSk7XG4gICAgICAgIGF3YWl0IHRoaXMudG9rZW5pemVyLmlnbm9yZShoZWFkZXIuZm9yd2FyZEJ5dGVzKTtcbiAgICAgICAgcmV0dXJuIHRoaXMudHJ5UGFyc2VBcGVIZWFkZXIoKTtcbiAgICB9XG4gICAgYXN5bmMgcGFyc2VUYWdzKGZvb3Rlcikge1xuICAgICAgICBjb25zdCBrZXlCdWZmZXIgPSBuZXcgVWludDhBcnJheSgyNTYpOyAvLyBtYXhpbXVtIHRhZyBrZXkgbGVuZ3RoXG4gICAgICAgIGxldCBieXRlc1JlbWFpbmluZyA9IGZvb3Rlci5zaXplIC0gVGFnRm9vdGVyLmxlbjtcbiAgICAgICAgZGVidWcoYFBhcnNlIEFQRSB0YWdzIGF0IG9mZnNldD0ke3RoaXMudG9rZW5pemVyLnBvc2l0aW9ufSwgc2l6ZT0ke2J5dGVzUmVtYWluaW5nfWApO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGZvb3Rlci5maWVsZHM7IGkrKykge1xuICAgICAgICAgICAgaWYgKGJ5dGVzUmVtYWluaW5nIDwgVGFnSXRlbUhlYWRlci5sZW4pIHtcbiAgICAgICAgICAgICAgICB0aGlzLm1ldGFkYXRhLmFkZFdhcm5pbmcoYEFQRXYyIFRhZy1oZWFkZXI6ICR7Zm9vdGVyLmZpZWxkcyAtIGl9IGl0ZW1zIHJlbWFpbmluZywgYnV0IG5vIG1vcmUgdGFnIGRhdGEgdG8gcmVhZC5gKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIE9ubHkgQVBFdjIgdGFnIGhhcyB0YWcgaXRlbSBoZWFkZXJzXG4gICAgICAgICAgICBjb25zdCB0YWdJdGVtSGVhZGVyID0gYXdhaXQgdGhpcy50b2tlbml6ZXIucmVhZFRva2VuKFRhZ0l0ZW1IZWFkZXIpO1xuICAgICAgICAgICAgYnl0ZXNSZW1haW5pbmcgLT0gVGFnSXRlbUhlYWRlci5sZW4gKyB0YWdJdGVtSGVhZGVyLnNpemU7XG4gICAgICAgICAgICBhd2FpdCB0aGlzLnRva2VuaXplci5wZWVrQnVmZmVyKGtleUJ1ZmZlciwgeyBsZW5ndGg6IE1hdGgubWluKGtleUJ1ZmZlci5sZW5ndGgsIGJ5dGVzUmVtYWluaW5nKSB9KTtcbiAgICAgICAgICAgIGxldCB6ZXJvID0gdXRpbC5maW5kWmVybyhrZXlCdWZmZXIsIDAsIGtleUJ1ZmZlci5sZW5ndGgpO1xuICAgICAgICAgICAgY29uc3Qga2V5ID0gYXdhaXQgdGhpcy50b2tlbml6ZXIucmVhZFRva2VuKG5ldyBTdHJpbmdUeXBlKHplcm8sICdhc2NpaScpKTtcbiAgICAgICAgICAgIGF3YWl0IHRoaXMudG9rZW5pemVyLmlnbm9yZSgxKTtcbiAgICAgICAgICAgIGJ5dGVzUmVtYWluaW5nIC09IGtleS5sZW5ndGggKyAxO1xuICAgICAgICAgICAgc3dpdGNoICh0YWdJdGVtSGVhZGVyLmZsYWdzLmRhdGFUeXBlKSB7XG4gICAgICAgICAgICAgICAgY2FzZSBEYXRhVHlwZS50ZXh0X3V0Zjg6IHsgLy8gdXRmLTggdGV4dC1zdHJpbmdcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBhd2FpdCB0aGlzLnRva2VuaXplci5yZWFkVG9rZW4obmV3IFN0cmluZ1R5cGUodGFnSXRlbUhlYWRlci5zaXplLCAndXRmOCcpKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdmFsdWVzID0gdmFsdWUuc3BsaXQoL1xceDAwL2cpO1xuICAgICAgICAgICAgICAgICAgICBhd2FpdCBQcm9taXNlLmFsbCh2YWx1ZXMubWFwKHZhbCA9PiB0aGlzLm1ldGFkYXRhLmFkZFRhZyh0YWdGb3JtYXQsIGtleSwgdmFsKSkpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2FzZSBEYXRhVHlwZS5iaW5hcnk6IC8vIGJpbmFyeSAocHJvYmFibHkgYXJ0d29yaylcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5za2lwQ292ZXJzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnRva2VuaXplci5pZ25vcmUodGFnSXRlbUhlYWRlci5zaXplKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHBpY0RhdGEgPSBuZXcgVWludDhBcnJheSh0YWdJdGVtSGVhZGVyLnNpemUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy50b2tlbml6ZXIucmVhZEJ1ZmZlcihwaWNEYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHplcm8gPSB1dGlsLmZpbmRaZXJvKHBpY0RhdGEsIDAsIHBpY0RhdGEubGVuZ3RoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGRlc2NyaXB0aW9uID0gdWludDhBcnJheVRvU3RyaW5nKHBpY0RhdGEuc2xpY2UoMCwgemVybykpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZGF0YSA9IHBpY0RhdGEuc2xpY2UoemVybyArIDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5tZXRhZGF0YS5hZGRUYWcodGFnRm9ybWF0LCBrZXksIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIERhdGFUeXBlLmV4dGVybmFsX2luZm86XG4gICAgICAgICAgICAgICAgICAgIGRlYnVnKGBJZ25vcmUgZXh0ZXJuYWwgaW5mbyAke2tleX1gKTtcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy50b2tlbml6ZXIuaWdub3JlKHRhZ0l0ZW1IZWFkZXIuc2l6ZSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgRGF0YVR5cGUucmVzZXJ2ZWQ6XG4gICAgICAgICAgICAgICAgICAgIGRlYnVnKGBJZ25vcmUgZXh0ZXJuYWwgaW5mbyAke2tleX1gKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tZXRhZGF0YS5hZGRXYXJuaW5nKGBBUEV2MiBoZWFkZXIgZGVjbGFyZXMgYSByZXNlcnZlZCBkYXRhdHlwZSBmb3IgXCIke2tleX1cImApO1xuICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnRva2VuaXplci5pZ25vcmUodGFnSXRlbUhlYWRlci5zaXplKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgYXN5bmMgcGFyc2VEZXNjcmlwdG9yRXhwYW5zaW9uKGxlbkV4cCkge1xuICAgICAgICBhd2FpdCB0aGlzLnRva2VuaXplci5pZ25vcmUobGVuRXhwKTtcbiAgICAgICAgcmV0dXJuIHRoaXMucGFyc2VIZWFkZXIoKTtcbiAgICB9XG4gICAgYXN5bmMgcGFyc2VIZWFkZXIoKSB7XG4gICAgICAgIGNvbnN0IGhlYWRlciA9IGF3YWl0IHRoaXMudG9rZW5pemVyLnJlYWRUb2tlbihIZWFkZXIpO1xuICAgICAgICAvLyBUb0RvIGJlZm9yZVxuICAgICAgICB0aGlzLm1ldGFkYXRhLnNldEZvcm1hdCgnbG9zc2xlc3MnLCB0cnVlKTtcbiAgICAgICAgdGhpcy5tZXRhZGF0YS5zZXRGb3JtYXQoJ2NvbnRhaW5lcicsICdNb25rZXlcXCdzIEF1ZGlvJyk7XG4gICAgICAgIHRoaXMubWV0YWRhdGEuc2V0Rm9ybWF0KCdiaXRzUGVyU2FtcGxlJywgaGVhZGVyLmJpdHNQZXJTYW1wbGUpO1xuICAgICAgICB0aGlzLm1ldGFkYXRhLnNldEZvcm1hdCgnc2FtcGxlUmF0ZScsIGhlYWRlci5zYW1wbGVSYXRlKTtcbiAgICAgICAgdGhpcy5tZXRhZGF0YS5zZXRGb3JtYXQoJ251bWJlck9mQ2hhbm5lbHMnLCBoZWFkZXIuY2hhbm5lbCk7XG4gICAgICAgIHRoaXMubWV0YWRhdGEuc2V0Rm9ybWF0KCdkdXJhdGlvbicsIEFQRXYyUGFyc2VyLmNhbGN1bGF0ZUR1cmF0aW9uKGhlYWRlcikpO1xuICAgICAgICBpZiAoIXRoaXMuYXBlLmRlc2NyaXB0b3IpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyBBUEUgZGVzY3JpcHRvcicpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBmb3J3YXJkQnl0ZXM6IHRoaXMuYXBlLmRlc2NyaXB0b3Iuc2Vla1RhYmxlQnl0ZXMgKyB0aGlzLmFwZS5kZXNjcmlwdG9yLmhlYWRlckRhdGFCeXRlcyArXG4gICAgICAgICAgICAgICAgdGhpcy5hcGUuZGVzY3JpcHRvci5hcGVGcmFtZURhdGFCeXRlcyArIHRoaXMuYXBlLmRlc2NyaXB0b3IudGVybWluYXRpbmdEYXRhQnl0ZXNcbiAgICAgICAgfTtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1BUEV2MlBhcnNlci5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/music-metadata/lib/apev2/APEv2Parser.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/music-metadata/lib/apev2/APEv2TagMapper.js":
/*!*****************************************************************!*\
  !*** ./node_modules/music-metadata/lib/apev2/APEv2TagMapper.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   APEv2TagMapper: () => (/* binding */ APEv2TagMapper)\n/* harmony export */ });\n/* harmony import */ var _common_CaseInsensitiveTagMap_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../common/CaseInsensitiveTagMap.js */ \"(ssr)/./node_modules/music-metadata/lib/common/CaseInsensitiveTagMap.js\");\n\n/**\n * ID3v2.2 tag mappings\n */\nconst apev2TagMap = {\n    Title: 'title',\n    Artist: 'artist',\n    Artists: 'artists',\n    'Album Artist': 'albumartist',\n    Album: 'album',\n    Year: 'date',\n    Originalyear: 'originalyear',\n    Originaldate: 'originaldate',\n    Releasedate: 'releasedate',\n    Comment: 'comment',\n    Track: 'track',\n    Disc: 'disk',\n    DISCNUMBER: 'disk', // ToDo: backwards compatibility', valid tag?\n    Genre: 'genre',\n    'Cover Art (Front)': 'picture',\n    'Cover Art (Back)': 'picture',\n    Composer: 'composer',\n    Lyrics: 'lyrics',\n    ALBUMSORT: 'albumsort',\n    TITLESORT: 'titlesort',\n    WORK: 'work',\n    ARTISTSORT: 'artistsort',\n    ALBUMARTISTSORT: 'albumartistsort',\n    COMPOSERSORT: 'composersort',\n    Lyricist: 'lyricist',\n    Writer: 'writer',\n    Conductor: 'conductor',\n    // 'Performer=artist (instrument)': 'performer:instrument',\n    MixArtist: 'remixer',\n    Arranger: 'arranger',\n    Engineer: 'engineer',\n    Producer: 'producer',\n    DJMixer: 'djmixer',\n    Mixer: 'mixer',\n    Label: 'label',\n    Grouping: 'grouping',\n    Subtitle: 'subtitle',\n    DiscSubtitle: 'discsubtitle',\n    Compilation: 'compilation',\n    BPM: 'bpm',\n    Mood: 'mood',\n    Media: 'media',\n    CatalogNumber: 'catalognumber',\n    MUSICBRAINZ_ALBUMSTATUS: 'releasestatus',\n    MUSICBRAINZ_ALBUMTYPE: 'releasetype',\n    RELEASECOUNTRY: 'releasecountry',\n    Script: 'script',\n    Language: 'language',\n    Copyright: 'copyright',\n    LICENSE: 'license',\n    EncodedBy: 'encodedby',\n    EncoderSettings: 'encodersettings',\n    Barcode: 'barcode',\n    ISRC: 'isrc',\n    ASIN: 'asin',\n    musicbrainz_trackid: 'musicbrainz_recordingid',\n    musicbrainz_releasetrackid: 'musicbrainz_trackid',\n    MUSICBRAINZ_ALBUMID: 'musicbrainz_albumid',\n    MUSICBRAINZ_ARTISTID: 'musicbrainz_artistid',\n    MUSICBRAINZ_ALBUMARTISTID: 'musicbrainz_albumartistid',\n    MUSICBRAINZ_RELEASEGROUPID: 'musicbrainz_releasegroupid',\n    MUSICBRAINZ_WORKID: 'musicbrainz_workid',\n    MUSICBRAINZ_TRMID: 'musicbrainz_trmid',\n    MUSICBRAINZ_DISCID: 'musicbrainz_discid',\n    Acoustid_Id: 'acoustid_id',\n    ACOUSTID_FINGERPRINT: 'acoustid_fingerprint',\n    MUSICIP_PUID: 'musicip_puid',\n    Weblink: 'website',\n    REPLAYGAIN_TRACK_GAIN: 'replaygain_track_gain',\n    REPLAYGAIN_TRACK_PEAK: 'replaygain_track_peak',\n    MP3GAIN_MINMAX: 'replaygain_track_minmax',\n    MP3GAIN_UNDO: 'replaygain_undo'\n};\nclass APEv2TagMapper extends _common_CaseInsensitiveTagMap_js__WEBPACK_IMPORTED_MODULE_0__.CaseInsensitiveTagMap {\n    constructor() {\n        super(['APEv2'], apev2TagMap);\n    }\n}\n//# sourceMappingURL=APEv2TagMapper.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbXVzaWMtbWV0YWRhdGEvbGliL2FwZXYyL0FQRXYyVGFnTWFwcGVyLmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQTJFO0FBQzNFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTyw2QkFBNkIsbUZBQXFCO0FBQ3pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9kZXZlbGV2YXRlLy4vbm9kZV9tb2R1bGVzL211c2ljLW1ldGFkYXRhL2xpYi9hcGV2Mi9BUEV2MlRhZ01hcHBlci5qcz8xZDM1Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IENhc2VJbnNlbnNpdGl2ZVRhZ01hcCB9IGZyb20gJy4uL2NvbW1vbi9DYXNlSW5zZW5zaXRpdmVUYWdNYXAuanMnO1xuLyoqXG4gKiBJRDN2Mi4yIHRhZyBtYXBwaW5nc1xuICovXG5jb25zdCBhcGV2MlRhZ01hcCA9IHtcbiAgICBUaXRsZTogJ3RpdGxlJyxcbiAgICBBcnRpc3Q6ICdhcnRpc3QnLFxuICAgIEFydGlzdHM6ICdhcnRpc3RzJyxcbiAgICAnQWxidW0gQXJ0aXN0JzogJ2FsYnVtYXJ0aXN0JyxcbiAgICBBbGJ1bTogJ2FsYnVtJyxcbiAgICBZZWFyOiAnZGF0ZScsXG4gICAgT3JpZ2luYWx5ZWFyOiAnb3JpZ2luYWx5ZWFyJyxcbiAgICBPcmlnaW5hbGRhdGU6ICdvcmlnaW5hbGRhdGUnLFxuICAgIFJlbGVhc2VkYXRlOiAncmVsZWFzZWRhdGUnLFxuICAgIENvbW1lbnQ6ICdjb21tZW50JyxcbiAgICBUcmFjazogJ3RyYWNrJyxcbiAgICBEaXNjOiAnZGlzaycsXG4gICAgRElTQ05VTUJFUjogJ2Rpc2snLCAvLyBUb0RvOiBiYWNrd2FyZHMgY29tcGF0aWJpbGl0eScsIHZhbGlkIHRhZz9cbiAgICBHZW5yZTogJ2dlbnJlJyxcbiAgICAnQ292ZXIgQXJ0IChGcm9udCknOiAncGljdHVyZScsXG4gICAgJ0NvdmVyIEFydCAoQmFjayknOiAncGljdHVyZScsXG4gICAgQ29tcG9zZXI6ICdjb21wb3NlcicsXG4gICAgTHlyaWNzOiAnbHlyaWNzJyxcbiAgICBBTEJVTVNPUlQ6ICdhbGJ1bXNvcnQnLFxuICAgIFRJVExFU09SVDogJ3RpdGxlc29ydCcsXG4gICAgV09SSzogJ3dvcmsnLFxuICAgIEFSVElTVFNPUlQ6ICdhcnRpc3Rzb3J0JyxcbiAgICBBTEJVTUFSVElTVFNPUlQ6ICdhbGJ1bWFydGlzdHNvcnQnLFxuICAgIENPTVBPU0VSU09SVDogJ2NvbXBvc2Vyc29ydCcsXG4gICAgTHlyaWNpc3Q6ICdseXJpY2lzdCcsXG4gICAgV3JpdGVyOiAnd3JpdGVyJyxcbiAgICBDb25kdWN0b3I6ICdjb25kdWN0b3InLFxuICAgIC8vICdQZXJmb3JtZXI9YXJ0aXN0wqAoaW5zdHJ1bWVudCknOiAncGVyZm9ybWVyOmluc3RydW1lbnQnLFxuICAgIE1peEFydGlzdDogJ3JlbWl4ZXInLFxuICAgIEFycmFuZ2VyOiAnYXJyYW5nZXInLFxuICAgIEVuZ2luZWVyOiAnZW5naW5lZXInLFxuICAgIFByb2R1Y2VyOiAncHJvZHVjZXInLFxuICAgIERKTWl4ZXI6ICdkam1peGVyJyxcbiAgICBNaXhlcjogJ21peGVyJyxcbiAgICBMYWJlbDogJ2xhYmVsJyxcbiAgICBHcm91cGluZzogJ2dyb3VwaW5nJyxcbiAgICBTdWJ0aXRsZTogJ3N1YnRpdGxlJyxcbiAgICBEaXNjU3VidGl0bGU6ICdkaXNjc3VidGl0bGUnLFxuICAgIENvbXBpbGF0aW9uOiAnY29tcGlsYXRpb24nLFxuICAgIEJQTTogJ2JwbScsXG4gICAgTW9vZDogJ21vb2QnLFxuICAgIE1lZGlhOiAnbWVkaWEnLFxuICAgIENhdGFsb2dOdW1iZXI6ICdjYXRhbG9nbnVtYmVyJyxcbiAgICBNVVNJQ0JSQUlOWl9BTEJVTVNUQVRVUzogJ3JlbGVhc2VzdGF0dXMnLFxuICAgIE1VU0lDQlJBSU5aX0FMQlVNVFlQRTogJ3JlbGVhc2V0eXBlJyxcbiAgICBSRUxFQVNFQ09VTlRSWTogJ3JlbGVhc2Vjb3VudHJ5JyxcbiAgICBTY3JpcHQ6ICdzY3JpcHQnLFxuICAgIExhbmd1YWdlOiAnbGFuZ3VhZ2UnLFxuICAgIENvcHlyaWdodDogJ2NvcHlyaWdodCcsXG4gICAgTElDRU5TRTogJ2xpY2Vuc2UnLFxuICAgIEVuY29kZWRCeTogJ2VuY29kZWRieScsXG4gICAgRW5jb2RlclNldHRpbmdzOiAnZW5jb2RlcnNldHRpbmdzJyxcbiAgICBCYXJjb2RlOiAnYmFyY29kZScsXG4gICAgSVNSQzogJ2lzcmMnLFxuICAgIEFTSU46ICdhc2luJyxcbiAgICBtdXNpY2JyYWluel90cmFja2lkOiAnbXVzaWNicmFpbnpfcmVjb3JkaW5naWQnLFxuICAgIG11c2ljYnJhaW56X3JlbGVhc2V0cmFja2lkOiAnbXVzaWNicmFpbnpfdHJhY2tpZCcsXG4gICAgTVVTSUNCUkFJTlpfQUxCVU1JRDogJ211c2ljYnJhaW56X2FsYnVtaWQnLFxuICAgIE1VU0lDQlJBSU5aX0FSVElTVElEOiAnbXVzaWNicmFpbnpfYXJ0aXN0aWQnLFxuICAgIE1VU0lDQlJBSU5aX0FMQlVNQVJUSVNUSUQ6ICdtdXNpY2JyYWluel9hbGJ1bWFydGlzdGlkJyxcbiAgICBNVVNJQ0JSQUlOWl9SRUxFQVNFR1JPVVBJRDogJ211c2ljYnJhaW56X3JlbGVhc2Vncm91cGlkJyxcbiAgICBNVVNJQ0JSQUlOWl9XT1JLSUQ6ICdtdXNpY2JyYWluel93b3JraWQnLFxuICAgIE1VU0lDQlJBSU5aX1RSTUlEOiAnbXVzaWNicmFpbnpfdHJtaWQnLFxuICAgIE1VU0lDQlJBSU5aX0RJU0NJRDogJ211c2ljYnJhaW56X2Rpc2NpZCcsXG4gICAgQWNvdXN0aWRfSWQ6ICdhY291c3RpZF9pZCcsXG4gICAgQUNPVVNUSURfRklOR0VSUFJJTlQ6ICdhY291c3RpZF9maW5nZXJwcmludCcsXG4gICAgTVVTSUNJUF9QVUlEOiAnbXVzaWNpcF9wdWlkJyxcbiAgICBXZWJsaW5rOiAnd2Vic2l0ZScsXG4gICAgUkVQTEFZR0FJTl9UUkFDS19HQUlOOiAncmVwbGF5Z2Fpbl90cmFja19nYWluJyxcbiAgICBSRVBMQVlHQUlOX1RSQUNLX1BFQUs6ICdyZXBsYXlnYWluX3RyYWNrX3BlYWsnLFxuICAgIE1QM0dBSU5fTUlOTUFYOiAncmVwbGF5Z2Fpbl90cmFja19taW5tYXgnLFxuICAgIE1QM0dBSU5fVU5ETzogJ3JlcGxheWdhaW5fdW5kbydcbn07XG5leHBvcnQgY2xhc3MgQVBFdjJUYWdNYXBwZXIgZXh0ZW5kcyBDYXNlSW5zZW5zaXRpdmVUYWdNYXAge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcihbJ0FQRXYyJ10sIGFwZXYyVGFnTWFwKTtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1BUEV2MlRhZ01hcHBlci5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/music-metadata/lib/apev2/APEv2TagMapper.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/music-metadata/lib/apev2/APEv2Token.js":
/*!*************************************************************!*\
  !*** ./node_modules/music-metadata/lib/apev2/APEv2Token.js ***!
  \*************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DataType: () => (/* binding */ DataType),\n/* harmony export */   DescriptorParser: () => (/* binding */ DescriptorParser),\n/* harmony export */   Header: () => (/* binding */ Header),\n/* harmony export */   TagFooter: () => (/* binding */ TagFooter),\n/* harmony export */   TagItemHeader: () => (/* binding */ TagItemHeader),\n/* harmony export */   isBitSet: () => (/* binding */ isBitSet),\n/* harmony export */   parseTagFlags: () => (/* binding */ parseTagFlags)\n/* harmony export */ });\n/* harmony import */ var token_types__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! token-types */ \"(ssr)/./node_modules/token-types/lib/index.js\");\n/* harmony import */ var _common_FourCC_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../common/FourCC.js */ \"(ssr)/./node_modules/music-metadata/lib/common/FourCC.js\");\n\n\nvar DataType;\n(function (DataType) {\n    DataType[DataType[\"text_utf8\"] = 0] = \"text_utf8\";\n    DataType[DataType[\"binary\"] = 1] = \"binary\";\n    DataType[DataType[\"external_info\"] = 2] = \"external_info\";\n    DataType[DataType[\"reserved\"] = 3] = \"reserved\";\n})(DataType || (DataType = {}));\n/**\n * APE_DESCRIPTOR: defines the sizes (and offsets) of all the pieces, as well as the MD5 checksum\n */\nconst DescriptorParser = {\n    len: 52,\n    get: (buf, off) => {\n        return {\n            // should equal 'MAC '\n            ID: _common_FourCC_js__WEBPACK_IMPORTED_MODULE_1__.FourCcToken.get(buf, off),\n            // versionIndex number * 1000 (3.81 = 3810) (remember that 4-byte alignment causes this to take 4-bytes)\n            version: token_types__WEBPACK_IMPORTED_MODULE_0__.UINT32_LE.get(buf, off + 4) / 1000,\n            // the number of descriptor bytes (allows later expansion of this header)\n            descriptorBytes: token_types__WEBPACK_IMPORTED_MODULE_0__.UINT32_LE.get(buf, off + 8),\n            // the number of header APE_HEADER bytes\n            headerBytes: token_types__WEBPACK_IMPORTED_MODULE_0__.UINT32_LE.get(buf, off + 12),\n            // the number of header APE_HEADER bytes\n            seekTableBytes: token_types__WEBPACK_IMPORTED_MODULE_0__.UINT32_LE.get(buf, off + 16),\n            // the number of header data bytes (from original file)\n            headerDataBytes: token_types__WEBPACK_IMPORTED_MODULE_0__.UINT32_LE.get(buf, off + 20),\n            // the number of bytes of APE frame data\n            apeFrameDataBytes: token_types__WEBPACK_IMPORTED_MODULE_0__.UINT32_LE.get(buf, off + 24),\n            // the high order number of APE frame data bytes\n            apeFrameDataBytesHigh: token_types__WEBPACK_IMPORTED_MODULE_0__.UINT32_LE.get(buf, off + 28),\n            // the terminating data of the file (not including tag data)\n            terminatingDataBytes: token_types__WEBPACK_IMPORTED_MODULE_0__.UINT32_LE.get(buf, off + 32),\n            // the MD5 hash of the file (see notes for usage... it's a little tricky)\n            fileMD5: new token_types__WEBPACK_IMPORTED_MODULE_0__.Uint8ArrayType(16).get(buf, off + 36)\n        };\n    }\n};\n/**\n * APE_HEADER: describes all of the necessary information about the APE file\n */\nconst Header = {\n    len: 24,\n    get: (buf, off) => {\n        return {\n            // the compression level (see defines I.E. COMPRESSION_LEVEL_FAST)\n            compressionLevel: token_types__WEBPACK_IMPORTED_MODULE_0__.UINT16_LE.get(buf, off),\n            // any format flags (for future use)\n            formatFlags: token_types__WEBPACK_IMPORTED_MODULE_0__.UINT16_LE.get(buf, off + 2),\n            // the number of audio blocks in one frame\n            blocksPerFrame: token_types__WEBPACK_IMPORTED_MODULE_0__.UINT32_LE.get(buf, off + 4),\n            // the number of audio blocks in the final frame\n            finalFrameBlocks: token_types__WEBPACK_IMPORTED_MODULE_0__.UINT32_LE.get(buf, off + 8),\n            // the total number of frames\n            totalFrames: token_types__WEBPACK_IMPORTED_MODULE_0__.UINT32_LE.get(buf, off + 12),\n            // the bits per sample (typically 16)\n            bitsPerSample: token_types__WEBPACK_IMPORTED_MODULE_0__.UINT16_LE.get(buf, off + 16),\n            // the number of channels (1 or 2)\n            channel: token_types__WEBPACK_IMPORTED_MODULE_0__.UINT16_LE.get(buf, off + 18),\n            // the sample rate (typically 44100)\n            sampleRate: token_types__WEBPACK_IMPORTED_MODULE_0__.UINT32_LE.get(buf, off + 20)\n        };\n    }\n};\n/**\n * APE Tag Header/Footer Version 2.0\n * TAG: describes all the properties of the file [optional]\n */\nconst TagFooter = {\n    len: 32,\n    get: (buf, off) => {\n        return {\n            // should equal 'APETAGEX'\n            ID: new token_types__WEBPACK_IMPORTED_MODULE_0__.StringType(8, 'ascii').get(buf, off),\n            // equals CURRENT_APE_TAG_VERSION\n            version: token_types__WEBPACK_IMPORTED_MODULE_0__.UINT32_LE.get(buf, off + 8),\n            // the complete size of the tag, including this footer (excludes header)\n            size: token_types__WEBPACK_IMPORTED_MODULE_0__.UINT32_LE.get(buf, off + 12),\n            // the number of fields in the tag\n            fields: token_types__WEBPACK_IMPORTED_MODULE_0__.UINT32_LE.get(buf, off + 16),\n            // reserved for later use (must be zero),\n            flags: parseTagFlags(token_types__WEBPACK_IMPORTED_MODULE_0__.UINT32_LE.get(buf, off + 20))\n        };\n    }\n};\n/**\n * APE Tag v2.0 Item Header\n */\nconst TagItemHeader = {\n    len: 8,\n    get: (buf, off) => {\n        return {\n            // Length of assigned value in bytes\n            size: token_types__WEBPACK_IMPORTED_MODULE_0__.UINT32_LE.get(buf, off),\n            // reserved for later use (must be zero),\n            flags: parseTagFlags(token_types__WEBPACK_IMPORTED_MODULE_0__.UINT32_LE.get(buf, off + 4))\n        };\n    }\n};\nfunction parseTagFlags(flags) {\n    return {\n        containsHeader: isBitSet(flags, 31),\n        containsFooter: isBitSet(flags, 30),\n        isHeader: isBitSet(flags, 29),\n        readOnly: isBitSet(flags, 0),\n        dataType: (flags & 6) >> 1\n    };\n}\n/**\n * @param num {number}\n * @param bit 0 is least significant bit (LSB)\n * @return {boolean} true if bit is 1; otherwise false\n */\nfunction isBitSet(num, bit) {\n    return (num & 1 << bit) !== 0;\n}\n//# sourceMappingURL=APEv2Token.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbXVzaWMtbWV0YWRhdGEvbGliL2FwZXYyL0FQRXYyVG9rZW4uanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7O0FBQXFDO0FBQ2E7QUFDM0M7QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyw0QkFBNEI7QUFDN0I7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQiwwREFBVztBQUMzQjtBQUNBLHFCQUFxQixrREFBZTtBQUNwQztBQUNBLDZCQUE2QixrREFBZTtBQUM1QztBQUNBLHlCQUF5QixrREFBZTtBQUN4QztBQUNBLDRCQUE0QixrREFBZTtBQUMzQztBQUNBLDZCQUE2QixrREFBZTtBQUM1QztBQUNBLCtCQUErQixrREFBZTtBQUM5QztBQUNBLG1DQUFtQyxrREFBZTtBQUNsRDtBQUNBLGtDQUFrQyxrREFBZTtBQUNqRDtBQUNBLHlCQUF5Qix1REFBb0I7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhCQUE4QixrREFBZTtBQUM3QztBQUNBLHlCQUF5QixrREFBZTtBQUN4QztBQUNBLDRCQUE0QixrREFBZTtBQUMzQztBQUNBLDhCQUE4QixrREFBZTtBQUM3QztBQUNBLHlCQUF5QixrREFBZTtBQUN4QztBQUNBLDJCQUEyQixrREFBZTtBQUMxQztBQUNBLHFCQUFxQixrREFBZTtBQUNwQztBQUNBLHdCQUF3QixrREFBZTtBQUN2QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsbURBQWdCO0FBQ3BDO0FBQ0EscUJBQXFCLGtEQUFlO0FBQ3BDO0FBQ0Esa0JBQWtCLGtEQUFlO0FBQ2pDO0FBQ0Esb0JBQW9CLGtEQUFlO0FBQ25DO0FBQ0EsaUNBQWlDLGtEQUFlO0FBQ2hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0Isa0RBQWU7QUFDakM7QUFDQSxpQ0FBaUMsa0RBQWU7QUFDaEQ7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlO0FBQ2Y7QUFDQSxZQUFZLFNBQVMsa0JBQWtCO0FBQ3ZDO0FBQ087QUFDUDtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9kZXZlbGV2YXRlLy4vbm9kZV9tb2R1bGVzL211c2ljLW1ldGFkYXRhL2xpYi9hcGV2Mi9BUEV2MlRva2VuLmpzP2Y1OTIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICogYXMgVG9rZW4gZnJvbSAndG9rZW4tdHlwZXMnO1xuaW1wb3J0IHsgRm91ckNjVG9rZW4gfSBmcm9tICcuLi9jb21tb24vRm91ckNDLmpzJztcbmV4cG9ydCB2YXIgRGF0YVR5cGU7XG4oZnVuY3Rpb24gKERhdGFUeXBlKSB7XG4gICAgRGF0YVR5cGVbRGF0YVR5cGVbXCJ0ZXh0X3V0ZjhcIl0gPSAwXSA9IFwidGV4dF91dGY4XCI7XG4gICAgRGF0YVR5cGVbRGF0YVR5cGVbXCJiaW5hcnlcIl0gPSAxXSA9IFwiYmluYXJ5XCI7XG4gICAgRGF0YVR5cGVbRGF0YVR5cGVbXCJleHRlcm5hbF9pbmZvXCJdID0gMl0gPSBcImV4dGVybmFsX2luZm9cIjtcbiAgICBEYXRhVHlwZVtEYXRhVHlwZVtcInJlc2VydmVkXCJdID0gM10gPSBcInJlc2VydmVkXCI7XG59KShEYXRhVHlwZSB8fCAoRGF0YVR5cGUgPSB7fSkpO1xuLyoqXG4gKiBBUEVfREVTQ1JJUFRPUjogZGVmaW5lcyB0aGUgc2l6ZXMgKGFuZCBvZmZzZXRzKSBvZiBhbGwgdGhlIHBpZWNlcywgYXMgd2VsbCBhcyB0aGUgTUQ1IGNoZWNrc3VtXG4gKi9cbmV4cG9ydCBjb25zdCBEZXNjcmlwdG9yUGFyc2VyID0ge1xuICAgIGxlbjogNTIsXG4gICAgZ2V0OiAoYnVmLCBvZmYpID0+IHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIC8vIHNob3VsZCBlcXVhbCAnTUFDICdcbiAgICAgICAgICAgIElEOiBGb3VyQ2NUb2tlbi5nZXQoYnVmLCBvZmYpLFxuICAgICAgICAgICAgLy8gdmVyc2lvbkluZGV4IG51bWJlciAqIDEwMDAgKDMuODEgPSAzODEwKSAocmVtZW1iZXIgdGhhdCA0LWJ5dGUgYWxpZ25tZW50IGNhdXNlcyB0aGlzIHRvIHRha2UgNC1ieXRlcylcbiAgICAgICAgICAgIHZlcnNpb246IFRva2VuLlVJTlQzMl9MRS5nZXQoYnVmLCBvZmYgKyA0KSAvIDEwMDAsXG4gICAgICAgICAgICAvLyB0aGUgbnVtYmVyIG9mIGRlc2NyaXB0b3IgYnl0ZXMgKGFsbG93cyBsYXRlciBleHBhbnNpb24gb2YgdGhpcyBoZWFkZXIpXG4gICAgICAgICAgICBkZXNjcmlwdG9yQnl0ZXM6IFRva2VuLlVJTlQzMl9MRS5nZXQoYnVmLCBvZmYgKyA4KSxcbiAgICAgICAgICAgIC8vIHRoZSBudW1iZXIgb2YgaGVhZGVyIEFQRV9IRUFERVIgYnl0ZXNcbiAgICAgICAgICAgIGhlYWRlckJ5dGVzOiBUb2tlbi5VSU5UMzJfTEUuZ2V0KGJ1Ziwgb2ZmICsgMTIpLFxuICAgICAgICAgICAgLy8gdGhlIG51bWJlciBvZiBoZWFkZXIgQVBFX0hFQURFUiBieXRlc1xuICAgICAgICAgICAgc2Vla1RhYmxlQnl0ZXM6IFRva2VuLlVJTlQzMl9MRS5nZXQoYnVmLCBvZmYgKyAxNiksXG4gICAgICAgICAgICAvLyB0aGUgbnVtYmVyIG9mIGhlYWRlciBkYXRhIGJ5dGVzIChmcm9tIG9yaWdpbmFsIGZpbGUpXG4gICAgICAgICAgICBoZWFkZXJEYXRhQnl0ZXM6IFRva2VuLlVJTlQzMl9MRS5nZXQoYnVmLCBvZmYgKyAyMCksXG4gICAgICAgICAgICAvLyB0aGUgbnVtYmVyIG9mIGJ5dGVzIG9mIEFQRSBmcmFtZSBkYXRhXG4gICAgICAgICAgICBhcGVGcmFtZURhdGFCeXRlczogVG9rZW4uVUlOVDMyX0xFLmdldChidWYsIG9mZiArIDI0KSxcbiAgICAgICAgICAgIC8vIHRoZSBoaWdoIG9yZGVyIG51bWJlciBvZiBBUEUgZnJhbWUgZGF0YSBieXRlc1xuICAgICAgICAgICAgYXBlRnJhbWVEYXRhQnl0ZXNIaWdoOiBUb2tlbi5VSU5UMzJfTEUuZ2V0KGJ1Ziwgb2ZmICsgMjgpLFxuICAgICAgICAgICAgLy8gdGhlIHRlcm1pbmF0aW5nIGRhdGEgb2YgdGhlIGZpbGUgKG5vdCBpbmNsdWRpbmcgdGFnIGRhdGEpXG4gICAgICAgICAgICB0ZXJtaW5hdGluZ0RhdGFCeXRlczogVG9rZW4uVUlOVDMyX0xFLmdldChidWYsIG9mZiArIDMyKSxcbiAgICAgICAgICAgIC8vIHRoZSBNRDUgaGFzaCBvZiB0aGUgZmlsZSAoc2VlIG5vdGVzIGZvciB1c2FnZS4uLiBpdCdzIGEgbGl0dGxlIHRyaWNreSlcbiAgICAgICAgICAgIGZpbGVNRDU6IG5ldyBUb2tlbi5VaW50OEFycmF5VHlwZSgxNikuZ2V0KGJ1Ziwgb2ZmICsgMzYpXG4gICAgICAgIH07XG4gICAgfVxufTtcbi8qKlxuICogQVBFX0hFQURFUjogZGVzY3JpYmVzIGFsbCBvZiB0aGUgbmVjZXNzYXJ5IGluZm9ybWF0aW9uIGFib3V0IHRoZSBBUEUgZmlsZVxuICovXG5leHBvcnQgY29uc3QgSGVhZGVyID0ge1xuICAgIGxlbjogMjQsXG4gICAgZ2V0OiAoYnVmLCBvZmYpID0+IHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIC8vIHRoZSBjb21wcmVzc2lvbiBsZXZlbCAoc2VlIGRlZmluZXMgSS5FLiBDT01QUkVTU0lPTl9MRVZFTF9GQVNUKVxuICAgICAgICAgICAgY29tcHJlc3Npb25MZXZlbDogVG9rZW4uVUlOVDE2X0xFLmdldChidWYsIG9mZiksXG4gICAgICAgICAgICAvLyBhbnkgZm9ybWF0IGZsYWdzIChmb3IgZnV0dXJlIHVzZSlcbiAgICAgICAgICAgIGZvcm1hdEZsYWdzOiBUb2tlbi5VSU5UMTZfTEUuZ2V0KGJ1Ziwgb2ZmICsgMiksXG4gICAgICAgICAgICAvLyB0aGUgbnVtYmVyIG9mIGF1ZGlvIGJsb2NrcyBpbiBvbmUgZnJhbWVcbiAgICAgICAgICAgIGJsb2Nrc1BlckZyYW1lOiBUb2tlbi5VSU5UMzJfTEUuZ2V0KGJ1Ziwgb2ZmICsgNCksXG4gICAgICAgICAgICAvLyB0aGUgbnVtYmVyIG9mIGF1ZGlvIGJsb2NrcyBpbiB0aGUgZmluYWwgZnJhbWVcbiAgICAgICAgICAgIGZpbmFsRnJhbWVCbG9ja3M6IFRva2VuLlVJTlQzMl9MRS5nZXQoYnVmLCBvZmYgKyA4KSxcbiAgICAgICAgICAgIC8vIHRoZSB0b3RhbCBudW1iZXIgb2YgZnJhbWVzXG4gICAgICAgICAgICB0b3RhbEZyYW1lczogVG9rZW4uVUlOVDMyX0xFLmdldChidWYsIG9mZiArIDEyKSxcbiAgICAgICAgICAgIC8vIHRoZSBiaXRzIHBlciBzYW1wbGUgKHR5cGljYWxseSAxNilcbiAgICAgICAgICAgIGJpdHNQZXJTYW1wbGU6IFRva2VuLlVJTlQxNl9MRS5nZXQoYnVmLCBvZmYgKyAxNiksXG4gICAgICAgICAgICAvLyB0aGUgbnVtYmVyIG9mIGNoYW5uZWxzICgxIG9yIDIpXG4gICAgICAgICAgICBjaGFubmVsOiBUb2tlbi5VSU5UMTZfTEUuZ2V0KGJ1Ziwgb2ZmICsgMTgpLFxuICAgICAgICAgICAgLy8gdGhlIHNhbXBsZSByYXRlICh0eXBpY2FsbHkgNDQxMDApXG4gICAgICAgICAgICBzYW1wbGVSYXRlOiBUb2tlbi5VSU5UMzJfTEUuZ2V0KGJ1Ziwgb2ZmICsgMjApXG4gICAgICAgIH07XG4gICAgfVxufTtcbi8qKlxuICogQVBFIFRhZyBIZWFkZXIvRm9vdGVyIFZlcnNpb24gMi4wXG4gKiBUQUc6IGRlc2NyaWJlcyBhbGwgdGhlIHByb3BlcnRpZXMgb2YgdGhlIGZpbGUgW29wdGlvbmFsXVxuICovXG5leHBvcnQgY29uc3QgVGFnRm9vdGVyID0ge1xuICAgIGxlbjogMzIsXG4gICAgZ2V0OiAoYnVmLCBvZmYpID0+IHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIC8vIHNob3VsZCBlcXVhbCAnQVBFVEFHRVgnXG4gICAgICAgICAgICBJRDogbmV3IFRva2VuLlN0cmluZ1R5cGUoOCwgJ2FzY2lpJykuZ2V0KGJ1Ziwgb2ZmKSxcbiAgICAgICAgICAgIC8vIGVxdWFscyBDVVJSRU5UX0FQRV9UQUdfVkVSU0lPTlxuICAgICAgICAgICAgdmVyc2lvbjogVG9rZW4uVUlOVDMyX0xFLmdldChidWYsIG9mZiArIDgpLFxuICAgICAgICAgICAgLy8gdGhlIGNvbXBsZXRlIHNpemUgb2YgdGhlIHRhZywgaW5jbHVkaW5nIHRoaXMgZm9vdGVyIChleGNsdWRlcyBoZWFkZXIpXG4gICAgICAgICAgICBzaXplOiBUb2tlbi5VSU5UMzJfTEUuZ2V0KGJ1Ziwgb2ZmICsgMTIpLFxuICAgICAgICAgICAgLy8gdGhlIG51bWJlciBvZiBmaWVsZHMgaW4gdGhlIHRhZ1xuICAgICAgICAgICAgZmllbGRzOiBUb2tlbi5VSU5UMzJfTEUuZ2V0KGJ1Ziwgb2ZmICsgMTYpLFxuICAgICAgICAgICAgLy8gcmVzZXJ2ZWQgZm9yIGxhdGVyIHVzZSAobXVzdCBiZSB6ZXJvKSxcbiAgICAgICAgICAgIGZsYWdzOiBwYXJzZVRhZ0ZsYWdzKFRva2VuLlVJTlQzMl9MRS5nZXQoYnVmLCBvZmYgKyAyMCkpXG4gICAgICAgIH07XG4gICAgfVxufTtcbi8qKlxuICogQVBFIFRhZyB2Mi4wIEl0ZW0gSGVhZGVyXG4gKi9cbmV4cG9ydCBjb25zdCBUYWdJdGVtSGVhZGVyID0ge1xuICAgIGxlbjogOCxcbiAgICBnZXQ6IChidWYsIG9mZikgPT4ge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgLy8gTGVuZ3RoIG9mIGFzc2lnbmVkIHZhbHVlIGluIGJ5dGVzXG4gICAgICAgICAgICBzaXplOiBUb2tlbi5VSU5UMzJfTEUuZ2V0KGJ1Ziwgb2ZmKSxcbiAgICAgICAgICAgIC8vIHJlc2VydmVkIGZvciBsYXRlciB1c2UgKG11c3QgYmUgemVybyksXG4gICAgICAgICAgICBmbGFnczogcGFyc2VUYWdGbGFncyhUb2tlbi5VSU5UMzJfTEUuZ2V0KGJ1Ziwgb2ZmICsgNCkpXG4gICAgICAgIH07XG4gICAgfVxufTtcbmV4cG9ydCBmdW5jdGlvbiBwYXJzZVRhZ0ZsYWdzKGZsYWdzKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgY29udGFpbnNIZWFkZXI6IGlzQml0U2V0KGZsYWdzLCAzMSksXG4gICAgICAgIGNvbnRhaW5zRm9vdGVyOiBpc0JpdFNldChmbGFncywgMzApLFxuICAgICAgICBpc0hlYWRlcjogaXNCaXRTZXQoZmxhZ3MsIDI5KSxcbiAgICAgICAgcmVhZE9ubHk6IGlzQml0U2V0KGZsYWdzLCAwKSxcbiAgICAgICAgZGF0YVR5cGU6IChmbGFncyAmIDYpID4+IDFcbiAgICB9O1xufVxuLyoqXG4gKiBAcGFyYW0gbnVtIHtudW1iZXJ9XG4gKiBAcGFyYW0gYml0IDAgaXMgbGVhc3Qgc2lnbmlmaWNhbnQgYml0IChMU0IpXG4gKiBAcmV0dXJuIHtib29sZWFufSB0cnVlIGlmIGJpdCBpcyAxOyBvdGhlcndpc2UgZmFsc2VcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzQml0U2V0KG51bSwgYml0KSB7XG4gICAgcmV0dXJuIChudW0gJiAxIDw8IGJpdCkgIT09IDA7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1BUEV2MlRva2VuLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/music-metadata/lib/apev2/APEv2Token.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/music-metadata/lib/asf/AsfObject.js":
/*!**********************************************************!*\
  !*** ./node_modules/music-metadata/lib/asf/AsfObject.js ***!
  \**********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ContentDescriptionObjectState: () => (/* binding */ ContentDescriptionObjectState),\n/* harmony export */   DataType: () => (/* binding */ DataType),\n/* harmony export */   ExtendedContentDescriptionObjectState: () => (/* binding */ ExtendedContentDescriptionObjectState),\n/* harmony export */   ExtendedStreamPropertiesObjectState: () => (/* binding */ ExtendedStreamPropertiesObjectState),\n/* harmony export */   FilePropertiesObject: () => (/* binding */ FilePropertiesObject),\n/* harmony export */   HeaderExtensionObject: () => (/* binding */ HeaderExtensionObject),\n/* harmony export */   HeaderObjectToken: () => (/* binding */ HeaderObjectToken),\n/* harmony export */   IgnoreObjectState: () => (/* binding */ IgnoreObjectState),\n/* harmony export */   MetadataLibraryObjectState: () => (/* binding */ MetadataLibraryObjectState),\n/* harmony export */   MetadataObjectState: () => (/* binding */ MetadataObjectState),\n/* harmony export */   State: () => (/* binding */ State),\n/* harmony export */   StreamPropertiesObject: () => (/* binding */ StreamPropertiesObject),\n/* harmony export */   TopLevelHeaderObjectToken: () => (/* binding */ TopLevelHeaderObjectToken),\n/* harmony export */   WmPictureToken: () => (/* binding */ WmPictureToken),\n/* harmony export */   readCodecEntries: () => (/* binding */ readCodecEntries)\n/* harmony export */ });\n/* harmony import */ var token_types__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! token-types */ \"(ssr)/./node_modules/token-types/lib/index.js\");\n/* harmony import */ var _common_Util_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../common/Util.js */ \"(ssr)/./node_modules/music-metadata/lib/common/Util.js\");\n/* harmony import */ var _GUID_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./GUID.js */ \"(ssr)/./node_modules/music-metadata/lib/asf/GUID.js\");\n/* harmony import */ var _AsfUtil_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./AsfUtil.js */ \"(ssr)/./node_modules/music-metadata/lib/asf/AsfUtil.js\");\n/* harmony import */ var _id3v2_ID3v2Token_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../id3v2/ID3v2Token.js */ \"(ssr)/./node_modules/music-metadata/lib/id3v2/ID3v2Token.js\");\n// ASF Objects\n\n\n\n\n\n/**\n * Data Type: Specifies the type of information being stored. The following values are recognized.\n */\nvar DataType;\n(function (DataType) {\n    /**\n     * Unicode string. The data consists of a sequence of Unicode characters.\n     */\n    DataType[DataType[\"UnicodeString\"] = 0] = \"UnicodeString\";\n    /**\n     * BYTE array. The type of data is implementation-specific.\n     */\n    DataType[DataType[\"ByteArray\"] = 1] = \"ByteArray\";\n    /**\n     * BOOL. The data is 2 bytes long and should be interpreted as a 16-bit unsigned integer. Only 0x0000 or 0x0001 are permitted values.\n     */\n    DataType[DataType[\"Bool\"] = 2] = \"Bool\";\n    /**\n     * DWORD. The data is 4 bytes long and should be interpreted as a 32-bit unsigned integer.\n     */\n    DataType[DataType[\"DWord\"] = 3] = \"DWord\";\n    /**\n     * QWORD. The data is 8 bytes long and should be interpreted as a 64-bit unsigned integer.\n     */\n    DataType[DataType[\"QWord\"] = 4] = \"QWord\";\n    /**\n     * WORD. The data is 2 bytes long and should be interpreted as a 16-bit unsigned integer.\n     */\n    DataType[DataType[\"Word\"] = 5] = \"Word\";\n})(DataType || (DataType = {}));\n/**\n * Token for: 3. ASF top-level Header Object\n * Ref: http://drang.s4.xrea.com/program/tips/id3tag/wmp/03_asf_top_level_header_object.html#3\n */\nconst TopLevelHeaderObjectToken = {\n    len: 30,\n    get: (buf, off) => {\n        return {\n            objectId: _GUID_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"].fromBin(buf, off),\n            objectSize: Number(token_types__WEBPACK_IMPORTED_MODULE_0__.UINT64_LE.get(buf, off + 16)),\n            numberOfHeaderObjects: token_types__WEBPACK_IMPORTED_MODULE_0__.UINT32_LE.get(buf, off + 24)\n            // Reserved: 2 bytes\n        };\n    }\n};\n/**\n * Token for: 3.1 Header Object (mandatory, one only)\n * Ref: http://drang.s4.xrea.com/program/tips/id3tag/wmp/03_asf_top_level_header_object.html#3_1\n */\nconst HeaderObjectToken = {\n    len: 24,\n    get: (buf, off) => {\n        return {\n            objectId: _GUID_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"].fromBin(buf, off),\n            objectSize: Number(token_types__WEBPACK_IMPORTED_MODULE_0__.UINT64_LE.get(buf, off + 16))\n        };\n    }\n};\nclass State {\n    constructor(header) {\n        this.len = Number(header.objectSize) - HeaderObjectToken.len;\n    }\n    postProcessTag(tags, name, valueType, data) {\n        if (name === 'WM/Picture') {\n            tags.push({ id: name, value: WmPictureToken.fromBuffer(data) });\n        }\n        else {\n            const parseAttr = (0,_AsfUtil_js__WEBPACK_IMPORTED_MODULE_3__.getParserForAttr)(valueType);\n            if (!parseAttr) {\n                throw new Error(`unexpected value headerType: ${valueType}`);\n            }\n            tags.push({ id: name, value: parseAttr(data) });\n        }\n    }\n}\n// ToDo: use ignore type\nclass IgnoreObjectState extends State {\n    get(buf, off) {\n        return null;\n    }\n}\n/**\n * Token for: 3.2: File Properties Object (mandatory, one only)\n * Ref: http://drang.s4.xrea.com/program/tips/id3tag/wmp/03_asf_top_level_header_object.html#3_2\n */\nclass FilePropertiesObject extends State {\n    get(buf, off) {\n        return {\n            fileId: _GUID_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"].fromBin(buf, off),\n            fileSize: token_types__WEBPACK_IMPORTED_MODULE_0__.UINT64_LE.get(buf, off + 16),\n            creationDate: token_types__WEBPACK_IMPORTED_MODULE_0__.UINT64_LE.get(buf, off + 24),\n            dataPacketsCount: token_types__WEBPACK_IMPORTED_MODULE_0__.UINT64_LE.get(buf, off + 32),\n            playDuration: token_types__WEBPACK_IMPORTED_MODULE_0__.UINT64_LE.get(buf, off + 40),\n            sendDuration: token_types__WEBPACK_IMPORTED_MODULE_0__.UINT64_LE.get(buf, off + 48),\n            preroll: token_types__WEBPACK_IMPORTED_MODULE_0__.UINT64_LE.get(buf, off + 56),\n            flags: {\n                broadcast: _common_Util_js__WEBPACK_IMPORTED_MODULE_1__.getBit(buf, off + 64, 24),\n                seekable: _common_Util_js__WEBPACK_IMPORTED_MODULE_1__.getBit(buf, off + 64, 25)\n            },\n            // flagsNumeric: Token.UINT32_LE.get(buf, off + 64),\n            minimumDataPacketSize: token_types__WEBPACK_IMPORTED_MODULE_0__.UINT32_LE.get(buf, off + 68),\n            maximumDataPacketSize: token_types__WEBPACK_IMPORTED_MODULE_0__.UINT32_LE.get(buf, off + 72),\n            maximumBitrate: token_types__WEBPACK_IMPORTED_MODULE_0__.UINT32_LE.get(buf, off + 76)\n        };\n    }\n}\nFilePropertiesObject.guid = _GUID_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"].FilePropertiesObject;\n/**\n * Token for: 3.3 Stream Properties Object (mandatory, one per stream)\n * Ref: http://drang.s4.xrea.com/program/tips/id3tag/wmp/03_asf_top_level_header_object.html#3_3\n */\nclass StreamPropertiesObject extends State {\n    get(buf, off) {\n        return {\n            streamType: _GUID_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"].decodeMediaType(_GUID_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"].fromBin(buf, off)),\n            errorCorrectionType: _GUID_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"].fromBin(buf, off + 8)\n            // ToDo\n        };\n    }\n}\nStreamPropertiesObject.guid = _GUID_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"].StreamPropertiesObject;\n/**\n * 3.4: Header Extension Object (mandatory, one only)\n * Ref: http://drang.s4.xrea.com/program/tips/id3tag/wmp/03_asf_top_level_header_object.html#3_4\n */\nclass HeaderExtensionObject {\n    constructor() {\n        this.len = 22;\n    }\n    get(buf, off) {\n        const view = new DataView(buf.buffer, off);\n        return {\n            reserved1: _GUID_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"].fromBin(buf, off),\n            reserved2: view.getUint16(16, true),\n            extensionDataSize: view.getUint16(18, true)\n        };\n    }\n}\nHeaderExtensionObject.guid = _GUID_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"].HeaderExtensionObject;\n/**\n * 3.5: The Codec List Object provides user-friendly information about the codecs and formats used to encode the content found in the ASF file.\n * Ref: http://drang.s4.xrea.com/program/tips/id3tag/wmp/03_asf_top_level_header_object.html#3_5\n */\nconst CodecListObjectHeader = {\n    len: 20,\n    get: (buf, off) => {\n        const view = new DataView(buf.buffer, off);\n        return {\n            entryCount: view.getUint16(16, true)\n        };\n    }\n};\nasync function readString(tokenizer) {\n    const length = await tokenizer.readNumber(token_types__WEBPACK_IMPORTED_MODULE_0__.UINT16_LE);\n    return (await tokenizer.readToken(new token_types__WEBPACK_IMPORTED_MODULE_0__.StringType(length * 2, 'utf-16le'))).replace('\\0', '');\n}\n/**\n * 3.5: Read the Codec-List-Object, which provides user-friendly information about the codecs and formats used to encode the content found in the ASF file.\n * Ref: http://drang.s4.xrea.com/program/tips/id3tag/wmp/03_asf_top_level_header_object.html#3_5\n */\nasync function readCodecEntries(tokenizer) {\n    const codecHeader = await tokenizer.readToken(CodecListObjectHeader);\n    const entries = [];\n    for (let i = 0; i < codecHeader.entryCount; ++i) {\n        entries.push(await readCodecEntry(tokenizer));\n    }\n    return entries;\n}\nasync function readInformation(tokenizer) {\n    const length = await tokenizer.readNumber(token_types__WEBPACK_IMPORTED_MODULE_0__.UINT16_LE);\n    const buf = new Uint8Array(length);\n    await tokenizer.readBuffer(buf);\n    return buf;\n}\n/**\n * Read Codec-Entries\n * @param tokenizer\n */\nasync function readCodecEntry(tokenizer) {\n    const type = await tokenizer.readNumber(token_types__WEBPACK_IMPORTED_MODULE_0__.UINT16_LE);\n    return {\n        type: {\n            videoCodec: (type & 0x0001) === 0x0001,\n            audioCodec: (type & 0x0002) === 0x0002\n        },\n        codecName: await readString(tokenizer),\n        description: await readString(tokenizer),\n        information: await readInformation(tokenizer)\n    };\n}\n/**\n * 3.10 Content Description Object (optional, one only)\n * Ref: http://drang.s4.xrea.com/program/tips/id3tag/wmp/03_asf_top_level_header_object.html#3_10\n */\nclass ContentDescriptionObjectState extends State {\n    get(buf, off) {\n        const tags = [];\n        const view = new DataView(buf.buffer, off);\n        let pos = 10;\n        for (let i = 0; i < ContentDescriptionObjectState.contentDescTags.length; ++i) {\n            const length = view.getUint16(i * 2, true);\n            if (length > 0) {\n                const tagName = ContentDescriptionObjectState.contentDescTags[i];\n                const end = pos + length;\n                tags.push({ id: tagName, value: (0,_AsfUtil_js__WEBPACK_IMPORTED_MODULE_3__.parseUnicodeAttr)(buf.slice(off + pos, off + end)) });\n                pos = end;\n            }\n        }\n        return tags;\n    }\n}\nContentDescriptionObjectState.guid = _GUID_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"].ContentDescriptionObject;\nContentDescriptionObjectState.contentDescTags = ['Title', 'Author', 'Copyright', 'Description', 'Rating'];\n/**\n * 3.11 Extended Content Description Object (optional, one only)\n * Ref: http://drang.s4.xrea.com/program/tips/id3tag/wmp/03_asf_top_level_header_object.html#3_11\n */\nclass ExtendedContentDescriptionObjectState extends State {\n    get(buf, off) {\n        const tags = [];\n        const view = new DataView(buf.buffer, off);\n        const attrCount = view.getUint16(0, true);\n        let pos = 2;\n        for (let i = 0; i < attrCount; i += 1) {\n            const nameLen = view.getUint16(pos, true);\n            pos += 2;\n            const name = (0,_AsfUtil_js__WEBPACK_IMPORTED_MODULE_3__.parseUnicodeAttr)(buf.slice(off + pos, off + pos + nameLen));\n            pos += nameLen;\n            const valueType = view.getUint16(pos, true);\n            pos += 2;\n            const valueLen = view.getUint16(pos, true);\n            pos += 2;\n            const value = buf.slice(off + pos, off + pos + valueLen);\n            pos += valueLen;\n            this.postProcessTag(tags, name, valueType, value);\n        }\n        return tags;\n    }\n}\nExtendedContentDescriptionObjectState.guid = _GUID_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"].ExtendedContentDescriptionObject;\n/**\n * 4.1 Extended Stream Properties Object (optional, 1 per media stream)\n * Ref: http://drang.s4.xrea.com/program/tips/id3tag/wmp/04_objects_in_the_asf_header_extension_object.html#4_1\n */\nclass ExtendedStreamPropertiesObjectState extends State {\n    get(buf, off) {\n        const view = new DataView(buf.buffer, off);\n        return {\n            startTime: token_types__WEBPACK_IMPORTED_MODULE_0__.UINT64_LE.get(buf, off),\n            endTime: token_types__WEBPACK_IMPORTED_MODULE_0__.UINT64_LE.get(buf, off + 8),\n            dataBitrate: view.getInt32(12, true),\n            bufferSize: view.getInt32(16, true),\n            initialBufferFullness: view.getInt32(20, true),\n            alternateDataBitrate: view.getInt32(24, true),\n            alternateBufferSize: view.getInt32(28, true),\n            alternateInitialBufferFullness: view.getInt32(32, true),\n            maximumObjectSize: view.getInt32(36, true),\n            flags: {\n                reliableFlag: _common_Util_js__WEBPACK_IMPORTED_MODULE_1__.getBit(buf, off + 40, 0),\n                seekableFlag: _common_Util_js__WEBPACK_IMPORTED_MODULE_1__.getBit(buf, off + 40, 1),\n                resendLiveCleanpointsFlag: _common_Util_js__WEBPACK_IMPORTED_MODULE_1__.getBit(buf, off + 40, 2)\n            },\n            // flagsNumeric: Token.UINT32_LE.get(buf, off + 64),\n            streamNumber: view.getInt16(42, true),\n            streamLanguageId: view.getInt16(44, true),\n            averageTimePerFrame: view.getInt32(52, true),\n            streamNameCount: view.getInt32(54, true),\n            payloadExtensionSystems: view.getInt32(56, true),\n            streamNames: [], // ToDo\n            streamPropertiesObject: null\n        };\n    }\n}\nExtendedStreamPropertiesObjectState.guid = _GUID_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"].ExtendedStreamPropertiesObject;\n/**\n * 4.7  Metadata Object (optional, 0 or 1)\n * Ref: http://drang.s4.xrea.com/program/tips/id3tag/wmp/04_objects_in_the_asf_header_extension_object.html#4_7\n */\nclass MetadataObjectState extends State {\n    get(uint8Array, off) {\n        const tags = [];\n        const view = new DataView(uint8Array.buffer, off);\n        const descriptionRecordsCount = view.getUint16(0, true);\n        let pos = 2;\n        for (let i = 0; i < descriptionRecordsCount; i += 1) {\n            pos += 4;\n            const nameLen = view.getUint16(pos, true);\n            pos += 2;\n            const dataType = view.getUint16(pos, true);\n            pos += 2;\n            const dataLen = view.getUint32(pos, true);\n            pos += 4;\n            const name = (0,_AsfUtil_js__WEBPACK_IMPORTED_MODULE_3__.parseUnicodeAttr)(uint8Array.slice(off + pos, off + pos + nameLen));\n            pos += nameLen;\n            const data = uint8Array.slice(off + pos, off + pos + dataLen);\n            pos += dataLen;\n            this.postProcessTag(tags, name, dataType, data);\n        }\n        return tags;\n    }\n}\nMetadataObjectState.guid = _GUID_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"].MetadataObject;\n// 4.8\tMetadata Library Object (optional, 0 or 1)\n// biome-ignore lint/complexity/noStaticOnlyClass: Extends a non-static class\nclass MetadataLibraryObjectState extends MetadataObjectState {\n}\nMetadataLibraryObjectState.guid = _GUID_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"].MetadataLibraryObject;\n/**\n * Ref: https://msdn.microsoft.com/en-us/library/windows/desktop/dd757977(v=vs.85).aspx\n */\nclass WmPictureToken {\n    static fromBuffer(buffer) {\n        const pic = new WmPictureToken(buffer.length);\n        return pic.get(buffer, 0);\n    }\n    constructor(len) {\n        this.len = len;\n    }\n    get(buffer, offset) {\n        const view = new DataView(buffer.buffer, offset);\n        const typeId = view.getUint8(0);\n        const size = view.getInt32(1, true);\n        let index = 5;\n        while (view.getUint16(index) !== 0) {\n            index += 2;\n        }\n        const format = new token_types__WEBPACK_IMPORTED_MODULE_0__.StringType(index - 5, 'utf-16le').get(buffer, 5);\n        while (view.getUint16(index) !== 0) {\n            index += 2;\n        }\n        const description = new token_types__WEBPACK_IMPORTED_MODULE_0__.StringType(index - 5, 'utf-16le').get(buffer, 5);\n        return {\n            type: _id3v2_ID3v2Token_js__WEBPACK_IMPORTED_MODULE_4__.AttachedPictureType[typeId],\n            format,\n            description,\n            size,\n            data: buffer.slice(index + 4)\n        };\n    }\n}\n//# sourceMappingURL=AsfObject.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbXVzaWMtbWV0YWRhdGEvbGliL2FzZi9Bc2ZPYmplY3QuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNxQztBQUNLO0FBQ2I7QUFDcUM7QUFDTDtBQUM3RDtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyw0QkFBNEI7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQixnREFBSTtBQUMxQiwrQkFBK0Isa0RBQWU7QUFDOUMsbUNBQW1DLGtEQUFlO0FBQ2xEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQixnREFBSTtBQUMxQiwrQkFBK0Isa0RBQWU7QUFDOUM7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLGtEQUFrRDtBQUMxRTtBQUNBO0FBQ0EsOEJBQThCLDZEQUFnQjtBQUM5QztBQUNBLGdFQUFnRSxVQUFVO0FBQzFFO0FBQ0Esd0JBQXdCLGtDQUFrQztBQUMxRDtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBLG9CQUFvQixnREFBSTtBQUN4QixzQkFBc0Isa0RBQWU7QUFDckMsMEJBQTBCLGtEQUFlO0FBQ3pDLDhCQUE4QixrREFBZTtBQUM3QywwQkFBMEIsa0RBQWU7QUFDekMsMEJBQTBCLGtEQUFlO0FBQ3pDLHFCQUFxQixrREFBZTtBQUNwQztBQUNBLDJCQUEyQixtREFBVztBQUN0QywwQkFBMEIsbURBQVc7QUFDckMsYUFBYTtBQUNiO0FBQ0EsbUNBQW1DLGtEQUFlO0FBQ2xELG1DQUFtQyxrREFBZTtBQUNsRCw0QkFBNEIsa0RBQWU7QUFDM0M7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLGdEQUFJO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0Esd0JBQXdCLGdEQUFJLGlCQUFpQixnREFBSTtBQUNqRCxpQ0FBaUMsZ0RBQUk7QUFDckM7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4QkFBOEIsZ0RBQUk7QUFDbEM7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1QixnREFBSTtBQUMzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCLGdEQUFJO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4Q0FBOEMsa0RBQWU7QUFDN0QsMENBQTBDLG1EQUFnQjtBQUMxRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0Esb0JBQW9CLDRCQUE0QjtBQUNoRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOENBQThDLGtEQUFlO0FBQzdEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRDQUE0QyxrREFBZTtBQUMzRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLDBEQUEwRDtBQUNsRjtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRCQUE0QixvQkFBb0IsNkRBQWdCLG1DQUFtQztBQUNuRztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQ0FBcUMsZ0RBQUk7QUFDekM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixlQUFlO0FBQ3ZDO0FBQ0E7QUFDQSx5QkFBeUIsNkRBQWdCO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZDQUE2QyxnREFBSTtBQUNqRDtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCLGtEQUFlO0FBQ3RDLHFCQUFxQixrREFBZTtBQUNwQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOEJBQThCLG1EQUFXO0FBQ3pDLDhCQUE4QixtREFBVztBQUN6QywyQ0FBMkMsbURBQVc7QUFDdEQsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQ0FBMkMsZ0RBQUk7QUFDL0M7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsNkJBQTZCO0FBQ3JEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCLDZEQUFnQjtBQUN6QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkJBQTJCLGdEQUFJO0FBQy9CO0FBQ0E7QUFDTztBQUNQO0FBQ0Esa0NBQWtDLGdEQUFJO0FBQ3RDO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkJBQTJCLG1EQUFnQjtBQUMzQztBQUNBO0FBQ0E7QUFDQSxnQ0FBZ0MsbURBQWdCO0FBQ2hEO0FBQ0Esa0JBQWtCLHFFQUFtQjtBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZGV2ZWxldmF0ZS8uL25vZGVfbW9kdWxlcy9tdXNpYy1tZXRhZGF0YS9saWIvYXNmL0FzZk9iamVjdC5qcz81ZDdhIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIEFTRiBPYmplY3RzXG5pbXBvcnQgKiBhcyBUb2tlbiBmcm9tICd0b2tlbi10eXBlcyc7XG5pbXBvcnQgKiBhcyB1dGlsIGZyb20gJy4uL2NvbW1vbi9VdGlsLmpzJztcbmltcG9ydCBHVUlEIGZyb20gJy4vR1VJRC5qcyc7XG5pbXBvcnQgeyBnZXRQYXJzZXJGb3JBdHRyLCBwYXJzZVVuaWNvZGVBdHRyIH0gZnJvbSAnLi9Bc2ZVdGlsLmpzJztcbmltcG9ydCB7IEF0dGFjaGVkUGljdHVyZVR5cGUgfSBmcm9tICcuLi9pZDN2Mi9JRDN2MlRva2VuLmpzJztcbi8qKlxuICogRGF0YSBUeXBlOiBTcGVjaWZpZXMgdGhlIHR5cGUgb2YgaW5mb3JtYXRpb24gYmVpbmcgc3RvcmVkLiBUaGUgZm9sbG93aW5nIHZhbHVlcyBhcmUgcmVjb2duaXplZC5cbiAqL1xuZXhwb3J0IHZhciBEYXRhVHlwZTtcbihmdW5jdGlvbiAoRGF0YVR5cGUpIHtcbiAgICAvKipcbiAgICAgKiBVbmljb2RlIHN0cmluZy4gVGhlIGRhdGEgY29uc2lzdHMgb2YgYSBzZXF1ZW5jZSBvZiBVbmljb2RlIGNoYXJhY3RlcnMuXG4gICAgICovXG4gICAgRGF0YVR5cGVbRGF0YVR5cGVbXCJVbmljb2RlU3RyaW5nXCJdID0gMF0gPSBcIlVuaWNvZGVTdHJpbmdcIjtcbiAgICAvKipcbiAgICAgKiBCWVRFIGFycmF5LiBUaGUgdHlwZSBvZiBkYXRhIGlzIGltcGxlbWVudGF0aW9uLXNwZWNpZmljLlxuICAgICAqL1xuICAgIERhdGFUeXBlW0RhdGFUeXBlW1wiQnl0ZUFycmF5XCJdID0gMV0gPSBcIkJ5dGVBcnJheVwiO1xuICAgIC8qKlxuICAgICAqIEJPT0wuIFRoZSBkYXRhIGlzIDIgYnl0ZXMgbG9uZyBhbmQgc2hvdWxkIGJlIGludGVycHJldGVkIGFzIGEgMTYtYml0IHVuc2lnbmVkIGludGVnZXIuIE9ubHkgMHgwMDAwIG9yIDB4MDAwMSBhcmUgcGVybWl0dGVkIHZhbHVlcy5cbiAgICAgKi9cbiAgICBEYXRhVHlwZVtEYXRhVHlwZVtcIkJvb2xcIl0gPSAyXSA9IFwiQm9vbFwiO1xuICAgIC8qKlxuICAgICAqIERXT1JELiBUaGUgZGF0YSBpcyA0IGJ5dGVzIGxvbmcgYW5kIHNob3VsZCBiZSBpbnRlcnByZXRlZCBhcyBhIDMyLWJpdCB1bnNpZ25lZCBpbnRlZ2VyLlxuICAgICAqL1xuICAgIERhdGFUeXBlW0RhdGFUeXBlW1wiRFdvcmRcIl0gPSAzXSA9IFwiRFdvcmRcIjtcbiAgICAvKipcbiAgICAgKiBRV09SRC4gVGhlIGRhdGEgaXMgOCBieXRlcyBsb25nIGFuZCBzaG91bGQgYmUgaW50ZXJwcmV0ZWQgYXMgYSA2NC1iaXQgdW5zaWduZWQgaW50ZWdlci5cbiAgICAgKi9cbiAgICBEYXRhVHlwZVtEYXRhVHlwZVtcIlFXb3JkXCJdID0gNF0gPSBcIlFXb3JkXCI7XG4gICAgLyoqXG4gICAgICogV09SRC4gVGhlIGRhdGEgaXMgMiBieXRlcyBsb25nIGFuZCBzaG91bGQgYmUgaW50ZXJwcmV0ZWQgYXMgYSAxNi1iaXQgdW5zaWduZWQgaW50ZWdlci5cbiAgICAgKi9cbiAgICBEYXRhVHlwZVtEYXRhVHlwZVtcIldvcmRcIl0gPSA1XSA9IFwiV29yZFwiO1xufSkoRGF0YVR5cGUgfHwgKERhdGFUeXBlID0ge30pKTtcbi8qKlxuICogVG9rZW4gZm9yOiAzLiBBU0YgdG9wLWxldmVsIEhlYWRlciBPYmplY3RcbiAqIFJlZjogaHR0cDovL2RyYW5nLnM0LnhyZWEuY29tL3Byb2dyYW0vdGlwcy9pZDN0YWcvd21wLzAzX2FzZl90b3BfbGV2ZWxfaGVhZGVyX29iamVjdC5odG1sIzNcbiAqL1xuZXhwb3J0IGNvbnN0IFRvcExldmVsSGVhZGVyT2JqZWN0VG9rZW4gPSB7XG4gICAgbGVuOiAzMCxcbiAgICBnZXQ6IChidWYsIG9mZikgPT4ge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgb2JqZWN0SWQ6IEdVSUQuZnJvbUJpbihidWYsIG9mZiksXG4gICAgICAgICAgICBvYmplY3RTaXplOiBOdW1iZXIoVG9rZW4uVUlOVDY0X0xFLmdldChidWYsIG9mZiArIDE2KSksXG4gICAgICAgICAgICBudW1iZXJPZkhlYWRlck9iamVjdHM6IFRva2VuLlVJTlQzMl9MRS5nZXQoYnVmLCBvZmYgKyAyNClcbiAgICAgICAgICAgIC8vIFJlc2VydmVkOiAyIGJ5dGVzXG4gICAgICAgIH07XG4gICAgfVxufTtcbi8qKlxuICogVG9rZW4gZm9yOiAzLjEgSGVhZGVyIE9iamVjdCAobWFuZGF0b3J5LCBvbmUgb25seSlcbiAqIFJlZjogaHR0cDovL2RyYW5nLnM0LnhyZWEuY29tL3Byb2dyYW0vdGlwcy9pZDN0YWcvd21wLzAzX2FzZl90b3BfbGV2ZWxfaGVhZGVyX29iamVjdC5odG1sIzNfMVxuICovXG5leHBvcnQgY29uc3QgSGVhZGVyT2JqZWN0VG9rZW4gPSB7XG4gICAgbGVuOiAyNCxcbiAgICBnZXQ6IChidWYsIG9mZikgPT4ge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgb2JqZWN0SWQ6IEdVSUQuZnJvbUJpbihidWYsIG9mZiksXG4gICAgICAgICAgICBvYmplY3RTaXplOiBOdW1iZXIoVG9rZW4uVUlOVDY0X0xFLmdldChidWYsIG9mZiArIDE2KSlcbiAgICAgICAgfTtcbiAgICB9XG59O1xuZXhwb3J0IGNsYXNzIFN0YXRlIHtcbiAgICBjb25zdHJ1Y3RvcihoZWFkZXIpIHtcbiAgICAgICAgdGhpcy5sZW4gPSBOdW1iZXIoaGVhZGVyLm9iamVjdFNpemUpIC0gSGVhZGVyT2JqZWN0VG9rZW4ubGVuO1xuICAgIH1cbiAgICBwb3N0UHJvY2Vzc1RhZyh0YWdzLCBuYW1lLCB2YWx1ZVR5cGUsIGRhdGEpIHtcbiAgICAgICAgaWYgKG5hbWUgPT09ICdXTS9QaWN0dXJlJykge1xuICAgICAgICAgICAgdGFncy5wdXNoKHsgaWQ6IG5hbWUsIHZhbHVlOiBXbVBpY3R1cmVUb2tlbi5mcm9tQnVmZmVyKGRhdGEpIH0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgcGFyc2VBdHRyID0gZ2V0UGFyc2VyRm9yQXR0cih2YWx1ZVR5cGUpO1xuICAgICAgICAgICAgaWYgKCFwYXJzZUF0dHIpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYHVuZXhwZWN0ZWQgdmFsdWUgaGVhZGVyVHlwZTogJHt2YWx1ZVR5cGV9YCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0YWdzLnB1c2goeyBpZDogbmFtZSwgdmFsdWU6IHBhcnNlQXR0cihkYXRhKSB9KTtcbiAgICAgICAgfVxuICAgIH1cbn1cbi8vIFRvRG86IHVzZSBpZ25vcmUgdHlwZVxuZXhwb3J0IGNsYXNzIElnbm9yZU9iamVjdFN0YXRlIGV4dGVuZHMgU3RhdGUge1xuICAgIGdldChidWYsIG9mZikge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG59XG4vKipcbiAqIFRva2VuIGZvcjogMy4yOiBGaWxlIFByb3BlcnRpZXMgT2JqZWN0IChtYW5kYXRvcnksIG9uZSBvbmx5KVxuICogUmVmOiBodHRwOi8vZHJhbmcuczQueHJlYS5jb20vcHJvZ3JhbS90aXBzL2lkM3RhZy93bXAvMDNfYXNmX3RvcF9sZXZlbF9oZWFkZXJfb2JqZWN0Lmh0bWwjM18yXG4gKi9cbmV4cG9ydCBjbGFzcyBGaWxlUHJvcGVydGllc09iamVjdCBleHRlbmRzIFN0YXRlIHtcbiAgICBnZXQoYnVmLCBvZmYpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGZpbGVJZDogR1VJRC5mcm9tQmluKGJ1Ziwgb2ZmKSxcbiAgICAgICAgICAgIGZpbGVTaXplOiBUb2tlbi5VSU5UNjRfTEUuZ2V0KGJ1Ziwgb2ZmICsgMTYpLFxuICAgICAgICAgICAgY3JlYXRpb25EYXRlOiBUb2tlbi5VSU5UNjRfTEUuZ2V0KGJ1Ziwgb2ZmICsgMjQpLFxuICAgICAgICAgICAgZGF0YVBhY2tldHNDb3VudDogVG9rZW4uVUlOVDY0X0xFLmdldChidWYsIG9mZiArIDMyKSxcbiAgICAgICAgICAgIHBsYXlEdXJhdGlvbjogVG9rZW4uVUlOVDY0X0xFLmdldChidWYsIG9mZiArIDQwKSxcbiAgICAgICAgICAgIHNlbmREdXJhdGlvbjogVG9rZW4uVUlOVDY0X0xFLmdldChidWYsIG9mZiArIDQ4KSxcbiAgICAgICAgICAgIHByZXJvbGw6IFRva2VuLlVJTlQ2NF9MRS5nZXQoYnVmLCBvZmYgKyA1NiksXG4gICAgICAgICAgICBmbGFnczoge1xuICAgICAgICAgICAgICAgIGJyb2FkY2FzdDogdXRpbC5nZXRCaXQoYnVmLCBvZmYgKyA2NCwgMjQpLFxuICAgICAgICAgICAgICAgIHNlZWthYmxlOiB1dGlsLmdldEJpdChidWYsIG9mZiArIDY0LCAyNSlcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAvLyBmbGFnc051bWVyaWM6IFRva2VuLlVJTlQzMl9MRS5nZXQoYnVmLCBvZmYgKyA2NCksXG4gICAgICAgICAgICBtaW5pbXVtRGF0YVBhY2tldFNpemU6IFRva2VuLlVJTlQzMl9MRS5nZXQoYnVmLCBvZmYgKyA2OCksXG4gICAgICAgICAgICBtYXhpbXVtRGF0YVBhY2tldFNpemU6IFRva2VuLlVJTlQzMl9MRS5nZXQoYnVmLCBvZmYgKyA3MiksXG4gICAgICAgICAgICBtYXhpbXVtQml0cmF0ZTogVG9rZW4uVUlOVDMyX0xFLmdldChidWYsIG9mZiArIDc2KVxuICAgICAgICB9O1xuICAgIH1cbn1cbkZpbGVQcm9wZXJ0aWVzT2JqZWN0Lmd1aWQgPSBHVUlELkZpbGVQcm9wZXJ0aWVzT2JqZWN0O1xuLyoqXG4gKiBUb2tlbiBmb3I6IDMuMyBTdHJlYW0gUHJvcGVydGllcyBPYmplY3QgKG1hbmRhdG9yeSwgb25lIHBlciBzdHJlYW0pXG4gKiBSZWY6IGh0dHA6Ly9kcmFuZy5zNC54cmVhLmNvbS9wcm9ncmFtL3RpcHMvaWQzdGFnL3dtcC8wM19hc2ZfdG9wX2xldmVsX2hlYWRlcl9vYmplY3QuaHRtbCMzXzNcbiAqL1xuZXhwb3J0IGNsYXNzIFN0cmVhbVByb3BlcnRpZXNPYmplY3QgZXh0ZW5kcyBTdGF0ZSB7XG4gICAgZ2V0KGJ1Ziwgb2ZmKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBzdHJlYW1UeXBlOiBHVUlELmRlY29kZU1lZGlhVHlwZShHVUlELmZyb21CaW4oYnVmLCBvZmYpKSxcbiAgICAgICAgICAgIGVycm9yQ29ycmVjdGlvblR5cGU6IEdVSUQuZnJvbUJpbihidWYsIG9mZiArIDgpXG4gICAgICAgICAgICAvLyBUb0RvXG4gICAgICAgIH07XG4gICAgfVxufVxuU3RyZWFtUHJvcGVydGllc09iamVjdC5ndWlkID0gR1VJRC5TdHJlYW1Qcm9wZXJ0aWVzT2JqZWN0O1xuLyoqXG4gKiAzLjQ6IEhlYWRlciBFeHRlbnNpb24gT2JqZWN0IChtYW5kYXRvcnksIG9uZSBvbmx5KVxuICogUmVmOiBodHRwOi8vZHJhbmcuczQueHJlYS5jb20vcHJvZ3JhbS90aXBzL2lkM3RhZy93bXAvMDNfYXNmX3RvcF9sZXZlbF9oZWFkZXJfb2JqZWN0Lmh0bWwjM180XG4gKi9cbmV4cG9ydCBjbGFzcyBIZWFkZXJFeHRlbnNpb25PYmplY3Qge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLmxlbiA9IDIyO1xuICAgIH1cbiAgICBnZXQoYnVmLCBvZmYpIHtcbiAgICAgICAgY29uc3QgdmlldyA9IG5ldyBEYXRhVmlldyhidWYuYnVmZmVyLCBvZmYpO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgcmVzZXJ2ZWQxOiBHVUlELmZyb21CaW4oYnVmLCBvZmYpLFxuICAgICAgICAgICAgcmVzZXJ2ZWQyOiB2aWV3LmdldFVpbnQxNigxNiwgdHJ1ZSksXG4gICAgICAgICAgICBleHRlbnNpb25EYXRhU2l6ZTogdmlldy5nZXRVaW50MTYoMTgsIHRydWUpXG4gICAgICAgIH07XG4gICAgfVxufVxuSGVhZGVyRXh0ZW5zaW9uT2JqZWN0Lmd1aWQgPSBHVUlELkhlYWRlckV4dGVuc2lvbk9iamVjdDtcbi8qKlxuICogMy41OiBUaGUgQ29kZWMgTGlzdCBPYmplY3QgcHJvdmlkZXMgdXNlci1mcmllbmRseSBpbmZvcm1hdGlvbiBhYm91dCB0aGUgY29kZWNzIGFuZCBmb3JtYXRzIHVzZWQgdG8gZW5jb2RlIHRoZSBjb250ZW50IGZvdW5kIGluIHRoZSBBU0YgZmlsZS5cbiAqIFJlZjogaHR0cDovL2RyYW5nLnM0LnhyZWEuY29tL3Byb2dyYW0vdGlwcy9pZDN0YWcvd21wLzAzX2FzZl90b3BfbGV2ZWxfaGVhZGVyX29iamVjdC5odG1sIzNfNVxuICovXG5jb25zdCBDb2RlY0xpc3RPYmplY3RIZWFkZXIgPSB7XG4gICAgbGVuOiAyMCxcbiAgICBnZXQ6IChidWYsIG9mZikgPT4ge1xuICAgICAgICBjb25zdCB2aWV3ID0gbmV3IERhdGFWaWV3KGJ1Zi5idWZmZXIsIG9mZik7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBlbnRyeUNvdW50OiB2aWV3LmdldFVpbnQxNigxNiwgdHJ1ZSlcbiAgICAgICAgfTtcbiAgICB9XG59O1xuYXN5bmMgZnVuY3Rpb24gcmVhZFN0cmluZyh0b2tlbml6ZXIpIHtcbiAgICBjb25zdCBsZW5ndGggPSBhd2FpdCB0b2tlbml6ZXIucmVhZE51bWJlcihUb2tlbi5VSU5UMTZfTEUpO1xuICAgIHJldHVybiAoYXdhaXQgdG9rZW5pemVyLnJlYWRUb2tlbihuZXcgVG9rZW4uU3RyaW5nVHlwZShsZW5ndGggKiAyLCAndXRmLTE2bGUnKSkpLnJlcGxhY2UoJ1xcMCcsICcnKTtcbn1cbi8qKlxuICogMy41OiBSZWFkIHRoZSBDb2RlYy1MaXN0LU9iamVjdCwgd2hpY2ggcHJvdmlkZXMgdXNlci1mcmllbmRseSBpbmZvcm1hdGlvbiBhYm91dCB0aGUgY29kZWNzIGFuZCBmb3JtYXRzIHVzZWQgdG8gZW5jb2RlIHRoZSBjb250ZW50IGZvdW5kIGluIHRoZSBBU0YgZmlsZS5cbiAqIFJlZjogaHR0cDovL2RyYW5nLnM0LnhyZWEuY29tL3Byb2dyYW0vdGlwcy9pZDN0YWcvd21wLzAzX2FzZl90b3BfbGV2ZWxfaGVhZGVyX29iamVjdC5odG1sIzNfNVxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gcmVhZENvZGVjRW50cmllcyh0b2tlbml6ZXIpIHtcbiAgICBjb25zdCBjb2RlY0hlYWRlciA9IGF3YWl0IHRva2VuaXplci5yZWFkVG9rZW4oQ29kZWNMaXN0T2JqZWN0SGVhZGVyKTtcbiAgICBjb25zdCBlbnRyaWVzID0gW107XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjb2RlY0hlYWRlci5lbnRyeUNvdW50OyArK2kpIHtcbiAgICAgICAgZW50cmllcy5wdXNoKGF3YWl0IHJlYWRDb2RlY0VudHJ5KHRva2VuaXplcikpO1xuICAgIH1cbiAgICByZXR1cm4gZW50cmllcztcbn1cbmFzeW5jIGZ1bmN0aW9uIHJlYWRJbmZvcm1hdGlvbih0b2tlbml6ZXIpIHtcbiAgICBjb25zdCBsZW5ndGggPSBhd2FpdCB0b2tlbml6ZXIucmVhZE51bWJlcihUb2tlbi5VSU5UMTZfTEUpO1xuICAgIGNvbnN0IGJ1ZiA9IG5ldyBVaW50OEFycmF5KGxlbmd0aCk7XG4gICAgYXdhaXQgdG9rZW5pemVyLnJlYWRCdWZmZXIoYnVmKTtcbiAgICByZXR1cm4gYnVmO1xufVxuLyoqXG4gKiBSZWFkIENvZGVjLUVudHJpZXNcbiAqIEBwYXJhbSB0b2tlbml6ZXJcbiAqL1xuYXN5bmMgZnVuY3Rpb24gcmVhZENvZGVjRW50cnkodG9rZW5pemVyKSB7XG4gICAgY29uc3QgdHlwZSA9IGF3YWl0IHRva2VuaXplci5yZWFkTnVtYmVyKFRva2VuLlVJTlQxNl9MRSk7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgdHlwZToge1xuICAgICAgICAgICAgdmlkZW9Db2RlYzogKHR5cGUgJiAweDAwMDEpID09PSAweDAwMDEsXG4gICAgICAgICAgICBhdWRpb0NvZGVjOiAodHlwZSAmIDB4MDAwMikgPT09IDB4MDAwMlxuICAgICAgICB9LFxuICAgICAgICBjb2RlY05hbWU6IGF3YWl0IHJlYWRTdHJpbmcodG9rZW5pemVyKSxcbiAgICAgICAgZGVzY3JpcHRpb246IGF3YWl0IHJlYWRTdHJpbmcodG9rZW5pemVyKSxcbiAgICAgICAgaW5mb3JtYXRpb246IGF3YWl0IHJlYWRJbmZvcm1hdGlvbih0b2tlbml6ZXIpXG4gICAgfTtcbn1cbi8qKlxuICogMy4xMCBDb250ZW50IERlc2NyaXB0aW9uIE9iamVjdCAob3B0aW9uYWwsIG9uZSBvbmx5KVxuICogUmVmOiBodHRwOi8vZHJhbmcuczQueHJlYS5jb20vcHJvZ3JhbS90aXBzL2lkM3RhZy93bXAvMDNfYXNmX3RvcF9sZXZlbF9oZWFkZXJfb2JqZWN0Lmh0bWwjM18xMFxuICovXG5leHBvcnQgY2xhc3MgQ29udGVudERlc2NyaXB0aW9uT2JqZWN0U3RhdGUgZXh0ZW5kcyBTdGF0ZSB7XG4gICAgZ2V0KGJ1Ziwgb2ZmKSB7XG4gICAgICAgIGNvbnN0IHRhZ3MgPSBbXTtcbiAgICAgICAgY29uc3QgdmlldyA9IG5ldyBEYXRhVmlldyhidWYuYnVmZmVyLCBvZmYpO1xuICAgICAgICBsZXQgcG9zID0gMTA7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgQ29udGVudERlc2NyaXB0aW9uT2JqZWN0U3RhdGUuY29udGVudERlc2NUYWdzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICBjb25zdCBsZW5ndGggPSB2aWV3LmdldFVpbnQxNihpICogMiwgdHJ1ZSk7XG4gICAgICAgICAgICBpZiAobGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHRhZ05hbWUgPSBDb250ZW50RGVzY3JpcHRpb25PYmplY3RTdGF0ZS5jb250ZW50RGVzY1RhZ3NbaV07XG4gICAgICAgICAgICAgICAgY29uc3QgZW5kID0gcG9zICsgbGVuZ3RoO1xuICAgICAgICAgICAgICAgIHRhZ3MucHVzaCh7IGlkOiB0YWdOYW1lLCB2YWx1ZTogcGFyc2VVbmljb2RlQXR0cihidWYuc2xpY2Uob2ZmICsgcG9zLCBvZmYgKyBlbmQpKSB9KTtcbiAgICAgICAgICAgICAgICBwb3MgPSBlbmQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRhZ3M7XG4gICAgfVxufVxuQ29udGVudERlc2NyaXB0aW9uT2JqZWN0U3RhdGUuZ3VpZCA9IEdVSUQuQ29udGVudERlc2NyaXB0aW9uT2JqZWN0O1xuQ29udGVudERlc2NyaXB0aW9uT2JqZWN0U3RhdGUuY29udGVudERlc2NUYWdzID0gWydUaXRsZScsICdBdXRob3InLCAnQ29weXJpZ2h0JywgJ0Rlc2NyaXB0aW9uJywgJ1JhdGluZyddO1xuLyoqXG4gKiAzLjExIEV4dGVuZGVkIENvbnRlbnQgRGVzY3JpcHRpb24gT2JqZWN0IChvcHRpb25hbCwgb25lIG9ubHkpXG4gKiBSZWY6IGh0dHA6Ly9kcmFuZy5zNC54cmVhLmNvbS9wcm9ncmFtL3RpcHMvaWQzdGFnL3dtcC8wM19hc2ZfdG9wX2xldmVsX2hlYWRlcl9vYmplY3QuaHRtbCMzXzExXG4gKi9cbmV4cG9ydCBjbGFzcyBFeHRlbmRlZENvbnRlbnREZXNjcmlwdGlvbk9iamVjdFN0YXRlIGV4dGVuZHMgU3RhdGUge1xuICAgIGdldChidWYsIG9mZikge1xuICAgICAgICBjb25zdCB0YWdzID0gW107XG4gICAgICAgIGNvbnN0IHZpZXcgPSBuZXcgRGF0YVZpZXcoYnVmLmJ1ZmZlciwgb2ZmKTtcbiAgICAgICAgY29uc3QgYXR0ckNvdW50ID0gdmlldy5nZXRVaW50MTYoMCwgdHJ1ZSk7XG4gICAgICAgIGxldCBwb3MgPSAyO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGF0dHJDb3VudDsgaSArPSAxKSB7XG4gICAgICAgICAgICBjb25zdCBuYW1lTGVuID0gdmlldy5nZXRVaW50MTYocG9zLCB0cnVlKTtcbiAgICAgICAgICAgIHBvcyArPSAyO1xuICAgICAgICAgICAgY29uc3QgbmFtZSA9IHBhcnNlVW5pY29kZUF0dHIoYnVmLnNsaWNlKG9mZiArIHBvcywgb2ZmICsgcG9zICsgbmFtZUxlbikpO1xuICAgICAgICAgICAgcG9zICs9IG5hbWVMZW47XG4gICAgICAgICAgICBjb25zdCB2YWx1ZVR5cGUgPSB2aWV3LmdldFVpbnQxNihwb3MsIHRydWUpO1xuICAgICAgICAgICAgcG9zICs9IDI7XG4gICAgICAgICAgICBjb25zdCB2YWx1ZUxlbiA9IHZpZXcuZ2V0VWludDE2KHBvcywgdHJ1ZSk7XG4gICAgICAgICAgICBwb3MgKz0gMjtcbiAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gYnVmLnNsaWNlKG9mZiArIHBvcywgb2ZmICsgcG9zICsgdmFsdWVMZW4pO1xuICAgICAgICAgICAgcG9zICs9IHZhbHVlTGVuO1xuICAgICAgICAgICAgdGhpcy5wb3N0UHJvY2Vzc1RhZyh0YWdzLCBuYW1lLCB2YWx1ZVR5cGUsIHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGFncztcbiAgICB9XG59XG5FeHRlbmRlZENvbnRlbnREZXNjcmlwdGlvbk9iamVjdFN0YXRlLmd1aWQgPSBHVUlELkV4dGVuZGVkQ29udGVudERlc2NyaXB0aW9uT2JqZWN0O1xuLyoqXG4gKiA0LjEgRXh0ZW5kZWQgU3RyZWFtIFByb3BlcnRpZXMgT2JqZWN0IChvcHRpb25hbCwgMSBwZXIgbWVkaWEgc3RyZWFtKVxuICogUmVmOiBodHRwOi8vZHJhbmcuczQueHJlYS5jb20vcHJvZ3JhbS90aXBzL2lkM3RhZy93bXAvMDRfb2JqZWN0c19pbl90aGVfYXNmX2hlYWRlcl9leHRlbnNpb25fb2JqZWN0Lmh0bWwjNF8xXG4gKi9cbmV4cG9ydCBjbGFzcyBFeHRlbmRlZFN0cmVhbVByb3BlcnRpZXNPYmplY3RTdGF0ZSBleHRlbmRzIFN0YXRlIHtcbiAgICBnZXQoYnVmLCBvZmYpIHtcbiAgICAgICAgY29uc3QgdmlldyA9IG5ldyBEYXRhVmlldyhidWYuYnVmZmVyLCBvZmYpO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgc3RhcnRUaW1lOiBUb2tlbi5VSU5UNjRfTEUuZ2V0KGJ1Ziwgb2ZmKSxcbiAgICAgICAgICAgIGVuZFRpbWU6IFRva2VuLlVJTlQ2NF9MRS5nZXQoYnVmLCBvZmYgKyA4KSxcbiAgICAgICAgICAgIGRhdGFCaXRyYXRlOiB2aWV3LmdldEludDMyKDEyLCB0cnVlKSxcbiAgICAgICAgICAgIGJ1ZmZlclNpemU6IHZpZXcuZ2V0SW50MzIoMTYsIHRydWUpLFxuICAgICAgICAgICAgaW5pdGlhbEJ1ZmZlckZ1bGxuZXNzOiB2aWV3LmdldEludDMyKDIwLCB0cnVlKSxcbiAgICAgICAgICAgIGFsdGVybmF0ZURhdGFCaXRyYXRlOiB2aWV3LmdldEludDMyKDI0LCB0cnVlKSxcbiAgICAgICAgICAgIGFsdGVybmF0ZUJ1ZmZlclNpemU6IHZpZXcuZ2V0SW50MzIoMjgsIHRydWUpLFxuICAgICAgICAgICAgYWx0ZXJuYXRlSW5pdGlhbEJ1ZmZlckZ1bGxuZXNzOiB2aWV3LmdldEludDMyKDMyLCB0cnVlKSxcbiAgICAgICAgICAgIG1heGltdW1PYmplY3RTaXplOiB2aWV3LmdldEludDMyKDM2LCB0cnVlKSxcbiAgICAgICAgICAgIGZsYWdzOiB7XG4gICAgICAgICAgICAgICAgcmVsaWFibGVGbGFnOiB1dGlsLmdldEJpdChidWYsIG9mZiArIDQwLCAwKSxcbiAgICAgICAgICAgICAgICBzZWVrYWJsZUZsYWc6IHV0aWwuZ2V0Qml0KGJ1Ziwgb2ZmICsgNDAsIDEpLFxuICAgICAgICAgICAgICAgIHJlc2VuZExpdmVDbGVhbnBvaW50c0ZsYWc6IHV0aWwuZ2V0Qml0KGJ1Ziwgb2ZmICsgNDAsIDIpXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgLy8gZmxhZ3NOdW1lcmljOiBUb2tlbi5VSU5UMzJfTEUuZ2V0KGJ1Ziwgb2ZmICsgNjQpLFxuICAgICAgICAgICAgc3RyZWFtTnVtYmVyOiB2aWV3LmdldEludDE2KDQyLCB0cnVlKSxcbiAgICAgICAgICAgIHN0cmVhbUxhbmd1YWdlSWQ6IHZpZXcuZ2V0SW50MTYoNDQsIHRydWUpLFxuICAgICAgICAgICAgYXZlcmFnZVRpbWVQZXJGcmFtZTogdmlldy5nZXRJbnQzMig1MiwgdHJ1ZSksXG4gICAgICAgICAgICBzdHJlYW1OYW1lQ291bnQ6IHZpZXcuZ2V0SW50MzIoNTQsIHRydWUpLFxuICAgICAgICAgICAgcGF5bG9hZEV4dGVuc2lvblN5c3RlbXM6IHZpZXcuZ2V0SW50MzIoNTYsIHRydWUpLFxuICAgICAgICAgICAgc3RyZWFtTmFtZXM6IFtdLCAvLyBUb0RvXG4gICAgICAgICAgICBzdHJlYW1Qcm9wZXJ0aWVzT2JqZWN0OiBudWxsXG4gICAgICAgIH07XG4gICAgfVxufVxuRXh0ZW5kZWRTdHJlYW1Qcm9wZXJ0aWVzT2JqZWN0U3RhdGUuZ3VpZCA9IEdVSUQuRXh0ZW5kZWRTdHJlYW1Qcm9wZXJ0aWVzT2JqZWN0O1xuLyoqXG4gKiA0LjcgIE1ldGFkYXRhIE9iamVjdCAob3B0aW9uYWwsIDAgb3IgMSlcbiAqIFJlZjogaHR0cDovL2RyYW5nLnM0LnhyZWEuY29tL3Byb2dyYW0vdGlwcy9pZDN0YWcvd21wLzA0X29iamVjdHNfaW5fdGhlX2FzZl9oZWFkZXJfZXh0ZW5zaW9uX29iamVjdC5odG1sIzRfN1xuICovXG5leHBvcnQgY2xhc3MgTWV0YWRhdGFPYmplY3RTdGF0ZSBleHRlbmRzIFN0YXRlIHtcbiAgICBnZXQodWludDhBcnJheSwgb2ZmKSB7XG4gICAgICAgIGNvbnN0IHRhZ3MgPSBbXTtcbiAgICAgICAgY29uc3QgdmlldyA9IG5ldyBEYXRhVmlldyh1aW50OEFycmF5LmJ1ZmZlciwgb2ZmKTtcbiAgICAgICAgY29uc3QgZGVzY3JpcHRpb25SZWNvcmRzQ291bnQgPSB2aWV3LmdldFVpbnQxNigwLCB0cnVlKTtcbiAgICAgICAgbGV0IHBvcyA9IDI7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZGVzY3JpcHRpb25SZWNvcmRzQ291bnQ7IGkgKz0gMSkge1xuICAgICAgICAgICAgcG9zICs9IDQ7XG4gICAgICAgICAgICBjb25zdCBuYW1lTGVuID0gdmlldy5nZXRVaW50MTYocG9zLCB0cnVlKTtcbiAgICAgICAgICAgIHBvcyArPSAyO1xuICAgICAgICAgICAgY29uc3QgZGF0YVR5cGUgPSB2aWV3LmdldFVpbnQxNihwb3MsIHRydWUpO1xuICAgICAgICAgICAgcG9zICs9IDI7XG4gICAgICAgICAgICBjb25zdCBkYXRhTGVuID0gdmlldy5nZXRVaW50MzIocG9zLCB0cnVlKTtcbiAgICAgICAgICAgIHBvcyArPSA0O1xuICAgICAgICAgICAgY29uc3QgbmFtZSA9IHBhcnNlVW5pY29kZUF0dHIodWludDhBcnJheS5zbGljZShvZmYgKyBwb3MsIG9mZiArIHBvcyArIG5hbWVMZW4pKTtcbiAgICAgICAgICAgIHBvcyArPSBuYW1lTGVuO1xuICAgICAgICAgICAgY29uc3QgZGF0YSA9IHVpbnQ4QXJyYXkuc2xpY2Uob2ZmICsgcG9zLCBvZmYgKyBwb3MgKyBkYXRhTGVuKTtcbiAgICAgICAgICAgIHBvcyArPSBkYXRhTGVuO1xuICAgICAgICAgICAgdGhpcy5wb3N0UHJvY2Vzc1RhZyh0YWdzLCBuYW1lLCBkYXRhVHlwZSwgZGF0YSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRhZ3M7XG4gICAgfVxufVxuTWV0YWRhdGFPYmplY3RTdGF0ZS5ndWlkID0gR1VJRC5NZXRhZGF0YU9iamVjdDtcbi8vIDQuOFx0TWV0YWRhdGEgTGlicmFyeSBPYmplY3QgKG9wdGlvbmFsLCAwIG9yIDEpXG4vLyBiaW9tZS1pZ25vcmUgbGludC9jb21wbGV4aXR5L25vU3RhdGljT25seUNsYXNzOiBFeHRlbmRzIGEgbm9uLXN0YXRpYyBjbGFzc1xuZXhwb3J0IGNsYXNzIE1ldGFkYXRhTGlicmFyeU9iamVjdFN0YXRlIGV4dGVuZHMgTWV0YWRhdGFPYmplY3RTdGF0ZSB7XG59XG5NZXRhZGF0YUxpYnJhcnlPYmplY3RTdGF0ZS5ndWlkID0gR1VJRC5NZXRhZGF0YUxpYnJhcnlPYmplY3Q7XG4vKipcbiAqIFJlZjogaHR0cHM6Ly9tc2RuLm1pY3Jvc29mdC5jb20vZW4tdXMvbGlicmFyeS93aW5kb3dzL2Rlc2t0b3AvZGQ3NTc5Nzcodj12cy44NSkuYXNweFxuICovXG5leHBvcnQgY2xhc3MgV21QaWN0dXJlVG9rZW4ge1xuICAgIHN0YXRpYyBmcm9tQnVmZmVyKGJ1ZmZlcikge1xuICAgICAgICBjb25zdCBwaWMgPSBuZXcgV21QaWN0dXJlVG9rZW4oYnVmZmVyLmxlbmd0aCk7XG4gICAgICAgIHJldHVybiBwaWMuZ2V0KGJ1ZmZlciwgMCk7XG4gICAgfVxuICAgIGNvbnN0cnVjdG9yKGxlbikge1xuICAgICAgICB0aGlzLmxlbiA9IGxlbjtcbiAgICB9XG4gICAgZ2V0KGJ1ZmZlciwgb2Zmc2V0KSB7XG4gICAgICAgIGNvbnN0IHZpZXcgPSBuZXcgRGF0YVZpZXcoYnVmZmVyLmJ1ZmZlciwgb2Zmc2V0KTtcbiAgICAgICAgY29uc3QgdHlwZUlkID0gdmlldy5nZXRVaW50OCgwKTtcbiAgICAgICAgY29uc3Qgc2l6ZSA9IHZpZXcuZ2V0SW50MzIoMSwgdHJ1ZSk7XG4gICAgICAgIGxldCBpbmRleCA9IDU7XG4gICAgICAgIHdoaWxlICh2aWV3LmdldFVpbnQxNihpbmRleCkgIT09IDApIHtcbiAgICAgICAgICAgIGluZGV4ICs9IDI7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZm9ybWF0ID0gbmV3IFRva2VuLlN0cmluZ1R5cGUoaW5kZXggLSA1LCAndXRmLTE2bGUnKS5nZXQoYnVmZmVyLCA1KTtcbiAgICAgICAgd2hpbGUgKHZpZXcuZ2V0VWludDE2KGluZGV4KSAhPT0gMCkge1xuICAgICAgICAgICAgaW5kZXggKz0gMjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBkZXNjcmlwdGlvbiA9IG5ldyBUb2tlbi5TdHJpbmdUeXBlKGluZGV4IC0gNSwgJ3V0Zi0xNmxlJykuZ2V0KGJ1ZmZlciwgNSk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB0eXBlOiBBdHRhY2hlZFBpY3R1cmVUeXBlW3R5cGVJZF0sXG4gICAgICAgICAgICBmb3JtYXQsXG4gICAgICAgICAgICBkZXNjcmlwdGlvbixcbiAgICAgICAgICAgIHNpemUsXG4gICAgICAgICAgICBkYXRhOiBidWZmZXIuc2xpY2UoaW5kZXggKyA0KVxuICAgICAgICB9O1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUFzZk9iamVjdC5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/music-metadata/lib/asf/AsfObject.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/music-metadata/lib/asf/AsfParser.js":
/*!**********************************************************!*\
  !*** ./node_modules/music-metadata/lib/asf/AsfParser.js ***!
  \**********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AsfParser: () => (/* binding */ AsfParser)\n/* harmony export */ });\n/* harmony import */ var debug__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! debug */ \"(ssr)/./node_modules/debug/src/index.js\");\n/* harmony import */ var _type_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../type.js */ \"(ssr)/./node_modules/music-metadata/lib/type.js\");\n/* harmony import */ var _GUID_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./GUID.js */ \"(ssr)/./node_modules/music-metadata/lib/asf/GUID.js\");\n/* harmony import */ var _AsfObject_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./AsfObject.js */ \"(ssr)/./node_modules/music-metadata/lib/asf/AsfObject.js\");\n/* harmony import */ var _common_BasicParser_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../common/BasicParser.js */ \"(ssr)/./node_modules/music-metadata/lib/common/BasicParser.js\");\n\n\n\n\n\nconst debug = debug__WEBPACK_IMPORTED_MODULE_0__('music-metadata:parser:ASF');\nconst headerType = 'asf';\n/**\n * Windows Media Metadata Usage Guidelines\n * - Ref: https://msdn.microsoft.com/en-us/library/ms867702.aspx\n *\n * Ref:\n * - https://tools.ietf.org/html/draft-fleischman-asf-01\n * - https://hwiegman.home.xs4all.nl/fileformats/asf/ASF_Specification.pdf\n * - http://drang.s4.xrea.com/program/tips/id3tag/wmp/index.html\n * - https://msdn.microsoft.com/en-us/library/windows/desktop/ee663575(v=vs.85).aspx\n */\nclass AsfParser extends _common_BasicParser_js__WEBPACK_IMPORTED_MODULE_4__.BasicParser {\n    async parse() {\n        const header = await this.tokenizer.readToken(_AsfObject_js__WEBPACK_IMPORTED_MODULE_3__.TopLevelHeaderObjectToken);\n        if (!header.objectId.equals(_GUID_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"].HeaderObject)) {\n            throw new Error(`expected asf header; but was not found; got: ${header.objectId.str}`);\n        }\n        try {\n            await this.parseObjectHeader(header.numberOfHeaderObjects);\n        }\n        catch (err) {\n            debug('Error while parsing ASF: %s', err);\n        }\n    }\n    async parseObjectHeader(numberOfObjectHeaders) {\n        let tags;\n        do {\n            // Parse common header of the ASF Object (3.1)\n            const header = await this.tokenizer.readToken(_AsfObject_js__WEBPACK_IMPORTED_MODULE_3__.HeaderObjectToken);\n            // Parse data part of the ASF Object\n            debug('header GUID=%s', header.objectId.str);\n            switch (header.objectId.str) {\n                case _AsfObject_js__WEBPACK_IMPORTED_MODULE_3__.FilePropertiesObject.guid.str: { // 3.2\n                    const fpo = await this.tokenizer.readToken(new _AsfObject_js__WEBPACK_IMPORTED_MODULE_3__.FilePropertiesObject(header));\n                    this.metadata.setFormat('duration', Number(fpo.playDuration / BigInt(1000)) / 10000 - Number(fpo.preroll) / 1000);\n                    this.metadata.setFormat('bitrate', fpo.maximumBitrate);\n                    break;\n                }\n                case _AsfObject_js__WEBPACK_IMPORTED_MODULE_3__.StreamPropertiesObject.guid.str: { // 3.3\n                    const spo = await this.tokenizer.readToken(new _AsfObject_js__WEBPACK_IMPORTED_MODULE_3__.StreamPropertiesObject(header));\n                    this.metadata.setFormat('container', `ASF/${spo.streamType}`);\n                    break;\n                }\n                case _AsfObject_js__WEBPACK_IMPORTED_MODULE_3__.HeaderExtensionObject.guid.str: { // 3.4\n                    const extHeader = await this.tokenizer.readToken(new _AsfObject_js__WEBPACK_IMPORTED_MODULE_3__.HeaderExtensionObject());\n                    await this.parseExtensionObject(extHeader.extensionDataSize);\n                    break;\n                }\n                case _AsfObject_js__WEBPACK_IMPORTED_MODULE_3__.ContentDescriptionObjectState.guid.str: // 3.10\n                    tags = await this.tokenizer.readToken(new _AsfObject_js__WEBPACK_IMPORTED_MODULE_3__.ContentDescriptionObjectState(header));\n                    await this.addTags(tags);\n                    break;\n                case _AsfObject_js__WEBPACK_IMPORTED_MODULE_3__.ExtendedContentDescriptionObjectState.guid.str: // 3.11\n                    tags = await this.tokenizer.readToken(new _AsfObject_js__WEBPACK_IMPORTED_MODULE_3__.ExtendedContentDescriptionObjectState(header));\n                    await this.addTags(tags);\n                    break;\n                case _GUID_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"].CodecListObject.str: {\n                    const codecs = await _AsfObject_js__WEBPACK_IMPORTED_MODULE_3__.readCodecEntries(this.tokenizer);\n                    codecs.forEach(codec => {\n                        this.metadata.addStreamInfo({\n                            type: codec.type.videoCodec ? _type_js__WEBPACK_IMPORTED_MODULE_1__.TrackType.video : _type_js__WEBPACK_IMPORTED_MODULE_1__.TrackType.audio,\n                            codecName: codec.codecName\n                        });\n                    });\n                    const audioCodecs = codecs.filter(codec => codec.type.audioCodec).map(codec => codec.codecName).join('/');\n                    this.metadata.setFormat('codec', audioCodecs);\n                    break;\n                }\n                case _GUID_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"].StreamBitratePropertiesObject.str:\n                    // ToDo?\n                    await this.tokenizer.ignore(header.objectSize - _AsfObject_js__WEBPACK_IMPORTED_MODULE_3__.HeaderObjectToken.len);\n                    break;\n                case _GUID_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"].PaddingObject.str:\n                    // ToDo: register bytes pad\n                    debug('Padding: %s bytes', header.objectSize - _AsfObject_js__WEBPACK_IMPORTED_MODULE_3__.HeaderObjectToken.len);\n                    await this.tokenizer.ignore(header.objectSize - _AsfObject_js__WEBPACK_IMPORTED_MODULE_3__.HeaderObjectToken.len);\n                    break;\n                default:\n                    this.metadata.addWarning(`Ignore ASF-Object-GUID: ${header.objectId.str}`);\n                    debug('Ignore ASF-Object-GUID: %s', header.objectId.str);\n                    await this.tokenizer.readToken(new _AsfObject_js__WEBPACK_IMPORTED_MODULE_3__.IgnoreObjectState(header));\n            }\n        } while (--numberOfObjectHeaders);\n        // done\n    }\n    async addTags(tags) {\n        await Promise.all(tags.map(({ id, value }) => this.metadata.addTag(headerType, id, value)));\n    }\n    async parseExtensionObject(extensionSize) {\n        do {\n            // Parse common header of the ASF Object (3.1)\n            const header = await this.tokenizer.readToken(_AsfObject_js__WEBPACK_IMPORTED_MODULE_3__.HeaderObjectToken);\n            const remaining = header.objectSize - _AsfObject_js__WEBPACK_IMPORTED_MODULE_3__.HeaderObjectToken.len;\n            // Parse data part of the ASF Object\n            switch (header.objectId.str) {\n                case _AsfObject_js__WEBPACK_IMPORTED_MODULE_3__.ExtendedStreamPropertiesObjectState.guid.str: // 4.1\n                    // ToDo: extended stream header properties are ignored\n                    await this.tokenizer.readToken(new _AsfObject_js__WEBPACK_IMPORTED_MODULE_3__.ExtendedStreamPropertiesObjectState(header));\n                    break;\n                case _AsfObject_js__WEBPACK_IMPORTED_MODULE_3__.MetadataObjectState.guid.str: { // 4.7\n                    const moTags = await this.tokenizer.readToken(new _AsfObject_js__WEBPACK_IMPORTED_MODULE_3__.MetadataObjectState(header));\n                    await this.addTags(moTags);\n                    break;\n                }\n                case _AsfObject_js__WEBPACK_IMPORTED_MODULE_3__.MetadataLibraryObjectState.guid.str: { // 4.8\n                    const mlTags = await this.tokenizer.readToken(new _AsfObject_js__WEBPACK_IMPORTED_MODULE_3__.MetadataLibraryObjectState(header));\n                    await this.addTags(mlTags);\n                    break;\n                }\n                case _GUID_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"].PaddingObject.str:\n                    // ToDo: register bytes pad\n                    await this.tokenizer.ignore(remaining);\n                    break;\n                case _GUID_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"].CompatibilityObject.str:\n                    this.tokenizer.ignore(remaining);\n                    break;\n                case _GUID_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"].ASF_Index_Placeholder_Object.str:\n                    await this.tokenizer.ignore(remaining);\n                    break;\n                default:\n                    this.metadata.addWarning(`Ignore ASF-Object-GUID: ${header.objectId.str}`);\n                    // console.log(\"Ignore ASF-Object-GUID: %s\", header.objectId.str);\n                    await this.tokenizer.readToken(new _AsfObject_js__WEBPACK_IMPORTED_MODULE_3__.IgnoreObjectState(header));\n                    break;\n            }\n            extensionSize -= header.objectSize;\n        } while (extensionSize > 0);\n    }\n}\n//# sourceMappingURL=AsfParser.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbXVzaWMtbWV0YWRhdGEvbGliL2FzZi9Bc2ZQYXJzZXIuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQThCO0FBQ1M7QUFDVjtBQUNlO0FBQ1c7QUFDdkQsY0FBYyxrQ0FBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ08sd0JBQXdCLCtEQUFXO0FBQzFDO0FBQ0Esc0RBQXNELG9FQUFtQztBQUN6RixvQ0FBb0MsZ0RBQUk7QUFDeEMsa0RBQWtELG1CQUFtQixPQUFPLG9CQUFvQjtBQUNoRztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwREFBMEQsNERBQTJCO0FBQ3JGO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQiwrREFBOEIsYUFBYTtBQUNoRSxtRUFBbUUsK0RBQThCO0FBQ2pHO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCLGlFQUFnQyxhQUFhO0FBQ2xFLG1FQUFtRSxpRUFBZ0M7QUFDbkcsZ0VBQWdFLGVBQWU7QUFDL0U7QUFDQTtBQUNBLHFCQUFxQixnRUFBK0IsYUFBYTtBQUNqRSx5RUFBeUUsZ0VBQStCO0FBQ3hHO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQix3RUFBdUM7QUFDNUQsOERBQThELHdFQUF1QztBQUNyRztBQUNBO0FBQ0EscUJBQXFCLGdGQUErQztBQUNwRSw4REFBOEQsZ0ZBQStDO0FBQzdHO0FBQ0E7QUFDQSxxQkFBcUIsZ0RBQUk7QUFDekIseUNBQXlDLDJEQUEwQjtBQUNuRTtBQUNBO0FBQ0EsMERBQTBELCtDQUFTLFNBQVMsK0NBQVM7QUFDckY7QUFDQSx5QkFBeUI7QUFDekIscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCLGdEQUFJO0FBQ3pCO0FBQ0Esb0VBQW9FLDREQUEyQjtBQUMvRjtBQUNBLHFCQUFxQixnREFBSTtBQUN6QjtBQUNBLG1FQUFtRSw0REFBMkI7QUFDOUYsb0VBQW9FLDREQUEyQjtBQUMvRjtBQUNBO0FBQ0Esd0VBQXdFLG9CQUFvQjtBQUM1RjtBQUNBLHVEQUF1RCw0REFBMkI7QUFDbEY7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0Esc0NBQXNDLFdBQVc7QUFDakQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwREFBMEQsNERBQTJCO0FBQ3JGLGtEQUFrRCw0REFBMkI7QUFDN0U7QUFDQTtBQUNBLHFCQUFxQiw4RUFBNkM7QUFDbEU7QUFDQSx1REFBdUQsOEVBQTZDO0FBQ3BHO0FBQ0EscUJBQXFCLDhEQUE2QixhQUFhO0FBQy9ELHNFQUFzRSw4REFBNkI7QUFDbkc7QUFDQTtBQUNBO0FBQ0EscUJBQXFCLHFFQUFvQyxhQUFhO0FBQ3RFLHNFQUFzRSxxRUFBb0M7QUFDMUc7QUFDQTtBQUNBO0FBQ0EscUJBQXFCLGdEQUFJO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQixnREFBSTtBQUN6QjtBQUNBO0FBQ0EscUJBQXFCLGdEQUFJO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBLHdFQUF3RSxvQkFBb0I7QUFDNUY7QUFDQSx1REFBdUQsNERBQTJCO0FBQ2xGO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9kZXZlbGV2YXRlLy4vbm9kZV9tb2R1bGVzL211c2ljLW1ldGFkYXRhL2xpYi9hc2YvQXNmUGFyc2VyLmpzPzE0ZWIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGluaXREZWJ1ZyBmcm9tICdkZWJ1Zyc7XG5pbXBvcnQgeyBUcmFja1R5cGUgfSBmcm9tICcuLi90eXBlLmpzJztcbmltcG9ydCBHVUlEIGZyb20gJy4vR1VJRC5qcyc7XG5pbXBvcnQgKiBhcyBBc2ZPYmplY3QgZnJvbSAnLi9Bc2ZPYmplY3QuanMnO1xuaW1wb3J0IHsgQmFzaWNQYXJzZXIgfSBmcm9tICcuLi9jb21tb24vQmFzaWNQYXJzZXIuanMnO1xuY29uc3QgZGVidWcgPSBpbml0RGVidWcoJ211c2ljLW1ldGFkYXRhOnBhcnNlcjpBU0YnKTtcbmNvbnN0IGhlYWRlclR5cGUgPSAnYXNmJztcbi8qKlxuICogV2luZG93cyBNZWRpYSBNZXRhZGF0YSBVc2FnZSBHdWlkZWxpbmVzXG4gKiAtIFJlZjogaHR0cHM6Ly9tc2RuLm1pY3Jvc29mdC5jb20vZW4tdXMvbGlicmFyeS9tczg2NzcwMi5hc3B4XG4gKlxuICogUmVmOlxuICogLSBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvZHJhZnQtZmxlaXNjaG1hbi1hc2YtMDFcbiAqIC0gaHR0cHM6Ly9od2llZ21hbi5ob21lLnhzNGFsbC5ubC9maWxlZm9ybWF0cy9hc2YvQVNGX1NwZWNpZmljYXRpb24ucGRmXG4gKiAtIGh0dHA6Ly9kcmFuZy5zNC54cmVhLmNvbS9wcm9ncmFtL3RpcHMvaWQzdGFnL3dtcC9pbmRleC5odG1sXG4gKiAtIGh0dHBzOi8vbXNkbi5taWNyb3NvZnQuY29tL2VuLXVzL2xpYnJhcnkvd2luZG93cy9kZXNrdG9wL2VlNjYzNTc1KHY9dnMuODUpLmFzcHhcbiAqL1xuZXhwb3J0IGNsYXNzIEFzZlBhcnNlciBleHRlbmRzIEJhc2ljUGFyc2VyIHtcbiAgICBhc3luYyBwYXJzZSgpIHtcbiAgICAgICAgY29uc3QgaGVhZGVyID0gYXdhaXQgdGhpcy50b2tlbml6ZXIucmVhZFRva2VuKEFzZk9iamVjdC5Ub3BMZXZlbEhlYWRlck9iamVjdFRva2VuKTtcbiAgICAgICAgaWYgKCFoZWFkZXIub2JqZWN0SWQuZXF1YWxzKEdVSUQuSGVhZGVyT2JqZWN0KSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBleHBlY3RlZCBhc2YgaGVhZGVyOyBidXQgd2FzIG5vdCBmb3VuZDsgZ290OiAke2hlYWRlci5vYmplY3RJZC5zdHJ9YCk7XG4gICAgICAgIH1cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGF3YWl0IHRoaXMucGFyc2VPYmplY3RIZWFkZXIoaGVhZGVyLm51bWJlck9mSGVhZGVyT2JqZWN0cyk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgZGVidWcoJ0Vycm9yIHdoaWxlIHBhcnNpbmcgQVNGOiAlcycsIGVycik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgYXN5bmMgcGFyc2VPYmplY3RIZWFkZXIobnVtYmVyT2ZPYmplY3RIZWFkZXJzKSB7XG4gICAgICAgIGxldCB0YWdzO1xuICAgICAgICBkbyB7XG4gICAgICAgICAgICAvLyBQYXJzZSBjb21tb24gaGVhZGVyIG9mIHRoZSBBU0YgT2JqZWN0ICgzLjEpXG4gICAgICAgICAgICBjb25zdCBoZWFkZXIgPSBhd2FpdCB0aGlzLnRva2VuaXplci5yZWFkVG9rZW4oQXNmT2JqZWN0LkhlYWRlck9iamVjdFRva2VuKTtcbiAgICAgICAgICAgIC8vIFBhcnNlIGRhdGEgcGFydCBvZiB0aGUgQVNGIE9iamVjdFxuICAgICAgICAgICAgZGVidWcoJ2hlYWRlciBHVUlEPSVzJywgaGVhZGVyLm9iamVjdElkLnN0cik7XG4gICAgICAgICAgICBzd2l0Y2ggKGhlYWRlci5vYmplY3RJZC5zdHIpIHtcbiAgICAgICAgICAgICAgICBjYXNlIEFzZk9iamVjdC5GaWxlUHJvcGVydGllc09iamVjdC5ndWlkLnN0cjogeyAvLyAzLjJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZnBvID0gYXdhaXQgdGhpcy50b2tlbml6ZXIucmVhZFRva2VuKG5ldyBBc2ZPYmplY3QuRmlsZVByb3BlcnRpZXNPYmplY3QoaGVhZGVyKSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubWV0YWRhdGEuc2V0Rm9ybWF0KCdkdXJhdGlvbicsIE51bWJlcihmcG8ucGxheUR1cmF0aW9uIC8gQmlnSW50KDEwMDApKSAvIDEwMDAwIC0gTnVtYmVyKGZwby5wcmVyb2xsKSAvIDEwMDApO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm1ldGFkYXRhLnNldEZvcm1hdCgnYml0cmF0ZScsIGZwby5tYXhpbXVtQml0cmF0ZSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXNlIEFzZk9iamVjdC5TdHJlYW1Qcm9wZXJ0aWVzT2JqZWN0Lmd1aWQuc3RyOiB7IC8vIDMuM1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBzcG8gPSBhd2FpdCB0aGlzLnRva2VuaXplci5yZWFkVG9rZW4obmV3IEFzZk9iamVjdC5TdHJlYW1Qcm9wZXJ0aWVzT2JqZWN0KGhlYWRlcikpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm1ldGFkYXRhLnNldEZvcm1hdCgnY29udGFpbmVyJywgYEFTRi8ke3Nwby5zdHJlYW1UeXBlfWApO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2FzZSBBc2ZPYmplY3QuSGVhZGVyRXh0ZW5zaW9uT2JqZWN0Lmd1aWQuc3RyOiB7IC8vIDMuNFxuICAgICAgICAgICAgICAgICAgICBjb25zdCBleHRIZWFkZXIgPSBhd2FpdCB0aGlzLnRva2VuaXplci5yZWFkVG9rZW4obmV3IEFzZk9iamVjdC5IZWFkZXJFeHRlbnNpb25PYmplY3QoKSk7XG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMucGFyc2VFeHRlbnNpb25PYmplY3QoZXh0SGVhZGVyLmV4dGVuc2lvbkRhdGFTaXplKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhc2UgQXNmT2JqZWN0LkNvbnRlbnREZXNjcmlwdGlvbk9iamVjdFN0YXRlLmd1aWQuc3RyOiAvLyAzLjEwXG4gICAgICAgICAgICAgICAgICAgIHRhZ3MgPSBhd2FpdCB0aGlzLnRva2VuaXplci5yZWFkVG9rZW4obmV3IEFzZk9iamVjdC5Db250ZW50RGVzY3JpcHRpb25PYmplY3RTdGF0ZShoZWFkZXIpKTtcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5hZGRUYWdzKHRhZ3MpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIEFzZk9iamVjdC5FeHRlbmRlZENvbnRlbnREZXNjcmlwdGlvbk9iamVjdFN0YXRlLmd1aWQuc3RyOiAvLyAzLjExXG4gICAgICAgICAgICAgICAgICAgIHRhZ3MgPSBhd2FpdCB0aGlzLnRva2VuaXplci5yZWFkVG9rZW4obmV3IEFzZk9iamVjdC5FeHRlbmRlZENvbnRlbnREZXNjcmlwdGlvbk9iamVjdFN0YXRlKGhlYWRlcikpO1xuICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLmFkZFRhZ3ModGFncyk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgR1VJRC5Db2RlY0xpc3RPYmplY3Quc3RyOiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNvZGVjcyA9IGF3YWl0IEFzZk9iamVjdC5yZWFkQ29kZWNFbnRyaWVzKHRoaXMudG9rZW5pemVyKTtcbiAgICAgICAgICAgICAgICAgICAgY29kZWNzLmZvckVhY2goY29kZWMgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5tZXRhZGF0YS5hZGRTdHJlYW1JbmZvKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBjb2RlYy50eXBlLnZpZGVvQ29kZWMgPyBUcmFja1R5cGUudmlkZW8gOiBUcmFja1R5cGUuYXVkaW8sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29kZWNOYW1lOiBjb2RlYy5jb2RlY05hbWVcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYXVkaW9Db2RlY3MgPSBjb2RlY3MuZmlsdGVyKGNvZGVjID0+IGNvZGVjLnR5cGUuYXVkaW9Db2RlYykubWFwKGNvZGVjID0+IGNvZGVjLmNvZGVjTmFtZSkuam9pbignLycpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm1ldGFkYXRhLnNldEZvcm1hdCgnY29kZWMnLCBhdWRpb0NvZGVjcyk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXNlIEdVSUQuU3RyZWFtQml0cmF0ZVByb3BlcnRpZXNPYmplY3Quc3RyOlxuICAgICAgICAgICAgICAgICAgICAvLyBUb0RvP1xuICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnRva2VuaXplci5pZ25vcmUoaGVhZGVyLm9iamVjdFNpemUgLSBBc2ZPYmplY3QuSGVhZGVyT2JqZWN0VG9rZW4ubGVuKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBHVUlELlBhZGRpbmdPYmplY3Quc3RyOlxuICAgICAgICAgICAgICAgICAgICAvLyBUb0RvOiByZWdpc3RlciBieXRlcyBwYWRcbiAgICAgICAgICAgICAgICAgICAgZGVidWcoJ1BhZGRpbmc6ICVzIGJ5dGVzJywgaGVhZGVyLm9iamVjdFNpemUgLSBBc2ZPYmplY3QuSGVhZGVyT2JqZWN0VG9rZW4ubGVuKTtcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy50b2tlbml6ZXIuaWdub3JlKGhlYWRlci5vYmplY3RTaXplIC0gQXNmT2JqZWN0LkhlYWRlck9iamVjdFRva2VuLmxlbik7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubWV0YWRhdGEuYWRkV2FybmluZyhgSWdub3JlIEFTRi1PYmplY3QtR1VJRDogJHtoZWFkZXIub2JqZWN0SWQuc3RyfWApO1xuICAgICAgICAgICAgICAgICAgICBkZWJ1ZygnSWdub3JlIEFTRi1PYmplY3QtR1VJRDogJXMnLCBoZWFkZXIub2JqZWN0SWQuc3RyKTtcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy50b2tlbml6ZXIucmVhZFRva2VuKG5ldyBBc2ZPYmplY3QuSWdub3JlT2JqZWN0U3RhdGUoaGVhZGVyKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gd2hpbGUgKC0tbnVtYmVyT2ZPYmplY3RIZWFkZXJzKTtcbiAgICAgICAgLy8gZG9uZVxuICAgIH1cbiAgICBhc3luYyBhZGRUYWdzKHRhZ3MpIHtcbiAgICAgICAgYXdhaXQgUHJvbWlzZS5hbGwodGFncy5tYXAoKHsgaWQsIHZhbHVlIH0pID0+IHRoaXMubWV0YWRhdGEuYWRkVGFnKGhlYWRlclR5cGUsIGlkLCB2YWx1ZSkpKTtcbiAgICB9XG4gICAgYXN5bmMgcGFyc2VFeHRlbnNpb25PYmplY3QoZXh0ZW5zaW9uU2l6ZSkge1xuICAgICAgICBkbyB7XG4gICAgICAgICAgICAvLyBQYXJzZSBjb21tb24gaGVhZGVyIG9mIHRoZSBBU0YgT2JqZWN0ICgzLjEpXG4gICAgICAgICAgICBjb25zdCBoZWFkZXIgPSBhd2FpdCB0aGlzLnRva2VuaXplci5yZWFkVG9rZW4oQXNmT2JqZWN0LkhlYWRlck9iamVjdFRva2VuKTtcbiAgICAgICAgICAgIGNvbnN0IHJlbWFpbmluZyA9IGhlYWRlci5vYmplY3RTaXplIC0gQXNmT2JqZWN0LkhlYWRlck9iamVjdFRva2VuLmxlbjtcbiAgICAgICAgICAgIC8vIFBhcnNlIGRhdGEgcGFydCBvZiB0aGUgQVNGIE9iamVjdFxuICAgICAgICAgICAgc3dpdGNoIChoZWFkZXIub2JqZWN0SWQuc3RyKSB7XG4gICAgICAgICAgICAgICAgY2FzZSBBc2ZPYmplY3QuRXh0ZW5kZWRTdHJlYW1Qcm9wZXJ0aWVzT2JqZWN0U3RhdGUuZ3VpZC5zdHI6IC8vIDQuMVxuICAgICAgICAgICAgICAgICAgICAvLyBUb0RvOiBleHRlbmRlZCBzdHJlYW0gaGVhZGVyIHByb3BlcnRpZXMgYXJlIGlnbm9yZWRcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy50b2tlbml6ZXIucmVhZFRva2VuKG5ldyBBc2ZPYmplY3QuRXh0ZW5kZWRTdHJlYW1Qcm9wZXJ0aWVzT2JqZWN0U3RhdGUoaGVhZGVyKSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgQXNmT2JqZWN0Lk1ldGFkYXRhT2JqZWN0U3RhdGUuZ3VpZC5zdHI6IHsgLy8gNC43XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG1vVGFncyA9IGF3YWl0IHRoaXMudG9rZW5pemVyLnJlYWRUb2tlbihuZXcgQXNmT2JqZWN0Lk1ldGFkYXRhT2JqZWN0U3RhdGUoaGVhZGVyKSk7XG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuYWRkVGFncyhtb1RhZ3MpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2FzZSBBc2ZPYmplY3QuTWV0YWRhdGFMaWJyYXJ5T2JqZWN0U3RhdGUuZ3VpZC5zdHI6IHsgLy8gNC44XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG1sVGFncyA9IGF3YWl0IHRoaXMudG9rZW5pemVyLnJlYWRUb2tlbihuZXcgQXNmT2JqZWN0Lk1ldGFkYXRhTGlicmFyeU9iamVjdFN0YXRlKGhlYWRlcikpO1xuICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLmFkZFRhZ3MobWxUYWdzKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhc2UgR1VJRC5QYWRkaW5nT2JqZWN0LnN0cjpcbiAgICAgICAgICAgICAgICAgICAgLy8gVG9EbzogcmVnaXN0ZXIgYnl0ZXMgcGFkXG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMudG9rZW5pemVyLmlnbm9yZShyZW1haW5pbmcpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIEdVSUQuQ29tcGF0aWJpbGl0eU9iamVjdC5zdHI6XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudG9rZW5pemVyLmlnbm9yZShyZW1haW5pbmcpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIEdVSUQuQVNGX0luZGV4X1BsYWNlaG9sZGVyX09iamVjdC5zdHI6XG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMudG9rZW5pemVyLmlnbm9yZShyZW1haW5pbmcpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICB0aGlzLm1ldGFkYXRhLmFkZFdhcm5pbmcoYElnbm9yZSBBU0YtT2JqZWN0LUdVSUQ6ICR7aGVhZGVyLm9iamVjdElkLnN0cn1gKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coXCJJZ25vcmUgQVNGLU9iamVjdC1HVUlEOiAlc1wiLCBoZWFkZXIub2JqZWN0SWQuc3RyKTtcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy50b2tlbml6ZXIucmVhZFRva2VuKG5ldyBBc2ZPYmplY3QuSWdub3JlT2JqZWN0U3RhdGUoaGVhZGVyKSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZXh0ZW5zaW9uU2l6ZSAtPSBoZWFkZXIub2JqZWN0U2l6ZTtcbiAgICAgICAgfSB3aGlsZSAoZXh0ZW5zaW9uU2l6ZSA+IDApO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUFzZlBhcnNlci5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/music-metadata/lib/asf/AsfParser.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/music-metadata/lib/asf/AsfTagMapper.js":
/*!*************************************************************!*\
  !*** ./node_modules/music-metadata/lib/asf/AsfTagMapper.js ***!
  \*************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AsfTagMapper: () => (/* binding */ AsfTagMapper)\n/* harmony export */ });\n/* harmony import */ var _common_GenericTagMapper_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../common/GenericTagMapper.js */ \"(ssr)/./node_modules/music-metadata/lib/common/GenericTagMapper.js\");\n\n/**\n * ASF Metadata tag mappings.\n * See http://msdn.microsoft.com/en-us/library/ms867702.aspx\n */\nconst asfTagMap = {\n    Title: 'title',\n    Author: 'artist',\n    'WM/AlbumArtist': 'albumartist',\n    'WM/AlbumTitle': 'album',\n    'WM/Year': 'date', // changed to 'year' to 'date' based on Picard mappings; ToDo: check me\n    'WM/OriginalReleaseTime': 'originaldate',\n    'WM/OriginalReleaseYear': 'originalyear',\n    Description: 'comment',\n    'WM/TrackNumber': 'track',\n    'WM/PartOfSet': 'disk',\n    'WM/Genre': 'genre',\n    'WM/Composer': 'composer',\n    'WM/Lyrics': 'lyrics',\n    'WM/AlbumSortOrder': 'albumsort',\n    'WM/TitleSortOrder': 'titlesort',\n    'WM/ArtistSortOrder': 'artistsort',\n    'WM/AlbumArtistSortOrder': 'albumartistsort',\n    'WM/ComposerSortOrder': 'composersort',\n    'WM/Writer': 'lyricist',\n    'WM/Conductor': 'conductor',\n    'WM/ModifiedBy': 'remixer',\n    'WM/Engineer': 'engineer',\n    'WM/Producer': 'producer',\n    'WM/DJMixer': 'djmixer',\n    'WM/Mixer': 'mixer',\n    'WM/Publisher': 'label',\n    'WM/ContentGroupDescription': 'grouping',\n    'WM/SubTitle': 'subtitle',\n    'WM/SetSubTitle': 'discsubtitle',\n    // 'WM/PartOfSet': 'totaldiscs',\n    'WM/IsCompilation': 'compilation',\n    'WM/SharedUserRating': 'rating',\n    'WM/BeatsPerMinute': 'bpm',\n    'WM/Mood': 'mood',\n    'WM/Media': 'media',\n    'WM/CatalogNo': 'catalognumber',\n    'MusicBrainz/Album Status': 'releasestatus',\n    'MusicBrainz/Album Type': 'releasetype',\n    'MusicBrainz/Album Release Country': 'releasecountry',\n    'WM/Script': 'script',\n    'WM/Language': 'language',\n    Copyright: 'copyright',\n    LICENSE: 'license',\n    'WM/EncodedBy': 'encodedby',\n    'WM/EncodingSettings': 'encodersettings',\n    'WM/Barcode': 'barcode',\n    'WM/ISRC': 'isrc',\n    'MusicBrainz/Track Id': 'musicbrainz_recordingid',\n    'MusicBrainz/Release Track Id': 'musicbrainz_trackid',\n    'MusicBrainz/Album Id': 'musicbrainz_albumid',\n    'MusicBrainz/Artist Id': 'musicbrainz_artistid',\n    'MusicBrainz/Album Artist Id': 'musicbrainz_albumartistid',\n    'MusicBrainz/Release Group Id': 'musicbrainz_releasegroupid',\n    'MusicBrainz/Work Id': 'musicbrainz_workid',\n    'MusicBrainz/TRM Id': 'musicbrainz_trmid',\n    'MusicBrainz/Disc Id': 'musicbrainz_discid',\n    'Acoustid/Id': 'acoustid_id',\n    'Acoustid/Fingerprint': 'acoustid_fingerprint',\n    'MusicIP/PUID': 'musicip_puid',\n    'WM/ARTISTS': 'artists',\n    'WM/InitialKey': 'key',\n    ASIN: 'asin',\n    'WM/Work': 'work',\n    'WM/AuthorURL': 'website',\n    'WM/Picture': 'picture'\n};\nclass AsfTagMapper extends _common_GenericTagMapper_js__WEBPACK_IMPORTED_MODULE_0__.CommonTagMapper {\n    static toRating(rating) {\n        return {\n            rating: Number.parseFloat(rating + 1) / 5\n        };\n    }\n    constructor() {\n        super(['asf'], asfTagMap);\n    }\n    postMap(tag) {\n        switch (tag.id) {\n            case 'WM/SharedUserRating': {\n                const keys = tag.id.split(':');\n                tag.value = AsfTagMapper.toRating(tag.value);\n                tag.id = keys[0];\n                break;\n            }\n        }\n    }\n}\n//# sourceMappingURL=AsfTagMapper.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbXVzaWMtbWV0YWRhdGEvbGliL2FzZi9Bc2ZUYWdNYXBwZXIuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBZ0U7QUFDaEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0ZBQWdGO0FBQ2hGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ08sMkJBQTJCLHdFQUFlO0FBQ2pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9kZXZlbGV2YXRlLy4vbm9kZV9tb2R1bGVzL211c2ljLW1ldGFkYXRhL2xpYi9hc2YvQXNmVGFnTWFwcGVyLmpzPzU3NzEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQ29tbW9uVGFnTWFwcGVyIH0gZnJvbSAnLi4vY29tbW9uL0dlbmVyaWNUYWdNYXBwZXIuanMnO1xuLyoqXG4gKiBBU0YgTWV0YWRhdGEgdGFnIG1hcHBpbmdzLlxuICogU2VlIGh0dHA6Ly9tc2RuLm1pY3Jvc29mdC5jb20vZW4tdXMvbGlicmFyeS9tczg2NzcwMi5hc3B4XG4gKi9cbmNvbnN0IGFzZlRhZ01hcCA9IHtcbiAgICBUaXRsZTogJ3RpdGxlJyxcbiAgICBBdXRob3I6ICdhcnRpc3QnLFxuICAgICdXTS9BbGJ1bUFydGlzdCc6ICdhbGJ1bWFydGlzdCcsXG4gICAgJ1dNL0FsYnVtVGl0bGUnOiAnYWxidW0nLFxuICAgICdXTS9ZZWFyJzogJ2RhdGUnLCAvLyBjaGFuZ2VkIHRvICd5ZWFyJyB0byAnZGF0ZScgYmFzZWQgb24gUGljYXJkIG1hcHBpbmdzOyBUb0RvOiBjaGVjayBtZVxuICAgICdXTS9PcmlnaW5hbFJlbGVhc2VUaW1lJzogJ29yaWdpbmFsZGF0ZScsXG4gICAgJ1dNL09yaWdpbmFsUmVsZWFzZVllYXInOiAnb3JpZ2luYWx5ZWFyJyxcbiAgICBEZXNjcmlwdGlvbjogJ2NvbW1lbnQnLFxuICAgICdXTS9UcmFja051bWJlcic6ICd0cmFjaycsXG4gICAgJ1dNL1BhcnRPZlNldCc6ICdkaXNrJyxcbiAgICAnV00vR2VucmUnOiAnZ2VucmUnLFxuICAgICdXTS9Db21wb3Nlcic6ICdjb21wb3NlcicsXG4gICAgJ1dNL0x5cmljcyc6ICdseXJpY3MnLFxuICAgICdXTS9BbGJ1bVNvcnRPcmRlcic6ICdhbGJ1bXNvcnQnLFxuICAgICdXTS9UaXRsZVNvcnRPcmRlcic6ICd0aXRsZXNvcnQnLFxuICAgICdXTS9BcnRpc3RTb3J0T3JkZXInOiAnYXJ0aXN0c29ydCcsXG4gICAgJ1dNL0FsYnVtQXJ0aXN0U29ydE9yZGVyJzogJ2FsYnVtYXJ0aXN0c29ydCcsXG4gICAgJ1dNL0NvbXBvc2VyU29ydE9yZGVyJzogJ2NvbXBvc2Vyc29ydCcsXG4gICAgJ1dNL1dyaXRlcic6ICdseXJpY2lzdCcsXG4gICAgJ1dNL0NvbmR1Y3Rvcic6ICdjb25kdWN0b3InLFxuICAgICdXTS9Nb2RpZmllZEJ5JzogJ3JlbWl4ZXInLFxuICAgICdXTS9FbmdpbmVlcic6ICdlbmdpbmVlcicsXG4gICAgJ1dNL1Byb2R1Y2VyJzogJ3Byb2R1Y2VyJyxcbiAgICAnV00vREpNaXhlcic6ICdkam1peGVyJyxcbiAgICAnV00vTWl4ZXInOiAnbWl4ZXInLFxuICAgICdXTS9QdWJsaXNoZXInOiAnbGFiZWwnLFxuICAgICdXTS9Db250ZW50R3JvdXBEZXNjcmlwdGlvbic6ICdncm91cGluZycsXG4gICAgJ1dNL1N1YlRpdGxlJzogJ3N1YnRpdGxlJyxcbiAgICAnV00vU2V0U3ViVGl0bGUnOiAnZGlzY3N1YnRpdGxlJyxcbiAgICAvLyAnV00vUGFydE9mU2V0JzogJ3RvdGFsZGlzY3MnLFxuICAgICdXTS9Jc0NvbXBpbGF0aW9uJzogJ2NvbXBpbGF0aW9uJyxcbiAgICAnV00vU2hhcmVkVXNlclJhdGluZyc6ICdyYXRpbmcnLFxuICAgICdXTS9CZWF0c1Blck1pbnV0ZSc6ICdicG0nLFxuICAgICdXTS9Nb29kJzogJ21vb2QnLFxuICAgICdXTS9NZWRpYSc6ICdtZWRpYScsXG4gICAgJ1dNL0NhdGFsb2dObyc6ICdjYXRhbG9nbnVtYmVyJyxcbiAgICAnTXVzaWNCcmFpbnovQWxidW0gU3RhdHVzJzogJ3JlbGVhc2VzdGF0dXMnLFxuICAgICdNdXNpY0JyYWluei9BbGJ1bSBUeXBlJzogJ3JlbGVhc2V0eXBlJyxcbiAgICAnTXVzaWNCcmFpbnovQWxidW0gUmVsZWFzZSBDb3VudHJ5JzogJ3JlbGVhc2Vjb3VudHJ5JyxcbiAgICAnV00vU2NyaXB0JzogJ3NjcmlwdCcsXG4gICAgJ1dNL0xhbmd1YWdlJzogJ2xhbmd1YWdlJyxcbiAgICBDb3B5cmlnaHQ6ICdjb3B5cmlnaHQnLFxuICAgIExJQ0VOU0U6ICdsaWNlbnNlJyxcbiAgICAnV00vRW5jb2RlZEJ5JzogJ2VuY29kZWRieScsXG4gICAgJ1dNL0VuY29kaW5nU2V0dGluZ3MnOiAnZW5jb2RlcnNldHRpbmdzJyxcbiAgICAnV00vQmFyY29kZSc6ICdiYXJjb2RlJyxcbiAgICAnV00vSVNSQyc6ICdpc3JjJyxcbiAgICAnTXVzaWNCcmFpbnovVHJhY2sgSWQnOiAnbXVzaWNicmFpbnpfcmVjb3JkaW5naWQnLFxuICAgICdNdXNpY0JyYWluei9SZWxlYXNlIFRyYWNrIElkJzogJ211c2ljYnJhaW56X3RyYWNraWQnLFxuICAgICdNdXNpY0JyYWluei9BbGJ1bSBJZCc6ICdtdXNpY2JyYWluel9hbGJ1bWlkJyxcbiAgICAnTXVzaWNCcmFpbnovQXJ0aXN0IElkJzogJ211c2ljYnJhaW56X2FydGlzdGlkJyxcbiAgICAnTXVzaWNCcmFpbnovQWxidW0gQXJ0aXN0IElkJzogJ211c2ljYnJhaW56X2FsYnVtYXJ0aXN0aWQnLFxuICAgICdNdXNpY0JyYWluei9SZWxlYXNlIEdyb3VwIElkJzogJ211c2ljYnJhaW56X3JlbGVhc2Vncm91cGlkJyxcbiAgICAnTXVzaWNCcmFpbnovV29yayBJZCc6ICdtdXNpY2JyYWluel93b3JraWQnLFxuICAgICdNdXNpY0JyYWluei9UUk0gSWQnOiAnbXVzaWNicmFpbnpfdHJtaWQnLFxuICAgICdNdXNpY0JyYWluei9EaXNjIElkJzogJ211c2ljYnJhaW56X2Rpc2NpZCcsXG4gICAgJ0Fjb3VzdGlkL0lkJzogJ2Fjb3VzdGlkX2lkJyxcbiAgICAnQWNvdXN0aWQvRmluZ2VycHJpbnQnOiAnYWNvdXN0aWRfZmluZ2VycHJpbnQnLFxuICAgICdNdXNpY0lQL1BVSUQnOiAnbXVzaWNpcF9wdWlkJyxcbiAgICAnV00vQVJUSVNUUyc6ICdhcnRpc3RzJyxcbiAgICAnV00vSW5pdGlhbEtleSc6ICdrZXknLFxuICAgIEFTSU46ICdhc2luJyxcbiAgICAnV00vV29yayc6ICd3b3JrJyxcbiAgICAnV00vQXV0aG9yVVJMJzogJ3dlYnNpdGUnLFxuICAgICdXTS9QaWN0dXJlJzogJ3BpY3R1cmUnXG59O1xuZXhwb3J0IGNsYXNzIEFzZlRhZ01hcHBlciBleHRlbmRzIENvbW1vblRhZ01hcHBlciB7XG4gICAgc3RhdGljIHRvUmF0aW5nKHJhdGluZykge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgcmF0aW5nOiBOdW1iZXIucGFyc2VGbG9hdChyYXRpbmcgKyAxKSAvIDVcbiAgICAgICAgfTtcbiAgICB9XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKFsnYXNmJ10sIGFzZlRhZ01hcCk7XG4gICAgfVxuICAgIHBvc3RNYXAodGFnKSB7XG4gICAgICAgIHN3aXRjaCAodGFnLmlkKSB7XG4gICAgICAgICAgICBjYXNlICdXTS9TaGFyZWRVc2VyUmF0aW5nJzoge1xuICAgICAgICAgICAgICAgIGNvbnN0IGtleXMgPSB0YWcuaWQuc3BsaXQoJzonKTtcbiAgICAgICAgICAgICAgICB0YWcudmFsdWUgPSBBc2ZUYWdNYXBwZXIudG9SYXRpbmcodGFnLnZhbHVlKTtcbiAgICAgICAgICAgICAgICB0YWcuaWQgPSBrZXlzWzBdO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9QXNmVGFnTWFwcGVyLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/music-metadata/lib/asf/AsfTagMapper.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/music-metadata/lib/asf/AsfUtil.js":
/*!********************************************************!*\
  !*** ./node_modules/music-metadata/lib/asf/AsfUtil.js ***!
  \********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getParserForAttr: () => (/* binding */ getParserForAttr),\n/* harmony export */   parseUnicodeAttr: () => (/* binding */ parseUnicodeAttr)\n/* harmony export */ });\n/* harmony import */ var token_types__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! token-types */ \"(ssr)/./node_modules/token-types/lib/index.js\");\n/* harmony import */ var _common_Util_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../common/Util.js */ \"(ssr)/./node_modules/music-metadata/lib/common/Util.js\");\n\n\nfunction getParserForAttr(i) {\n    return attributeParsers[i];\n}\nfunction parseUnicodeAttr(uint8Array) {\n    return _common_Util_js__WEBPACK_IMPORTED_MODULE_1__.stripNulls(_common_Util_js__WEBPACK_IMPORTED_MODULE_1__.decodeString(uint8Array, 'utf-16le'));\n}\nconst attributeParsers = [\n    parseUnicodeAttr,\n    parseByteArrayAttr,\n    parseBoolAttr,\n    parseDWordAttr,\n    parseQWordAttr,\n    parseWordAttr,\n    parseByteArrayAttr\n];\nfunction parseByteArrayAttr(buf) {\n    return new Uint8Array(buf);\n}\nfunction parseBoolAttr(buf, offset = 0) {\n    return parseWordAttr(buf, offset) === 1;\n}\nfunction parseDWordAttr(buf, offset = 0) {\n    return token_types__WEBPACK_IMPORTED_MODULE_0__.UINT32_LE.get(buf, offset);\n}\nfunction parseQWordAttr(buf, offset = 0) {\n    return token_types__WEBPACK_IMPORTED_MODULE_0__.UINT64_LE.get(buf, offset);\n}\nfunction parseWordAttr(buf, offset = 0) {\n    return token_types__WEBPACK_IMPORTED_MODULE_0__.UINT16_LE.get(buf, offset);\n}\n//# sourceMappingURL=AsfUtil.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbXVzaWMtbWV0YWRhdGEvbGliL2FzZi9Bc2ZVdGlsLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBcUM7QUFDSztBQUNuQztBQUNQO0FBQ0E7QUFDTztBQUNQLFdBQVcsdURBQWUsQ0FBQyx5REFBaUI7QUFDNUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsa0RBQWU7QUFDMUI7QUFDQTtBQUNBLFdBQVcsa0RBQWU7QUFDMUI7QUFDQTtBQUNBLFdBQVcsa0RBQWU7QUFDMUI7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2RldmVsZXZhdGUvLi9ub2RlX21vZHVsZXMvbXVzaWMtbWV0YWRhdGEvbGliL2FzZi9Bc2ZVdGlsLmpzPzZhMGYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICogYXMgVG9rZW4gZnJvbSAndG9rZW4tdHlwZXMnO1xuaW1wb3J0ICogYXMgdXRpbCBmcm9tICcuLi9jb21tb24vVXRpbC5qcyc7XG5leHBvcnQgZnVuY3Rpb24gZ2V0UGFyc2VyRm9yQXR0cihpKSB7XG4gICAgcmV0dXJuIGF0dHJpYnV0ZVBhcnNlcnNbaV07XG59XG5leHBvcnQgZnVuY3Rpb24gcGFyc2VVbmljb2RlQXR0cih1aW50OEFycmF5KSB7XG4gICAgcmV0dXJuIHV0aWwuc3RyaXBOdWxscyh1dGlsLmRlY29kZVN0cmluZyh1aW50OEFycmF5LCAndXRmLTE2bGUnKSk7XG59XG5jb25zdCBhdHRyaWJ1dGVQYXJzZXJzID0gW1xuICAgIHBhcnNlVW5pY29kZUF0dHIsXG4gICAgcGFyc2VCeXRlQXJyYXlBdHRyLFxuICAgIHBhcnNlQm9vbEF0dHIsXG4gICAgcGFyc2VEV29yZEF0dHIsXG4gICAgcGFyc2VRV29yZEF0dHIsXG4gICAgcGFyc2VXb3JkQXR0cixcbiAgICBwYXJzZUJ5dGVBcnJheUF0dHJcbl07XG5mdW5jdGlvbiBwYXJzZUJ5dGVBcnJheUF0dHIoYnVmKSB7XG4gICAgcmV0dXJuIG5ldyBVaW50OEFycmF5KGJ1Zik7XG59XG5mdW5jdGlvbiBwYXJzZUJvb2xBdHRyKGJ1Ziwgb2Zmc2V0ID0gMCkge1xuICAgIHJldHVybiBwYXJzZVdvcmRBdHRyKGJ1Ziwgb2Zmc2V0KSA9PT0gMTtcbn1cbmZ1bmN0aW9uIHBhcnNlRFdvcmRBdHRyKGJ1Ziwgb2Zmc2V0ID0gMCkge1xuICAgIHJldHVybiBUb2tlbi5VSU5UMzJfTEUuZ2V0KGJ1Ziwgb2Zmc2V0KTtcbn1cbmZ1bmN0aW9uIHBhcnNlUVdvcmRBdHRyKGJ1Ziwgb2Zmc2V0ID0gMCkge1xuICAgIHJldHVybiBUb2tlbi5VSU5UNjRfTEUuZ2V0KGJ1Ziwgb2Zmc2V0KTtcbn1cbmZ1bmN0aW9uIHBhcnNlV29yZEF0dHIoYnVmLCBvZmZzZXQgPSAwKSB7XG4gICAgcmV0dXJuIFRva2VuLlVJTlQxNl9MRS5nZXQoYnVmLCBvZmZzZXQpO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9QXNmVXRpbC5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/music-metadata/lib/asf/AsfUtil.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/music-metadata/lib/asf/GUID.js":
/*!*****************************************************!*\
  !*** ./node_modules/music-metadata/lib/asf/GUID.js ***!
  \*****************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var uint8array_extras__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! uint8array-extras */ \"(ssr)/./node_modules/uint8array-extras/index.js\");\n\n/**\n * Ref:\n * - https://tools.ietf.org/html/draft-fleischman-asf-01, Appendix A: ASF GUIDs\n * - http://drang.s4.xrea.com/program/tips/id3tag/wmp/10_asf_guids.html\n * - http://drang.s4.xrea.com/program/tips/id3tag/wmp/index.html\n * - http://drang.s4.xrea.com/program/tips/id3tag/wmp/10_asf_guids.html\n *\n * ASF File Structure:\n * - https://msdn.microsoft.com/en-us/library/windows/desktop/ee663575(v=vs.85).aspx\n *\n * ASF GUIDs:\n * - http://drang.s4.xrea.com/program/tips/id3tag/wmp/10_asf_guids.html\n * - https://github.com/dji-sdk/FFmpeg/blob/master/libavformat/asf.c\n */\nclass GUID {\n    static fromBin(bin, offset = 0) {\n        return new GUID(GUID.decode(bin, offset));\n    }\n    /**\n     * Decode GUID in format like \"B503BF5F-2EA9-CF11-8EE3-00C00C205365\"\n     * @param objectId Binary GUID\n     * @param offset Read offset in bytes, default 0\n     * @returns GUID as dashed hexadecimal representation\n     */\n    static decode(objectId, offset = 0) {\n        const view = new DataView(objectId.buffer, offset);\n        const guid = `${view.getUint32(0, true).toString(16)}-${view.getUint16(4, true).toString(16)}-${view.getUint16(6, true).toString(16)}-${view.getUint16(8).toString(16)}-${(0,uint8array_extras__WEBPACK_IMPORTED_MODULE_0__.uint8ArrayToHex)(objectId.slice(offset + 10, offset + 16))}`;\n        return guid.toUpperCase();\n    }\n    /**\n     * Decode stream type\n     * @param mediaType Media type GUID\n     * @returns Media type\n     */\n    static decodeMediaType(mediaType) {\n        switch (mediaType.str) {\n            case GUID.AudioMedia.str: return 'audio';\n            case GUID.VideoMedia.str: return 'video';\n            case GUID.CommandMedia.str: return 'command';\n            case GUID.Degradable_JPEG_Media.str: return 'degradable-jpeg';\n            case GUID.FileTransferMedia.str: return 'file-transfer';\n            case GUID.BinaryMedia.str: return 'binary';\n        }\n    }\n    /**\n     * Encode GUID\n     * @param guid GUID like: \"B503BF5F-2EA9-CF11-8EE3-00C00C205365\"\n     * @returns Encoded Binary GUID\n     */\n    static encode(str) {\n        const bin = new Uint8Array(16);\n        const view = new DataView(bin.buffer);\n        view.setUint32(0, Number.parseInt(str.slice(0, 8), 16), true);\n        view.setUint16(4, Number.parseInt(str.slice(9, 13), 16), true);\n        view.setUint16(6, Number.parseInt(str.slice(14, 18), 16), true);\n        bin.set((0,uint8array_extras__WEBPACK_IMPORTED_MODULE_0__.hexToUint8Array)(str.slice(19, 23)), 8);\n        bin.set((0,uint8array_extras__WEBPACK_IMPORTED_MODULE_0__.hexToUint8Array)(str.slice(24)), 10);\n        return bin;\n    }\n    constructor(str) {\n        this.str = str;\n    }\n    equals(guid) {\n        return this.str === guid.str;\n    }\n    toBin() {\n        return GUID.encode(this.str);\n    }\n}\n// 10.1 Top-level ASF object GUIDs\nGUID.HeaderObject = new GUID(\"75B22630-668E-11CF-A6D9-00AA0062CE6C\");\nGUID.DataObject = new GUID(\"75B22636-668E-11CF-A6D9-00AA0062CE6C\");\nGUID.SimpleIndexObject = new GUID(\"33000890-E5B1-11CF-89F4-00A0C90349CB\");\nGUID.IndexObject = new GUID(\"D6E229D3-35DA-11D1-9034-00A0C90349BE\");\nGUID.MediaObjectIndexObject = new GUID(\"FEB103F8-12AD-4C64-840F-2A1D2F7AD48C\");\nGUID.TimecodeIndexObject = new GUID(\"3CB73FD0-0C4A-4803-953D-EDF7B6228F0C\");\n// 10.2 Header Object GUIDs\nGUID.FilePropertiesObject = new GUID(\"8CABDCA1-A947-11CF-8EE4-00C00C205365\");\nGUID.StreamPropertiesObject = new GUID(\"B7DC0791-A9B7-11CF-8EE6-00C00C205365\");\nGUID.HeaderExtensionObject = new GUID(\"5FBF03B5-A92E-11CF-8EE3-00C00C205365\");\nGUID.CodecListObject = new GUID(\"86D15240-311D-11D0-A3A4-00A0C90348F6\");\nGUID.ScriptCommandObject = new GUID(\"1EFB1A30-0B62-11D0-A39B-00A0C90348F6\");\nGUID.MarkerObject = new GUID(\"F487CD01-A951-11CF-8EE6-00C00C205365\");\nGUID.BitrateMutualExclusionObject = new GUID(\"D6E229DC-35DA-11D1-9034-00A0C90349BE\");\nGUID.ErrorCorrectionObject = new GUID(\"75B22635-668E-11CF-A6D9-00AA0062CE6C\");\nGUID.ContentDescriptionObject = new GUID(\"75B22633-668E-11CF-A6D9-00AA0062CE6C\");\nGUID.ExtendedContentDescriptionObject = new GUID(\"D2D0A440-E307-11D2-97F0-00A0C95EA850\");\nGUID.ContentBrandingObject = new GUID(\"2211B3FA-BD23-11D2-B4B7-00A0C955FC6E\");\nGUID.StreamBitratePropertiesObject = new GUID(\"7BF875CE-468D-11D1-8D82-006097C9A2B2\");\nGUID.ContentEncryptionObject = new GUID(\"2211B3FB-BD23-11D2-B4B7-00A0C955FC6E\");\nGUID.ExtendedContentEncryptionObject = new GUID(\"298AE614-2622-4C17-B935-DAE07EE9289C\");\nGUID.DigitalSignatureObject = new GUID(\"2211B3FC-BD23-11D2-B4B7-00A0C955FC6E\");\nGUID.PaddingObject = new GUID(\"1806D474-CADF-4509-A4BA-9AABCB96AAE8\");\n// 10.3 Header Extension Object GUIDs\nGUID.ExtendedStreamPropertiesObject = new GUID(\"14E6A5CB-C672-4332-8399-A96952065B5A\");\nGUID.AdvancedMutualExclusionObject = new GUID(\"A08649CF-4775-4670-8A16-6E35357566CD\");\nGUID.GroupMutualExclusionObject = new GUID(\"D1465A40-5A79-4338-B71B-E36B8FD6C249\");\nGUID.StreamPrioritizationObject = new GUID(\"D4FED15B-88D3-454F-81F0-ED5C45999E24\");\nGUID.BandwidthSharingObject = new GUID(\"A69609E6-517B-11D2-B6AF-00C04FD908E9\");\nGUID.LanguageListObject = new GUID(\"7C4346A9-EFE0-4BFC-B229-393EDE415C85\");\nGUID.MetadataObject = new GUID(\"C5F8CBEA-5BAF-4877-8467-AA8C44FA4CCA\");\nGUID.MetadataLibraryObject = new GUID(\"44231C94-9498-49D1-A141-1D134E457054\");\nGUID.IndexParametersObject = new GUID(\"D6E229DF-35DA-11D1-9034-00A0C90349BE\");\nGUID.MediaObjectIndexParametersObject = new GUID(\"6B203BAD-3F11-48E4-ACA8-D7613DE2CFA7\");\nGUID.TimecodeIndexParametersObject = new GUID(\"F55E496D-9797-4B5D-8C8B-604DFE9BFB24\");\nGUID.CompatibilityObject = new GUID(\"26F18B5D-4584-47EC-9F5F-0E651F0452C9\");\nGUID.AdvancedContentEncryptionObject = new GUID(\"43058533-6981-49E6-9B74-AD12CB86D58C\");\n// 10.4 Stream Properties Object Stream Type GUIDs\nGUID.AudioMedia = new GUID(\"F8699E40-5B4D-11CF-A8FD-00805F5C442B\");\nGUID.VideoMedia = new GUID(\"BC19EFC0-5B4D-11CF-A8FD-00805F5C442B\");\nGUID.CommandMedia = new GUID(\"59DACFC0-59E6-11D0-A3AC-00A0C90348F6\");\nGUID.JFIF_Media = new GUID(\"B61BE100-5B4E-11CF-A8FD-00805F5C442B\");\nGUID.Degradable_JPEG_Media = new GUID(\"35907DE0-E415-11CF-A917-00805F5C442B\");\nGUID.FileTransferMedia = new GUID(\"91BD222C-F21C-497A-8B6D-5AA86BFC0185\");\nGUID.BinaryMedia = new GUID(\"3AFB65E2-47EF-40F2-AC2C-70A90D71D343\");\nGUID.ASF_Index_Placeholder_Object = new GUID(\"D9AADE20-7C17-4F9C-BC28-8555DD98E2A2\");\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (GUID);\n//# sourceMappingURL=GUID.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbXVzaWMtbWV0YWRhdGEvbGliL2FzZi9HVUlELmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQXFFO0FBQ3JFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IscUNBQXFDLEdBQUcscUNBQXFDLEdBQUcscUNBQXFDLEdBQUcsK0JBQStCLEdBQUcsa0VBQWUsMkNBQTJDO0FBQzVPO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLGtFQUFlO0FBQy9CLGdCQUFnQixrRUFBZTtBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUVBQWUsSUFBSSxFQUFDO0FBQ3BCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZGV2ZWxldmF0ZS8uL25vZGVfbW9kdWxlcy9tdXNpYy1tZXRhZGF0YS9saWIvYXNmL0dVSUQuanM/MGY3ZiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBoZXhUb1VpbnQ4QXJyYXksIHVpbnQ4QXJyYXlUb0hleCB9IGZyb20gJ3VpbnQ4YXJyYXktZXh0cmFzJztcbi8qKlxuICogUmVmOlxuICogLSBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvZHJhZnQtZmxlaXNjaG1hbi1hc2YtMDEsIEFwcGVuZGl4IEE6IEFTRiBHVUlEc1xuICogLSBodHRwOi8vZHJhbmcuczQueHJlYS5jb20vcHJvZ3JhbS90aXBzL2lkM3RhZy93bXAvMTBfYXNmX2d1aWRzLmh0bWxcbiAqIC0gaHR0cDovL2RyYW5nLnM0LnhyZWEuY29tL3Byb2dyYW0vdGlwcy9pZDN0YWcvd21wL2luZGV4Lmh0bWxcbiAqIC0gaHR0cDovL2RyYW5nLnM0LnhyZWEuY29tL3Byb2dyYW0vdGlwcy9pZDN0YWcvd21wLzEwX2FzZl9ndWlkcy5odG1sXG4gKlxuICogQVNGIEZpbGUgU3RydWN0dXJlOlxuICogLSBodHRwczovL21zZG4ubWljcm9zb2Z0LmNvbS9lbi11cy9saWJyYXJ5L3dpbmRvd3MvZGVza3RvcC9lZTY2MzU3NSh2PXZzLjg1KS5hc3B4XG4gKlxuICogQVNGIEdVSURzOlxuICogLSBodHRwOi8vZHJhbmcuczQueHJlYS5jb20vcHJvZ3JhbS90aXBzL2lkM3RhZy93bXAvMTBfYXNmX2d1aWRzLmh0bWxcbiAqIC0gaHR0cHM6Ly9naXRodWIuY29tL2RqaS1zZGsvRkZtcGVnL2Jsb2IvbWFzdGVyL2xpYmF2Zm9ybWF0L2FzZi5jXG4gKi9cbmNsYXNzIEdVSUQge1xuICAgIHN0YXRpYyBmcm9tQmluKGJpbiwgb2Zmc2V0ID0gMCkge1xuICAgICAgICByZXR1cm4gbmV3IEdVSUQoR1VJRC5kZWNvZGUoYmluLCBvZmZzZXQpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRGVjb2RlIEdVSUQgaW4gZm9ybWF0IGxpa2UgXCJCNTAzQkY1Ri0yRUE5LUNGMTEtOEVFMy0wMEMwMEMyMDUzNjVcIlxuICAgICAqIEBwYXJhbSBvYmplY3RJZCBCaW5hcnkgR1VJRFxuICAgICAqIEBwYXJhbSBvZmZzZXQgUmVhZCBvZmZzZXQgaW4gYnl0ZXMsIGRlZmF1bHQgMFxuICAgICAqIEByZXR1cm5zIEdVSUQgYXMgZGFzaGVkIGhleGFkZWNpbWFsIHJlcHJlc2VudGF0aW9uXG4gICAgICovXG4gICAgc3RhdGljIGRlY29kZShvYmplY3RJZCwgb2Zmc2V0ID0gMCkge1xuICAgICAgICBjb25zdCB2aWV3ID0gbmV3IERhdGFWaWV3KG9iamVjdElkLmJ1ZmZlciwgb2Zmc2V0KTtcbiAgICAgICAgY29uc3QgZ3VpZCA9IGAke3ZpZXcuZ2V0VWludDMyKDAsIHRydWUpLnRvU3RyaW5nKDE2KX0tJHt2aWV3LmdldFVpbnQxNig0LCB0cnVlKS50b1N0cmluZygxNil9LSR7dmlldy5nZXRVaW50MTYoNiwgdHJ1ZSkudG9TdHJpbmcoMTYpfS0ke3ZpZXcuZ2V0VWludDE2KDgpLnRvU3RyaW5nKDE2KX0tJHt1aW50OEFycmF5VG9IZXgob2JqZWN0SWQuc2xpY2Uob2Zmc2V0ICsgMTAsIG9mZnNldCArIDE2KSl9YDtcbiAgICAgICAgcmV0dXJuIGd1aWQudG9VcHBlckNhc2UoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRGVjb2RlIHN0cmVhbSB0eXBlXG4gICAgICogQHBhcmFtIG1lZGlhVHlwZSBNZWRpYSB0eXBlIEdVSURcbiAgICAgKiBAcmV0dXJucyBNZWRpYSB0eXBlXG4gICAgICovXG4gICAgc3RhdGljIGRlY29kZU1lZGlhVHlwZShtZWRpYVR5cGUpIHtcbiAgICAgICAgc3dpdGNoIChtZWRpYVR5cGUuc3RyKSB7XG4gICAgICAgICAgICBjYXNlIEdVSUQuQXVkaW9NZWRpYS5zdHI6IHJldHVybiAnYXVkaW8nO1xuICAgICAgICAgICAgY2FzZSBHVUlELlZpZGVvTWVkaWEuc3RyOiByZXR1cm4gJ3ZpZGVvJztcbiAgICAgICAgICAgIGNhc2UgR1VJRC5Db21tYW5kTWVkaWEuc3RyOiByZXR1cm4gJ2NvbW1hbmQnO1xuICAgICAgICAgICAgY2FzZSBHVUlELkRlZ3JhZGFibGVfSlBFR19NZWRpYS5zdHI6IHJldHVybiAnZGVncmFkYWJsZS1qcGVnJztcbiAgICAgICAgICAgIGNhc2UgR1VJRC5GaWxlVHJhbnNmZXJNZWRpYS5zdHI6IHJldHVybiAnZmlsZS10cmFuc2Zlcic7XG4gICAgICAgICAgICBjYXNlIEdVSUQuQmluYXJ5TWVkaWEuc3RyOiByZXR1cm4gJ2JpbmFyeSc7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogRW5jb2RlIEdVSURcbiAgICAgKiBAcGFyYW0gZ3VpZCBHVUlEIGxpa2U6IFwiQjUwM0JGNUYtMkVBOS1DRjExLThFRTMtMDBDMDBDMjA1MzY1XCJcbiAgICAgKiBAcmV0dXJucyBFbmNvZGVkIEJpbmFyeSBHVUlEXG4gICAgICovXG4gICAgc3RhdGljIGVuY29kZShzdHIpIHtcbiAgICAgICAgY29uc3QgYmluID0gbmV3IFVpbnQ4QXJyYXkoMTYpO1xuICAgICAgICBjb25zdCB2aWV3ID0gbmV3IERhdGFWaWV3KGJpbi5idWZmZXIpO1xuICAgICAgICB2aWV3LnNldFVpbnQzMigwLCBOdW1iZXIucGFyc2VJbnQoc3RyLnNsaWNlKDAsIDgpLCAxNiksIHRydWUpO1xuICAgICAgICB2aWV3LnNldFVpbnQxNig0LCBOdW1iZXIucGFyc2VJbnQoc3RyLnNsaWNlKDksIDEzKSwgMTYpLCB0cnVlKTtcbiAgICAgICAgdmlldy5zZXRVaW50MTYoNiwgTnVtYmVyLnBhcnNlSW50KHN0ci5zbGljZSgxNCwgMTgpLCAxNiksIHRydWUpO1xuICAgICAgICBiaW4uc2V0KGhleFRvVWludDhBcnJheShzdHIuc2xpY2UoMTksIDIzKSksIDgpO1xuICAgICAgICBiaW4uc2V0KGhleFRvVWludDhBcnJheShzdHIuc2xpY2UoMjQpKSwgMTApO1xuICAgICAgICByZXR1cm4gYmluO1xuICAgIH1cbiAgICBjb25zdHJ1Y3RvcihzdHIpIHtcbiAgICAgICAgdGhpcy5zdHIgPSBzdHI7XG4gICAgfVxuICAgIGVxdWFscyhndWlkKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnN0ciA9PT0gZ3VpZC5zdHI7XG4gICAgfVxuICAgIHRvQmluKCkge1xuICAgICAgICByZXR1cm4gR1VJRC5lbmNvZGUodGhpcy5zdHIpO1xuICAgIH1cbn1cbi8vIDEwLjEgVG9wLWxldmVsIEFTRiBvYmplY3QgR1VJRHNcbkdVSUQuSGVhZGVyT2JqZWN0ID0gbmV3IEdVSUQoXCI3NUIyMjYzMC02NjhFLTExQ0YtQTZEOS0wMEFBMDA2MkNFNkNcIik7XG5HVUlELkRhdGFPYmplY3QgPSBuZXcgR1VJRChcIjc1QjIyNjM2LTY2OEUtMTFDRi1BNkQ5LTAwQUEwMDYyQ0U2Q1wiKTtcbkdVSUQuU2ltcGxlSW5kZXhPYmplY3QgPSBuZXcgR1VJRChcIjMzMDAwODkwLUU1QjEtMTFDRi04OUY0LTAwQTBDOTAzNDlDQlwiKTtcbkdVSUQuSW5kZXhPYmplY3QgPSBuZXcgR1VJRChcIkQ2RTIyOUQzLTM1REEtMTFEMS05MDM0LTAwQTBDOTAzNDlCRVwiKTtcbkdVSUQuTWVkaWFPYmplY3RJbmRleE9iamVjdCA9IG5ldyBHVUlEKFwiRkVCMTAzRjgtMTJBRC00QzY0LTg0MEYtMkExRDJGN0FENDhDXCIpO1xuR1VJRC5UaW1lY29kZUluZGV4T2JqZWN0ID0gbmV3IEdVSUQoXCIzQ0I3M0ZEMC0wQzRBLTQ4MDMtOTUzRC1FREY3QjYyMjhGMENcIik7XG4vLyAxMC4yIEhlYWRlciBPYmplY3QgR1VJRHNcbkdVSUQuRmlsZVByb3BlcnRpZXNPYmplY3QgPSBuZXcgR1VJRChcIjhDQUJEQ0ExLUE5NDctMTFDRi04RUU0LTAwQzAwQzIwNTM2NVwiKTtcbkdVSUQuU3RyZWFtUHJvcGVydGllc09iamVjdCA9IG5ldyBHVUlEKFwiQjdEQzA3OTEtQTlCNy0xMUNGLThFRTYtMDBDMDBDMjA1MzY1XCIpO1xuR1VJRC5IZWFkZXJFeHRlbnNpb25PYmplY3QgPSBuZXcgR1VJRChcIjVGQkYwM0I1LUE5MkUtMTFDRi04RUUzLTAwQzAwQzIwNTM2NVwiKTtcbkdVSUQuQ29kZWNMaXN0T2JqZWN0ID0gbmV3IEdVSUQoXCI4NkQxNTI0MC0zMTFELTExRDAtQTNBNC0wMEEwQzkwMzQ4RjZcIik7XG5HVUlELlNjcmlwdENvbW1hbmRPYmplY3QgPSBuZXcgR1VJRChcIjFFRkIxQTMwLTBCNjItMTFEMC1BMzlCLTAwQTBDOTAzNDhGNlwiKTtcbkdVSUQuTWFya2VyT2JqZWN0ID0gbmV3IEdVSUQoXCJGNDg3Q0QwMS1BOTUxLTExQ0YtOEVFNi0wMEMwMEMyMDUzNjVcIik7XG5HVUlELkJpdHJhdGVNdXR1YWxFeGNsdXNpb25PYmplY3QgPSBuZXcgR1VJRChcIkQ2RTIyOURDLTM1REEtMTFEMS05MDM0LTAwQTBDOTAzNDlCRVwiKTtcbkdVSUQuRXJyb3JDb3JyZWN0aW9uT2JqZWN0ID0gbmV3IEdVSUQoXCI3NUIyMjYzNS02NjhFLTExQ0YtQTZEOS0wMEFBMDA2MkNFNkNcIik7XG5HVUlELkNvbnRlbnREZXNjcmlwdGlvbk9iamVjdCA9IG5ldyBHVUlEKFwiNzVCMjI2MzMtNjY4RS0xMUNGLUE2RDktMDBBQTAwNjJDRTZDXCIpO1xuR1VJRC5FeHRlbmRlZENvbnRlbnREZXNjcmlwdGlvbk9iamVjdCA9IG5ldyBHVUlEKFwiRDJEMEE0NDAtRTMwNy0xMUQyLTk3RjAtMDBBMEM5NUVBODUwXCIpO1xuR1VJRC5Db250ZW50QnJhbmRpbmdPYmplY3QgPSBuZXcgR1VJRChcIjIyMTFCM0ZBLUJEMjMtMTFEMi1CNEI3LTAwQTBDOTU1RkM2RVwiKTtcbkdVSUQuU3RyZWFtQml0cmF0ZVByb3BlcnRpZXNPYmplY3QgPSBuZXcgR1VJRChcIjdCRjg3NUNFLTQ2OEQtMTFEMS04RDgyLTAwNjA5N0M5QTJCMlwiKTtcbkdVSUQuQ29udGVudEVuY3J5cHRpb25PYmplY3QgPSBuZXcgR1VJRChcIjIyMTFCM0ZCLUJEMjMtMTFEMi1CNEI3LTAwQTBDOTU1RkM2RVwiKTtcbkdVSUQuRXh0ZW5kZWRDb250ZW50RW5jcnlwdGlvbk9iamVjdCA9IG5ldyBHVUlEKFwiMjk4QUU2MTQtMjYyMi00QzE3LUI5MzUtREFFMDdFRTkyODlDXCIpO1xuR1VJRC5EaWdpdGFsU2lnbmF0dXJlT2JqZWN0ID0gbmV3IEdVSUQoXCIyMjExQjNGQy1CRDIzLTExRDItQjRCNy0wMEEwQzk1NUZDNkVcIik7XG5HVUlELlBhZGRpbmdPYmplY3QgPSBuZXcgR1VJRChcIjE4MDZENDc0LUNBREYtNDUwOS1BNEJBLTlBQUJDQjk2QUFFOFwiKTtcbi8vIDEwLjMgSGVhZGVyIEV4dGVuc2lvbiBPYmplY3QgR1VJRHNcbkdVSUQuRXh0ZW5kZWRTdHJlYW1Qcm9wZXJ0aWVzT2JqZWN0ID0gbmV3IEdVSUQoXCIxNEU2QTVDQi1DNjcyLTQzMzItODM5OS1BOTY5NTIwNjVCNUFcIik7XG5HVUlELkFkdmFuY2VkTXV0dWFsRXhjbHVzaW9uT2JqZWN0ID0gbmV3IEdVSUQoXCJBMDg2NDlDRi00Nzc1LTQ2NzAtOEExNi02RTM1MzU3NTY2Q0RcIik7XG5HVUlELkdyb3VwTXV0dWFsRXhjbHVzaW9uT2JqZWN0ID0gbmV3IEdVSUQoXCJEMTQ2NUE0MC01QTc5LTQzMzgtQjcxQi1FMzZCOEZENkMyNDlcIik7XG5HVUlELlN0cmVhbVByaW9yaXRpemF0aW9uT2JqZWN0ID0gbmV3IEdVSUQoXCJENEZFRDE1Qi04OEQzLTQ1NEYtODFGMC1FRDVDNDU5OTlFMjRcIik7XG5HVUlELkJhbmR3aWR0aFNoYXJpbmdPYmplY3QgPSBuZXcgR1VJRChcIkE2OTYwOUU2LTUxN0ItMTFEMi1CNkFGLTAwQzA0RkQ5MDhFOVwiKTtcbkdVSUQuTGFuZ3VhZ2VMaXN0T2JqZWN0ID0gbmV3IEdVSUQoXCI3QzQzNDZBOS1FRkUwLTRCRkMtQjIyOS0zOTNFREU0MTVDODVcIik7XG5HVUlELk1ldGFkYXRhT2JqZWN0ID0gbmV3IEdVSUQoXCJDNUY4Q0JFQS01QkFGLTQ4NzctODQ2Ny1BQThDNDRGQTRDQ0FcIik7XG5HVUlELk1ldGFkYXRhTGlicmFyeU9iamVjdCA9IG5ldyBHVUlEKFwiNDQyMzFDOTQtOTQ5OC00OUQxLUExNDEtMUQxMzRFNDU3MDU0XCIpO1xuR1VJRC5JbmRleFBhcmFtZXRlcnNPYmplY3QgPSBuZXcgR1VJRChcIkQ2RTIyOURGLTM1REEtMTFEMS05MDM0LTAwQTBDOTAzNDlCRVwiKTtcbkdVSUQuTWVkaWFPYmplY3RJbmRleFBhcmFtZXRlcnNPYmplY3QgPSBuZXcgR1VJRChcIjZCMjAzQkFELTNGMTEtNDhFNC1BQ0E4LUQ3NjEzREUyQ0ZBN1wiKTtcbkdVSUQuVGltZWNvZGVJbmRleFBhcmFtZXRlcnNPYmplY3QgPSBuZXcgR1VJRChcIkY1NUU0OTZELTk3OTctNEI1RC04QzhCLTYwNERGRTlCRkIyNFwiKTtcbkdVSUQuQ29tcGF0aWJpbGl0eU9iamVjdCA9IG5ldyBHVUlEKFwiMjZGMThCNUQtNDU4NC00N0VDLTlGNUYtMEU2NTFGMDQ1MkM5XCIpO1xuR1VJRC5BZHZhbmNlZENvbnRlbnRFbmNyeXB0aW9uT2JqZWN0ID0gbmV3IEdVSUQoXCI0MzA1ODUzMy02OTgxLTQ5RTYtOUI3NC1BRDEyQ0I4NkQ1OENcIik7XG4vLyAxMC40IFN0cmVhbSBQcm9wZXJ0aWVzIE9iamVjdCBTdHJlYW0gVHlwZSBHVUlEc1xuR1VJRC5BdWRpb01lZGlhID0gbmV3IEdVSUQoXCJGODY5OUU0MC01QjRELTExQ0YtQThGRC0wMDgwNUY1QzQ0MkJcIik7XG5HVUlELlZpZGVvTWVkaWEgPSBuZXcgR1VJRChcIkJDMTlFRkMwLTVCNEQtMTFDRi1BOEZELTAwODA1RjVDNDQyQlwiKTtcbkdVSUQuQ29tbWFuZE1lZGlhID0gbmV3IEdVSUQoXCI1OURBQ0ZDMC01OUU2LTExRDAtQTNBQy0wMEEwQzkwMzQ4RjZcIik7XG5HVUlELkpGSUZfTWVkaWEgPSBuZXcgR1VJRChcIkI2MUJFMTAwLTVCNEUtMTFDRi1BOEZELTAwODA1RjVDNDQyQlwiKTtcbkdVSUQuRGVncmFkYWJsZV9KUEVHX01lZGlhID0gbmV3IEdVSUQoXCIzNTkwN0RFMC1FNDE1LTExQ0YtQTkxNy0wMDgwNUY1QzQ0MkJcIik7XG5HVUlELkZpbGVUcmFuc2Zlck1lZGlhID0gbmV3IEdVSUQoXCI5MUJEMjIyQy1GMjFDLTQ5N0EtOEI2RC01QUE4NkJGQzAxODVcIik7XG5HVUlELkJpbmFyeU1lZGlhID0gbmV3IEdVSUQoXCIzQUZCNjVFMi00N0VGLTQwRjItQUMyQy03MEE5MEQ3MUQzNDNcIik7XG5HVUlELkFTRl9JbmRleF9QbGFjZWhvbGRlcl9PYmplY3QgPSBuZXcgR1VJRChcIkQ5QUFERTIwLTdDMTctNEY5Qy1CQzI4LTg1NTVERDk4RTJBMlwiKTtcbmV4cG9ydCBkZWZhdWx0IEdVSUQ7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1HVUlELmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/music-metadata/lib/asf/GUID.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/music-metadata/lib/common/BasicParser.js":
/*!***************************************************************!*\
  !*** ./node_modules/music-metadata/lib/common/BasicParser.js ***!
  \***************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BasicParser: () => (/* binding */ BasicParser)\n/* harmony export */ });\nclass BasicParser {\n    constructor() {\n        this.metadata = undefined;\n        this.tokenizer = undefined;\n        this.options = undefined;\n    }\n    /**\n     * Initialize parser with output (metadata), input (tokenizer) & parsing options (options).\n     * @param {INativeMetadataCollector} metadata Output\n     * @param {ITokenizer} tokenizer Input\n     * @param {IOptions} options Parsing options\n     */\n    init(metadata, tokenizer, options) {\n        this.metadata = metadata;\n        this.tokenizer = tokenizer;\n        this.options = options;\n        return this;\n    }\n}\n//# sourceMappingURL=BasicParser.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbXVzaWMtbWV0YWRhdGEvbGliL2NvbW1vbi9CYXNpY1BhcnNlci5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsMEJBQTBCO0FBQ3pDLGVBQWUsWUFBWTtBQUMzQixlQUFlLFVBQVU7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZGV2ZWxldmF0ZS8uL25vZGVfbW9kdWxlcy9tdXNpYy1tZXRhZGF0YS9saWIvY29tbW9uL0Jhc2ljUGFyc2VyLmpzP2JiOTIiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGNsYXNzIEJhc2ljUGFyc2VyIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5tZXRhZGF0YSA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy50b2tlbml6ZXIgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMub3B0aW9ucyA9IHVuZGVmaW5lZDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogSW5pdGlhbGl6ZSBwYXJzZXIgd2l0aCBvdXRwdXQgKG1ldGFkYXRhKSwgaW5wdXQgKHRva2VuaXplcikgJiBwYXJzaW5nIG9wdGlvbnMgKG9wdGlvbnMpLlxuICAgICAqIEBwYXJhbSB7SU5hdGl2ZU1ldGFkYXRhQ29sbGVjdG9yfSBtZXRhZGF0YSBPdXRwdXRcbiAgICAgKiBAcGFyYW0ge0lUb2tlbml6ZXJ9IHRva2VuaXplciBJbnB1dFxuICAgICAqIEBwYXJhbSB7SU9wdGlvbnN9IG9wdGlvbnMgUGFyc2luZyBvcHRpb25zXG4gICAgICovXG4gICAgaW5pdChtZXRhZGF0YSwgdG9rZW5pemVyLCBvcHRpb25zKSB7XG4gICAgICAgIHRoaXMubWV0YWRhdGEgPSBtZXRhZGF0YTtcbiAgICAgICAgdGhpcy50b2tlbml6ZXIgPSB0b2tlbml6ZXI7XG4gICAgICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnM7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUJhc2ljUGFyc2VyLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/music-metadata/lib/common/BasicParser.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/music-metadata/lib/common/CaseInsensitiveTagMap.js":
/*!*************************************************************************!*\
  !*** ./node_modules/music-metadata/lib/common/CaseInsensitiveTagMap.js ***!
  \*************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   CaseInsensitiveTagMap: () => (/* binding */ CaseInsensitiveTagMap)\n/* harmony export */ });\n/* harmony import */ var _GenericTagMapper_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./GenericTagMapper.js */ \"(ssr)/./node_modules/music-metadata/lib/common/GenericTagMapper.js\");\n\nclass CaseInsensitiveTagMap extends _GenericTagMapper_js__WEBPACK_IMPORTED_MODULE_0__.CommonTagMapper {\n    constructor(tagTypes, tagMap) {\n        const upperCaseMap = {};\n        for (const tag of Object.keys(tagMap)) {\n            upperCaseMap[tag.toUpperCase()] = tagMap[tag];\n        }\n        super(tagTypes, upperCaseMap);\n    }\n    /**\n     * @tag  Native header tag\n     * @return common tag name (alias)\n     */\n    getCommonName(tag) {\n        return this.tagMap[tag.toUpperCase()];\n    }\n}\n//# sourceMappingURL=CaseInsensitiveTagMap.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbXVzaWMtbWV0YWRhdGEvbGliL2NvbW1vbi9DYXNlSW5zZW5zaXRpdmVUYWdNYXAuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBd0Q7QUFDakQsb0NBQW9DLGlFQUFlO0FBQzFEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZGV2ZWxldmF0ZS8uL25vZGVfbW9kdWxlcy9tdXNpYy1tZXRhZGF0YS9saWIvY29tbW9uL0Nhc2VJbnNlbnNpdGl2ZVRhZ01hcC5qcz9kMWQyIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IENvbW1vblRhZ01hcHBlciB9IGZyb20gJy4vR2VuZXJpY1RhZ01hcHBlci5qcyc7XG5leHBvcnQgY2xhc3MgQ2FzZUluc2Vuc2l0aXZlVGFnTWFwIGV4dGVuZHMgQ29tbW9uVGFnTWFwcGVyIHtcbiAgICBjb25zdHJ1Y3Rvcih0YWdUeXBlcywgdGFnTWFwKSB7XG4gICAgICAgIGNvbnN0IHVwcGVyQ2FzZU1hcCA9IHt9O1xuICAgICAgICBmb3IgKGNvbnN0IHRhZyBvZiBPYmplY3Qua2V5cyh0YWdNYXApKSB7XG4gICAgICAgICAgICB1cHBlckNhc2VNYXBbdGFnLnRvVXBwZXJDYXNlKCldID0gdGFnTWFwW3RhZ107XG4gICAgICAgIH1cbiAgICAgICAgc3VwZXIodGFnVHlwZXMsIHVwcGVyQ2FzZU1hcCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEB0YWcgIE5hdGl2ZSBoZWFkZXIgdGFnXG4gICAgICogQHJldHVybiBjb21tb24gdGFnIG5hbWUgKGFsaWFzKVxuICAgICAqL1xuICAgIGdldENvbW1vbk5hbWUodGFnKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnRhZ01hcFt0YWcudG9VcHBlckNhc2UoKV07XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Q2FzZUluc2Vuc2l0aXZlVGFnTWFwLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/music-metadata/lib/common/CaseInsensitiveTagMap.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/music-metadata/lib/common/CombinedTagMapper.js":
/*!*********************************************************************!*\
  !*** ./node_modules/music-metadata/lib/common/CombinedTagMapper.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   CombinedTagMapper: () => (/* binding */ CombinedTagMapper)\n/* harmony export */ });\n/* harmony import */ var _id3v1_ID3v1TagMap_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../id3v1/ID3v1TagMap.js */ \"(ssr)/./node_modules/music-metadata/lib/id3v1/ID3v1TagMap.js\");\n/* harmony import */ var _id3v2_ID3v24TagMapper_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../id3v2/ID3v24TagMapper.js */ \"(ssr)/./node_modules/music-metadata/lib/id3v2/ID3v24TagMapper.js\");\n/* harmony import */ var _asf_AsfTagMapper_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../asf/AsfTagMapper.js */ \"(ssr)/./node_modules/music-metadata/lib/asf/AsfTagMapper.js\");\n/* harmony import */ var _id3v2_ID3v22TagMapper_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../id3v2/ID3v22TagMapper.js */ \"(ssr)/./node_modules/music-metadata/lib/id3v2/ID3v22TagMapper.js\");\n/* harmony import */ var _apev2_APEv2TagMapper_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../apev2/APEv2TagMapper.js */ \"(ssr)/./node_modules/music-metadata/lib/apev2/APEv2TagMapper.js\");\n/* harmony import */ var _mp4_MP4TagMapper_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../mp4/MP4TagMapper.js */ \"(ssr)/./node_modules/music-metadata/lib/mp4/MP4TagMapper.js\");\n/* harmony import */ var _ogg_vorbis_VorbisTagMapper_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../ogg/vorbis/VorbisTagMapper.js */ \"(ssr)/./node_modules/music-metadata/lib/ogg/vorbis/VorbisTagMapper.js\");\n/* harmony import */ var _riff_RiffInfoTagMap_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../riff/RiffInfoTagMap.js */ \"(ssr)/./node_modules/music-metadata/lib/riff/RiffInfoTagMap.js\");\n/* harmony import */ var _matroska_MatroskaTagMapper_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../matroska/MatroskaTagMapper.js */ \"(ssr)/./node_modules/music-metadata/lib/matroska/MatroskaTagMapper.js\");\n/* harmony import */ var _aiff_AiffTagMap_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../aiff/AiffTagMap.js */ \"(ssr)/./node_modules/music-metadata/lib/aiff/AiffTagMap.js\");\n\n\n\n\n\n\n\n\n\n\nclass CombinedTagMapper {\n    constructor() {\n        this.tagMappers = {};\n        [\n            new _id3v1_ID3v1TagMap_js__WEBPACK_IMPORTED_MODULE_0__.ID3v1TagMapper(),\n            new _id3v2_ID3v22TagMapper_js__WEBPACK_IMPORTED_MODULE_3__.ID3v22TagMapper(),\n            new _id3v2_ID3v24TagMapper_js__WEBPACK_IMPORTED_MODULE_1__.ID3v24TagMapper(),\n            new _mp4_MP4TagMapper_js__WEBPACK_IMPORTED_MODULE_5__.MP4TagMapper(),\n            new _mp4_MP4TagMapper_js__WEBPACK_IMPORTED_MODULE_5__.MP4TagMapper(),\n            new _ogg_vorbis_VorbisTagMapper_js__WEBPACK_IMPORTED_MODULE_6__.VorbisTagMapper(),\n            new _apev2_APEv2TagMapper_js__WEBPACK_IMPORTED_MODULE_4__.APEv2TagMapper(),\n            new _asf_AsfTagMapper_js__WEBPACK_IMPORTED_MODULE_2__.AsfTagMapper(),\n            new _riff_RiffInfoTagMap_js__WEBPACK_IMPORTED_MODULE_7__.RiffInfoTagMapper(),\n            new _matroska_MatroskaTagMapper_js__WEBPACK_IMPORTED_MODULE_8__.MatroskaTagMapper(),\n            new _aiff_AiffTagMap_js__WEBPACK_IMPORTED_MODULE_9__.AiffTagMapper()\n        ].forEach(mapper => {\n            this.registerTagMapper(mapper);\n        });\n    }\n    /**\n     * Convert native to generic (common) tags\n     * @param tagType Originating tag format\n     * @param tag     Native tag to map to a generic tag id\n     * @param warnings\n     * @return Generic tag result (output of this function)\n     */\n    mapTag(tagType, tag, warnings) {\n        const tagMapper = this.tagMappers[tagType];\n        if (tagMapper) {\n            return this.tagMappers[tagType].mapGenericTag(tag, warnings);\n        }\n        throw new Error(`No generic tag mapper defined for tag-format: ${tagType}`);\n    }\n    registerTagMapper(genericTagMapper) {\n        for (const tagType of genericTagMapper.tagTypes) {\n            this.tagMappers[tagType] = genericTagMapper;\n        }\n    }\n}\n//# sourceMappingURL=CombinedTagMapper.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbXVzaWMtbWV0YWRhdGEvbGliL2NvbW1vbi9Db21iaW5lZFRhZ01hcHBlci5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7OztBQUF5RDtBQUNLO0FBQ1I7QUFDUTtBQUNGO0FBQ047QUFDYTtBQUNMO0FBQ087QUFDZjtBQUMvQztBQUNQO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixpRUFBYztBQUM5QixnQkFBZ0Isc0VBQWU7QUFDL0IsZ0JBQWdCLHNFQUFlO0FBQy9CLGdCQUFnQiw4REFBWTtBQUM1QixnQkFBZ0IsOERBQVk7QUFDNUIsZ0JBQWdCLDJFQUFlO0FBQy9CLGdCQUFnQixvRUFBYztBQUM5QixnQkFBZ0IsOERBQVk7QUFDNUIsZ0JBQWdCLHNFQUFpQjtBQUNqQyxnQkFBZ0IsNkVBQWlCO0FBQ2pDLGdCQUFnQiw4REFBYTtBQUM3QjtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUVBQXlFLFFBQVE7QUFDakY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2RldmVsZXZhdGUvLi9ub2RlX21vZHVsZXMvbXVzaWMtbWV0YWRhdGEvbGliL2NvbW1vbi9Db21iaW5lZFRhZ01hcHBlci5qcz9hZGEyIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IElEM3YxVGFnTWFwcGVyIH0gZnJvbSAnLi4vaWQzdjEvSUQzdjFUYWdNYXAuanMnO1xuaW1wb3J0IHsgSUQzdjI0VGFnTWFwcGVyIH0gZnJvbSAnLi4vaWQzdjIvSUQzdjI0VGFnTWFwcGVyLmpzJztcbmltcG9ydCB7IEFzZlRhZ01hcHBlciB9IGZyb20gJy4uL2FzZi9Bc2ZUYWdNYXBwZXIuanMnO1xuaW1wb3J0IHsgSUQzdjIyVGFnTWFwcGVyIH0gZnJvbSAnLi4vaWQzdjIvSUQzdjIyVGFnTWFwcGVyLmpzJztcbmltcG9ydCB7IEFQRXYyVGFnTWFwcGVyIH0gZnJvbSAnLi4vYXBldjIvQVBFdjJUYWdNYXBwZXIuanMnO1xuaW1wb3J0IHsgTVA0VGFnTWFwcGVyIH0gZnJvbSAnLi4vbXA0L01QNFRhZ01hcHBlci5qcyc7XG5pbXBvcnQgeyBWb3JiaXNUYWdNYXBwZXIgfSBmcm9tICcuLi9vZ2cvdm9yYmlzL1ZvcmJpc1RhZ01hcHBlci5qcyc7XG5pbXBvcnQgeyBSaWZmSW5mb1RhZ01hcHBlciB9IGZyb20gJy4uL3JpZmYvUmlmZkluZm9UYWdNYXAuanMnO1xuaW1wb3J0IHsgTWF0cm9za2FUYWdNYXBwZXIgfSBmcm9tICcuLi9tYXRyb3NrYS9NYXRyb3NrYVRhZ01hcHBlci5qcyc7XG5pbXBvcnQgeyBBaWZmVGFnTWFwcGVyIH0gZnJvbSAnLi4vYWlmZi9BaWZmVGFnTWFwLmpzJztcbmV4cG9ydCBjbGFzcyBDb21iaW5lZFRhZ01hcHBlciB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMudGFnTWFwcGVycyA9IHt9O1xuICAgICAgICBbXG4gICAgICAgICAgICBuZXcgSUQzdjFUYWdNYXBwZXIoKSxcbiAgICAgICAgICAgIG5ldyBJRDN2MjJUYWdNYXBwZXIoKSxcbiAgICAgICAgICAgIG5ldyBJRDN2MjRUYWdNYXBwZXIoKSxcbiAgICAgICAgICAgIG5ldyBNUDRUYWdNYXBwZXIoKSxcbiAgICAgICAgICAgIG5ldyBNUDRUYWdNYXBwZXIoKSxcbiAgICAgICAgICAgIG5ldyBWb3JiaXNUYWdNYXBwZXIoKSxcbiAgICAgICAgICAgIG5ldyBBUEV2MlRhZ01hcHBlcigpLFxuICAgICAgICAgICAgbmV3IEFzZlRhZ01hcHBlcigpLFxuICAgICAgICAgICAgbmV3IFJpZmZJbmZvVGFnTWFwcGVyKCksXG4gICAgICAgICAgICBuZXcgTWF0cm9za2FUYWdNYXBwZXIoKSxcbiAgICAgICAgICAgIG5ldyBBaWZmVGFnTWFwcGVyKClcbiAgICAgICAgXS5mb3JFYWNoKG1hcHBlciA9PiB7XG4gICAgICAgICAgICB0aGlzLnJlZ2lzdGVyVGFnTWFwcGVyKG1hcHBlcik7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0IG5hdGl2ZSB0byBnZW5lcmljIChjb21tb24pIHRhZ3NcbiAgICAgKiBAcGFyYW0gdGFnVHlwZSBPcmlnaW5hdGluZyB0YWcgZm9ybWF0XG4gICAgICogQHBhcmFtIHRhZyAgICAgTmF0aXZlIHRhZyB0byBtYXAgdG8gYSBnZW5lcmljIHRhZyBpZFxuICAgICAqIEBwYXJhbSB3YXJuaW5nc1xuICAgICAqIEByZXR1cm4gR2VuZXJpYyB0YWcgcmVzdWx0IChvdXRwdXQgb2YgdGhpcyBmdW5jdGlvbilcbiAgICAgKi9cbiAgICBtYXBUYWcodGFnVHlwZSwgdGFnLCB3YXJuaW5ncykge1xuICAgICAgICBjb25zdCB0YWdNYXBwZXIgPSB0aGlzLnRhZ01hcHBlcnNbdGFnVHlwZV07XG4gICAgICAgIGlmICh0YWdNYXBwZXIpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnRhZ01hcHBlcnNbdGFnVHlwZV0ubWFwR2VuZXJpY1RhZyh0YWcsIHdhcm5pbmdzKTtcbiAgICAgICAgfVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYE5vIGdlbmVyaWMgdGFnIG1hcHBlciBkZWZpbmVkIGZvciB0YWctZm9ybWF0OiAke3RhZ1R5cGV9YCk7XG4gICAgfVxuICAgIHJlZ2lzdGVyVGFnTWFwcGVyKGdlbmVyaWNUYWdNYXBwZXIpIHtcbiAgICAgICAgZm9yIChjb25zdCB0YWdUeXBlIG9mIGdlbmVyaWNUYWdNYXBwZXIudGFnVHlwZXMpIHtcbiAgICAgICAgICAgIHRoaXMudGFnTWFwcGVyc1t0YWdUeXBlXSA9IGdlbmVyaWNUYWdNYXBwZXI7XG4gICAgICAgIH1cbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1Db21iaW5lZFRhZ01hcHBlci5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/music-metadata/lib/common/CombinedTagMapper.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/music-metadata/lib/common/FourCC.js":
/*!**********************************************************!*\
  !*** ./node_modules/music-metadata/lib/common/FourCC.js ***!
  \**********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   FourCcToken: () => (/* binding */ FourCcToken)\n/* harmony export */ });\n/* harmony import */ var uint8array_extras__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! uint8array-extras */ \"(ssr)/./node_modules/uint8array-extras/index.js\");\n/* harmony import */ var _Util_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Util.js */ \"(ssr)/./node_modules/music-metadata/lib/common/Util.js\");\n\n\nconst validFourCC = /^[\\x21-\\x7e©][\\x20-\\x7e\\x00()]{3}/;\n/**\n * Token for read FourCC\n * Ref: https://en.wikipedia.org/wiki/FourCC\n */\nconst FourCcToken = {\n    len: 4,\n    get: (buf, off) => {\n        const id = (0,uint8array_extras__WEBPACK_IMPORTED_MODULE_1__.uint8ArrayToString)(buf.slice(off, off + FourCcToken.len), 'latin1');\n        if (!id.match(validFourCC)) {\n            throw new Error(`FourCC contains invalid characters: ${_Util_js__WEBPACK_IMPORTED_MODULE_0__.a2hex(id)} \"${id}\"`);\n        }\n        return id;\n    },\n    put: (buffer, offset, id) => {\n        const str = (0,uint8array_extras__WEBPACK_IMPORTED_MODULE_1__.stringToUint8Array)(id);\n        if (str.length !== 4)\n            throw new Error('Invalid length');\n        buffer.set(str, offset);\n        return offset + 4;\n    }\n};\n//# sourceMappingURL=FourCC.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbXVzaWMtbWV0YWRhdGEvbGliL2NvbW1vbi9Gb3VyQ0MuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQTJFO0FBQ3pDO0FBQ2xDLG9EQUFvRCxFQUFFO0FBQ3REO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0EsbUJBQW1CLHFFQUFrQjtBQUNyQztBQUNBLG1FQUFtRSwyQ0FBVSxNQUFNLEdBQUcsR0FBRztBQUN6RjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0Esb0JBQW9CLHFFQUFrQjtBQUN0QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2RldmVsZXZhdGUvLi9ub2RlX21vZHVsZXMvbXVzaWMtbWV0YWRhdGEvbGliL2NvbW1vbi9Gb3VyQ0MuanM/YTdjZCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBzdHJpbmdUb1VpbnQ4QXJyYXksIHVpbnQ4QXJyYXlUb1N0cmluZyB9IGZyb20gJ3VpbnQ4YXJyYXktZXh0cmFzJztcbmltcG9ydCAqIGFzIHV0aWwgZnJvbSAnLi9VdGlsLmpzJztcbmNvbnN0IHZhbGlkRm91ckNDID0gL15bXFx4MjEtXFx4N2XCqV1bXFx4MjAtXFx4N2VcXHgwMCgpXXszfS87XG4vKipcbiAqIFRva2VuIGZvciByZWFkIEZvdXJDQ1xuICogUmVmOiBodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9Gb3VyQ0NcbiAqL1xuZXhwb3J0IGNvbnN0IEZvdXJDY1Rva2VuID0ge1xuICAgIGxlbjogNCxcbiAgICBnZXQ6IChidWYsIG9mZikgPT4ge1xuICAgICAgICBjb25zdCBpZCA9IHVpbnQ4QXJyYXlUb1N0cmluZyhidWYuc2xpY2Uob2ZmLCBvZmYgKyBGb3VyQ2NUb2tlbi5sZW4pLCAnbGF0aW4xJyk7XG4gICAgICAgIGlmICghaWQubWF0Y2godmFsaWRGb3VyQ0MpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEZvdXJDQyBjb250YWlucyBpbnZhbGlkIGNoYXJhY3RlcnM6ICR7dXRpbC5hMmhleChpZCl9IFwiJHtpZH1cImApO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBpZDtcbiAgICB9LFxuICAgIHB1dDogKGJ1ZmZlciwgb2Zmc2V0LCBpZCkgPT4ge1xuICAgICAgICBjb25zdCBzdHIgPSBzdHJpbmdUb1VpbnQ4QXJyYXkoaWQpO1xuICAgICAgICBpZiAoc3RyLmxlbmd0aCAhPT0gNClcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBsZW5ndGgnKTtcbiAgICAgICAgYnVmZmVyLnNldChzdHIsIG9mZnNldCk7XG4gICAgICAgIHJldHVybiBvZmZzZXQgKyA0O1xuICAgIH1cbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1Gb3VyQ0MuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/music-metadata/lib/common/FourCC.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/music-metadata/lib/common/GenericTagMapper.js":
/*!********************************************************************!*\
  !*** ./node_modules/music-metadata/lib/common/GenericTagMapper.js ***!
  \********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   CommonTagMapper: () => (/* binding */ CommonTagMapper)\n/* harmony export */ });\nclass CommonTagMapper {\n    static toIntOrNull(str) {\n        const cleaned = Number.parseInt(str, 10);\n        return Number.isNaN(cleaned) ? null : cleaned;\n    }\n    // TODO: a string of 1of1 would fail to be converted\n    // converts 1/10 to no : 1, of : 10\n    // or 1 to no : 1, of : 0\n    static normalizeTrack(origVal) {\n        const split = origVal.toString().split('/');\n        return {\n            no: Number.parseInt(split[0], 10) || null,\n            of: Number.parseInt(split[1], 10) || null\n        };\n    }\n    constructor(tagTypes, tagMap) {\n        this.tagTypes = tagTypes;\n        this.tagMap = tagMap;\n    }\n    /**\n     * Process and set common tags\n     * write common tags to\n     * @param tag Native tag\n     * @param warnings Register warnings\n     * @return common name\n     */\n    mapGenericTag(tag, warnings) {\n        tag = { id: tag.id, value: tag.value }; // clone object\n        this.postMap(tag, warnings);\n        // Convert native tag event to generic 'alias' tag\n        const id = this.getCommonName(tag.id);\n        return id ? { id, value: tag.value } : null;\n    }\n    /**\n     * Convert native tag key to common tag key\n     * @param tag Native header tag\n     * @return common tag name (alias)\n     */\n    getCommonName(tag) {\n        return this.tagMap[tag];\n    }\n    /**\n     * Handle post mapping exceptions / correction\n     * @param tag Tag e.g. {\"©alb\", \"Buena Vista Social Club\")\n     * @param warnings Used to register warnings\n     */\n    postMap(tag, warnings) {\n        return;\n    }\n}\nCommonTagMapper.maxRatingScore = 1;\n//# sourceMappingURL=GenericTagMapper.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbXVzaWMtbWV0YWRhdGEvbGliL2NvbW1vbi9HZW5lcmljVGFnTWFwcGVyLmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsZ0NBQWdDO0FBQ2hEO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQix1QkFBdUI7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRCQUE0QjtBQUM1QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZGV2ZWxldmF0ZS8uL25vZGVfbW9kdWxlcy9tdXNpYy1tZXRhZGF0YS9saWIvY29tbW9uL0dlbmVyaWNUYWdNYXBwZXIuanM/MDFmOSJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY2xhc3MgQ29tbW9uVGFnTWFwcGVyIHtcbiAgICBzdGF0aWMgdG9JbnRPck51bGwoc3RyKSB7XG4gICAgICAgIGNvbnN0IGNsZWFuZWQgPSBOdW1iZXIucGFyc2VJbnQoc3RyLCAxMCk7XG4gICAgICAgIHJldHVybiBOdW1iZXIuaXNOYU4oY2xlYW5lZCkgPyBudWxsIDogY2xlYW5lZDtcbiAgICB9XG4gICAgLy8gVE9ETzogYSBzdHJpbmcgb2YgMW9mMSB3b3VsZCBmYWlsIHRvIGJlIGNvbnZlcnRlZFxuICAgIC8vIGNvbnZlcnRzIDEvMTAgdG8gbm8gOiAxLCBvZiA6IDEwXG4gICAgLy8gb3IgMSB0byBubyA6IDEsIG9mIDogMFxuICAgIHN0YXRpYyBub3JtYWxpemVUcmFjayhvcmlnVmFsKSB7XG4gICAgICAgIGNvbnN0IHNwbGl0ID0gb3JpZ1ZhbC50b1N0cmluZygpLnNwbGl0KCcvJyk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBubzogTnVtYmVyLnBhcnNlSW50KHNwbGl0WzBdLCAxMCkgfHwgbnVsbCxcbiAgICAgICAgICAgIG9mOiBOdW1iZXIucGFyc2VJbnQoc3BsaXRbMV0sIDEwKSB8fCBudWxsXG4gICAgICAgIH07XG4gICAgfVxuICAgIGNvbnN0cnVjdG9yKHRhZ1R5cGVzLCB0YWdNYXApIHtcbiAgICAgICAgdGhpcy50YWdUeXBlcyA9IHRhZ1R5cGVzO1xuICAgICAgICB0aGlzLnRhZ01hcCA9IHRhZ01hcDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUHJvY2VzcyBhbmQgc2V0IGNvbW1vbiB0YWdzXG4gICAgICogd3JpdGUgY29tbW9uIHRhZ3MgdG9cbiAgICAgKiBAcGFyYW0gdGFnIE5hdGl2ZSB0YWdcbiAgICAgKiBAcGFyYW0gd2FybmluZ3MgUmVnaXN0ZXIgd2FybmluZ3NcbiAgICAgKiBAcmV0dXJuIGNvbW1vbiBuYW1lXG4gICAgICovXG4gICAgbWFwR2VuZXJpY1RhZyh0YWcsIHdhcm5pbmdzKSB7XG4gICAgICAgIHRhZyA9IHsgaWQ6IHRhZy5pZCwgdmFsdWU6IHRhZy52YWx1ZSB9OyAvLyBjbG9uZSBvYmplY3RcbiAgICAgICAgdGhpcy5wb3N0TWFwKHRhZywgd2FybmluZ3MpO1xuICAgICAgICAvLyBDb252ZXJ0IG5hdGl2ZSB0YWcgZXZlbnQgdG8gZ2VuZXJpYyAnYWxpYXMnIHRhZ1xuICAgICAgICBjb25zdCBpZCA9IHRoaXMuZ2V0Q29tbW9uTmFtZSh0YWcuaWQpO1xuICAgICAgICByZXR1cm4gaWQgPyB7IGlkLCB2YWx1ZTogdGFnLnZhbHVlIH0gOiBudWxsO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0IG5hdGl2ZSB0YWcga2V5IHRvIGNvbW1vbiB0YWcga2V5XG4gICAgICogQHBhcmFtIHRhZyBOYXRpdmUgaGVhZGVyIHRhZ1xuICAgICAqIEByZXR1cm4gY29tbW9uIHRhZyBuYW1lIChhbGlhcylcbiAgICAgKi9cbiAgICBnZXRDb21tb25OYW1lKHRhZykge1xuICAgICAgICByZXR1cm4gdGhpcy50YWdNYXBbdGFnXTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogSGFuZGxlIHBvc3QgbWFwcGluZyBleGNlcHRpb25zIC8gY29ycmVjdGlvblxuICAgICAqIEBwYXJhbSB0YWcgVGFnIGUuZy4ge1wiwqlhbGJcIiwgXCJCdWVuYSBWaXN0YSBTb2NpYWwgQ2x1YlwiKVxuICAgICAqIEBwYXJhbSB3YXJuaW5ncyBVc2VkIHRvIHJlZ2lzdGVyIHdhcm5pbmdzXG4gICAgICovXG4gICAgcG9zdE1hcCh0YWcsIHdhcm5pbmdzKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG59XG5Db21tb25UYWdNYXBwZXIubWF4UmF0aW5nU2NvcmUgPSAxO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9R2VuZXJpY1RhZ01hcHBlci5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/music-metadata/lib/common/GenericTagMapper.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/music-metadata/lib/common/GenericTagTypes.js":
/*!*******************************************************************!*\
  !*** ./node_modules/music-metadata/lib/common/GenericTagTypes.js ***!
  \*******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   commonTags: () => (/* binding */ commonTags),\n/* harmony export */   isSingleton: () => (/* binding */ isSingleton),\n/* harmony export */   isUnique: () => (/* binding */ isUnique)\n/* harmony export */ });\nconst commonTags = {\n    year: { multiple: false },\n    track: { multiple: false },\n    disk: { multiple: false },\n    title: { multiple: false },\n    artist: { multiple: false },\n    artists: { multiple: true, unique: true },\n    albumartist: { multiple: false },\n    album: { multiple: false },\n    date: { multiple: false },\n    originaldate: { multiple: false },\n    originalyear: { multiple: false },\n    releasedate: { multiple: false },\n    comment: { multiple: true, unique: false },\n    genre: { multiple: true, unique: true },\n    picture: { multiple: true, unique: true },\n    composer: { multiple: true, unique: true },\n    lyrics: { multiple: true, unique: false },\n    albumsort: { multiple: false, unique: true },\n    titlesort: { multiple: false, unique: true },\n    work: { multiple: false, unique: true },\n    artistsort: { multiple: false, unique: true },\n    albumartistsort: { multiple: false, unique: true },\n    composersort: { multiple: false, unique: true },\n    lyricist: { multiple: true, unique: true },\n    writer: { multiple: true, unique: true },\n    conductor: { multiple: true, unique: true },\n    remixer: { multiple: true, unique: true },\n    arranger: { multiple: true, unique: true },\n    engineer: { multiple: true, unique: true },\n    producer: { multiple: true, unique: true },\n    technician: { multiple: true, unique: true },\n    djmixer: { multiple: true, unique: true },\n    mixer: { multiple: true, unique: true },\n    label: { multiple: true, unique: true },\n    grouping: { multiple: false },\n    subtitle: { multiple: true },\n    discsubtitle: { multiple: false },\n    totaltracks: { multiple: false },\n    totaldiscs: { multiple: false },\n    compilation: { multiple: false },\n    rating: { multiple: true },\n    bpm: { multiple: false },\n    mood: { multiple: false },\n    media: { multiple: false },\n    catalognumber: { multiple: true, unique: true },\n    tvShow: { multiple: false },\n    tvShowSort: { multiple: false },\n    tvSeason: { multiple: false },\n    tvEpisode: { multiple: false },\n    tvEpisodeId: { multiple: false },\n    tvNetwork: { multiple: false },\n    podcast: { multiple: false },\n    podcasturl: { multiple: false },\n    releasestatus: { multiple: false },\n    releasetype: { multiple: true },\n    releasecountry: { multiple: false },\n    script: { multiple: false },\n    language: { multiple: false },\n    copyright: { multiple: false },\n    license: { multiple: false },\n    encodedby: { multiple: false },\n    encodersettings: { multiple: false },\n    gapless: { multiple: false },\n    barcode: { multiple: false },\n    isrc: { multiple: true },\n    asin: { multiple: false },\n    musicbrainz_recordingid: { multiple: false },\n    musicbrainz_trackid: { multiple: false },\n    musicbrainz_albumid: { multiple: false },\n    musicbrainz_artistid: { multiple: true },\n    musicbrainz_albumartistid: { multiple: true },\n    musicbrainz_releasegroupid: { multiple: false },\n    musicbrainz_workid: { multiple: false },\n    musicbrainz_trmid: { multiple: false },\n    musicbrainz_discid: { multiple: false },\n    acoustid_id: { multiple: false },\n    acoustid_fingerprint: { multiple: false },\n    musicip_puid: { multiple: false },\n    musicip_fingerprint: { multiple: false },\n    website: { multiple: false },\n    'performer:instrument': { multiple: true, unique: true },\n    averageLevel: { multiple: false },\n    peakLevel: { multiple: false },\n    notes: { multiple: true, unique: false },\n    key: { multiple: false },\n    originalalbum: { multiple: false },\n    originalartist: { multiple: false },\n    discogs_artist_id: { multiple: true, unique: true },\n    discogs_release_id: { multiple: false },\n    discogs_label_id: { multiple: false },\n    discogs_master_release_id: { multiple: false },\n    discogs_votes: { multiple: false },\n    discogs_rating: { multiple: false },\n    replaygain_track_peak: { multiple: false },\n    replaygain_track_gain: { multiple: false },\n    replaygain_album_peak: { multiple: false },\n    replaygain_album_gain: { multiple: false },\n    replaygain_track_minmax: { multiple: false },\n    replaygain_album_minmax: { multiple: false },\n    replaygain_undo: { multiple: false },\n    description: { multiple: true },\n    longDescription: { multiple: false },\n    category: { multiple: true },\n    hdVideo: { multiple: false },\n    keywords: { multiple: true },\n    movement: { multiple: false },\n    movementIndex: { multiple: false },\n    movementTotal: { multiple: false },\n    podcastId: { multiple: false },\n    showMovement: { multiple: false },\n    stik: { multiple: false }\n};\n/**\n * @param alias Name of common tag\n * @returns {boolean|*} true if given alias is mapped as a singleton', otherwise false\n */\nfunction isSingleton(alias) {\n    return commonTags[alias] && !commonTags[alias].multiple;\n}\n/**\n * @param alias Common (generic) tag\n * @returns {boolean|*} true if given alias is a singleton or explicitly marked as unique\n */\nfunction isUnique(alias) {\n    return !commonTags[alias].multiple || commonTags[alias].unique || false;\n}\n//# sourceMappingURL=GenericTagTypes.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbXVzaWMtbWV0YWRhdGEvbGliL2NvbW1vbi9HZW5lcmljVGFnVHlwZXMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQU87QUFDUCxZQUFZLGlCQUFpQjtBQUM3QixhQUFhLGlCQUFpQjtBQUM5QixZQUFZLGlCQUFpQjtBQUM3QixhQUFhLGlCQUFpQjtBQUM5QixjQUFjLGlCQUFpQjtBQUMvQixlQUFlLDhCQUE4QjtBQUM3QyxtQkFBbUIsaUJBQWlCO0FBQ3BDLGFBQWEsaUJBQWlCO0FBQzlCLFlBQVksaUJBQWlCO0FBQzdCLG9CQUFvQixpQkFBaUI7QUFDckMsb0JBQW9CLGlCQUFpQjtBQUNyQyxtQkFBbUIsaUJBQWlCO0FBQ3BDLGVBQWUsK0JBQStCO0FBQzlDLGFBQWEsOEJBQThCO0FBQzNDLGVBQWUsOEJBQThCO0FBQzdDLGdCQUFnQiw4QkFBOEI7QUFDOUMsY0FBYywrQkFBK0I7QUFDN0MsaUJBQWlCLCtCQUErQjtBQUNoRCxpQkFBaUIsK0JBQStCO0FBQ2hELFlBQVksK0JBQStCO0FBQzNDLGtCQUFrQiwrQkFBK0I7QUFDakQsdUJBQXVCLCtCQUErQjtBQUN0RCxvQkFBb0IsK0JBQStCO0FBQ25ELGdCQUFnQiw4QkFBOEI7QUFDOUMsY0FBYyw4QkFBOEI7QUFDNUMsaUJBQWlCLDhCQUE4QjtBQUMvQyxlQUFlLDhCQUE4QjtBQUM3QyxnQkFBZ0IsOEJBQThCO0FBQzlDLGdCQUFnQiw4QkFBOEI7QUFDOUMsZ0JBQWdCLDhCQUE4QjtBQUM5QyxrQkFBa0IsOEJBQThCO0FBQ2hELGVBQWUsOEJBQThCO0FBQzdDLGFBQWEsOEJBQThCO0FBQzNDLGFBQWEsOEJBQThCO0FBQzNDLGdCQUFnQixpQkFBaUI7QUFDakMsZ0JBQWdCLGdCQUFnQjtBQUNoQyxvQkFBb0IsaUJBQWlCO0FBQ3JDLG1CQUFtQixpQkFBaUI7QUFDcEMsa0JBQWtCLGlCQUFpQjtBQUNuQyxtQkFBbUIsaUJBQWlCO0FBQ3BDLGNBQWMsZ0JBQWdCO0FBQzlCLFdBQVcsaUJBQWlCO0FBQzVCLFlBQVksaUJBQWlCO0FBQzdCLGFBQWEsaUJBQWlCO0FBQzlCLHFCQUFxQiw4QkFBOEI7QUFDbkQsY0FBYyxpQkFBaUI7QUFDL0Isa0JBQWtCLGlCQUFpQjtBQUNuQyxnQkFBZ0IsaUJBQWlCO0FBQ2pDLGlCQUFpQixpQkFBaUI7QUFDbEMsbUJBQW1CLGlCQUFpQjtBQUNwQyxpQkFBaUIsaUJBQWlCO0FBQ2xDLGVBQWUsaUJBQWlCO0FBQ2hDLGtCQUFrQixpQkFBaUI7QUFDbkMscUJBQXFCLGlCQUFpQjtBQUN0QyxtQkFBbUIsZ0JBQWdCO0FBQ25DLHNCQUFzQixpQkFBaUI7QUFDdkMsY0FBYyxpQkFBaUI7QUFDL0IsZ0JBQWdCLGlCQUFpQjtBQUNqQyxpQkFBaUIsaUJBQWlCO0FBQ2xDLGVBQWUsaUJBQWlCO0FBQ2hDLGlCQUFpQixpQkFBaUI7QUFDbEMsdUJBQXVCLGlCQUFpQjtBQUN4QyxlQUFlLGlCQUFpQjtBQUNoQyxlQUFlLGlCQUFpQjtBQUNoQyxZQUFZLGdCQUFnQjtBQUM1QixZQUFZLGlCQUFpQjtBQUM3QiwrQkFBK0IsaUJBQWlCO0FBQ2hELDJCQUEyQixpQkFBaUI7QUFDNUMsMkJBQTJCLGlCQUFpQjtBQUM1Qyw0QkFBNEIsZ0JBQWdCO0FBQzVDLGlDQUFpQyxnQkFBZ0I7QUFDakQsa0NBQWtDLGlCQUFpQjtBQUNuRCwwQkFBMEIsaUJBQWlCO0FBQzNDLHlCQUF5QixpQkFBaUI7QUFDMUMsMEJBQTBCLGlCQUFpQjtBQUMzQyxtQkFBbUIsaUJBQWlCO0FBQ3BDLDRCQUE0QixpQkFBaUI7QUFDN0Msb0JBQW9CLGlCQUFpQjtBQUNyQywyQkFBMkIsaUJBQWlCO0FBQzVDLGVBQWUsaUJBQWlCO0FBQ2hDLDhCQUE4Qiw4QkFBOEI7QUFDNUQsb0JBQW9CLGlCQUFpQjtBQUNyQyxpQkFBaUIsaUJBQWlCO0FBQ2xDLGFBQWEsK0JBQStCO0FBQzVDLFdBQVcsaUJBQWlCO0FBQzVCLHFCQUFxQixpQkFBaUI7QUFDdEMsc0JBQXNCLGlCQUFpQjtBQUN2Qyx5QkFBeUIsOEJBQThCO0FBQ3ZELDBCQUEwQixpQkFBaUI7QUFDM0Msd0JBQXdCLGlCQUFpQjtBQUN6QyxpQ0FBaUMsaUJBQWlCO0FBQ2xELHFCQUFxQixpQkFBaUI7QUFDdEMsc0JBQXNCLGlCQUFpQjtBQUN2Qyw2QkFBNkIsaUJBQWlCO0FBQzlDLDZCQUE2QixpQkFBaUI7QUFDOUMsNkJBQTZCLGlCQUFpQjtBQUM5Qyw2QkFBNkIsaUJBQWlCO0FBQzlDLCtCQUErQixpQkFBaUI7QUFDaEQsK0JBQStCLGlCQUFpQjtBQUNoRCx1QkFBdUIsaUJBQWlCO0FBQ3hDLG1CQUFtQixnQkFBZ0I7QUFDbkMsdUJBQXVCLGlCQUFpQjtBQUN4QyxnQkFBZ0IsZ0JBQWdCO0FBQ2hDLGVBQWUsaUJBQWlCO0FBQ2hDLGdCQUFnQixnQkFBZ0I7QUFDaEMsZ0JBQWdCLGlCQUFpQjtBQUNqQyxxQkFBcUIsaUJBQWlCO0FBQ3RDLHFCQUFxQixpQkFBaUI7QUFDdEMsaUJBQWlCLGlCQUFpQjtBQUNsQyxvQkFBb0IsaUJBQWlCO0FBQ3JDLFlBQVk7QUFDWjtBQUNBO0FBQ0E7QUFDQSxhQUFhLFdBQVc7QUFDeEI7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSxXQUFXO0FBQ3hCO0FBQ087QUFDUDtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9kZXZlbGV2YXRlLy4vbm9kZV9tb2R1bGVzL211c2ljLW1ldGFkYXRhL2xpYi9jb21tb24vR2VuZXJpY1RhZ1R5cGVzLmpzP2VhZjUiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGNvbnN0IGNvbW1vblRhZ3MgPSB7XG4gICAgeWVhcjogeyBtdWx0aXBsZTogZmFsc2UgfSxcbiAgICB0cmFjazogeyBtdWx0aXBsZTogZmFsc2UgfSxcbiAgICBkaXNrOiB7IG11bHRpcGxlOiBmYWxzZSB9LFxuICAgIHRpdGxlOiB7IG11bHRpcGxlOiBmYWxzZSB9LFxuICAgIGFydGlzdDogeyBtdWx0aXBsZTogZmFsc2UgfSxcbiAgICBhcnRpc3RzOiB7IG11bHRpcGxlOiB0cnVlLCB1bmlxdWU6IHRydWUgfSxcbiAgICBhbGJ1bWFydGlzdDogeyBtdWx0aXBsZTogZmFsc2UgfSxcbiAgICBhbGJ1bTogeyBtdWx0aXBsZTogZmFsc2UgfSxcbiAgICBkYXRlOiB7IG11bHRpcGxlOiBmYWxzZSB9LFxuICAgIG9yaWdpbmFsZGF0ZTogeyBtdWx0aXBsZTogZmFsc2UgfSxcbiAgICBvcmlnaW5hbHllYXI6IHsgbXVsdGlwbGU6IGZhbHNlIH0sXG4gICAgcmVsZWFzZWRhdGU6IHsgbXVsdGlwbGU6IGZhbHNlIH0sXG4gICAgY29tbWVudDogeyBtdWx0aXBsZTogdHJ1ZSwgdW5pcXVlOiBmYWxzZSB9LFxuICAgIGdlbnJlOiB7IG11bHRpcGxlOiB0cnVlLCB1bmlxdWU6IHRydWUgfSxcbiAgICBwaWN0dXJlOiB7IG11bHRpcGxlOiB0cnVlLCB1bmlxdWU6IHRydWUgfSxcbiAgICBjb21wb3NlcjogeyBtdWx0aXBsZTogdHJ1ZSwgdW5pcXVlOiB0cnVlIH0sXG4gICAgbHlyaWNzOiB7IG11bHRpcGxlOiB0cnVlLCB1bmlxdWU6IGZhbHNlIH0sXG4gICAgYWxidW1zb3J0OiB7IG11bHRpcGxlOiBmYWxzZSwgdW5pcXVlOiB0cnVlIH0sXG4gICAgdGl0bGVzb3J0OiB7IG11bHRpcGxlOiBmYWxzZSwgdW5pcXVlOiB0cnVlIH0sXG4gICAgd29yazogeyBtdWx0aXBsZTogZmFsc2UsIHVuaXF1ZTogdHJ1ZSB9LFxuICAgIGFydGlzdHNvcnQ6IHsgbXVsdGlwbGU6IGZhbHNlLCB1bmlxdWU6IHRydWUgfSxcbiAgICBhbGJ1bWFydGlzdHNvcnQ6IHsgbXVsdGlwbGU6IGZhbHNlLCB1bmlxdWU6IHRydWUgfSxcbiAgICBjb21wb3NlcnNvcnQ6IHsgbXVsdGlwbGU6IGZhbHNlLCB1bmlxdWU6IHRydWUgfSxcbiAgICBseXJpY2lzdDogeyBtdWx0aXBsZTogdHJ1ZSwgdW5pcXVlOiB0cnVlIH0sXG4gICAgd3JpdGVyOiB7IG11bHRpcGxlOiB0cnVlLCB1bmlxdWU6IHRydWUgfSxcbiAgICBjb25kdWN0b3I6IHsgbXVsdGlwbGU6IHRydWUsIHVuaXF1ZTogdHJ1ZSB9LFxuICAgIHJlbWl4ZXI6IHsgbXVsdGlwbGU6IHRydWUsIHVuaXF1ZTogdHJ1ZSB9LFxuICAgIGFycmFuZ2VyOiB7IG11bHRpcGxlOiB0cnVlLCB1bmlxdWU6IHRydWUgfSxcbiAgICBlbmdpbmVlcjogeyBtdWx0aXBsZTogdHJ1ZSwgdW5pcXVlOiB0cnVlIH0sXG4gICAgcHJvZHVjZXI6IHsgbXVsdGlwbGU6IHRydWUsIHVuaXF1ZTogdHJ1ZSB9LFxuICAgIHRlY2huaWNpYW46IHsgbXVsdGlwbGU6IHRydWUsIHVuaXF1ZTogdHJ1ZSB9LFxuICAgIGRqbWl4ZXI6IHsgbXVsdGlwbGU6IHRydWUsIHVuaXF1ZTogdHJ1ZSB9LFxuICAgIG1peGVyOiB7IG11bHRpcGxlOiB0cnVlLCB1bmlxdWU6IHRydWUgfSxcbiAgICBsYWJlbDogeyBtdWx0aXBsZTogdHJ1ZSwgdW5pcXVlOiB0cnVlIH0sXG4gICAgZ3JvdXBpbmc6IHsgbXVsdGlwbGU6IGZhbHNlIH0sXG4gICAgc3VidGl0bGU6IHsgbXVsdGlwbGU6IHRydWUgfSxcbiAgICBkaXNjc3VidGl0bGU6IHsgbXVsdGlwbGU6IGZhbHNlIH0sXG4gICAgdG90YWx0cmFja3M6IHsgbXVsdGlwbGU6IGZhbHNlIH0sXG4gICAgdG90YWxkaXNjczogeyBtdWx0aXBsZTogZmFsc2UgfSxcbiAgICBjb21waWxhdGlvbjogeyBtdWx0aXBsZTogZmFsc2UgfSxcbiAgICByYXRpbmc6IHsgbXVsdGlwbGU6IHRydWUgfSxcbiAgICBicG06IHsgbXVsdGlwbGU6IGZhbHNlIH0sXG4gICAgbW9vZDogeyBtdWx0aXBsZTogZmFsc2UgfSxcbiAgICBtZWRpYTogeyBtdWx0aXBsZTogZmFsc2UgfSxcbiAgICBjYXRhbG9nbnVtYmVyOiB7IG11bHRpcGxlOiB0cnVlLCB1bmlxdWU6IHRydWUgfSxcbiAgICB0dlNob3c6IHsgbXVsdGlwbGU6IGZhbHNlIH0sXG4gICAgdHZTaG93U29ydDogeyBtdWx0aXBsZTogZmFsc2UgfSxcbiAgICB0dlNlYXNvbjogeyBtdWx0aXBsZTogZmFsc2UgfSxcbiAgICB0dkVwaXNvZGU6IHsgbXVsdGlwbGU6IGZhbHNlIH0sXG4gICAgdHZFcGlzb2RlSWQ6IHsgbXVsdGlwbGU6IGZhbHNlIH0sXG4gICAgdHZOZXR3b3JrOiB7IG11bHRpcGxlOiBmYWxzZSB9LFxuICAgIHBvZGNhc3Q6IHsgbXVsdGlwbGU6IGZhbHNlIH0sXG4gICAgcG9kY2FzdHVybDogeyBtdWx0aXBsZTogZmFsc2UgfSxcbiAgICByZWxlYXNlc3RhdHVzOiB7IG11bHRpcGxlOiBmYWxzZSB9LFxuICAgIHJlbGVhc2V0eXBlOiB7IG11bHRpcGxlOiB0cnVlIH0sXG4gICAgcmVsZWFzZWNvdW50cnk6IHsgbXVsdGlwbGU6IGZhbHNlIH0sXG4gICAgc2NyaXB0OiB7IG11bHRpcGxlOiBmYWxzZSB9LFxuICAgIGxhbmd1YWdlOiB7IG11bHRpcGxlOiBmYWxzZSB9LFxuICAgIGNvcHlyaWdodDogeyBtdWx0aXBsZTogZmFsc2UgfSxcbiAgICBsaWNlbnNlOiB7IG11bHRpcGxlOiBmYWxzZSB9LFxuICAgIGVuY29kZWRieTogeyBtdWx0aXBsZTogZmFsc2UgfSxcbiAgICBlbmNvZGVyc2V0dGluZ3M6IHsgbXVsdGlwbGU6IGZhbHNlIH0sXG4gICAgZ2FwbGVzczogeyBtdWx0aXBsZTogZmFsc2UgfSxcbiAgICBiYXJjb2RlOiB7IG11bHRpcGxlOiBmYWxzZSB9LFxuICAgIGlzcmM6IHsgbXVsdGlwbGU6IHRydWUgfSxcbiAgICBhc2luOiB7IG11bHRpcGxlOiBmYWxzZSB9LFxuICAgIG11c2ljYnJhaW56X3JlY29yZGluZ2lkOiB7IG11bHRpcGxlOiBmYWxzZSB9LFxuICAgIG11c2ljYnJhaW56X3RyYWNraWQ6IHsgbXVsdGlwbGU6IGZhbHNlIH0sXG4gICAgbXVzaWNicmFpbnpfYWxidW1pZDogeyBtdWx0aXBsZTogZmFsc2UgfSxcbiAgICBtdXNpY2JyYWluel9hcnRpc3RpZDogeyBtdWx0aXBsZTogdHJ1ZSB9LFxuICAgIG11c2ljYnJhaW56X2FsYnVtYXJ0aXN0aWQ6IHsgbXVsdGlwbGU6IHRydWUgfSxcbiAgICBtdXNpY2JyYWluel9yZWxlYXNlZ3JvdXBpZDogeyBtdWx0aXBsZTogZmFsc2UgfSxcbiAgICBtdXNpY2JyYWluel93b3JraWQ6IHsgbXVsdGlwbGU6IGZhbHNlIH0sXG4gICAgbXVzaWNicmFpbnpfdHJtaWQ6IHsgbXVsdGlwbGU6IGZhbHNlIH0sXG4gICAgbXVzaWNicmFpbnpfZGlzY2lkOiB7IG11bHRpcGxlOiBmYWxzZSB9LFxuICAgIGFjb3VzdGlkX2lkOiB7IG11bHRpcGxlOiBmYWxzZSB9LFxuICAgIGFjb3VzdGlkX2ZpbmdlcnByaW50OiB7IG11bHRpcGxlOiBmYWxzZSB9LFxuICAgIG11c2ljaXBfcHVpZDogeyBtdWx0aXBsZTogZmFsc2UgfSxcbiAgICBtdXNpY2lwX2ZpbmdlcnByaW50OiB7IG11bHRpcGxlOiBmYWxzZSB9LFxuICAgIHdlYnNpdGU6IHsgbXVsdGlwbGU6IGZhbHNlIH0sXG4gICAgJ3BlcmZvcm1lcjppbnN0cnVtZW50JzogeyBtdWx0aXBsZTogdHJ1ZSwgdW5pcXVlOiB0cnVlIH0sXG4gICAgYXZlcmFnZUxldmVsOiB7IG11bHRpcGxlOiBmYWxzZSB9LFxuICAgIHBlYWtMZXZlbDogeyBtdWx0aXBsZTogZmFsc2UgfSxcbiAgICBub3RlczogeyBtdWx0aXBsZTogdHJ1ZSwgdW5pcXVlOiBmYWxzZSB9LFxuICAgIGtleTogeyBtdWx0aXBsZTogZmFsc2UgfSxcbiAgICBvcmlnaW5hbGFsYnVtOiB7IG11bHRpcGxlOiBmYWxzZSB9LFxuICAgIG9yaWdpbmFsYXJ0aXN0OiB7IG11bHRpcGxlOiBmYWxzZSB9LFxuICAgIGRpc2NvZ3NfYXJ0aXN0X2lkOiB7IG11bHRpcGxlOiB0cnVlLCB1bmlxdWU6IHRydWUgfSxcbiAgICBkaXNjb2dzX3JlbGVhc2VfaWQ6IHsgbXVsdGlwbGU6IGZhbHNlIH0sXG4gICAgZGlzY29nc19sYWJlbF9pZDogeyBtdWx0aXBsZTogZmFsc2UgfSxcbiAgICBkaXNjb2dzX21hc3Rlcl9yZWxlYXNlX2lkOiB7IG11bHRpcGxlOiBmYWxzZSB9LFxuICAgIGRpc2NvZ3Nfdm90ZXM6IHsgbXVsdGlwbGU6IGZhbHNlIH0sXG4gICAgZGlzY29nc19yYXRpbmc6IHsgbXVsdGlwbGU6IGZhbHNlIH0sXG4gICAgcmVwbGF5Z2Fpbl90cmFja19wZWFrOiB7IG11bHRpcGxlOiBmYWxzZSB9LFxuICAgIHJlcGxheWdhaW5fdHJhY2tfZ2FpbjogeyBtdWx0aXBsZTogZmFsc2UgfSxcbiAgICByZXBsYXlnYWluX2FsYnVtX3BlYWs6IHsgbXVsdGlwbGU6IGZhbHNlIH0sXG4gICAgcmVwbGF5Z2Fpbl9hbGJ1bV9nYWluOiB7IG11bHRpcGxlOiBmYWxzZSB9LFxuICAgIHJlcGxheWdhaW5fdHJhY2tfbWlubWF4OiB7IG11bHRpcGxlOiBmYWxzZSB9LFxuICAgIHJlcGxheWdhaW5fYWxidW1fbWlubWF4OiB7IG11bHRpcGxlOiBmYWxzZSB9LFxuICAgIHJlcGxheWdhaW5fdW5kbzogeyBtdWx0aXBsZTogZmFsc2UgfSxcbiAgICBkZXNjcmlwdGlvbjogeyBtdWx0aXBsZTogdHJ1ZSB9LFxuICAgIGxvbmdEZXNjcmlwdGlvbjogeyBtdWx0aXBsZTogZmFsc2UgfSxcbiAgICBjYXRlZ29yeTogeyBtdWx0aXBsZTogdHJ1ZSB9LFxuICAgIGhkVmlkZW86IHsgbXVsdGlwbGU6IGZhbHNlIH0sXG4gICAga2V5d29yZHM6IHsgbXVsdGlwbGU6IHRydWUgfSxcbiAgICBtb3ZlbWVudDogeyBtdWx0aXBsZTogZmFsc2UgfSxcbiAgICBtb3ZlbWVudEluZGV4OiB7IG11bHRpcGxlOiBmYWxzZSB9LFxuICAgIG1vdmVtZW50VG90YWw6IHsgbXVsdGlwbGU6IGZhbHNlIH0sXG4gICAgcG9kY2FzdElkOiB7IG11bHRpcGxlOiBmYWxzZSB9LFxuICAgIHNob3dNb3ZlbWVudDogeyBtdWx0aXBsZTogZmFsc2UgfSxcbiAgICBzdGlrOiB7IG11bHRpcGxlOiBmYWxzZSB9XG59O1xuLyoqXG4gKiBAcGFyYW0gYWxpYXMgTmFtZSBvZiBjb21tb24gdGFnXG4gKiBAcmV0dXJucyB7Ym9vbGVhbnwqfSB0cnVlIGlmIGdpdmVuIGFsaWFzIGlzIG1hcHBlZCBhcyBhIHNpbmdsZXRvbicsIG90aGVyd2lzZSBmYWxzZVxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNTaW5nbGV0b24oYWxpYXMpIHtcbiAgICByZXR1cm4gY29tbW9uVGFnc1thbGlhc10gJiYgIWNvbW1vblRhZ3NbYWxpYXNdLm11bHRpcGxlO1xufVxuLyoqXG4gKiBAcGFyYW0gYWxpYXMgQ29tbW9uIChnZW5lcmljKSB0YWdcbiAqIEByZXR1cm5zIHtib29sZWFufCp9IHRydWUgaWYgZ2l2ZW4gYWxpYXMgaXMgYSBzaW5nbGV0b24gb3IgZXhwbGljaXRseSBtYXJrZWQgYXMgdW5pcXVlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc1VuaXF1ZShhbGlhcykge1xuICAgIHJldHVybiAhY29tbW9uVGFnc1thbGlhc10ubXVsdGlwbGUgfHwgY29tbW9uVGFnc1thbGlhc10udW5pcXVlIHx8IGZhbHNlO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9R2VuZXJpY1RhZ1R5cGVzLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/music-metadata/lib/common/GenericTagTypes.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/music-metadata/lib/common/MetadataCollector.js":
/*!*********************************************************************!*\
  !*** ./node_modules/music-metadata/lib/common/MetadataCollector.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   MetadataCollector: () => (/* binding */ MetadataCollector),\n/* harmony export */   joinArtists: () => (/* binding */ joinArtists)\n/* harmony export */ });\n/* harmony import */ var _type_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../type.js */ \"(ssr)/./node_modules/music-metadata/lib/type.js\");\n/* harmony import */ var debug__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! debug */ \"(ssr)/./node_modules/debug/src/index.js\");\n/* harmony import */ var _GenericTagTypes_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./GenericTagTypes.js */ \"(ssr)/./node_modules/music-metadata/lib/common/GenericTagTypes.js\");\n/* harmony import */ var _CombinedTagMapper_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./CombinedTagMapper.js */ \"(ssr)/./node_modules/music-metadata/lib/common/CombinedTagMapper.js\");\n/* harmony import */ var _GenericTagMapper_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./GenericTagMapper.js */ \"(ssr)/./node_modules/music-metadata/lib/common/GenericTagMapper.js\");\n/* harmony import */ var _Util_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./Util.js */ \"(ssr)/./node_modules/music-metadata/lib/common/Util.js\");\n/* harmony import */ var file_type__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! file-type */ \"(ssr)/./node_modules/file-type/core.js\");\n\n\n\n\n\n\n\nconst debug = debug__WEBPACK_IMPORTED_MODULE_1__('music-metadata:collector');\nconst TagPriority = ['matroska', 'APEv2', 'vorbis', 'ID3v2.4', 'ID3v2.3', 'ID3v2.2', 'exif', 'asf', 'iTunes', 'AIFF', 'ID3v1'];\n/**\n * Provided to the parser to uodate the metadata result.\n * Responsible for triggering async updates\n */\nclass MetadataCollector {\n    constructor(opts) {\n        this.opts = opts;\n        this.format = {\n            tagTypes: [],\n            trackInfo: []\n        };\n        this.native = {};\n        this.common = {\n            track: { no: null, of: null },\n            disk: { no: null, of: null },\n            movementIndex: { no: null, of: null }\n        };\n        this.quality = {\n            warnings: []\n        };\n        /**\n         * Keeps track of origin priority for each mapped id\n         */\n        this.commonOrigin = {};\n        /**\n         * Maps a tag type to a priority\n         */\n        this.originPriority = {};\n        this.tagMapper = new _CombinedTagMapper_js__WEBPACK_IMPORTED_MODULE_3__.CombinedTagMapper();\n        let priority = 1;\n        for (const tagType of TagPriority) {\n            this.originPriority[tagType] = priority++;\n        }\n        this.originPriority.artificial = 500; // Filled using alternative tags\n        this.originPriority.id3v1 = 600; // Consider as the worst because of the field length limit\n    }\n    /**\n     * @returns {boolean} true if one or more tags have been found\n     */\n    hasAny() {\n        return Object.keys(this.native).length > 0;\n    }\n    addStreamInfo(streamInfo) {\n        debug(`streamInfo: type=${streamInfo.type ? _type_js__WEBPACK_IMPORTED_MODULE_0__.TrackType[streamInfo.type] : '?'}, codec=${streamInfo.codecName}`);\n        this.format.trackInfo.push(streamInfo);\n    }\n    setFormat(key, value) {\n        var _a;\n        debug(`format: ${key} = ${value}`);\n        this.format[key] = value; // as any to override readonly\n        if ((_a = this.opts) === null || _a === void 0 ? void 0 : _a.observer) {\n            this.opts.observer({ metadata: this, tag: { type: 'format', id: key, value } });\n        }\n    }\n    async addTag(tagType, tagId, value) {\n        debug(`tag ${tagType}.${tagId} = ${value}`);\n        if (!this.native[tagType]) {\n            this.format.tagTypes.push(tagType);\n            this.native[tagType] = [];\n        }\n        this.native[tagType].push({ id: tagId, value });\n        await this.toCommon(tagType, tagId, value);\n    }\n    addWarning(warning) {\n        this.quality.warnings.push({ message: warning });\n    }\n    async postMap(tagType, tag) {\n        // Common tag (alias) found\n        // check if we need to do something special with common tag\n        // if the event has been aliased then we need to clean it before\n        // it is emitted to the user. e.g. genre (20) -> Electronic\n        switch (tag.id) {\n            case 'artist':\n                if (this.commonOrigin.artist === this.originPriority[tagType]) {\n                    // Assume the artist field is used as artists\n                    return this.postMap('artificial', { id: 'artists', value: tag.value });\n                }\n                if (!this.common.artists) {\n                    // Fill artists using artist source\n                    this.setGenericTag('artificial', { id: 'artists', value: tag.value });\n                }\n                break;\n            case 'artists':\n                if (!this.common.artist || this.commonOrigin.artist === this.originPriority.artificial) {\n                    if (!this.common.artists || this.common.artists.indexOf(tag.value) === -1) {\n                        // Fill artist using artists source\n                        const artists = (this.common.artists || []).concat([tag.value]);\n                        const value = joinArtists(artists);\n                        const artistTag = { id: 'artist', value };\n                        this.setGenericTag('artificial', artistTag);\n                    }\n                }\n                break;\n            case 'picture':\n                return this.postFixPicture(tag.value).then(picture => {\n                    if (picture !== null) {\n                        tag.value = picture;\n                        this.setGenericTag(tagType, tag);\n                    }\n                });\n            case 'totaltracks':\n                this.common.track.of = _GenericTagMapper_js__WEBPACK_IMPORTED_MODULE_4__.CommonTagMapper.toIntOrNull(tag.value);\n                return;\n            case 'totaldiscs':\n                this.common.disk.of = _GenericTagMapper_js__WEBPACK_IMPORTED_MODULE_4__.CommonTagMapper.toIntOrNull(tag.value);\n                return;\n            case 'movementTotal':\n                this.common.movementIndex.of = _GenericTagMapper_js__WEBPACK_IMPORTED_MODULE_4__.CommonTagMapper.toIntOrNull(tag.value);\n                return;\n            case 'track':\n            case 'disk':\n            case 'movementIndex': {\n                const of = this.common[tag.id].of; // store of value, maybe maybe overwritten\n                this.common[tag.id] = _GenericTagMapper_js__WEBPACK_IMPORTED_MODULE_4__.CommonTagMapper.normalizeTrack(tag.value);\n                this.common[tag.id].of = of != null ? of : this.common[tag.id].of;\n                return;\n            }\n            case 'bpm':\n            case 'year':\n            case 'originalyear':\n                tag.value = Number.parseInt(tag.value, 10);\n                break;\n            case 'date': {\n                // ToDo: be more strict on 'YYYY...'\n                const year = Number.parseInt(tag.value.substr(0, 4), 10);\n                if (!Number.isNaN(year)) {\n                    this.common.year = year;\n                }\n                break;\n            }\n            case 'discogs_label_id':\n            case 'discogs_release_id':\n            case 'discogs_master_release_id':\n            case 'discogs_artist_id':\n            case 'discogs_votes':\n                tag.value = typeof tag.value === 'string' ? Number.parseInt(tag.value, 10) : tag.value;\n                break;\n            case 'replaygain_track_gain':\n            case 'replaygain_track_peak':\n            case 'replaygain_album_gain':\n            case 'replaygain_album_peak':\n                tag.value = (0,_Util_js__WEBPACK_IMPORTED_MODULE_5__.toRatio)(tag.value);\n                break;\n            case 'replaygain_track_minmax':\n                tag.value = tag.value.split(',').map(v => Number.parseInt(v, 10));\n                break;\n            case 'replaygain_undo': {\n                const minMix = tag.value.split(',').map(v => Number.parseInt(v, 10));\n                tag.value = {\n                    leftChannel: minMix[0],\n                    rightChannel: minMix[1]\n                };\n                break;\n            }\n            case 'gapless': // iTunes gap-less flag\n            case 'compilation':\n            case 'podcast':\n            case 'showMovement':\n                tag.value = tag.value === '1' || tag.value === 1; // boolean\n                break;\n            case 'isrc': { // Only keep unique values\n                const commonTag = this.common[tag.id];\n                if (commonTag && commonTag.indexOf(tag.value) !== -1)\n                    return;\n                break;\n            }\n            case 'comment':\n                if (typeof tag.value === 'string') {\n                    tag.value = { text: tag.value };\n                }\n                if (tag.value.descriptor === 'iTunPGAP') {\n                    this.setGenericTag(tagType, { id: 'gapless', value: tag.value.text === '1' });\n                }\n                break;\n            default:\n            // nothing to do\n        }\n        if (tag.value !== null) {\n            this.setGenericTag(tagType, tag);\n        }\n    }\n    /**\n     * Convert native tags to common tags\n     * @returns {IAudioMetadata} Native + common tags\n     */\n    toCommonMetadata() {\n        return {\n            format: this.format,\n            native: this.native,\n            quality: this.quality,\n            common: this.common\n        };\n    }\n    /**\n     * Fix some common issues with picture object\n     * @param picture Picture\n     */\n    async postFixPicture(picture) {\n        if (picture.data && picture.data.length > 0) {\n            if (!picture.format) {\n                const fileType = await (0,file_type__WEBPACK_IMPORTED_MODULE_6__.fileTypeFromBuffer)(Uint8Array.from(picture.data)); // ToDO: remove Buffer\n                if (fileType) {\n                    picture.format = fileType.mime;\n                }\n                else {\n                    return null;\n                }\n            }\n            picture.format = picture.format.toLocaleLowerCase();\n            switch (picture.format) {\n                case 'image/jpg':\n                    picture.format = 'image/jpeg'; // ToDo: register warning\n            }\n            return picture;\n        }\n        this.addWarning(\"Empty picture tag found\");\n        return null;\n    }\n    /**\n     * Convert native tag to common tags\n     */\n    async toCommon(tagType, tagId, value) {\n        const tag = { id: tagId, value };\n        const genericTag = this.tagMapper.mapTag(tagType, tag, this);\n        if (genericTag) {\n            await this.postMap(tagType, genericTag);\n        }\n    }\n    /**\n     * Set generic tag\n     */\n    setGenericTag(tagType, tag) {\n        var _a;\n        debug(`common.${tag.id} = ${tag.value}`);\n        const prio0 = this.commonOrigin[tag.id] || 1000;\n        const prio1 = this.originPriority[tagType];\n        if ((0,_GenericTagTypes_js__WEBPACK_IMPORTED_MODULE_2__.isSingleton)(tag.id)) {\n            if (prio1 <= prio0) {\n                this.common[tag.id] = tag.value;\n                this.commonOrigin[tag.id] = prio1;\n            }\n            else {\n                return debug(`Ignore native tag (singleton): ${tagType}.${tag.id} = ${tag.value}`);\n            }\n        }\n        else {\n            if (prio1 === prio0) {\n                if (!(0,_GenericTagTypes_js__WEBPACK_IMPORTED_MODULE_2__.isUnique)(tag.id) || this.common[tag.id].indexOf(tag.value) === -1) {\n                    this.common[tag.id].push(tag.value);\n                }\n                else {\n                    debug(`Ignore duplicate value: ${tagType}.${tag.id} = ${tag.value}`);\n                }\n                // no effect? this.commonOrigin[tag.id] = prio1;\n            }\n            else if (prio1 < prio0) {\n                this.common[tag.id] = [tag.value];\n                this.commonOrigin[tag.id] = prio1;\n            }\n            else {\n                return debug(`Ignore native tag (list): ${tagType}.${tag.id} = ${tag.value}`);\n            }\n        }\n        if ((_a = this.opts) === null || _a === void 0 ? void 0 : _a.observer) {\n            this.opts.observer({ metadata: this, tag: { type: 'common', id: tag.id, value: tag.value } });\n        }\n        // ToDo: trigger metadata event\n    }\n}\nfunction joinArtists(artists) {\n    if (artists.length > 2) {\n        return `${artists.slice(0, artists.length - 1).join(', ')} & ${artists[artists.length - 1]}`;\n    }\n    return artists.join(' & ');\n}\n//# sourceMappingURL=MetadataCollector.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbXVzaWMtbWV0YWRhdGEvbGliL2NvbW1vbi9NZXRhZGF0YUNvbGxlY3Rvci5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7QUFBdUM7QUFDVDtBQUMrQjtBQUNGO0FBQ0g7QUFDcEI7QUFDVztBQUMvQyxjQUFjLGtDQUFTO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUIsb0JBQW9CO0FBQ3pDLG9CQUFvQixvQkFBb0I7QUFDeEMsNkJBQTZCO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QixvRUFBaUI7QUFDOUM7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4Q0FBOEM7QUFDOUMseUNBQXlDO0FBQ3pDO0FBQ0E7QUFDQSxpQkFBaUIsU0FBUztBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0NBQWtDLGtCQUFrQiwrQ0FBUyx3QkFBd0IsVUFBVSxxQkFBcUI7QUFDcEg7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUIsS0FBSyxJQUFJLE1BQU07QUFDeEMsa0NBQWtDO0FBQ2xDO0FBQ0EsaUNBQWlDLHVCQUF1QixrQ0FBa0M7QUFDMUY7QUFDQTtBQUNBO0FBQ0EscUJBQXFCLFFBQVEsR0FBRyxPQUFPLElBQUksTUFBTTtBQUNqRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9DQUFvQyxrQkFBa0I7QUFDdEQ7QUFDQTtBQUNBO0FBQ0EscUNBQXFDLGtCQUFrQjtBQUN2RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdEQUF3RCxpQ0FBaUM7QUFDekY7QUFDQTtBQUNBO0FBQ0EsdURBQXVELGlDQUFpQztBQUN4RjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNENBQTRDO0FBQzVDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0EsdUNBQXVDLGlFQUFlO0FBQ3REO0FBQ0E7QUFDQSxzQ0FBc0MsaUVBQWU7QUFDckQ7QUFDQTtBQUNBLCtDQUErQyxpRUFBZTtBQUM5RDtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1EQUFtRDtBQUNuRCxzQ0FBc0MsaUVBQWU7QUFDckQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLGlEQUFPO0FBQ25DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0VBQWtFO0FBQ2xFO0FBQ0EsMkJBQTJCO0FBQzNCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0NBQWtDO0FBQ2xDO0FBQ0E7QUFDQSxrREFBa0QsOENBQThDO0FBQ2hHO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsZ0JBQWdCO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUNBQXVDLDZEQUFrQixpQ0FBaUM7QUFDMUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtREFBbUQ7QUFDbkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0I7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsUUFBUSxJQUFJLFVBQVU7QUFDOUM7QUFDQTtBQUNBLFlBQVksZ0VBQVc7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtEQUErRCxRQUFRLEdBQUcsUUFBUSxJQUFJLFVBQVU7QUFDaEc7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUIsNkRBQVE7QUFDN0I7QUFDQTtBQUNBO0FBQ0EscURBQXFELFFBQVEsR0FBRyxRQUFRLElBQUksVUFBVTtBQUN0RjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMERBQTBELFFBQVEsR0FBRyxRQUFRLElBQUksVUFBVTtBQUMzRjtBQUNBO0FBQ0E7QUFDQSxpQ0FBaUMsdUJBQXVCLGdEQUFnRDtBQUN4RztBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQSxrQkFBa0IsaURBQWlELElBQUksNEJBQTRCO0FBQ25HO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZGV2ZWxldmF0ZS8uL25vZGVfbW9kdWxlcy9tdXNpYy1tZXRhZGF0YS9saWIvY29tbW9uL01ldGFkYXRhQ29sbGVjdG9yLmpzPzdjYWUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgVHJhY2tUeXBlIH0gZnJvbSAnLi4vdHlwZS5qcyc7XG5pbXBvcnQgaW5pdERlYnVnIGZyb20gJ2RlYnVnJztcbmltcG9ydCB7IGlzU2luZ2xldG9uLCBpc1VuaXF1ZSB9IGZyb20gJy4vR2VuZXJpY1RhZ1R5cGVzLmpzJztcbmltcG9ydCB7IENvbWJpbmVkVGFnTWFwcGVyIH0gZnJvbSAnLi9Db21iaW5lZFRhZ01hcHBlci5qcyc7XG5pbXBvcnQgeyBDb21tb25UYWdNYXBwZXIgfSBmcm9tICcuL0dlbmVyaWNUYWdNYXBwZXIuanMnO1xuaW1wb3J0IHsgdG9SYXRpbyB9IGZyb20gJy4vVXRpbC5qcyc7XG5pbXBvcnQgeyBmaWxlVHlwZUZyb21CdWZmZXIgfSBmcm9tICdmaWxlLXR5cGUnO1xuY29uc3QgZGVidWcgPSBpbml0RGVidWcoJ211c2ljLW1ldGFkYXRhOmNvbGxlY3RvcicpO1xuY29uc3QgVGFnUHJpb3JpdHkgPSBbJ21hdHJvc2thJywgJ0FQRXYyJywgJ3ZvcmJpcycsICdJRDN2Mi40JywgJ0lEM3YyLjMnLCAnSUQzdjIuMicsICdleGlmJywgJ2FzZicsICdpVHVuZXMnLCAnQUlGRicsICdJRDN2MSddO1xuLyoqXG4gKiBQcm92aWRlZCB0byB0aGUgcGFyc2VyIHRvIHVvZGF0ZSB0aGUgbWV0YWRhdGEgcmVzdWx0LlxuICogUmVzcG9uc2libGUgZm9yIHRyaWdnZXJpbmcgYXN5bmMgdXBkYXRlc1xuICovXG5leHBvcnQgY2xhc3MgTWV0YWRhdGFDb2xsZWN0b3Ige1xuICAgIGNvbnN0cnVjdG9yKG9wdHMpIHtcbiAgICAgICAgdGhpcy5vcHRzID0gb3B0cztcbiAgICAgICAgdGhpcy5mb3JtYXQgPSB7XG4gICAgICAgICAgICB0YWdUeXBlczogW10sXG4gICAgICAgICAgICB0cmFja0luZm86IFtdXG4gICAgICAgIH07XG4gICAgICAgIHRoaXMubmF0aXZlID0ge307XG4gICAgICAgIHRoaXMuY29tbW9uID0ge1xuICAgICAgICAgICAgdHJhY2s6IHsgbm86IG51bGwsIG9mOiBudWxsIH0sXG4gICAgICAgICAgICBkaXNrOiB7IG5vOiBudWxsLCBvZjogbnVsbCB9LFxuICAgICAgICAgICAgbW92ZW1lbnRJbmRleDogeyBubzogbnVsbCwgb2Y6IG51bGwgfVxuICAgICAgICB9O1xuICAgICAgICB0aGlzLnF1YWxpdHkgPSB7XG4gICAgICAgICAgICB3YXJuaW5nczogW11cbiAgICAgICAgfTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEtlZXBzIHRyYWNrIG9mIG9yaWdpbiBwcmlvcml0eSBmb3IgZWFjaCBtYXBwZWQgaWRcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuY29tbW9uT3JpZ2luID0ge307XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBNYXBzIGEgdGFnIHR5cGUgdG8gYSBwcmlvcml0eVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5vcmlnaW5Qcmlvcml0eSA9IHt9O1xuICAgICAgICB0aGlzLnRhZ01hcHBlciA9IG5ldyBDb21iaW5lZFRhZ01hcHBlcigpO1xuICAgICAgICBsZXQgcHJpb3JpdHkgPSAxO1xuICAgICAgICBmb3IgKGNvbnN0IHRhZ1R5cGUgb2YgVGFnUHJpb3JpdHkpIHtcbiAgICAgICAgICAgIHRoaXMub3JpZ2luUHJpb3JpdHlbdGFnVHlwZV0gPSBwcmlvcml0eSsrO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMub3JpZ2luUHJpb3JpdHkuYXJ0aWZpY2lhbCA9IDUwMDsgLy8gRmlsbGVkIHVzaW5nIGFsdGVybmF0aXZlIHRhZ3NcbiAgICAgICAgdGhpcy5vcmlnaW5Qcmlvcml0eS5pZDN2MSA9IDYwMDsgLy8gQ29uc2lkZXIgYXMgdGhlIHdvcnN0IGJlY2F1c2Ugb2YgdGhlIGZpZWxkIGxlbmd0aCBsaW1pdFxuICAgIH1cbiAgICAvKipcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gdHJ1ZSBpZiBvbmUgb3IgbW9yZSB0YWdzIGhhdmUgYmVlbiBmb3VuZFxuICAgICAqL1xuICAgIGhhc0FueSgpIHtcbiAgICAgICAgcmV0dXJuIE9iamVjdC5rZXlzKHRoaXMubmF0aXZlKS5sZW5ndGggPiAwO1xuICAgIH1cbiAgICBhZGRTdHJlYW1JbmZvKHN0cmVhbUluZm8pIHtcbiAgICAgICAgZGVidWcoYHN0cmVhbUluZm86IHR5cGU9JHtzdHJlYW1JbmZvLnR5cGUgPyBUcmFja1R5cGVbc3RyZWFtSW5mby50eXBlXSA6ICc/J30sIGNvZGVjPSR7c3RyZWFtSW5mby5jb2RlY05hbWV9YCk7XG4gICAgICAgIHRoaXMuZm9ybWF0LnRyYWNrSW5mby5wdXNoKHN0cmVhbUluZm8pO1xuICAgIH1cbiAgICBzZXRGb3JtYXQoa2V5LCB2YWx1ZSkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIGRlYnVnKGBmb3JtYXQ6ICR7a2V5fSA9ICR7dmFsdWV9YCk7XG4gICAgICAgIHRoaXMuZm9ybWF0W2tleV0gPSB2YWx1ZTsgLy8gYXMgYW55IHRvIG92ZXJyaWRlIHJlYWRvbmx5XG4gICAgICAgIGlmICgoX2EgPSB0aGlzLm9wdHMpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5vYnNlcnZlcikge1xuICAgICAgICAgICAgdGhpcy5vcHRzLm9ic2VydmVyKHsgbWV0YWRhdGE6IHRoaXMsIHRhZzogeyB0eXBlOiAnZm9ybWF0JywgaWQ6IGtleSwgdmFsdWUgfSB9KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBhc3luYyBhZGRUYWcodGFnVHlwZSwgdGFnSWQsIHZhbHVlKSB7XG4gICAgICAgIGRlYnVnKGB0YWcgJHt0YWdUeXBlfS4ke3RhZ0lkfSA9ICR7dmFsdWV9YCk7XG4gICAgICAgIGlmICghdGhpcy5uYXRpdmVbdGFnVHlwZV0pIHtcbiAgICAgICAgICAgIHRoaXMuZm9ybWF0LnRhZ1R5cGVzLnB1c2godGFnVHlwZSk7XG4gICAgICAgICAgICB0aGlzLm5hdGl2ZVt0YWdUeXBlXSA9IFtdO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMubmF0aXZlW3RhZ1R5cGVdLnB1c2goeyBpZDogdGFnSWQsIHZhbHVlIH0pO1xuICAgICAgICBhd2FpdCB0aGlzLnRvQ29tbW9uKHRhZ1R5cGUsIHRhZ0lkLCB2YWx1ZSk7XG4gICAgfVxuICAgIGFkZFdhcm5pbmcod2FybmluZykge1xuICAgICAgICB0aGlzLnF1YWxpdHkud2FybmluZ3MucHVzaCh7IG1lc3NhZ2U6IHdhcm5pbmcgfSk7XG4gICAgfVxuICAgIGFzeW5jIHBvc3RNYXAodGFnVHlwZSwgdGFnKSB7XG4gICAgICAgIC8vIENvbW1vbiB0YWcgKGFsaWFzKSBmb3VuZFxuICAgICAgICAvLyBjaGVjayBpZiB3ZSBuZWVkIHRvIGRvIHNvbWV0aGluZyBzcGVjaWFsIHdpdGggY29tbW9uIHRhZ1xuICAgICAgICAvLyBpZiB0aGUgZXZlbnQgaGFzIGJlZW4gYWxpYXNlZCB0aGVuIHdlIG5lZWQgdG8gY2xlYW4gaXQgYmVmb3JlXG4gICAgICAgIC8vIGl0IGlzIGVtaXR0ZWQgdG8gdGhlIHVzZXIuIGUuZy4gZ2VucmUgKDIwKSAtPiBFbGVjdHJvbmljXG4gICAgICAgIHN3aXRjaCAodGFnLmlkKSB7XG4gICAgICAgICAgICBjYXNlICdhcnRpc3QnOlxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmNvbW1vbk9yaWdpbi5hcnRpc3QgPT09IHRoaXMub3JpZ2luUHJpb3JpdHlbdGFnVHlwZV0pIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gQXNzdW1lIHRoZSBhcnRpc3QgZmllbGQgaXMgdXNlZCBhcyBhcnRpc3RzXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnBvc3RNYXAoJ2FydGlmaWNpYWwnLCB7IGlkOiAnYXJ0aXN0cycsIHZhbHVlOiB0YWcudmFsdWUgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICghdGhpcy5jb21tb24uYXJ0aXN0cykge1xuICAgICAgICAgICAgICAgICAgICAvLyBGaWxsIGFydGlzdHMgdXNpbmcgYXJ0aXN0IHNvdXJjZVxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNldEdlbmVyaWNUYWcoJ2FydGlmaWNpYWwnLCB7IGlkOiAnYXJ0aXN0cycsIHZhbHVlOiB0YWcudmFsdWUgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnYXJ0aXN0cyc6XG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLmNvbW1vbi5hcnRpc3QgfHwgdGhpcy5jb21tb25PcmlnaW4uYXJ0aXN0ID09PSB0aGlzLm9yaWdpblByaW9yaXR5LmFydGlmaWNpYWwpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCF0aGlzLmNvbW1vbi5hcnRpc3RzIHx8IHRoaXMuY29tbW9uLmFydGlzdHMuaW5kZXhPZih0YWcudmFsdWUpID09PSAtMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gRmlsbCBhcnRpc3QgdXNpbmcgYXJ0aXN0cyBzb3VyY2VcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGFydGlzdHMgPSAodGhpcy5jb21tb24uYXJ0aXN0cyB8fCBbXSkuY29uY2F0KFt0YWcudmFsdWVdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gam9pbkFydGlzdHMoYXJ0aXN0cyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBhcnRpc3RUYWcgPSB7IGlkOiAnYXJ0aXN0JywgdmFsdWUgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0R2VuZXJpY1RhZygnYXJ0aWZpY2lhbCcsIGFydGlzdFRhZyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdwaWN0dXJlJzpcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5wb3N0Rml4UGljdHVyZSh0YWcudmFsdWUpLnRoZW4ocGljdHVyZSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChwaWN0dXJlICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0YWcudmFsdWUgPSBwaWN0dXJlO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRHZW5lcmljVGFnKHRhZ1R5cGUsIHRhZyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGNhc2UgJ3RvdGFsdHJhY2tzJzpcbiAgICAgICAgICAgICAgICB0aGlzLmNvbW1vbi50cmFjay5vZiA9IENvbW1vblRhZ01hcHBlci50b0ludE9yTnVsbCh0YWcudmFsdWUpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIGNhc2UgJ3RvdGFsZGlzY3MnOlxuICAgICAgICAgICAgICAgIHRoaXMuY29tbW9uLmRpc2sub2YgPSBDb21tb25UYWdNYXBwZXIudG9JbnRPck51bGwodGFnLnZhbHVlKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICBjYXNlICdtb3ZlbWVudFRvdGFsJzpcbiAgICAgICAgICAgICAgICB0aGlzLmNvbW1vbi5tb3ZlbWVudEluZGV4Lm9mID0gQ29tbW9uVGFnTWFwcGVyLnRvSW50T3JOdWxsKHRhZy52YWx1ZSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgY2FzZSAndHJhY2snOlxuICAgICAgICAgICAgY2FzZSAnZGlzayc6XG4gICAgICAgICAgICBjYXNlICdtb3ZlbWVudEluZGV4Jzoge1xuICAgICAgICAgICAgICAgIGNvbnN0IG9mID0gdGhpcy5jb21tb25bdGFnLmlkXS5vZjsgLy8gc3RvcmUgb2YgdmFsdWUsIG1heWJlIG1heWJlIG92ZXJ3cml0dGVuXG4gICAgICAgICAgICAgICAgdGhpcy5jb21tb25bdGFnLmlkXSA9IENvbW1vblRhZ01hcHBlci5ub3JtYWxpemVUcmFjayh0YWcudmFsdWUpO1xuICAgICAgICAgICAgICAgIHRoaXMuY29tbW9uW3RhZy5pZF0ub2YgPSBvZiAhPSBudWxsID8gb2YgOiB0aGlzLmNvbW1vblt0YWcuaWRdLm9mO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgJ2JwbSc6XG4gICAgICAgICAgICBjYXNlICd5ZWFyJzpcbiAgICAgICAgICAgIGNhc2UgJ29yaWdpbmFseWVhcic6XG4gICAgICAgICAgICAgICAgdGFnLnZhbHVlID0gTnVtYmVyLnBhcnNlSW50KHRhZy52YWx1ZSwgMTApO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnZGF0ZSc6IHtcbiAgICAgICAgICAgICAgICAvLyBUb0RvOiBiZSBtb3JlIHN0cmljdCBvbiAnWVlZWS4uLidcbiAgICAgICAgICAgICAgICBjb25zdCB5ZWFyID0gTnVtYmVyLnBhcnNlSW50KHRhZy52YWx1ZS5zdWJzdHIoMCwgNCksIDEwKTtcbiAgICAgICAgICAgICAgICBpZiAoIU51bWJlci5pc05hTih5ZWFyKSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbW1vbi55ZWFyID0geWVhcjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlICdkaXNjb2dzX2xhYmVsX2lkJzpcbiAgICAgICAgICAgIGNhc2UgJ2Rpc2NvZ3NfcmVsZWFzZV9pZCc6XG4gICAgICAgICAgICBjYXNlICdkaXNjb2dzX21hc3Rlcl9yZWxlYXNlX2lkJzpcbiAgICAgICAgICAgIGNhc2UgJ2Rpc2NvZ3NfYXJ0aXN0X2lkJzpcbiAgICAgICAgICAgIGNhc2UgJ2Rpc2NvZ3Nfdm90ZXMnOlxuICAgICAgICAgICAgICAgIHRhZy52YWx1ZSA9IHR5cGVvZiB0YWcudmFsdWUgPT09ICdzdHJpbmcnID8gTnVtYmVyLnBhcnNlSW50KHRhZy52YWx1ZSwgMTApIDogdGFnLnZhbHVlO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAncmVwbGF5Z2Fpbl90cmFja19nYWluJzpcbiAgICAgICAgICAgIGNhc2UgJ3JlcGxheWdhaW5fdHJhY2tfcGVhayc6XG4gICAgICAgICAgICBjYXNlICdyZXBsYXlnYWluX2FsYnVtX2dhaW4nOlxuICAgICAgICAgICAgY2FzZSAncmVwbGF5Z2Fpbl9hbGJ1bV9wZWFrJzpcbiAgICAgICAgICAgICAgICB0YWcudmFsdWUgPSB0b1JhdGlvKHRhZy52YWx1ZSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdyZXBsYXlnYWluX3RyYWNrX21pbm1heCc6XG4gICAgICAgICAgICAgICAgdGFnLnZhbHVlID0gdGFnLnZhbHVlLnNwbGl0KCcsJykubWFwKHYgPT4gTnVtYmVyLnBhcnNlSW50KHYsIDEwKSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdyZXBsYXlnYWluX3VuZG8nOiB7XG4gICAgICAgICAgICAgICAgY29uc3QgbWluTWl4ID0gdGFnLnZhbHVlLnNwbGl0KCcsJykubWFwKHYgPT4gTnVtYmVyLnBhcnNlSW50KHYsIDEwKSk7XG4gICAgICAgICAgICAgICAgdGFnLnZhbHVlID0ge1xuICAgICAgICAgICAgICAgICAgICBsZWZ0Q2hhbm5lbDogbWluTWl4WzBdLFxuICAgICAgICAgICAgICAgICAgICByaWdodENoYW5uZWw6IG1pbk1peFsxXVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlICdnYXBsZXNzJzogLy8gaVR1bmVzIGdhcC1sZXNzIGZsYWdcbiAgICAgICAgICAgIGNhc2UgJ2NvbXBpbGF0aW9uJzpcbiAgICAgICAgICAgIGNhc2UgJ3BvZGNhc3QnOlxuICAgICAgICAgICAgY2FzZSAnc2hvd01vdmVtZW50JzpcbiAgICAgICAgICAgICAgICB0YWcudmFsdWUgPSB0YWcudmFsdWUgPT09ICcxJyB8fCB0YWcudmFsdWUgPT09IDE7IC8vIGJvb2xlYW5cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ2lzcmMnOiB7IC8vIE9ubHkga2VlcCB1bmlxdWUgdmFsdWVzXG4gICAgICAgICAgICAgICAgY29uc3QgY29tbW9uVGFnID0gdGhpcy5jb21tb25bdGFnLmlkXTtcbiAgICAgICAgICAgICAgICBpZiAoY29tbW9uVGFnICYmIGNvbW1vblRhZy5pbmRleE9mKHRhZy52YWx1ZSkgIT09IC0xKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlICdjb21tZW50JzpcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHRhZy52YWx1ZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICAgICAgdGFnLnZhbHVlID0geyB0ZXh0OiB0YWcudmFsdWUgfTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHRhZy52YWx1ZS5kZXNjcmlwdG9yID09PSAnaVR1blBHQVAnKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0R2VuZXJpY1RhZyh0YWdUeXBlLCB7IGlkOiAnZ2FwbGVzcycsIHZhbHVlOiB0YWcudmFsdWUudGV4dCA9PT0gJzEnIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAvLyBub3RoaW5nIHRvIGRvXG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRhZy52YWx1ZSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy5zZXRHZW5lcmljVGFnKHRhZ1R5cGUsIHRhZyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogQ29udmVydCBuYXRpdmUgdGFncyB0byBjb21tb24gdGFnc1xuICAgICAqIEByZXR1cm5zIHtJQXVkaW9NZXRhZGF0YX0gTmF0aXZlICsgY29tbW9uIHRhZ3NcbiAgICAgKi9cbiAgICB0b0NvbW1vbk1ldGFkYXRhKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgZm9ybWF0OiB0aGlzLmZvcm1hdCxcbiAgICAgICAgICAgIG5hdGl2ZTogdGhpcy5uYXRpdmUsXG4gICAgICAgICAgICBxdWFsaXR5OiB0aGlzLnF1YWxpdHksXG4gICAgICAgICAgICBjb21tb246IHRoaXMuY29tbW9uXG4gICAgICAgIH07XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEZpeCBzb21lIGNvbW1vbiBpc3N1ZXMgd2l0aCBwaWN0dXJlIG9iamVjdFxuICAgICAqIEBwYXJhbSBwaWN0dXJlIFBpY3R1cmVcbiAgICAgKi9cbiAgICBhc3luYyBwb3N0Rml4UGljdHVyZShwaWN0dXJlKSB7XG4gICAgICAgIGlmIChwaWN0dXJlLmRhdGEgJiYgcGljdHVyZS5kYXRhLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGlmICghcGljdHVyZS5mb3JtYXQpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBmaWxlVHlwZSA9IGF3YWl0IGZpbGVUeXBlRnJvbUJ1ZmZlcihVaW50OEFycmF5LmZyb20ocGljdHVyZS5kYXRhKSk7IC8vIFRvRE86IHJlbW92ZSBCdWZmZXJcbiAgICAgICAgICAgICAgICBpZiAoZmlsZVR5cGUpIHtcbiAgICAgICAgICAgICAgICAgICAgcGljdHVyZS5mb3JtYXQgPSBmaWxlVHlwZS5taW1lO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcGljdHVyZS5mb3JtYXQgPSBwaWN0dXJlLmZvcm1hdC50b0xvY2FsZUxvd2VyQ2FzZSgpO1xuICAgICAgICAgICAgc3dpdGNoIChwaWN0dXJlLmZvcm1hdCkge1xuICAgICAgICAgICAgICAgIGNhc2UgJ2ltYWdlL2pwZyc6XG4gICAgICAgICAgICAgICAgICAgIHBpY3R1cmUuZm9ybWF0ID0gJ2ltYWdlL2pwZWcnOyAvLyBUb0RvOiByZWdpc3RlciB3YXJuaW5nXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcGljdHVyZTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmFkZFdhcm5pbmcoXCJFbXB0eSBwaWN0dXJlIHRhZyBmb3VuZFwiKTtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENvbnZlcnQgbmF0aXZlIHRhZyB0byBjb21tb24gdGFnc1xuICAgICAqL1xuICAgIGFzeW5jIHRvQ29tbW9uKHRhZ1R5cGUsIHRhZ0lkLCB2YWx1ZSkge1xuICAgICAgICBjb25zdCB0YWcgPSB7IGlkOiB0YWdJZCwgdmFsdWUgfTtcbiAgICAgICAgY29uc3QgZ2VuZXJpY1RhZyA9IHRoaXMudGFnTWFwcGVyLm1hcFRhZyh0YWdUeXBlLCB0YWcsIHRoaXMpO1xuICAgICAgICBpZiAoZ2VuZXJpY1RhZykge1xuICAgICAgICAgICAgYXdhaXQgdGhpcy5wb3N0TWFwKHRhZ1R5cGUsIGdlbmVyaWNUYWcpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNldCBnZW5lcmljIHRhZ1xuICAgICAqL1xuICAgIHNldEdlbmVyaWNUYWcodGFnVHlwZSwgdGFnKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgZGVidWcoYGNvbW1vbi4ke3RhZy5pZH0gPSAke3RhZy52YWx1ZX1gKTtcbiAgICAgICAgY29uc3QgcHJpbzAgPSB0aGlzLmNvbW1vbk9yaWdpblt0YWcuaWRdIHx8IDEwMDA7XG4gICAgICAgIGNvbnN0IHByaW8xID0gdGhpcy5vcmlnaW5Qcmlvcml0eVt0YWdUeXBlXTtcbiAgICAgICAgaWYgKGlzU2luZ2xldG9uKHRhZy5pZCkpIHtcbiAgICAgICAgICAgIGlmIChwcmlvMSA8PSBwcmlvMCkge1xuICAgICAgICAgICAgICAgIHRoaXMuY29tbW9uW3RhZy5pZF0gPSB0YWcudmFsdWU7XG4gICAgICAgICAgICAgICAgdGhpcy5jb21tb25PcmlnaW5bdGFnLmlkXSA9IHByaW8xO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGRlYnVnKGBJZ25vcmUgbmF0aXZlIHRhZyAoc2luZ2xldG9uKTogJHt0YWdUeXBlfS4ke3RhZy5pZH0gPSAke3RhZy52YWx1ZX1gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGlmIChwcmlvMSA9PT0gcHJpbzApIHtcbiAgICAgICAgICAgICAgICBpZiAoIWlzVW5pcXVlKHRhZy5pZCkgfHwgdGhpcy5jb21tb25bdGFnLmlkXS5pbmRleE9mKHRhZy52YWx1ZSkgPT09IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY29tbW9uW3RhZy5pZF0ucHVzaCh0YWcudmFsdWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgZGVidWcoYElnbm9yZSBkdXBsaWNhdGUgdmFsdWU6ICR7dGFnVHlwZX0uJHt0YWcuaWR9ID0gJHt0YWcudmFsdWV9YCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIG5vIGVmZmVjdD8gdGhpcy5jb21tb25PcmlnaW5bdGFnLmlkXSA9IHByaW8xO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAocHJpbzEgPCBwcmlvMCkge1xuICAgICAgICAgICAgICAgIHRoaXMuY29tbW9uW3RhZy5pZF0gPSBbdGFnLnZhbHVlXTtcbiAgICAgICAgICAgICAgICB0aGlzLmNvbW1vbk9yaWdpblt0YWcuaWRdID0gcHJpbzE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZGVidWcoYElnbm9yZSBuYXRpdmUgdGFnIChsaXN0KTogJHt0YWdUeXBlfS4ke3RhZy5pZH0gPSAke3RhZy52YWx1ZX1gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoKF9hID0gdGhpcy5vcHRzKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Eub2JzZXJ2ZXIpIHtcbiAgICAgICAgICAgIHRoaXMub3B0cy5vYnNlcnZlcih7IG1ldGFkYXRhOiB0aGlzLCB0YWc6IHsgdHlwZTogJ2NvbW1vbicsIGlkOiB0YWcuaWQsIHZhbHVlOiB0YWcudmFsdWUgfSB9KTtcbiAgICAgICAgfVxuICAgICAgICAvLyBUb0RvOiB0cmlnZ2VyIG1ldGFkYXRhIGV2ZW50XG4gICAgfVxufVxuZXhwb3J0IGZ1bmN0aW9uIGpvaW5BcnRpc3RzKGFydGlzdHMpIHtcbiAgICBpZiAoYXJ0aXN0cy5sZW5ndGggPiAyKSB7XG4gICAgICAgIHJldHVybiBgJHthcnRpc3RzLnNsaWNlKDAsIGFydGlzdHMubGVuZ3RoIC0gMSkuam9pbignLCAnKX0gJiAke2FydGlzdHNbYXJ0aXN0cy5sZW5ndGggLSAxXX1gO1xuICAgIH1cbiAgICByZXR1cm4gYXJ0aXN0cy5qb2luKCcgJiAnKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPU1ldGFkYXRhQ29sbGVjdG9yLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/music-metadata/lib/common/MetadataCollector.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/music-metadata/lib/common/RandomFileReader.js":
/*!********************************************************************!*\
  !*** ./node_modules/music-metadata/lib/common/RandomFileReader.js ***!
  \********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   RandomFileReader: () => (/* binding */ RandomFileReader)\n/* harmony export */ });\n/* harmony import */ var node_fs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! node:fs */ \"node:fs\");\n\n/**\n * Provides abstract file access via the IRandomRead interface\n */\nclass RandomFileReader {\n    constructor(fileHandle, filePath, fileSize) {\n        this.fileHandle = fileHandle;\n        this.filePath = filePath;\n        this.fileSize = fileSize;\n    }\n    /**\n     * Read from a given position of an abstracted file or buffer.\n     * @param buffer {Uint8Array} is the buffer that the data will be written to.\n     * @param offset {number} is the offset in the buffer to start writing at.\n     * @param length {number}is an integer specifying the number of bytes to read.\n     * @param position {number} is an argument specifying where to begin reading from in the file.\n     * @return {Promise<number>} bytes read\n     */\n    async randomRead(buffer, offset, length, position) {\n        const result = await this.fileHandle.read(buffer, offset, length, position);\n        return result.bytesRead;\n    }\n    async close() {\n        return this.fileHandle.close();\n    }\n    static async init(filePath, fileSize) {\n        const fileHandle = await node_fs__WEBPACK_IMPORTED_MODULE_0__.promises.open(filePath, 'r');\n        return new RandomFileReader(fileHandle, filePath, fileSize);\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbXVzaWMtbWV0YWRhdGEvbGliL2NvbW1vbi9SYW5kb21GaWxlUmVhZGVyLmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQThCO0FBQzlCO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0IsWUFBWTtBQUNsQyxzQkFBc0IsUUFBUTtBQUM5QixzQkFBc0IsT0FBTztBQUM3Qix3QkFBd0IsUUFBUTtBQUNoQyxnQkFBZ0IsaUJBQWlCO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlDQUFpQyw2Q0FBVztBQUM1QztBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9kZXZlbGV2YXRlLy4vbm9kZV9tb2R1bGVzL211c2ljLW1ldGFkYXRhL2xpYi9jb21tb24vUmFuZG9tRmlsZVJlYWRlci5qcz82ZDZmIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAqIGFzIGZzIGZyb20gJ25vZGU6ZnMnO1xuLyoqXG4gKiBQcm92aWRlcyBhYnN0cmFjdCBmaWxlIGFjY2VzcyB2aWEgdGhlIElSYW5kb21SZWFkIGludGVyZmFjZVxuICovXG5leHBvcnQgY2xhc3MgUmFuZG9tRmlsZVJlYWRlciB7XG4gICAgY29uc3RydWN0b3IoZmlsZUhhbmRsZSwgZmlsZVBhdGgsIGZpbGVTaXplKSB7XG4gICAgICAgIHRoaXMuZmlsZUhhbmRsZSA9IGZpbGVIYW5kbGU7XG4gICAgICAgIHRoaXMuZmlsZVBhdGggPSBmaWxlUGF0aDtcbiAgICAgICAgdGhpcy5maWxlU2l6ZSA9IGZpbGVTaXplO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZWFkIGZyb20gYSBnaXZlbiBwb3NpdGlvbiBvZiBhbiBhYnN0cmFjdGVkIGZpbGUgb3IgYnVmZmVyLlxuICAgICAqIEBwYXJhbSBidWZmZXIge1VpbnQ4QXJyYXl9IGlzIHRoZSBidWZmZXIgdGhhdCB0aGUgZGF0YSB3aWxsIGJlIHdyaXR0ZW4gdG8uXG4gICAgICogQHBhcmFtIG9mZnNldCB7bnVtYmVyfSBpcyB0aGUgb2Zmc2V0IGluIHRoZSBidWZmZXIgdG8gc3RhcnQgd3JpdGluZyBhdC5cbiAgICAgKiBAcGFyYW0gbGVuZ3RoIHtudW1iZXJ9aXMgYW4gaW50ZWdlciBzcGVjaWZ5aW5nIHRoZSBudW1iZXIgb2YgYnl0ZXMgdG8gcmVhZC5cbiAgICAgKiBAcGFyYW0gcG9zaXRpb24ge251bWJlcn0gaXMgYW4gYXJndW1lbnQgc3BlY2lmeWluZyB3aGVyZSB0byBiZWdpbiByZWFkaW5nIGZyb20gaW4gdGhlIGZpbGUuXG4gICAgICogQHJldHVybiB7UHJvbWlzZTxudW1iZXI+fSBieXRlcyByZWFkXG4gICAgICovXG4gICAgYXN5bmMgcmFuZG9tUmVhZChidWZmZXIsIG9mZnNldCwgbGVuZ3RoLCBwb3NpdGlvbikge1xuICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB0aGlzLmZpbGVIYW5kbGUucmVhZChidWZmZXIsIG9mZnNldCwgbGVuZ3RoLCBwb3NpdGlvbik7XG4gICAgICAgIHJldHVybiByZXN1bHQuYnl0ZXNSZWFkO1xuICAgIH1cbiAgICBhc3luYyBjbG9zZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZmlsZUhhbmRsZS5jbG9zZSgpO1xuICAgIH1cbiAgICBzdGF0aWMgYXN5bmMgaW5pdChmaWxlUGF0aCwgZmlsZVNpemUpIHtcbiAgICAgICAgY29uc3QgZmlsZUhhbmRsZSA9IGF3YWl0IGZzLnByb21pc2VzLm9wZW4oZmlsZVBhdGgsICdyJyk7XG4gICAgICAgIHJldHVybiBuZXcgUmFuZG9tRmlsZVJlYWRlcihmaWxlSGFuZGxlLCBmaWxlUGF0aCwgZmlsZVNpemUpO1xuICAgIH1cbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/music-metadata/lib/common/RandomFileReader.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/music-metadata/lib/common/RandomUint8ArrayReader.js":
/*!**************************************************************************!*\
  !*** ./node_modules/music-metadata/lib/common/RandomUint8ArrayReader.js ***!
  \**************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   RandomUint8ArrayReader: () => (/* binding */ RandomUint8ArrayReader)\n/* harmony export */ });\n/**\n * Provides abstract Uint8Array access via the IRandomRead interface\n */\nclass RandomUint8ArrayReader {\n    constructor(uint8Array) {\n        this.uint8Array = uint8Array;\n        this.fileSize = uint8Array.length;\n    }\n    /**\n     * Read from a given position of an abstracted file or buffer.\n     * @param uint8Array - Uint8Array that the data will be written to.\n     * @param offset - Offset in the buffer to start writing at.\n     * @param length - Integer specifying the number of bytes to read.\n     * @param position - Specifies where to begin reading from in the file.\n     * @return Promise providing bytes read\n     */\n    async randomRead(uint8Array, offset, length, position) {\n        uint8Array.set(this.uint8Array.subarray(position, position + length), offset);\n        return length;\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbXVzaWMtbWV0YWRhdGEvbGliL2NvbW1vbi9SYW5kb21VaW50OEFycmF5UmVhZGVyLmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9kZXZlbGV2YXRlLy4vbm9kZV9tb2R1bGVzL211c2ljLW1ldGFkYXRhL2xpYi9jb21tb24vUmFuZG9tVWludDhBcnJheVJlYWRlci5qcz9hYjhmIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogUHJvdmlkZXMgYWJzdHJhY3QgVWludDhBcnJheSBhY2Nlc3MgdmlhIHRoZSBJUmFuZG9tUmVhZCBpbnRlcmZhY2VcbiAqL1xuZXhwb3J0IGNsYXNzIFJhbmRvbVVpbnQ4QXJyYXlSZWFkZXIge1xuICAgIGNvbnN0cnVjdG9yKHVpbnQ4QXJyYXkpIHtcbiAgICAgICAgdGhpcy51aW50OEFycmF5ID0gdWludDhBcnJheTtcbiAgICAgICAgdGhpcy5maWxlU2l6ZSA9IHVpbnQ4QXJyYXkubGVuZ3RoO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZWFkIGZyb20gYSBnaXZlbiBwb3NpdGlvbiBvZiBhbiBhYnN0cmFjdGVkIGZpbGUgb3IgYnVmZmVyLlxuICAgICAqIEBwYXJhbSB1aW50OEFycmF5IC0gVWludDhBcnJheSB0aGF0IHRoZSBkYXRhIHdpbGwgYmUgd3JpdHRlbiB0by5cbiAgICAgKiBAcGFyYW0gb2Zmc2V0IC0gT2Zmc2V0IGluIHRoZSBidWZmZXIgdG8gc3RhcnQgd3JpdGluZyBhdC5cbiAgICAgKiBAcGFyYW0gbGVuZ3RoIC0gSW50ZWdlciBzcGVjaWZ5aW5nIHRoZSBudW1iZXIgb2YgYnl0ZXMgdG8gcmVhZC5cbiAgICAgKiBAcGFyYW0gcG9zaXRpb24gLSBTcGVjaWZpZXMgd2hlcmUgdG8gYmVnaW4gcmVhZGluZyBmcm9tIGluIHRoZSBmaWxlLlxuICAgICAqIEByZXR1cm4gUHJvbWlzZSBwcm92aWRpbmcgYnl0ZXMgcmVhZFxuICAgICAqL1xuICAgIGFzeW5jIHJhbmRvbVJlYWQodWludDhBcnJheSwgb2Zmc2V0LCBsZW5ndGgsIHBvc2l0aW9uKSB7XG4gICAgICAgIHVpbnQ4QXJyYXkuc2V0KHRoaXMudWludDhBcnJheS5zdWJhcnJheShwb3NpdGlvbiwgcG9zaXRpb24gKyBsZW5ndGgpLCBvZmZzZXQpO1xuICAgICAgICByZXR1cm4gbGVuZ3RoO1xuICAgIH1cbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/music-metadata/lib/common/RandomUint8ArrayReader.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/music-metadata/lib/common/Util.js":
/*!********************************************************!*\
  !*** ./node_modules/music-metadata/lib/common/Util.js ***!
  \********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   a2hex: () => (/* binding */ a2hex),\n/* harmony export */   dbToRatio: () => (/* binding */ dbToRatio),\n/* harmony export */   decodeString: () => (/* binding */ decodeString),\n/* harmony export */   findZero: () => (/* binding */ findZero),\n/* harmony export */   getBit: () => (/* binding */ getBit),\n/* harmony export */   getBitAllignedNumber: () => (/* binding */ getBitAllignedNumber),\n/* harmony export */   isBitSet: () => (/* binding */ isBitSet),\n/* harmony export */   ratioToDb: () => (/* binding */ ratioToDb),\n/* harmony export */   stripNulls: () => (/* binding */ stripNulls),\n/* harmony export */   toRatio: () => (/* binding */ toRatio),\n/* harmony export */   trimRightNull: () => (/* binding */ trimRightNull)\n/* harmony export */ });\n/* harmony import */ var token_types__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! token-types */ \"(ssr)/./node_modules/token-types/lib/index.js\");\n\nfunction getBit(buf, off, bit) {\n    return (buf[off] & (1 << bit)) !== 0;\n}\n/**\n * Found delimiting zero in uint8Array\n * @param uint8Array Uint8Array to find the zero delimiter in\n * @param start Offset in uint8Array\n * @param end Last position to parse in uint8Array\n * @param encoding The string encoding used\n * @return Absolute position on uint8Array where zero found\n */\nfunction findZero(uint8Array, start, end, encoding) {\n    let i = start;\n    if (encoding === 'utf-16le') {\n        while (uint8Array[i] !== 0 || uint8Array[i + 1] !== 0) {\n            if (i >= end)\n                return end;\n            i += 2;\n        }\n        return i;\n    }\n    while (uint8Array[i] !== 0) {\n        if (i >= end)\n            return end;\n        i++;\n    }\n    return i;\n}\nfunction trimRightNull(x) {\n    const pos0 = x.indexOf('\\0');\n    return pos0 === -1 ? x : x.substr(0, pos0);\n}\nfunction swapBytes(uint8Array) {\n    const l = uint8Array.length;\n    if ((l & 1) !== 0)\n        throw new Error('Buffer length must be even');\n    for (let i = 0; i < l; i += 2) {\n        const a = uint8Array[i];\n        uint8Array[i] = uint8Array[i + 1];\n        uint8Array[i + 1] = a;\n    }\n    return uint8Array;\n}\n/**\n * Decode string\n */\nfunction decodeString(uint8Array, encoding) {\n    // annoying workaround for a double BOM issue\n    // https://github.com/leetreveil/musicmetadata/issues/84\n    if (uint8Array[0] === 0xFF && uint8Array[1] === 0xFE) { // little endian\n        return decodeString(uint8Array.subarray(2), encoding);\n    }\n    if (encoding === 'utf-16le' && uint8Array[0] === 0xFE && uint8Array[1] === 0xFF) {\n        // BOM, indicating big endian decoding\n        if ((uint8Array.length & 1) !== 0)\n            throw new Error('Expected even number of octets for 16-bit unicode string');\n        return decodeString(swapBytes(uint8Array), encoding);\n    }\n    return new token_types__WEBPACK_IMPORTED_MODULE_0__.StringType(uint8Array.length, encoding).get(uint8Array, 0);\n}\nfunction stripNulls(str) {\n    str = str.replace(/^\\x00+/g, '');\n    str = str.replace(/\\x00+$/g, '');\n    return str;\n}\n/**\n * Read bit-aligned number start from buffer\n * Total offset in bits = byteOffset * 8 + bitOffset\n * @param source Byte buffer\n * @param byteOffset Starting offset in bytes\n * @param bitOffset Starting offset in bits: 0 = lsb\n * @param len Length of number in bits\n * @return Decoded bit aligned number\n */\nfunction getBitAllignedNumber(source, byteOffset, bitOffset, len) {\n    const byteOff = byteOffset + ~~(bitOffset / 8);\n    const bitOff = bitOffset % 8;\n    let value = source[byteOff];\n    value &= 0xff >> bitOff;\n    const bitsRead = 8 - bitOff;\n    const bitsLeft = len - bitsRead;\n    if (bitsLeft < 0) {\n        value >>= (8 - bitOff - len);\n    }\n    else if (bitsLeft > 0) {\n        value <<= bitsLeft;\n        value |= getBitAllignedNumber(source, byteOffset, bitOffset + bitsRead, bitsLeft);\n    }\n    return value;\n}\n/**\n * Read bit-aligned number start from buffer\n * Total offset in bits = byteOffset * 8 + bitOffset\n * @param source Byte Uint8Array\n * @param byteOffset Starting offset in bytes\n * @param bitOffset Starting offset in bits: 0 = most significant bit, 7 is the least significant bit\n * @return True if bit is set\n */\nfunction isBitSet(source, byteOffset, bitOffset) {\n    return getBitAllignedNumber(source, byteOffset, bitOffset, 1) === 1;\n}\nfunction a2hex(str) {\n    const arr = [];\n    for (let i = 0, l = str.length; i < l; i++) {\n        const hex = Number(str.charCodeAt(i)).toString(16);\n        arr.push(hex.length === 1 ? `0${hex}` : hex);\n    }\n    return arr.join(' ');\n}\n/**\n * Convert power ratio to DB\n * ratio: [0..1]\n */\nfunction ratioToDb(ratio) {\n    return 10 * Math.log10(ratio);\n}\n/**\n * Convert dB to ratio\n * db Decibels\n */\nfunction dbToRatio(dB) {\n    return 10 ** (dB / 10);\n}\n/**\n * Convert replay gain to ratio and Decibel\n * @param value string holding a ratio like '0.034' or '-7.54 dB'\n */\nfunction toRatio(value) {\n    const ps = value.split(' ').map(p => p.trim().toLowerCase());\n    // @ts-ignore\n    if (ps.length >= 1) {\n        const v = Number.parseFloat(ps[0]);\n        return ps.length === 2 && ps[1] === 'db' ? {\n            dB: v,\n            ratio: dbToRatio(v)\n        } : {\n            dB: ratioToDb(v),\n            ratio: v\n        };\n    }\n}\n//# sourceMappingURL=Util.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbXVzaWMtbWV0YWRhdGEvbGliL2NvbW1vbi9VdGlsLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7OztBQUF5QztBQUNsQztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsT0FBTztBQUMzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQSw0REFBNEQ7QUFDNUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsbURBQVU7QUFDekI7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ087QUFDUDtBQUNBLG9DQUFvQyxPQUFPO0FBQzNDO0FBQ0Esd0NBQXdDLElBQUk7QUFDNUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9kZXZlbGV2YXRlLy4vbm9kZV9tb2R1bGVzL211c2ljLW1ldGFkYXRhL2xpYi9jb21tb24vVXRpbC5qcz83ZDJiIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFN0cmluZ1R5cGUgfSBmcm9tICd0b2tlbi10eXBlcyc7XG5leHBvcnQgZnVuY3Rpb24gZ2V0Qml0KGJ1Ziwgb2ZmLCBiaXQpIHtcbiAgICByZXR1cm4gKGJ1ZltvZmZdICYgKDEgPDwgYml0KSkgIT09IDA7XG59XG4vKipcbiAqIEZvdW5kIGRlbGltaXRpbmcgemVybyBpbiB1aW50OEFycmF5XG4gKiBAcGFyYW0gdWludDhBcnJheSBVaW50OEFycmF5IHRvIGZpbmQgdGhlIHplcm8gZGVsaW1pdGVyIGluXG4gKiBAcGFyYW0gc3RhcnQgT2Zmc2V0IGluIHVpbnQ4QXJyYXlcbiAqIEBwYXJhbSBlbmQgTGFzdCBwb3NpdGlvbiB0byBwYXJzZSBpbiB1aW50OEFycmF5XG4gKiBAcGFyYW0gZW5jb2RpbmcgVGhlIHN0cmluZyBlbmNvZGluZyB1c2VkXG4gKiBAcmV0dXJuIEFic29sdXRlIHBvc2l0aW9uIG9uIHVpbnQ4QXJyYXkgd2hlcmUgemVybyBmb3VuZFxuICovXG5leHBvcnQgZnVuY3Rpb24gZmluZFplcm8odWludDhBcnJheSwgc3RhcnQsIGVuZCwgZW5jb2RpbmcpIHtcbiAgICBsZXQgaSA9IHN0YXJ0O1xuICAgIGlmIChlbmNvZGluZyA9PT0gJ3V0Zi0xNmxlJykge1xuICAgICAgICB3aGlsZSAodWludDhBcnJheVtpXSAhPT0gMCB8fCB1aW50OEFycmF5W2kgKyAxXSAhPT0gMCkge1xuICAgICAgICAgICAgaWYgKGkgPj0gZW5kKVxuICAgICAgICAgICAgICAgIHJldHVybiBlbmQ7XG4gICAgICAgICAgICBpICs9IDI7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGk7XG4gICAgfVxuICAgIHdoaWxlICh1aW50OEFycmF5W2ldICE9PSAwKSB7XG4gICAgICAgIGlmIChpID49IGVuZClcbiAgICAgICAgICAgIHJldHVybiBlbmQ7XG4gICAgICAgIGkrKztcbiAgICB9XG4gICAgcmV0dXJuIGk7XG59XG5leHBvcnQgZnVuY3Rpb24gdHJpbVJpZ2h0TnVsbCh4KSB7XG4gICAgY29uc3QgcG9zMCA9IHguaW5kZXhPZignXFwwJyk7XG4gICAgcmV0dXJuIHBvczAgPT09IC0xID8geCA6IHguc3Vic3RyKDAsIHBvczApO1xufVxuZnVuY3Rpb24gc3dhcEJ5dGVzKHVpbnQ4QXJyYXkpIHtcbiAgICBjb25zdCBsID0gdWludDhBcnJheS5sZW5ndGg7XG4gICAgaWYgKChsICYgMSkgIT09IDApXG4gICAgICAgIHRocm93IG5ldyBFcnJvcignQnVmZmVyIGxlbmd0aCBtdXN0IGJlIGV2ZW4nKTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGw7IGkgKz0gMikge1xuICAgICAgICBjb25zdCBhID0gdWludDhBcnJheVtpXTtcbiAgICAgICAgdWludDhBcnJheVtpXSA9IHVpbnQ4QXJyYXlbaSArIDFdO1xuICAgICAgICB1aW50OEFycmF5W2kgKyAxXSA9IGE7XG4gICAgfVxuICAgIHJldHVybiB1aW50OEFycmF5O1xufVxuLyoqXG4gKiBEZWNvZGUgc3RyaW5nXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBkZWNvZGVTdHJpbmcodWludDhBcnJheSwgZW5jb2RpbmcpIHtcbiAgICAvLyBhbm5veWluZyB3b3JrYXJvdW5kIGZvciBhIGRvdWJsZSBCT00gaXNzdWVcbiAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vbGVldHJldmVpbC9tdXNpY21ldGFkYXRhL2lzc3Vlcy84NFxuICAgIGlmICh1aW50OEFycmF5WzBdID09PSAweEZGICYmIHVpbnQ4QXJyYXlbMV0gPT09IDB4RkUpIHsgLy8gbGl0dGxlIGVuZGlhblxuICAgICAgICByZXR1cm4gZGVjb2RlU3RyaW5nKHVpbnQ4QXJyYXkuc3ViYXJyYXkoMiksIGVuY29kaW5nKTtcbiAgICB9XG4gICAgaWYgKGVuY29kaW5nID09PSAndXRmLTE2bGUnICYmIHVpbnQ4QXJyYXlbMF0gPT09IDB4RkUgJiYgdWludDhBcnJheVsxXSA9PT0gMHhGRikge1xuICAgICAgICAvLyBCT00sIGluZGljYXRpbmcgYmlnIGVuZGlhbiBkZWNvZGluZ1xuICAgICAgICBpZiAoKHVpbnQ4QXJyYXkubGVuZ3RoICYgMSkgIT09IDApXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0V4cGVjdGVkIGV2ZW4gbnVtYmVyIG9mIG9jdGV0cyBmb3IgMTYtYml0IHVuaWNvZGUgc3RyaW5nJyk7XG4gICAgICAgIHJldHVybiBkZWNvZGVTdHJpbmcoc3dhcEJ5dGVzKHVpbnQ4QXJyYXkpLCBlbmNvZGluZyk7XG4gICAgfVxuICAgIHJldHVybiBuZXcgU3RyaW5nVHlwZSh1aW50OEFycmF5Lmxlbmd0aCwgZW5jb2RpbmcpLmdldCh1aW50OEFycmF5LCAwKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBzdHJpcE51bGxzKHN0cikge1xuICAgIHN0ciA9IHN0ci5yZXBsYWNlKC9eXFx4MDArL2csICcnKTtcbiAgICBzdHIgPSBzdHIucmVwbGFjZSgvXFx4MDArJC9nLCAnJyk7XG4gICAgcmV0dXJuIHN0cjtcbn1cbi8qKlxuICogUmVhZCBiaXQtYWxpZ25lZCBudW1iZXIgc3RhcnQgZnJvbSBidWZmZXJcbiAqIFRvdGFsIG9mZnNldCBpbiBiaXRzID0gYnl0ZU9mZnNldCAqIDggKyBiaXRPZmZzZXRcbiAqIEBwYXJhbSBzb3VyY2UgQnl0ZSBidWZmZXJcbiAqIEBwYXJhbSBieXRlT2Zmc2V0IFN0YXJ0aW5nIG9mZnNldCBpbiBieXRlc1xuICogQHBhcmFtIGJpdE9mZnNldCBTdGFydGluZyBvZmZzZXQgaW4gYml0czogMCA9IGxzYlxuICogQHBhcmFtIGxlbiBMZW5ndGggb2YgbnVtYmVyIGluIGJpdHNcbiAqIEByZXR1cm4gRGVjb2RlZCBiaXQgYWxpZ25lZCBudW1iZXJcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldEJpdEFsbGlnbmVkTnVtYmVyKHNvdXJjZSwgYnl0ZU9mZnNldCwgYml0T2Zmc2V0LCBsZW4pIHtcbiAgICBjb25zdCBieXRlT2ZmID0gYnl0ZU9mZnNldCArIH5+KGJpdE9mZnNldCAvIDgpO1xuICAgIGNvbnN0IGJpdE9mZiA9IGJpdE9mZnNldCAlIDg7XG4gICAgbGV0IHZhbHVlID0gc291cmNlW2J5dGVPZmZdO1xuICAgIHZhbHVlICY9IDB4ZmYgPj4gYml0T2ZmO1xuICAgIGNvbnN0IGJpdHNSZWFkID0gOCAtIGJpdE9mZjtcbiAgICBjb25zdCBiaXRzTGVmdCA9IGxlbiAtIGJpdHNSZWFkO1xuICAgIGlmIChiaXRzTGVmdCA8IDApIHtcbiAgICAgICAgdmFsdWUgPj49ICg4IC0gYml0T2ZmIC0gbGVuKTtcbiAgICB9XG4gICAgZWxzZSBpZiAoYml0c0xlZnQgPiAwKSB7XG4gICAgICAgIHZhbHVlIDw8PSBiaXRzTGVmdDtcbiAgICAgICAgdmFsdWUgfD0gZ2V0Qml0QWxsaWduZWROdW1iZXIoc291cmNlLCBieXRlT2Zmc2V0LCBiaXRPZmZzZXQgKyBiaXRzUmVhZCwgYml0c0xlZnQpO1xuICAgIH1cbiAgICByZXR1cm4gdmFsdWU7XG59XG4vKipcbiAqIFJlYWQgYml0LWFsaWduZWQgbnVtYmVyIHN0YXJ0IGZyb20gYnVmZmVyXG4gKiBUb3RhbCBvZmZzZXQgaW4gYml0cyA9IGJ5dGVPZmZzZXQgKiA4ICsgYml0T2Zmc2V0XG4gKiBAcGFyYW0gc291cmNlIEJ5dGUgVWludDhBcnJheVxuICogQHBhcmFtIGJ5dGVPZmZzZXQgU3RhcnRpbmcgb2Zmc2V0IGluIGJ5dGVzXG4gKiBAcGFyYW0gYml0T2Zmc2V0IFN0YXJ0aW5nIG9mZnNldCBpbiBiaXRzOiAwID0gbW9zdCBzaWduaWZpY2FudCBiaXQsIDcgaXMgdGhlIGxlYXN0IHNpZ25pZmljYW50IGJpdFxuICogQHJldHVybiBUcnVlIGlmIGJpdCBpcyBzZXRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzQml0U2V0KHNvdXJjZSwgYnl0ZU9mZnNldCwgYml0T2Zmc2V0KSB7XG4gICAgcmV0dXJuIGdldEJpdEFsbGlnbmVkTnVtYmVyKHNvdXJjZSwgYnl0ZU9mZnNldCwgYml0T2Zmc2V0LCAxKSA9PT0gMTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBhMmhleChzdHIpIHtcbiAgICBjb25zdCBhcnIgPSBbXTtcbiAgICBmb3IgKGxldCBpID0gMCwgbCA9IHN0ci5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgY29uc3QgaGV4ID0gTnVtYmVyKHN0ci5jaGFyQ29kZUF0KGkpKS50b1N0cmluZygxNik7XG4gICAgICAgIGFyci5wdXNoKGhleC5sZW5ndGggPT09IDEgPyBgMCR7aGV4fWAgOiBoZXgpO1xuICAgIH1cbiAgICByZXR1cm4gYXJyLmpvaW4oJyAnKTtcbn1cbi8qKlxuICogQ29udmVydCBwb3dlciByYXRpbyB0byBEQlxuICogcmF0aW86IFswLi4xXVxuICovXG5leHBvcnQgZnVuY3Rpb24gcmF0aW9Ub0RiKHJhdGlvKSB7XG4gICAgcmV0dXJuIDEwICogTWF0aC5sb2cxMChyYXRpbyk7XG59XG4vKipcbiAqIENvbnZlcnQgZEIgdG8gcmF0aW9cbiAqIGRiIERlY2liZWxzXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBkYlRvUmF0aW8oZEIpIHtcbiAgICByZXR1cm4gMTAgKiogKGRCIC8gMTApO1xufVxuLyoqXG4gKiBDb252ZXJ0IHJlcGxheSBnYWluIHRvIHJhdGlvIGFuZCBEZWNpYmVsXG4gKiBAcGFyYW0gdmFsdWUgc3RyaW5nIGhvbGRpbmcgYSByYXRpbyBsaWtlICcwLjAzNCcgb3IgJy03LjU0IGRCJ1xuICovXG5leHBvcnQgZnVuY3Rpb24gdG9SYXRpbyh2YWx1ZSkge1xuICAgIGNvbnN0IHBzID0gdmFsdWUuc3BsaXQoJyAnKS5tYXAocCA9PiBwLnRyaW0oKS50b0xvd2VyQ2FzZSgpKTtcbiAgICAvLyBAdHMtaWdub3JlXG4gICAgaWYgKHBzLmxlbmd0aCA+PSAxKSB7XG4gICAgICAgIGNvbnN0IHYgPSBOdW1iZXIucGFyc2VGbG9hdChwc1swXSk7XG4gICAgICAgIHJldHVybiBwcy5sZW5ndGggPT09IDIgJiYgcHNbMV0gPT09ICdkYicgPyB7XG4gICAgICAgICAgICBkQjogdixcbiAgICAgICAgICAgIHJhdGlvOiBkYlRvUmF0aW8odilcbiAgICAgICAgfSA6IHtcbiAgICAgICAgICAgIGRCOiByYXRpb1RvRGIodiksXG4gICAgICAgICAgICByYXRpbzogdlxuICAgICAgICB9O1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVV0aWwuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/music-metadata/lib/common/Util.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/music-metadata/lib/core.js":
/*!*************************************************!*\
  !*** ./node_modules/music-metadata/lib/core.js ***!
  \*************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   LyricsContentType: () => (/* reexport safe */ _type_js__WEBPACK_IMPORTED_MODULE_6__.LyricsContentType),\n/* harmony export */   TimestampFormat: () => (/* reexport safe */ _type_js__WEBPACK_IMPORTED_MODULE_6__.TimestampFormat),\n/* harmony export */   orderTags: () => (/* binding */ orderTags),\n/* harmony export */   parseBlob: () => (/* binding */ parseBlob),\n/* harmony export */   parseBuffer: () => (/* binding */ parseBuffer),\n/* harmony export */   parseFromTokenizer: () => (/* binding */ parseFromTokenizer),\n/* harmony export */   parseWebStream: () => (/* binding */ parseWebStream),\n/* harmony export */   ratingToStars: () => (/* binding */ ratingToStars),\n/* harmony export */   scanAppendingHeaders: () => (/* binding */ scanAppendingHeaders),\n/* harmony export */   selectCover: () => (/* binding */ selectCover)\n/* harmony export */ });\n/* harmony import */ var strtok3__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! strtok3 */ \"(ssr)/./node_modules/strtok3/lib/index.js\");\n/* harmony import */ var _ParserFactory_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ParserFactory.js */ \"(ssr)/./node_modules/music-metadata/lib/ParserFactory.js\");\n/* harmony import */ var _common_RandomUint8ArrayReader_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./common/RandomUint8ArrayReader.js */ \"(ssr)/./node_modules/music-metadata/lib/common/RandomUint8ArrayReader.js\");\n/* harmony import */ var _apev2_APEv2Parser_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./apev2/APEv2Parser.js */ \"(ssr)/./node_modules/music-metadata/lib/apev2/APEv2Parser.js\");\n/* harmony import */ var _id3v1_ID3v1Parser_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./id3v1/ID3v1Parser.js */ \"(ssr)/./node_modules/music-metadata/lib/id3v1/ID3v1Parser.js\");\n/* harmony import */ var _lyrics3_Lyrics3_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./lyrics3/Lyrics3.js */ \"(ssr)/./node_modules/music-metadata/lib/lyrics3/Lyrics3.js\");\n/* harmony import */ var _type_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./type.js */ \"(ssr)/./node_modules/music-metadata/lib/type.js\");\n/**\n * Primary entry point, Node.js specific entry point is index.ts\n */\n\n\n\n\n\n\n\n/**\n * Parse Web API File\n * Requires Blob to be able to stream using a ReadableStreamBYOBReader, only available since Node.js ≥ 20\n * @param blob - Blob to parse\n * @param options - Parsing options\n * @returns Metadata\n */\nasync function parseBlob(blob, options = {}) {\n    const fileInfo = { mimeType: blob.type, size: blob.size };\n    if (blob instanceof File) {\n        fileInfo.path = blob.name;\n    }\n    return parseWebStream(blob.stream(), fileInfo, options);\n}\n/**\n * Parse audio from Web Stream.Readable\n * @param webStream - WebStream to read the audio track from\n * @param options - Parsing options\n * @param fileInfo - File information object or MIME-type string\n * @returns Metadata\n */\nfunction parseWebStream(webStream, fileInfo, options = {}) {\n    return parseFromTokenizer((0,strtok3__WEBPACK_IMPORTED_MODULE_0__.fromWebStream)(webStream, { fileInfo: typeof fileInfo === 'string' ? { mimeType: fileInfo } : fileInfo }), options);\n}\n/**\n * Parse audio from Node Buffer\n * @param uint8Array - Uint8Array holding audio data\n * @param fileInfo - File information object or MIME-type string\n * @param options - Parsing options\n * @returns Metadata\n * Ref: https://github.com/Borewit/strtok3/blob/e6938c81ff685074d5eb3064a11c0b03ca934c1d/src/index.ts#L15\n */\nasync function parseBuffer(uint8Array, fileInfo, options = {}) {\n    const bufferReader = new _common_RandomUint8ArrayReader_js__WEBPACK_IMPORTED_MODULE_2__.RandomUint8ArrayReader(uint8Array);\n    await scanAppendingHeaders(bufferReader, options);\n    const tokenizer = (0,strtok3__WEBPACK_IMPORTED_MODULE_0__.fromBuffer)(uint8Array, { fileInfo: typeof fileInfo === 'string' ? { mimeType: fileInfo } : fileInfo });\n    return parseFromTokenizer(tokenizer, options);\n}\n/**\n * Parse audio from ITokenizer source\n * @param tokenizer - Audio source implementing the tokenizer interface\n * @param options - Parsing options\n * @returns Metadata\n */\nfunction parseFromTokenizer(tokenizer, options) {\n    return (0,_ParserFactory_js__WEBPACK_IMPORTED_MODULE_1__.parseOnContentType)(tokenizer, options);\n}\n/**\n * Create a dictionary ordered by their tag id (key)\n * @param nativeTags list of tags\n * @returns tags indexed by id\n */\nfunction orderTags(nativeTags) {\n    const tags = {};\n    for (const { id, value } of nativeTags) {\n        if (!tags[id]) {\n            tags[id] = [];\n        }\n        tags[id].push(value);\n    }\n    return tags;\n}\n/**\n * Convert rating to 1-5 star rating\n * @param rating Normalized rating [0..1] (common.rating[n].rating)\n * @returns Number of stars: 1, 2, 3, 4 or 5 stars\n */\nfunction ratingToStars(rating) {\n    return rating === undefined ? 0 : 1 + Math.round(rating * 4);\n}\n/**\n * Select most likely cover image.\n * @param pictures Usually metadata.common.picture\n * @return Cover image, if any, otherwise null\n */\nfunction selectCover(pictures) {\n    return pictures ? pictures.reduce((acc, cur) => {\n        if (cur.name && cur.name.toLowerCase() in ['front', 'cover', 'cover (front)'])\n            return cur;\n        return acc;\n    }) : null;\n}\nasync function scanAppendingHeaders(randomReader, options = {}) {\n    let apeOffset = randomReader.fileSize;\n    if (await (0,_id3v1_ID3v1Parser_js__WEBPACK_IMPORTED_MODULE_4__.hasID3v1Header)(randomReader)) {\n        apeOffset -= 128;\n        const lyricsLen = await (0,_lyrics3_Lyrics3_js__WEBPACK_IMPORTED_MODULE_5__.getLyricsHeaderLength)(randomReader);\n        apeOffset -= lyricsLen;\n    }\n    options.apeHeader = await _apev2_APEv2Parser_js__WEBPACK_IMPORTED_MODULE_3__.APEv2Parser.findApeFooterOffset(randomReader, apeOffset);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbXVzaWMtbWV0YWRhdGEvbGliL2NvcmUuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDb0Q7QUFDSTtBQUNvQjtBQUN2QjtBQUNHO0FBQ0s7QUFDRTtBQUMvRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPLDJDQUEyQztBQUNsRCx1QkFBdUI7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ08seURBQXlEO0FBQ2hFLDhCQUE4QixzREFBYSxjQUFjLDJDQUEyQyxxQkFBcUIsWUFBWTtBQUNySTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTyw2REFBNkQ7QUFDcEUsNkJBQTZCLHFGQUFzQjtBQUNuRDtBQUNBLHNCQUFzQixtREFBVSxlQUFlLDJDQUEyQyxxQkFBcUIsWUFBWTtBQUMzSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUCxXQUFXLHFFQUFrQjtBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0EsaUJBQWlCLFlBQVk7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDTyw4REFBOEQ7QUFDckU7QUFDQSxjQUFjLHFFQUFjO0FBQzVCO0FBQ0EsZ0NBQWdDLDBFQUFxQjtBQUNyRDtBQUNBO0FBQ0EsOEJBQThCLDhEQUFXO0FBQ3pDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZGV2ZWxldmF0ZS8uL25vZGVfbW9kdWxlcy9tdXNpYy1tZXRhZGF0YS9saWIvY29yZS5qcz9lOTU1Il0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogUHJpbWFyeSBlbnRyeSBwb2ludCwgTm9kZS5qcyBzcGVjaWZpYyBlbnRyeSBwb2ludCBpcyBpbmRleC50c1xuICovXG5pbXBvcnQgeyBmcm9tV2ViU3RyZWFtLCBmcm9tQnVmZmVyIH0gZnJvbSAnc3RydG9rMyc7XG5pbXBvcnQgeyBwYXJzZU9uQ29udGVudFR5cGUgfSBmcm9tICcuL1BhcnNlckZhY3RvcnkuanMnO1xuaW1wb3J0IHsgUmFuZG9tVWludDhBcnJheVJlYWRlciB9IGZyb20gJy4vY29tbW9uL1JhbmRvbVVpbnQ4QXJyYXlSZWFkZXIuanMnO1xuaW1wb3J0IHsgQVBFdjJQYXJzZXIgfSBmcm9tICcuL2FwZXYyL0FQRXYyUGFyc2VyLmpzJztcbmltcG9ydCB7IGhhc0lEM3YxSGVhZGVyIH0gZnJvbSAnLi9pZDN2MS9JRDN2MVBhcnNlci5qcyc7XG5pbXBvcnQgeyBnZXRMeXJpY3NIZWFkZXJMZW5ndGggfSBmcm9tICcuL2x5cmljczMvTHlyaWNzMy5qcyc7XG5leHBvcnQgeyBMeXJpY3NDb250ZW50VHlwZSwgVGltZXN0YW1wRm9ybWF0IH0gZnJvbSAnLi90eXBlLmpzJztcbi8qKlxuICogUGFyc2UgV2ViIEFQSSBGaWxlXG4gKiBSZXF1aXJlcyBCbG9iIHRvIGJlIGFibGUgdG8gc3RyZWFtIHVzaW5nIGEgUmVhZGFibGVTdHJlYW1CWU9CUmVhZGVyLCBvbmx5IGF2YWlsYWJsZSBzaW5jZSBOb2RlLmpzIOKJpSAyMFxuICogQHBhcmFtIGJsb2IgLSBCbG9iIHRvIHBhcnNlXG4gKiBAcGFyYW0gb3B0aW9ucyAtIFBhcnNpbmcgb3B0aW9uc1xuICogQHJldHVybnMgTWV0YWRhdGFcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHBhcnNlQmxvYihibG9iLCBvcHRpb25zID0ge30pIHtcbiAgICBjb25zdCBmaWxlSW5mbyA9IHsgbWltZVR5cGU6IGJsb2IudHlwZSwgc2l6ZTogYmxvYi5zaXplIH07XG4gICAgaWYgKGJsb2IgaW5zdGFuY2VvZiBGaWxlKSB7XG4gICAgICAgIGZpbGVJbmZvLnBhdGggPSBibG9iLm5hbWU7XG4gICAgfVxuICAgIHJldHVybiBwYXJzZVdlYlN0cmVhbShibG9iLnN0cmVhbSgpLCBmaWxlSW5mbywgb3B0aW9ucyk7XG59XG4vKipcbiAqIFBhcnNlIGF1ZGlvIGZyb20gV2ViIFN0cmVhbS5SZWFkYWJsZVxuICogQHBhcmFtIHdlYlN0cmVhbSAtIFdlYlN0cmVhbSB0byByZWFkIHRoZSBhdWRpbyB0cmFjayBmcm9tXG4gKiBAcGFyYW0gb3B0aW9ucyAtIFBhcnNpbmcgb3B0aW9uc1xuICogQHBhcmFtIGZpbGVJbmZvIC0gRmlsZSBpbmZvcm1hdGlvbiBvYmplY3Qgb3IgTUlNRS10eXBlIHN0cmluZ1xuICogQHJldHVybnMgTWV0YWRhdGFcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHBhcnNlV2ViU3RyZWFtKHdlYlN0cmVhbSwgZmlsZUluZm8sIG9wdGlvbnMgPSB7fSkge1xuICAgIHJldHVybiBwYXJzZUZyb21Ub2tlbml6ZXIoZnJvbVdlYlN0cmVhbSh3ZWJTdHJlYW0sIHsgZmlsZUluZm86IHR5cGVvZiBmaWxlSW5mbyA9PT0gJ3N0cmluZycgPyB7IG1pbWVUeXBlOiBmaWxlSW5mbyB9IDogZmlsZUluZm8gfSksIG9wdGlvbnMpO1xufVxuLyoqXG4gKiBQYXJzZSBhdWRpbyBmcm9tIE5vZGUgQnVmZmVyXG4gKiBAcGFyYW0gdWludDhBcnJheSAtIFVpbnQ4QXJyYXkgaG9sZGluZyBhdWRpbyBkYXRhXG4gKiBAcGFyYW0gZmlsZUluZm8gLSBGaWxlIGluZm9ybWF0aW9uIG9iamVjdCBvciBNSU1FLXR5cGUgc3RyaW5nXG4gKiBAcGFyYW0gb3B0aW9ucyAtIFBhcnNpbmcgb3B0aW9uc1xuICogQHJldHVybnMgTWV0YWRhdGFcbiAqIFJlZjogaHR0cHM6Ly9naXRodWIuY29tL0JvcmV3aXQvc3RydG9rMy9ibG9iL2U2OTM4YzgxZmY2ODUwNzRkNWViMzA2NGExMWMwYjAzY2E5MzRjMWQvc3JjL2luZGV4LnRzI0wxNVxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gcGFyc2VCdWZmZXIodWludDhBcnJheSwgZmlsZUluZm8sIG9wdGlvbnMgPSB7fSkge1xuICAgIGNvbnN0IGJ1ZmZlclJlYWRlciA9IG5ldyBSYW5kb21VaW50OEFycmF5UmVhZGVyKHVpbnQ4QXJyYXkpO1xuICAgIGF3YWl0IHNjYW5BcHBlbmRpbmdIZWFkZXJzKGJ1ZmZlclJlYWRlciwgb3B0aW9ucyk7XG4gICAgY29uc3QgdG9rZW5pemVyID0gZnJvbUJ1ZmZlcih1aW50OEFycmF5LCB7IGZpbGVJbmZvOiB0eXBlb2YgZmlsZUluZm8gPT09ICdzdHJpbmcnID8geyBtaW1lVHlwZTogZmlsZUluZm8gfSA6IGZpbGVJbmZvIH0pO1xuICAgIHJldHVybiBwYXJzZUZyb21Ub2tlbml6ZXIodG9rZW5pemVyLCBvcHRpb25zKTtcbn1cbi8qKlxuICogUGFyc2UgYXVkaW8gZnJvbSBJVG9rZW5pemVyIHNvdXJjZVxuICogQHBhcmFtIHRva2VuaXplciAtIEF1ZGlvIHNvdXJjZSBpbXBsZW1lbnRpbmcgdGhlIHRva2VuaXplciBpbnRlcmZhY2VcbiAqIEBwYXJhbSBvcHRpb25zIC0gUGFyc2luZyBvcHRpb25zXG4gKiBAcmV0dXJucyBNZXRhZGF0YVxuICovXG5leHBvcnQgZnVuY3Rpb24gcGFyc2VGcm9tVG9rZW5pemVyKHRva2VuaXplciwgb3B0aW9ucykge1xuICAgIHJldHVybiBwYXJzZU9uQ29udGVudFR5cGUodG9rZW5pemVyLCBvcHRpb25zKTtcbn1cbi8qKlxuICogQ3JlYXRlIGEgZGljdGlvbmFyeSBvcmRlcmVkIGJ5IHRoZWlyIHRhZyBpZCAoa2V5KVxuICogQHBhcmFtIG5hdGl2ZVRhZ3MgbGlzdCBvZiB0YWdzXG4gKiBAcmV0dXJucyB0YWdzIGluZGV4ZWQgYnkgaWRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG9yZGVyVGFncyhuYXRpdmVUYWdzKSB7XG4gICAgY29uc3QgdGFncyA9IHt9O1xuICAgIGZvciAoY29uc3QgeyBpZCwgdmFsdWUgfSBvZiBuYXRpdmVUYWdzKSB7XG4gICAgICAgIGlmICghdGFnc1tpZF0pIHtcbiAgICAgICAgICAgIHRhZ3NbaWRdID0gW107XG4gICAgICAgIH1cbiAgICAgICAgdGFnc1tpZF0ucHVzaCh2YWx1ZSk7XG4gICAgfVxuICAgIHJldHVybiB0YWdzO1xufVxuLyoqXG4gKiBDb252ZXJ0IHJhdGluZyB0byAxLTUgc3RhciByYXRpbmdcbiAqIEBwYXJhbSByYXRpbmcgTm9ybWFsaXplZCByYXRpbmcgWzAuLjFdIChjb21tb24ucmF0aW5nW25dLnJhdGluZylcbiAqIEByZXR1cm5zIE51bWJlciBvZiBzdGFyczogMSwgMiwgMywgNCBvciA1IHN0YXJzXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByYXRpbmdUb1N0YXJzKHJhdGluZykge1xuICAgIHJldHVybiByYXRpbmcgPT09IHVuZGVmaW5lZCA/IDAgOiAxICsgTWF0aC5yb3VuZChyYXRpbmcgKiA0KTtcbn1cbi8qKlxuICogU2VsZWN0IG1vc3QgbGlrZWx5IGNvdmVyIGltYWdlLlxuICogQHBhcmFtIHBpY3R1cmVzIFVzdWFsbHkgbWV0YWRhdGEuY29tbW9uLnBpY3R1cmVcbiAqIEByZXR1cm4gQ292ZXIgaW1hZ2UsIGlmIGFueSwgb3RoZXJ3aXNlIG51bGxcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNlbGVjdENvdmVyKHBpY3R1cmVzKSB7XG4gICAgcmV0dXJuIHBpY3R1cmVzID8gcGljdHVyZXMucmVkdWNlKChhY2MsIGN1cikgPT4ge1xuICAgICAgICBpZiAoY3VyLm5hbWUgJiYgY3VyLm5hbWUudG9Mb3dlckNhc2UoKSBpbiBbJ2Zyb250JywgJ2NvdmVyJywgJ2NvdmVyIChmcm9udCknXSlcbiAgICAgICAgICAgIHJldHVybiBjdXI7XG4gICAgICAgIHJldHVybiBhY2M7XG4gICAgfSkgOiBudWxsO1xufVxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHNjYW5BcHBlbmRpbmdIZWFkZXJzKHJhbmRvbVJlYWRlciwgb3B0aW9ucyA9IHt9KSB7XG4gICAgbGV0IGFwZU9mZnNldCA9IHJhbmRvbVJlYWRlci5maWxlU2l6ZTtcbiAgICBpZiAoYXdhaXQgaGFzSUQzdjFIZWFkZXIocmFuZG9tUmVhZGVyKSkge1xuICAgICAgICBhcGVPZmZzZXQgLT0gMTI4O1xuICAgICAgICBjb25zdCBseXJpY3NMZW4gPSBhd2FpdCBnZXRMeXJpY3NIZWFkZXJMZW5ndGgocmFuZG9tUmVhZGVyKTtcbiAgICAgICAgYXBlT2Zmc2V0IC09IGx5cmljc0xlbjtcbiAgICB9XG4gICAgb3B0aW9ucy5hcGVIZWFkZXIgPSBhd2FpdCBBUEV2MlBhcnNlci5maW5kQXBlRm9vdGVyT2Zmc2V0KHJhbmRvbVJlYWRlciwgYXBlT2Zmc2V0KTtcbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/music-metadata/lib/core.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/music-metadata/lib/dsdiff/DsdiffParser.js":
/*!****************************************************************!*\
  !*** ./node_modules/music-metadata/lib/dsdiff/DsdiffParser.js ***!
  \****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DsdiffParser: () => (/* binding */ DsdiffParser)\n/* harmony export */ });\n/* harmony import */ var token_types__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! token-types */ \"(ssr)/./node_modules/token-types/lib/index.js\");\n/* harmony import */ var debug__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! debug */ \"(ssr)/./node_modules/debug/src/index.js\");\n/* harmony import */ var strtok3__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! strtok3 */ \"(ssr)/./node_modules/strtok3/lib/index.js\");\n/* harmony import */ var _common_FourCC_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../common/FourCC.js */ \"(ssr)/./node_modules/music-metadata/lib/common/FourCC.js\");\n/* harmony import */ var _common_BasicParser_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../common/BasicParser.js */ \"(ssr)/./node_modules/music-metadata/lib/common/BasicParser.js\");\n/* harmony import */ var _id3v2_ID3v2Parser_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../id3v2/ID3v2Parser.js */ \"(ssr)/./node_modules/music-metadata/lib/id3v2/ID3v2Parser.js\");\n/* harmony import */ var _DsdiffToken_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./DsdiffToken.js */ \"(ssr)/./node_modules/music-metadata/lib/dsdiff/DsdiffToken.js\");\n\n\n\n\n\n\n\nconst debug = debug__WEBPACK_IMPORTED_MODULE_1__('music-metadata:parser:aiff');\n/**\n * DSDIFF - Direct Stream Digital Interchange File Format (Phillips)\n *\n * Ref:\n * - http://www.sonicstudio.com/pdf/dsd/DSDIFF_1.5_Spec.pdf\n */\nclass DsdiffParser extends _common_BasicParser_js__WEBPACK_IMPORTED_MODULE_4__.BasicParser {\n    async parse() {\n        const header = await this.tokenizer.readToken(_DsdiffToken_js__WEBPACK_IMPORTED_MODULE_6__.ChunkHeader64);\n        if (header.chunkID !== 'FRM8')\n            throw new Error('Unexpected chunk-ID');\n        const type = (await this.tokenizer.readToken(_common_FourCC_js__WEBPACK_IMPORTED_MODULE_3__.FourCcToken)).trim();\n        switch (type) {\n            case 'DSD':\n                this.metadata.setFormat('container', `DSDIFF/${type}`);\n                this.metadata.setFormat('lossless', true);\n                return this.readFmt8Chunks(header.chunkSize - BigInt(_common_FourCC_js__WEBPACK_IMPORTED_MODULE_3__.FourCcToken.len));\n            default:\n                throw new Error(`Unsupported DSDIFF type: ${type}`);\n        }\n    }\n    async readFmt8Chunks(remainingSize) {\n        while (remainingSize >= _DsdiffToken_js__WEBPACK_IMPORTED_MODULE_6__.ChunkHeader64.len) {\n            const chunkHeader = await this.tokenizer.readToken(_DsdiffToken_js__WEBPACK_IMPORTED_MODULE_6__.ChunkHeader64);\n            //  If the data is an odd number of bytes in length, a pad byte must be added at the end\n            debug(`Chunk id=${chunkHeader.chunkID}`);\n            await this.readData(chunkHeader);\n            remainingSize -= (BigInt(_DsdiffToken_js__WEBPACK_IMPORTED_MODULE_6__.ChunkHeader64.len) + chunkHeader.chunkSize);\n        }\n    }\n    async readData(header) {\n        debug(`Reading data of chunk[ID=${header.chunkID}, size=${header.chunkSize}]`);\n        const p0 = this.tokenizer.position;\n        switch (header.chunkID.trim()) {\n            case 'FVER': { // 3.1 FORMAT VERSION CHUNK\n                const version = await this.tokenizer.readToken(token_types__WEBPACK_IMPORTED_MODULE_0__.UINT32_LE);\n                debug(`DSDIFF version=${version}`);\n                break;\n            }\n            case 'PROP': { // 3.2 PROPERTY CHUNK\n                const propType = await this.tokenizer.readToken(_common_FourCC_js__WEBPACK_IMPORTED_MODULE_3__.FourCcToken);\n                if (propType !== 'SND ')\n                    throw new Error('Unexpected PROP-chunk ID');\n                await this.handleSoundPropertyChunks(header.chunkSize - BigInt(_common_FourCC_js__WEBPACK_IMPORTED_MODULE_3__.FourCcToken.len));\n                break;\n            }\n            case 'ID3': { // Unofficial ID3 tag support\n                const id3_data = await this.tokenizer.readToken(new token_types__WEBPACK_IMPORTED_MODULE_0__.Uint8ArrayType(Number(header.chunkSize)));\n                const rst = strtok3__WEBPACK_IMPORTED_MODULE_2__.fromBuffer(id3_data);\n                await new _id3v2_ID3v2Parser_js__WEBPACK_IMPORTED_MODULE_5__.ID3v2Parser().parse(this.metadata, rst, this.options);\n                break;\n            }\n            case 'DSD':\n                if (this.metadata.format.numberOfChannels) {\n                    this.metadata.setFormat('numberOfSamples', Number(header.chunkSize * BigInt(8) / BigInt(this.metadata.format.numberOfChannels)));\n                }\n                if (this.metadata.format.numberOfSamples && this.metadata.format.sampleRate) {\n                    this.metadata.setFormat('duration', this.metadata.format.numberOfSamples / this.metadata.format.sampleRate);\n                }\n                break;\n            default:\n                debug(`Ignore chunk[ID=${header.chunkID}, size=${header.chunkSize}]`);\n                break;\n        }\n        const remaining = header.chunkSize - BigInt(this.tokenizer.position - p0);\n        if (remaining > 0) {\n            debug(`After Parsing chunk, remaining ${remaining} bytes`);\n            await this.tokenizer.ignore(Number(remaining));\n        }\n    }\n    async handleSoundPropertyChunks(remainingSize) {\n        debug(`Parsing sound-property-chunks, remainingSize=${remainingSize}`);\n        while (remainingSize > 0) {\n            const sndPropHeader = await this.tokenizer.readToken(_DsdiffToken_js__WEBPACK_IMPORTED_MODULE_6__.ChunkHeader64);\n            debug(`Sound-property-chunk[ID=${sndPropHeader.chunkID}, size=${sndPropHeader.chunkSize}]`);\n            const p0 = this.tokenizer.position;\n            switch (sndPropHeader.chunkID.trim()) {\n                case 'FS': { // 3.2.1 Sample Rate Chunk\n                    const sampleRate = await this.tokenizer.readToken(token_types__WEBPACK_IMPORTED_MODULE_0__.UINT32_BE);\n                    this.metadata.setFormat('sampleRate', sampleRate);\n                    break;\n                }\n                case 'CHNL': { // 3.2.2 Channels Chunk\n                    const numChannels = await this.tokenizer.readToken(token_types__WEBPACK_IMPORTED_MODULE_0__.UINT16_BE);\n                    this.metadata.setFormat('numberOfChannels', numChannels);\n                    await this.handleChannelChunks(sndPropHeader.chunkSize - BigInt(token_types__WEBPACK_IMPORTED_MODULE_0__.UINT16_BE.len));\n                    break;\n                }\n                case 'CMPR': { // 3.2.3 Compression Type Chunk\n                    const compressionIdCode = (await this.tokenizer.readToken(_common_FourCC_js__WEBPACK_IMPORTED_MODULE_3__.FourCcToken)).trim();\n                    const count = await this.tokenizer.readToken(token_types__WEBPACK_IMPORTED_MODULE_0__.UINT8);\n                    const compressionName = await this.tokenizer.readToken(new token_types__WEBPACK_IMPORTED_MODULE_0__.StringType(count, 'ascii'));\n                    if (compressionIdCode === 'DSD') {\n                        this.metadata.setFormat('lossless', true);\n                        this.metadata.setFormat('bitsPerSample', 1);\n                    }\n                    this.metadata.setFormat('codec', `${compressionIdCode} (${compressionName})`);\n                    break;\n                }\n                case 'ABSS': { // 3.2.4 Absolute Start Time Chunk\n                    const hours = await this.tokenizer.readToken(token_types__WEBPACK_IMPORTED_MODULE_0__.UINT16_BE);\n                    const minutes = await this.tokenizer.readToken(token_types__WEBPACK_IMPORTED_MODULE_0__.UINT8);\n                    const seconds = await this.tokenizer.readToken(token_types__WEBPACK_IMPORTED_MODULE_0__.UINT8);\n                    const samples = await this.tokenizer.readToken(token_types__WEBPACK_IMPORTED_MODULE_0__.UINT32_BE);\n                    debug(`ABSS ${hours}:${minutes}:${seconds}.${samples}`);\n                    break;\n                }\n                case 'LSCO': { // 3.2.5 Loudspeaker Configuration Chunk\n                    const lsConfig = await this.tokenizer.readToken(token_types__WEBPACK_IMPORTED_MODULE_0__.UINT16_BE);\n                    debug(`LSCO lsConfig=${lsConfig}`);\n                    break;\n                }\n                default:\n                    debug(`Unknown sound-property-chunk[ID=${sndPropHeader.chunkID}, size=${sndPropHeader.chunkSize}]`);\n                    await this.tokenizer.ignore(Number(sndPropHeader.chunkSize));\n            }\n            const remaining = sndPropHeader.chunkSize - BigInt(this.tokenizer.position - p0);\n            if (remaining > 0) {\n                debug(`After Parsing sound-property-chunk ${sndPropHeader.chunkSize}, remaining ${remaining} bytes`);\n                await this.tokenizer.ignore(Number(remaining));\n            }\n            remainingSize -= BigInt(_DsdiffToken_js__WEBPACK_IMPORTED_MODULE_6__.ChunkHeader64.len) + sndPropHeader.chunkSize;\n            debug(`Parsing sound-property-chunks, remainingSize=${remainingSize}`);\n        }\n        if (this.metadata.format.lossless && this.metadata.format.sampleRate && this.metadata.format.numberOfChannels && this.metadata.format.bitsPerSample) {\n            const bitrate = this.metadata.format.sampleRate * this.metadata.format.numberOfChannels * this.metadata.format.bitsPerSample;\n            this.metadata.setFormat('bitrate', bitrate);\n        }\n    }\n    async handleChannelChunks(remainingSize) {\n        debug(`Parsing channel-chunks, remainingSize=${remainingSize}`);\n        const channels = [];\n        while (remainingSize >= _common_FourCC_js__WEBPACK_IMPORTED_MODULE_3__.FourCcToken.len) {\n            const channelId = await this.tokenizer.readToken(_common_FourCC_js__WEBPACK_IMPORTED_MODULE_3__.FourCcToken);\n            debug(`Channel[ID=${channelId}]`);\n            channels.push(channelId);\n            remainingSize -= BigInt(_common_FourCC_js__WEBPACK_IMPORTED_MODULE_3__.FourCcToken.len);\n        }\n        debug(`Channels: ${channels.join(', ')}`);\n        return channels;\n    }\n}\n//# sourceMappingURL=DsdiffParser.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbXVzaWMtbWV0YWRhdGEvbGliL2RzZGlmZi9Ec2RpZmZQYXJzZXIuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBcUM7QUFDUDtBQUNLO0FBQ2U7QUFDSztBQUNEO0FBQ0w7QUFDakQsY0FBYyxrQ0FBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTywyQkFBMkIsK0RBQVc7QUFDN0M7QUFDQSxzREFBc0QsMERBQWE7QUFDbkU7QUFDQTtBQUNBLHFEQUFxRCwwREFBVztBQUNoRTtBQUNBO0FBQ0EsK0RBQStELEtBQUs7QUFDcEU7QUFDQSxxRUFBcUUsMERBQVc7QUFDaEY7QUFDQSw0REFBNEQsS0FBSztBQUNqRTtBQUNBO0FBQ0E7QUFDQSxnQ0FBZ0MsMERBQWE7QUFDN0MsK0RBQStELDBEQUFhO0FBQzVFO0FBQ0EsOEJBQThCLG9CQUFvQjtBQUNsRDtBQUNBLHFDQUFxQywwREFBYTtBQUNsRDtBQUNBO0FBQ0E7QUFDQSwwQ0FBMEMsZUFBZSxTQUFTLGlCQUFpQjtBQUNuRjtBQUNBO0FBQ0EsMkJBQTJCO0FBQzNCLCtEQUErRCxrREFBZTtBQUM5RSx3Q0FBd0MsUUFBUTtBQUNoRDtBQUNBO0FBQ0EsMkJBQTJCO0FBQzNCLGdFQUFnRSwwREFBVztBQUMzRTtBQUNBO0FBQ0EsK0VBQStFLDBEQUFXO0FBQzFGO0FBQ0E7QUFDQSwwQkFBMEI7QUFDMUIsb0VBQW9FLHVEQUFvQjtBQUN4Riw0QkFBNEIsK0NBQWtCO0FBQzlDLDBCQUEwQiw4REFBVztBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUNBQXlDLGVBQWUsU0FBUyxpQkFBaUI7QUFDbEY7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvREFBb0QsV0FBVztBQUMvRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhEQUE4RCxjQUFjO0FBQzVFO0FBQ0EsaUVBQWlFLDBEQUFhO0FBQzlFLDZDQUE2QyxzQkFBc0IsU0FBUyx3QkFBd0I7QUFDcEc7QUFDQTtBQUNBLDZCQUE2QjtBQUM3QixzRUFBc0Usa0RBQWU7QUFDckY7QUFDQTtBQUNBO0FBQ0EsK0JBQStCO0FBQy9CLHVFQUF1RSxrREFBZTtBQUN0RjtBQUNBLG9GQUFvRixrREFBZTtBQUNuRztBQUNBO0FBQ0EsK0JBQStCO0FBQy9CLDhFQUE4RSwwREFBVztBQUN6RixpRUFBaUUsOENBQVc7QUFDNUUsK0VBQStFLG1EQUFnQjtBQUMvRjtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdEQUF3RCxtQkFBbUIsR0FBRyxnQkFBZ0I7QUFDOUY7QUFDQTtBQUNBLCtCQUErQjtBQUMvQixpRUFBaUUsa0RBQWU7QUFDaEYsbUVBQW1FLDhDQUFXO0FBQzlFLG1FQUFtRSw4Q0FBVztBQUM5RSxtRUFBbUUsa0RBQWU7QUFDbEYsa0NBQWtDLE1BQU0sR0FBRyxRQUFRLEdBQUcsUUFBUSxHQUFHLFFBQVE7QUFDekU7QUFDQTtBQUNBLCtCQUErQjtBQUMvQixvRUFBb0Usa0RBQWU7QUFDbkYsMkNBQTJDLFNBQVM7QUFDcEQ7QUFDQTtBQUNBO0FBQ0EsNkRBQTZELHNCQUFzQixTQUFTLHdCQUF3QjtBQUNwSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLDREQUE0RCx3QkFBd0IsY0FBYyxXQUFXO0FBQzdHO0FBQ0E7QUFDQSxvQ0FBb0MsMERBQWE7QUFDakQsa0VBQWtFLGNBQWM7QUFDaEY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1REFBdUQsY0FBYztBQUNyRTtBQUNBLGdDQUFnQywwREFBVztBQUMzQyw2REFBNkQsMERBQVc7QUFDeEUsZ0NBQWdDLFVBQVU7QUFDMUM7QUFDQSxvQ0FBb0MsMERBQVc7QUFDL0M7QUFDQSwyQkFBMkIsb0JBQW9CO0FBQy9DO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZGV2ZWxldmF0ZS8uL25vZGVfbW9kdWxlcy9tdXNpYy1tZXRhZGF0YS9saWIvZHNkaWZmL0RzZGlmZlBhcnNlci5qcz9lNDJkIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAqIGFzIFRva2VuIGZyb20gJ3Rva2VuLXR5cGVzJztcbmltcG9ydCBpbml0RGVidWcgZnJvbSAnZGVidWcnO1xuaW1wb3J0ICogYXMgc3RydG9rMyBmcm9tICdzdHJ0b2szJztcbmltcG9ydCB7IEZvdXJDY1Rva2VuIH0gZnJvbSAnLi4vY29tbW9uL0ZvdXJDQy5qcyc7XG5pbXBvcnQgeyBCYXNpY1BhcnNlciB9IGZyb20gJy4uL2NvbW1vbi9CYXNpY1BhcnNlci5qcyc7XG5pbXBvcnQgeyBJRDN2MlBhcnNlciB9IGZyb20gJy4uL2lkM3YyL0lEM3YyUGFyc2VyLmpzJztcbmltcG9ydCB7IENodW5rSGVhZGVyNjQgfSBmcm9tICcuL0RzZGlmZlRva2VuLmpzJztcbmNvbnN0IGRlYnVnID0gaW5pdERlYnVnKCdtdXNpYy1tZXRhZGF0YTpwYXJzZXI6YWlmZicpO1xuLyoqXG4gKiBEU0RJRkYgLSBEaXJlY3QgU3RyZWFtIERpZ2l0YWwgSW50ZXJjaGFuZ2UgRmlsZSBGb3JtYXQgKFBoaWxsaXBzKVxuICpcbiAqIFJlZjpcbiAqIC0gaHR0cDovL3d3dy5zb25pY3N0dWRpby5jb20vcGRmL2RzZC9EU0RJRkZfMS41X1NwZWMucGRmXG4gKi9cbmV4cG9ydCBjbGFzcyBEc2RpZmZQYXJzZXIgZXh0ZW5kcyBCYXNpY1BhcnNlciB7XG4gICAgYXN5bmMgcGFyc2UoKSB7XG4gICAgICAgIGNvbnN0IGhlYWRlciA9IGF3YWl0IHRoaXMudG9rZW5pemVyLnJlYWRUb2tlbihDaHVua0hlYWRlcjY0KTtcbiAgICAgICAgaWYgKGhlYWRlci5jaHVua0lEICE9PSAnRlJNOCcpXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1VuZXhwZWN0ZWQgY2h1bmstSUQnKTtcbiAgICAgICAgY29uc3QgdHlwZSA9IChhd2FpdCB0aGlzLnRva2VuaXplci5yZWFkVG9rZW4oRm91ckNjVG9rZW4pKS50cmltKCk7XG4gICAgICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICAgICAgY2FzZSAnRFNEJzpcbiAgICAgICAgICAgICAgICB0aGlzLm1ldGFkYXRhLnNldEZvcm1hdCgnY29udGFpbmVyJywgYERTRElGRi8ke3R5cGV9YCk7XG4gICAgICAgICAgICAgICAgdGhpcy5tZXRhZGF0YS5zZXRGb3JtYXQoJ2xvc3NsZXNzJywgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMucmVhZEZtdDhDaHVua3MoaGVhZGVyLmNodW5rU2l6ZSAtIEJpZ0ludChGb3VyQ2NUb2tlbi5sZW4pKTtcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBVbnN1cHBvcnRlZCBEU0RJRkYgdHlwZTogJHt0eXBlfWApO1xuICAgICAgICB9XG4gICAgfVxuICAgIGFzeW5jIHJlYWRGbXQ4Q2h1bmtzKHJlbWFpbmluZ1NpemUpIHtcbiAgICAgICAgd2hpbGUgKHJlbWFpbmluZ1NpemUgPj0gQ2h1bmtIZWFkZXI2NC5sZW4pIHtcbiAgICAgICAgICAgIGNvbnN0IGNodW5rSGVhZGVyID0gYXdhaXQgdGhpcy50b2tlbml6ZXIucmVhZFRva2VuKENodW5rSGVhZGVyNjQpO1xuICAgICAgICAgICAgLy8gIElmIHRoZSBkYXRhIGlzIGFuIG9kZCBudW1iZXIgb2YgYnl0ZXMgaW4gbGVuZ3RoLCBhIHBhZCBieXRlIG11c3QgYmUgYWRkZWQgYXQgdGhlIGVuZFxuICAgICAgICAgICAgZGVidWcoYENodW5rIGlkPSR7Y2h1bmtIZWFkZXIuY2h1bmtJRH1gKTtcbiAgICAgICAgICAgIGF3YWl0IHRoaXMucmVhZERhdGEoY2h1bmtIZWFkZXIpO1xuICAgICAgICAgICAgcmVtYWluaW5nU2l6ZSAtPSAoQmlnSW50KENodW5rSGVhZGVyNjQubGVuKSArIGNodW5rSGVhZGVyLmNodW5rU2l6ZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgYXN5bmMgcmVhZERhdGEoaGVhZGVyKSB7XG4gICAgICAgIGRlYnVnKGBSZWFkaW5nIGRhdGEgb2YgY2h1bmtbSUQ9JHtoZWFkZXIuY2h1bmtJRH0sIHNpemU9JHtoZWFkZXIuY2h1bmtTaXplfV1gKTtcbiAgICAgICAgY29uc3QgcDAgPSB0aGlzLnRva2VuaXplci5wb3NpdGlvbjtcbiAgICAgICAgc3dpdGNoIChoZWFkZXIuY2h1bmtJRC50cmltKCkpIHtcbiAgICAgICAgICAgIGNhc2UgJ0ZWRVInOiB7IC8vIDMuMSBGT1JNQVQgVkVSU0lPTiBDSFVOS1xuICAgICAgICAgICAgICAgIGNvbnN0IHZlcnNpb24gPSBhd2FpdCB0aGlzLnRva2VuaXplci5yZWFkVG9rZW4oVG9rZW4uVUlOVDMyX0xFKTtcbiAgICAgICAgICAgICAgICBkZWJ1ZyhgRFNESUZGIHZlcnNpb249JHt2ZXJzaW9ufWApO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSAnUFJPUCc6IHsgLy8gMy4yIFBST1BFUlRZIENIVU5LXG4gICAgICAgICAgICAgICAgY29uc3QgcHJvcFR5cGUgPSBhd2FpdCB0aGlzLnRva2VuaXplci5yZWFkVG9rZW4oRm91ckNjVG9rZW4pO1xuICAgICAgICAgICAgICAgIGlmIChwcm9wVHlwZSAhPT0gJ1NORCAnKVxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1VuZXhwZWN0ZWQgUFJPUC1jaHVuayBJRCcpO1xuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuaGFuZGxlU291bmRQcm9wZXJ0eUNodW5rcyhoZWFkZXIuY2h1bmtTaXplIC0gQmlnSW50KEZvdXJDY1Rva2VuLmxlbikpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSAnSUQzJzogeyAvLyBVbm9mZmljaWFsIElEMyB0YWcgc3VwcG9ydFxuICAgICAgICAgICAgICAgIGNvbnN0IGlkM19kYXRhID0gYXdhaXQgdGhpcy50b2tlbml6ZXIucmVhZFRva2VuKG5ldyBUb2tlbi5VaW50OEFycmF5VHlwZShOdW1iZXIoaGVhZGVyLmNodW5rU2l6ZSkpKTtcbiAgICAgICAgICAgICAgICBjb25zdCByc3QgPSBzdHJ0b2szLmZyb21CdWZmZXIoaWQzX2RhdGEpO1xuICAgICAgICAgICAgICAgIGF3YWl0IG5ldyBJRDN2MlBhcnNlcigpLnBhcnNlKHRoaXMubWV0YWRhdGEsIHJzdCwgdGhpcy5vcHRpb25zKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgJ0RTRCc6XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMubWV0YWRhdGEuZm9ybWF0Lm51bWJlck9mQ2hhbm5lbHMpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tZXRhZGF0YS5zZXRGb3JtYXQoJ251bWJlck9mU2FtcGxlcycsIE51bWJlcihoZWFkZXIuY2h1bmtTaXplICogQmlnSW50KDgpIC8gQmlnSW50KHRoaXMubWV0YWRhdGEuZm9ybWF0Lm51bWJlck9mQ2hhbm5lbHMpKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICh0aGlzLm1ldGFkYXRhLmZvcm1hdC5udW1iZXJPZlNhbXBsZXMgJiYgdGhpcy5tZXRhZGF0YS5mb3JtYXQuc2FtcGxlUmF0ZSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm1ldGFkYXRhLnNldEZvcm1hdCgnZHVyYXRpb24nLCB0aGlzLm1ldGFkYXRhLmZvcm1hdC5udW1iZXJPZlNhbXBsZXMgLyB0aGlzLm1ldGFkYXRhLmZvcm1hdC5zYW1wbGVSYXRlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIGRlYnVnKGBJZ25vcmUgY2h1bmtbSUQ9JHtoZWFkZXIuY2h1bmtJRH0sIHNpemU9JHtoZWFkZXIuY2h1bmtTaXplfV1gKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBjb25zdCByZW1haW5pbmcgPSBoZWFkZXIuY2h1bmtTaXplIC0gQmlnSW50KHRoaXMudG9rZW5pemVyLnBvc2l0aW9uIC0gcDApO1xuICAgICAgICBpZiAocmVtYWluaW5nID4gMCkge1xuICAgICAgICAgICAgZGVidWcoYEFmdGVyIFBhcnNpbmcgY2h1bmssIHJlbWFpbmluZyAke3JlbWFpbmluZ30gYnl0ZXNgKTtcbiAgICAgICAgICAgIGF3YWl0IHRoaXMudG9rZW5pemVyLmlnbm9yZShOdW1iZXIocmVtYWluaW5nKSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgYXN5bmMgaGFuZGxlU291bmRQcm9wZXJ0eUNodW5rcyhyZW1haW5pbmdTaXplKSB7XG4gICAgICAgIGRlYnVnKGBQYXJzaW5nIHNvdW5kLXByb3BlcnR5LWNodW5rcywgcmVtYWluaW5nU2l6ZT0ke3JlbWFpbmluZ1NpemV9YCk7XG4gICAgICAgIHdoaWxlIChyZW1haW5pbmdTaXplID4gMCkge1xuICAgICAgICAgICAgY29uc3Qgc25kUHJvcEhlYWRlciA9IGF3YWl0IHRoaXMudG9rZW5pemVyLnJlYWRUb2tlbihDaHVua0hlYWRlcjY0KTtcbiAgICAgICAgICAgIGRlYnVnKGBTb3VuZC1wcm9wZXJ0eS1jaHVua1tJRD0ke3NuZFByb3BIZWFkZXIuY2h1bmtJRH0sIHNpemU9JHtzbmRQcm9wSGVhZGVyLmNodW5rU2l6ZX1dYCk7XG4gICAgICAgICAgICBjb25zdCBwMCA9IHRoaXMudG9rZW5pemVyLnBvc2l0aW9uO1xuICAgICAgICAgICAgc3dpdGNoIChzbmRQcm9wSGVhZGVyLmNodW5rSUQudHJpbSgpKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAnRlMnOiB7IC8vIDMuMi4xIFNhbXBsZSBSYXRlIENodW5rXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHNhbXBsZVJhdGUgPSBhd2FpdCB0aGlzLnRva2VuaXplci5yZWFkVG9rZW4oVG9rZW4uVUlOVDMyX0JFKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tZXRhZGF0YS5zZXRGb3JtYXQoJ3NhbXBsZVJhdGUnLCBzYW1wbGVSYXRlKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhc2UgJ0NITkwnOiB7IC8vIDMuMi4yIENoYW5uZWxzIENodW5rXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG51bUNoYW5uZWxzID0gYXdhaXQgdGhpcy50b2tlbml6ZXIucmVhZFRva2VuKFRva2VuLlVJTlQxNl9CRSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubWV0YWRhdGEuc2V0Rm9ybWF0KCdudW1iZXJPZkNoYW5uZWxzJywgbnVtQ2hhbm5lbHMpO1xuICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLmhhbmRsZUNoYW5uZWxDaHVua3Moc25kUHJvcEhlYWRlci5jaHVua1NpemUgLSBCaWdJbnQoVG9rZW4uVUlOVDE2X0JFLmxlbikpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2FzZSAnQ01QUic6IHsgLy8gMy4yLjMgQ29tcHJlc3Npb24gVHlwZSBDaHVua1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBjb21wcmVzc2lvbklkQ29kZSA9IChhd2FpdCB0aGlzLnRva2VuaXplci5yZWFkVG9rZW4oRm91ckNjVG9rZW4pKS50cmltKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNvdW50ID0gYXdhaXQgdGhpcy50b2tlbml6ZXIucmVhZFRva2VuKFRva2VuLlVJTlQ4KTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY29tcHJlc3Npb25OYW1lID0gYXdhaXQgdGhpcy50b2tlbml6ZXIucmVhZFRva2VuKG5ldyBUb2tlbi5TdHJpbmdUeXBlKGNvdW50LCAnYXNjaWknKSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjb21wcmVzc2lvbklkQ29kZSA9PT0gJ0RTRCcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubWV0YWRhdGEuc2V0Rm9ybWF0KCdsb3NzbGVzcycsIHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5tZXRhZGF0YS5zZXRGb3JtYXQoJ2JpdHNQZXJTYW1wbGUnLCAxKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB0aGlzLm1ldGFkYXRhLnNldEZvcm1hdCgnY29kZWMnLCBgJHtjb21wcmVzc2lvbklkQ29kZX0gKCR7Y29tcHJlc3Npb25OYW1lfSlgKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhc2UgJ0FCU1MnOiB7IC8vIDMuMi40IEFic29sdXRlIFN0YXJ0IFRpbWUgQ2h1bmtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaG91cnMgPSBhd2FpdCB0aGlzLnRva2VuaXplci5yZWFkVG9rZW4oVG9rZW4uVUlOVDE2X0JFKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbWludXRlcyA9IGF3YWl0IHRoaXMudG9rZW5pemVyLnJlYWRUb2tlbihUb2tlbi5VSU5UOCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHNlY29uZHMgPSBhd2FpdCB0aGlzLnRva2VuaXplci5yZWFkVG9rZW4oVG9rZW4uVUlOVDgpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBzYW1wbGVzID0gYXdhaXQgdGhpcy50b2tlbml6ZXIucmVhZFRva2VuKFRva2VuLlVJTlQzMl9CRSk7XG4gICAgICAgICAgICAgICAgICAgIGRlYnVnKGBBQlNTICR7aG91cnN9OiR7bWludXRlc306JHtzZWNvbmRzfS4ke3NhbXBsZXN9YCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXNlICdMU0NPJzogeyAvLyAzLjIuNSBMb3Vkc3BlYWtlciBDb25maWd1cmF0aW9uIENodW5rXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGxzQ29uZmlnID0gYXdhaXQgdGhpcy50b2tlbml6ZXIucmVhZFRva2VuKFRva2VuLlVJTlQxNl9CRSk7XG4gICAgICAgICAgICAgICAgICAgIGRlYnVnKGBMU0NPIGxzQ29uZmlnPSR7bHNDb25maWd9YCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICBkZWJ1ZyhgVW5rbm93biBzb3VuZC1wcm9wZXJ0eS1jaHVua1tJRD0ke3NuZFByb3BIZWFkZXIuY2h1bmtJRH0sIHNpemU9JHtzbmRQcm9wSGVhZGVyLmNodW5rU2l6ZX1dYCk7XG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMudG9rZW5pemVyLmlnbm9yZShOdW1iZXIoc25kUHJvcEhlYWRlci5jaHVua1NpemUpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHJlbWFpbmluZyA9IHNuZFByb3BIZWFkZXIuY2h1bmtTaXplIC0gQmlnSW50KHRoaXMudG9rZW5pemVyLnBvc2l0aW9uIC0gcDApO1xuICAgICAgICAgICAgaWYgKHJlbWFpbmluZyA+IDApIHtcbiAgICAgICAgICAgICAgICBkZWJ1ZyhgQWZ0ZXIgUGFyc2luZyBzb3VuZC1wcm9wZXJ0eS1jaHVuayAke3NuZFByb3BIZWFkZXIuY2h1bmtTaXplfSwgcmVtYWluaW5nICR7cmVtYWluaW5nfSBieXRlc2ApO1xuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMudG9rZW5pemVyLmlnbm9yZShOdW1iZXIocmVtYWluaW5nKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZW1haW5pbmdTaXplIC09IEJpZ0ludChDaHVua0hlYWRlcjY0LmxlbikgKyBzbmRQcm9wSGVhZGVyLmNodW5rU2l6ZTtcbiAgICAgICAgICAgIGRlYnVnKGBQYXJzaW5nIHNvdW5kLXByb3BlcnR5LWNodW5rcywgcmVtYWluaW5nU2l6ZT0ke3JlbWFpbmluZ1NpemV9YCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMubWV0YWRhdGEuZm9ybWF0Lmxvc3NsZXNzICYmIHRoaXMubWV0YWRhdGEuZm9ybWF0LnNhbXBsZVJhdGUgJiYgdGhpcy5tZXRhZGF0YS5mb3JtYXQubnVtYmVyT2ZDaGFubmVscyAmJiB0aGlzLm1ldGFkYXRhLmZvcm1hdC5iaXRzUGVyU2FtcGxlKSB7XG4gICAgICAgICAgICBjb25zdCBiaXRyYXRlID0gdGhpcy5tZXRhZGF0YS5mb3JtYXQuc2FtcGxlUmF0ZSAqIHRoaXMubWV0YWRhdGEuZm9ybWF0Lm51bWJlck9mQ2hhbm5lbHMgKiB0aGlzLm1ldGFkYXRhLmZvcm1hdC5iaXRzUGVyU2FtcGxlO1xuICAgICAgICAgICAgdGhpcy5tZXRhZGF0YS5zZXRGb3JtYXQoJ2JpdHJhdGUnLCBiaXRyYXRlKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBhc3luYyBoYW5kbGVDaGFubmVsQ2h1bmtzKHJlbWFpbmluZ1NpemUpIHtcbiAgICAgICAgZGVidWcoYFBhcnNpbmcgY2hhbm5lbC1jaHVua3MsIHJlbWFpbmluZ1NpemU9JHtyZW1haW5pbmdTaXplfWApO1xuICAgICAgICBjb25zdCBjaGFubmVscyA9IFtdO1xuICAgICAgICB3aGlsZSAocmVtYWluaW5nU2l6ZSA+PSBGb3VyQ2NUb2tlbi5sZW4pIHtcbiAgICAgICAgICAgIGNvbnN0IGNoYW5uZWxJZCA9IGF3YWl0IHRoaXMudG9rZW5pemVyLnJlYWRUb2tlbihGb3VyQ2NUb2tlbik7XG4gICAgICAgICAgICBkZWJ1ZyhgQ2hhbm5lbFtJRD0ke2NoYW5uZWxJZH1dYCk7XG4gICAgICAgICAgICBjaGFubmVscy5wdXNoKGNoYW5uZWxJZCk7XG4gICAgICAgICAgICByZW1haW5pbmdTaXplIC09IEJpZ0ludChGb3VyQ2NUb2tlbi5sZW4pO1xuICAgICAgICB9XG4gICAgICAgIGRlYnVnKGBDaGFubmVsczogJHtjaGFubmVscy5qb2luKCcsICcpfWApO1xuICAgICAgICByZXR1cm4gY2hhbm5lbHM7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9RHNkaWZmUGFyc2VyLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/music-metadata/lib/dsdiff/DsdiffParser.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/music-metadata/lib/dsdiff/DsdiffToken.js":
/*!***************************************************************!*\
  !*** ./node_modules/music-metadata/lib/dsdiff/DsdiffToken.js ***!
  \***************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ChunkHeader64: () => (/* binding */ ChunkHeader64)\n/* harmony export */ });\n/* harmony import */ var token_types__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! token-types */ \"(ssr)/./node_modules/token-types/lib/index.js\");\n/* harmony import */ var _common_FourCC_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../common/FourCC.js */ \"(ssr)/./node_modules/music-metadata/lib/common/FourCC.js\");\n\n\n/**\n * DSDIFF chunk header\n * The data-size encoding is deviating from EA-IFF 85\n * Ref: http://www.sonicstudio.com/pdf/dsd/DSDIFF_1.5_Spec.pdf\n */\nconst ChunkHeader64 = {\n    len: 12,\n    get: (buf, off) => {\n        return {\n            // Group-ID\n            chunkID: _common_FourCC_js__WEBPACK_IMPORTED_MODULE_1__.FourCcToken.get(buf, off),\n            // Size\n            chunkSize: token_types__WEBPACK_IMPORTED_MODULE_0__.INT64_BE.get(buf, off + 4)\n        };\n    }\n};\n//# sourceMappingURL=DsdiffToken.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbXVzaWMtbWV0YWRhdGEvbGliL2RzZGlmZi9Ec2RpZmZUb2tlbi5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBcUM7QUFDYTtBQUNsRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQiwwREFBVztBQUNoQztBQUNBLHVCQUF1QixpREFBYztBQUNyQztBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2RldmVsZXZhdGUvLi9ub2RlX21vZHVsZXMvbXVzaWMtbWV0YWRhdGEvbGliL2RzZGlmZi9Ec2RpZmZUb2tlbi5qcz9iMmNhIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAqIGFzIFRva2VuIGZyb20gJ3Rva2VuLXR5cGVzJztcbmltcG9ydCB7IEZvdXJDY1Rva2VuIH0gZnJvbSAnLi4vY29tbW9uL0ZvdXJDQy5qcyc7XG4vKipcbiAqIERTRElGRiBjaHVuayBoZWFkZXJcbiAqIFRoZSBkYXRhLXNpemUgZW5jb2RpbmcgaXMgZGV2aWF0aW5nIGZyb20gRUEtSUZGIDg1XG4gKiBSZWY6IGh0dHA6Ly93d3cuc29uaWNzdHVkaW8uY29tL3BkZi9kc2QvRFNESUZGXzEuNV9TcGVjLnBkZlxuICovXG5leHBvcnQgY29uc3QgQ2h1bmtIZWFkZXI2NCA9IHtcbiAgICBsZW46IDEyLFxuICAgIGdldDogKGJ1Ziwgb2ZmKSA9PiB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAvLyBHcm91cC1JRFxuICAgICAgICAgICAgY2h1bmtJRDogRm91ckNjVG9rZW4uZ2V0KGJ1Ziwgb2ZmKSxcbiAgICAgICAgICAgIC8vIFNpemVcbiAgICAgICAgICAgIGNodW5rU2l6ZTogVG9rZW4uSU5UNjRfQkUuZ2V0KGJ1Ziwgb2ZmICsgNClcbiAgICAgICAgfTtcbiAgICB9XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9RHNkaWZmVG9rZW4uanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/music-metadata/lib/dsdiff/DsdiffToken.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/music-metadata/lib/dsf/DsfChunk.js":
/*!*********************************************************!*\
  !*** ./node_modules/music-metadata/lib/dsf/DsfChunk.js ***!
  \*********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ChannelType: () => (/* binding */ ChannelType),\n/* harmony export */   ChunkHeader: () => (/* binding */ ChunkHeader),\n/* harmony export */   DsdChunk: () => (/* binding */ DsdChunk),\n/* harmony export */   FormatChunk: () => (/* binding */ FormatChunk)\n/* harmony export */ });\n/* harmony import */ var token_types__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! token-types */ \"(ssr)/./node_modules/token-types/lib/index.js\");\n/* harmony import */ var _common_FourCC_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../common/FourCC.js */ \"(ssr)/./node_modules/music-metadata/lib/common/FourCC.js\");\n\n\n/**\n * Common chunk DSD header: the 'chunk name (Four-CC)' & chunk size\n */\nconst ChunkHeader = {\n    len: 12,\n    get: (buf, off) => {\n        return { id: _common_FourCC_js__WEBPACK_IMPORTED_MODULE_1__.FourCcToken.get(buf, off), size: token_types__WEBPACK_IMPORTED_MODULE_0__.UINT64_LE.get(buf, off + 4) };\n    }\n};\n/**\n * Common chunk DSD header: the 'chunk name (Four-CC)' & chunk size\n */\nconst DsdChunk = {\n    len: 16,\n    get: (buf, off) => {\n        return {\n            fileSize: token_types__WEBPACK_IMPORTED_MODULE_0__.INT64_LE.get(buf, off),\n            metadataPointer: token_types__WEBPACK_IMPORTED_MODULE_0__.INT64_LE.get(buf, off + 8)\n        };\n    }\n};\nvar ChannelType;\n(function (ChannelType) {\n    ChannelType[ChannelType[\"mono\"] = 1] = \"mono\";\n    ChannelType[ChannelType[\"stereo\"] = 2] = \"stereo\";\n    ChannelType[ChannelType[\"channels\"] = 3] = \"channels\";\n    ChannelType[ChannelType[\"quad\"] = 4] = \"quad\";\n    ChannelType[ChannelType[\"4 channels\"] = 5] = \"4 channels\";\n    ChannelType[ChannelType[\"5 channels\"] = 6] = \"5 channels\";\n    ChannelType[ChannelType[\"5.1 channels\"] = 7] = \"5.1 channels\";\n})(ChannelType || (ChannelType = {}));\n/**\n * Common chunk DSD header: the 'chunk name (Four-CC)' & chunk size\n */\nconst FormatChunk = {\n    len: 40,\n    get: (buf, off) => {\n        return {\n            formatVersion: token_types__WEBPACK_IMPORTED_MODULE_0__.INT32_LE.get(buf, off),\n            formatID: token_types__WEBPACK_IMPORTED_MODULE_0__.INT32_LE.get(buf, off + 4),\n            channelType: token_types__WEBPACK_IMPORTED_MODULE_0__.INT32_LE.get(buf, off + 8),\n            channelNum: token_types__WEBPACK_IMPORTED_MODULE_0__.INT32_LE.get(buf, off + 12),\n            samplingFrequency: token_types__WEBPACK_IMPORTED_MODULE_0__.INT32_LE.get(buf, off + 16),\n            bitsPerSample: token_types__WEBPACK_IMPORTED_MODULE_0__.INT32_LE.get(buf, off + 20),\n            sampleCount: token_types__WEBPACK_IMPORTED_MODULE_0__.INT64_LE.get(buf, off + 24),\n            blockSizePerChannel: token_types__WEBPACK_IMPORTED_MODULE_0__.INT32_LE.get(buf, off + 32)\n        };\n    }\n};\n//# sourceMappingURL=DsfChunk.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbXVzaWMtbWV0YWRhdGEvbGliL2RzZi9Ec2ZDaHVuay5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBcUM7QUFDYTtBQUNsRDtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQSxpQkFBaUIsSUFBSSwwREFBVyxzQkFBc0Isa0RBQWU7QUFDckU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCLGlEQUFjO0FBQ3BDLDZCQUE2QixpREFBYztBQUMzQztBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLGtDQUFrQztBQUNuQztBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQixpREFBYztBQUN6QyxzQkFBc0IsaURBQWM7QUFDcEMseUJBQXlCLGlEQUFjO0FBQ3ZDLHdCQUF3QixpREFBYztBQUN0QywrQkFBK0IsaURBQWM7QUFDN0MsMkJBQTJCLGlEQUFjO0FBQ3pDLHlCQUF5QixpREFBYztBQUN2QyxpQ0FBaUMsaURBQWM7QUFDL0M7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9kZXZlbGV2YXRlLy4vbm9kZV9tb2R1bGVzL211c2ljLW1ldGFkYXRhL2xpYi9kc2YvRHNmQ2h1bmsuanM/ODNiMyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgKiBhcyBUb2tlbiBmcm9tICd0b2tlbi10eXBlcyc7XG5pbXBvcnQgeyBGb3VyQ2NUb2tlbiB9IGZyb20gJy4uL2NvbW1vbi9Gb3VyQ0MuanMnO1xuLyoqXG4gKiBDb21tb24gY2h1bmsgRFNEIGhlYWRlcjogdGhlICdjaHVuayBuYW1lIChGb3VyLUNDKScgJiBjaHVuayBzaXplXG4gKi9cbmV4cG9ydCBjb25zdCBDaHVua0hlYWRlciA9IHtcbiAgICBsZW46IDEyLFxuICAgIGdldDogKGJ1Ziwgb2ZmKSA9PiB7XG4gICAgICAgIHJldHVybiB7IGlkOiBGb3VyQ2NUb2tlbi5nZXQoYnVmLCBvZmYpLCBzaXplOiBUb2tlbi5VSU5UNjRfTEUuZ2V0KGJ1Ziwgb2ZmICsgNCkgfTtcbiAgICB9XG59O1xuLyoqXG4gKiBDb21tb24gY2h1bmsgRFNEIGhlYWRlcjogdGhlICdjaHVuayBuYW1lIChGb3VyLUNDKScgJiBjaHVuayBzaXplXG4gKi9cbmV4cG9ydCBjb25zdCBEc2RDaHVuayA9IHtcbiAgICBsZW46IDE2LFxuICAgIGdldDogKGJ1Ziwgb2ZmKSA9PiB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBmaWxlU2l6ZTogVG9rZW4uSU5UNjRfTEUuZ2V0KGJ1Ziwgb2ZmKSxcbiAgICAgICAgICAgIG1ldGFkYXRhUG9pbnRlcjogVG9rZW4uSU5UNjRfTEUuZ2V0KGJ1Ziwgb2ZmICsgOClcbiAgICAgICAgfTtcbiAgICB9XG59O1xuZXhwb3J0IHZhciBDaGFubmVsVHlwZTtcbihmdW5jdGlvbiAoQ2hhbm5lbFR5cGUpIHtcbiAgICBDaGFubmVsVHlwZVtDaGFubmVsVHlwZVtcIm1vbm9cIl0gPSAxXSA9IFwibW9ub1wiO1xuICAgIENoYW5uZWxUeXBlW0NoYW5uZWxUeXBlW1wic3RlcmVvXCJdID0gMl0gPSBcInN0ZXJlb1wiO1xuICAgIENoYW5uZWxUeXBlW0NoYW5uZWxUeXBlW1wiY2hhbm5lbHNcIl0gPSAzXSA9IFwiY2hhbm5lbHNcIjtcbiAgICBDaGFubmVsVHlwZVtDaGFubmVsVHlwZVtcInF1YWRcIl0gPSA0XSA9IFwicXVhZFwiO1xuICAgIENoYW5uZWxUeXBlW0NoYW5uZWxUeXBlW1wiNCBjaGFubmVsc1wiXSA9IDVdID0gXCI0IGNoYW5uZWxzXCI7XG4gICAgQ2hhbm5lbFR5cGVbQ2hhbm5lbFR5cGVbXCI1IGNoYW5uZWxzXCJdID0gNl0gPSBcIjUgY2hhbm5lbHNcIjtcbiAgICBDaGFubmVsVHlwZVtDaGFubmVsVHlwZVtcIjUuMSBjaGFubmVsc1wiXSA9IDddID0gXCI1LjEgY2hhbm5lbHNcIjtcbn0pKENoYW5uZWxUeXBlIHx8IChDaGFubmVsVHlwZSA9IHt9KSk7XG4vKipcbiAqIENvbW1vbiBjaHVuayBEU0QgaGVhZGVyOiB0aGUgJ2NodW5rIG5hbWUgKEZvdXItQ0MpJyAmIGNodW5rIHNpemVcbiAqL1xuZXhwb3J0IGNvbnN0IEZvcm1hdENodW5rID0ge1xuICAgIGxlbjogNDAsXG4gICAgZ2V0OiAoYnVmLCBvZmYpID0+IHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGZvcm1hdFZlcnNpb246IFRva2VuLklOVDMyX0xFLmdldChidWYsIG9mZiksXG4gICAgICAgICAgICBmb3JtYXRJRDogVG9rZW4uSU5UMzJfTEUuZ2V0KGJ1Ziwgb2ZmICsgNCksXG4gICAgICAgICAgICBjaGFubmVsVHlwZTogVG9rZW4uSU5UMzJfTEUuZ2V0KGJ1Ziwgb2ZmICsgOCksXG4gICAgICAgICAgICBjaGFubmVsTnVtOiBUb2tlbi5JTlQzMl9MRS5nZXQoYnVmLCBvZmYgKyAxMiksXG4gICAgICAgICAgICBzYW1wbGluZ0ZyZXF1ZW5jeTogVG9rZW4uSU5UMzJfTEUuZ2V0KGJ1Ziwgb2ZmICsgMTYpLFxuICAgICAgICAgICAgYml0c1BlclNhbXBsZTogVG9rZW4uSU5UMzJfTEUuZ2V0KGJ1Ziwgb2ZmICsgMjApLFxuICAgICAgICAgICAgc2FtcGxlQ291bnQ6IFRva2VuLklOVDY0X0xFLmdldChidWYsIG9mZiArIDI0KSxcbiAgICAgICAgICAgIGJsb2NrU2l6ZVBlckNoYW5uZWw6IFRva2VuLklOVDMyX0xFLmdldChidWYsIG9mZiArIDMyKVxuICAgICAgICB9O1xuICAgIH1cbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1Ec2ZDaHVuay5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/music-metadata/lib/dsf/DsfChunk.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/music-metadata/lib/dsf/DsfParser.js":
/*!**********************************************************!*\
  !*** ./node_modules/music-metadata/lib/dsf/DsfParser.js ***!
  \**********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DsfParser: () => (/* binding */ DsfParser)\n/* harmony export */ });\n/* harmony import */ var debug__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! debug */ \"(ssr)/./node_modules/debug/src/index.js\");\n/* harmony import */ var _id3v2_AbstractID3Parser_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../id3v2/AbstractID3Parser.js */ \"(ssr)/./node_modules/music-metadata/lib/id3v2/AbstractID3Parser.js\");\n/* harmony import */ var _DsfChunk_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./DsfChunk.js */ \"(ssr)/./node_modules/music-metadata/lib/dsf/DsfChunk.js\");\n/* harmony import */ var _id3v2_ID3v2Parser_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../id3v2/ID3v2Parser.js */ \"(ssr)/./node_modules/music-metadata/lib/id3v2/ID3v2Parser.js\");\n\n\n\n\nconst debug = debug__WEBPACK_IMPORTED_MODULE_0__('music-metadata:parser:DSF');\n/**\n * DSF (dsd stream file) File Parser\n * Ref: https://dsd-guide.com/sites/default/files/white-papers/DSFFileFormatSpec_E.pdf\n */\nclass DsfParser extends _id3v2_AbstractID3Parser_js__WEBPACK_IMPORTED_MODULE_1__.AbstractID3Parser {\n    async postId3v2Parse() {\n        const p0 = this.tokenizer.position; // mark start position, normally 0\n        const chunkHeader = await this.tokenizer.readToken(_DsfChunk_js__WEBPACK_IMPORTED_MODULE_2__.ChunkHeader);\n        if (chunkHeader.id !== 'DSD ')\n            throw new Error('Invalid chunk signature');\n        this.metadata.setFormat('container', 'DSF');\n        this.metadata.setFormat('lossless', true);\n        const dsdChunk = await this.tokenizer.readToken(_DsfChunk_js__WEBPACK_IMPORTED_MODULE_2__.DsdChunk);\n        if (dsdChunk.metadataPointer === BigInt(0)) {\n            debug(\"No ID3v2 tag present\");\n        }\n        else {\n            debug(`expect ID3v2 at offset=${dsdChunk.metadataPointer}`);\n            await this.parseChunks(dsdChunk.fileSize - chunkHeader.size);\n            // Jump to ID3 header\n            await this.tokenizer.ignore(Number(dsdChunk.metadataPointer) - this.tokenizer.position - p0);\n            return new _id3v2_ID3v2Parser_js__WEBPACK_IMPORTED_MODULE_3__.ID3v2Parser().parse(this.metadata, this.tokenizer, this.options);\n        }\n    }\n    async parseChunks(bytesRemaining) {\n        while (bytesRemaining >= _DsfChunk_js__WEBPACK_IMPORTED_MODULE_2__.ChunkHeader.len) {\n            const chunkHeader = await this.tokenizer.readToken(_DsfChunk_js__WEBPACK_IMPORTED_MODULE_2__.ChunkHeader);\n            debug(`Parsing chunk name=${chunkHeader.id} size=${chunkHeader.size}`);\n            switch (chunkHeader.id) {\n                case 'fmt ': {\n                    const formatChunk = await this.tokenizer.readToken(_DsfChunk_js__WEBPACK_IMPORTED_MODULE_2__.FormatChunk);\n                    this.metadata.setFormat('numberOfChannels', formatChunk.channelNum);\n                    this.metadata.setFormat('sampleRate', formatChunk.samplingFrequency);\n                    this.metadata.setFormat('bitsPerSample', formatChunk.bitsPerSample);\n                    this.metadata.setFormat('numberOfSamples', formatChunk.sampleCount);\n                    this.metadata.setFormat('duration', Number(formatChunk.sampleCount) / formatChunk.samplingFrequency);\n                    const bitrate = formatChunk.bitsPerSample * formatChunk.samplingFrequency * formatChunk.channelNum;\n                    this.metadata.setFormat('bitrate', bitrate);\n                    return; // We got what we want, stop further processing of chunks\n                }\n                default:\n                    this.tokenizer.ignore(Number(chunkHeader.size) - _DsfChunk_js__WEBPACK_IMPORTED_MODULE_2__.ChunkHeader.len);\n                    break;\n            }\n            bytesRemaining -= chunkHeader.size;\n        }\n    }\n}\n//# sourceMappingURL=DsfParser.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbXVzaWMtbWV0YWRhdGEvbGliL2RzZi9Ec2ZQYXJzZXIuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBOEI7QUFDb0M7QUFDQztBQUNiO0FBQ3RELGNBQWMsa0NBQVM7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDTyx3QkFBd0IsMEVBQWlCO0FBQ2hEO0FBQ0EsNENBQTRDO0FBQzVDLDJEQUEyRCxxREFBVztBQUN0RTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdEQUF3RCxrREFBUTtBQUNoRTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRDQUE0Qyx5QkFBeUI7QUFDckU7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCLDhEQUFXO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBLGlDQUFpQyxxREFBVztBQUM1QywrREFBK0QscURBQVc7QUFDMUUsd0NBQXdDLGdCQUFnQixPQUFPLGlCQUFpQjtBQUNoRjtBQUNBO0FBQ0EsdUVBQXVFLHFEQUFXO0FBQ2xGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCO0FBQzVCO0FBQ0E7QUFDQSxxRUFBcUUscURBQVc7QUFDaEY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9kZXZlbGV2YXRlLy4vbm9kZV9tb2R1bGVzL211c2ljLW1ldGFkYXRhL2xpYi9kc2YvRHNmUGFyc2VyLmpzPzFhNjEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGluaXREZWJ1ZyBmcm9tICdkZWJ1Zyc7XG5pbXBvcnQgeyBBYnN0cmFjdElEM1BhcnNlciB9IGZyb20gJy4uL2lkM3YyL0Fic3RyYWN0SUQzUGFyc2VyLmpzJztcbmltcG9ydCB7IENodW5rSGVhZGVyLCBEc2RDaHVuaywgRm9ybWF0Q2h1bmsgfSBmcm9tICcuL0RzZkNodW5rLmpzJztcbmltcG9ydCB7IElEM3YyUGFyc2VyIH0gZnJvbSBcIi4uL2lkM3YyL0lEM3YyUGFyc2VyLmpzXCI7XG5jb25zdCBkZWJ1ZyA9IGluaXREZWJ1ZygnbXVzaWMtbWV0YWRhdGE6cGFyc2VyOkRTRicpO1xuLyoqXG4gKiBEU0YgKGRzZCBzdHJlYW0gZmlsZSkgRmlsZSBQYXJzZXJcbiAqIFJlZjogaHR0cHM6Ly9kc2QtZ3VpZGUuY29tL3NpdGVzL2RlZmF1bHQvZmlsZXMvd2hpdGUtcGFwZXJzL0RTRkZpbGVGb3JtYXRTcGVjX0UucGRmXG4gKi9cbmV4cG9ydCBjbGFzcyBEc2ZQYXJzZXIgZXh0ZW5kcyBBYnN0cmFjdElEM1BhcnNlciB7XG4gICAgYXN5bmMgcG9zdElkM3YyUGFyc2UoKSB7XG4gICAgICAgIGNvbnN0IHAwID0gdGhpcy50b2tlbml6ZXIucG9zaXRpb247IC8vIG1hcmsgc3RhcnQgcG9zaXRpb24sIG5vcm1hbGx5IDBcbiAgICAgICAgY29uc3QgY2h1bmtIZWFkZXIgPSBhd2FpdCB0aGlzLnRva2VuaXplci5yZWFkVG9rZW4oQ2h1bmtIZWFkZXIpO1xuICAgICAgICBpZiAoY2h1bmtIZWFkZXIuaWQgIT09ICdEU0QgJylcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBjaHVuayBzaWduYXR1cmUnKTtcbiAgICAgICAgdGhpcy5tZXRhZGF0YS5zZXRGb3JtYXQoJ2NvbnRhaW5lcicsICdEU0YnKTtcbiAgICAgICAgdGhpcy5tZXRhZGF0YS5zZXRGb3JtYXQoJ2xvc3NsZXNzJywgdHJ1ZSk7XG4gICAgICAgIGNvbnN0IGRzZENodW5rID0gYXdhaXQgdGhpcy50b2tlbml6ZXIucmVhZFRva2VuKERzZENodW5rKTtcbiAgICAgICAgaWYgKGRzZENodW5rLm1ldGFkYXRhUG9pbnRlciA9PT0gQmlnSW50KDApKSB7XG4gICAgICAgICAgICBkZWJ1ZyhcIk5vIElEM3YyIHRhZyBwcmVzZW50XCIpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgZGVidWcoYGV4cGVjdCBJRDN2MiBhdCBvZmZzZXQ9JHtkc2RDaHVuay5tZXRhZGF0YVBvaW50ZXJ9YCk7XG4gICAgICAgICAgICBhd2FpdCB0aGlzLnBhcnNlQ2h1bmtzKGRzZENodW5rLmZpbGVTaXplIC0gY2h1bmtIZWFkZXIuc2l6ZSk7XG4gICAgICAgICAgICAvLyBKdW1wIHRvIElEMyBoZWFkZXJcbiAgICAgICAgICAgIGF3YWl0IHRoaXMudG9rZW5pemVyLmlnbm9yZShOdW1iZXIoZHNkQ2h1bmsubWV0YWRhdGFQb2ludGVyKSAtIHRoaXMudG9rZW5pemVyLnBvc2l0aW9uIC0gcDApO1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBJRDN2MlBhcnNlcigpLnBhcnNlKHRoaXMubWV0YWRhdGEsIHRoaXMudG9rZW5pemVyLCB0aGlzLm9wdGlvbnMpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGFzeW5jIHBhcnNlQ2h1bmtzKGJ5dGVzUmVtYWluaW5nKSB7XG4gICAgICAgIHdoaWxlIChieXRlc1JlbWFpbmluZyA+PSBDaHVua0hlYWRlci5sZW4pIHtcbiAgICAgICAgICAgIGNvbnN0IGNodW5rSGVhZGVyID0gYXdhaXQgdGhpcy50b2tlbml6ZXIucmVhZFRva2VuKENodW5rSGVhZGVyKTtcbiAgICAgICAgICAgIGRlYnVnKGBQYXJzaW5nIGNodW5rIG5hbWU9JHtjaHVua0hlYWRlci5pZH0gc2l6ZT0ke2NodW5rSGVhZGVyLnNpemV9YCk7XG4gICAgICAgICAgICBzd2l0Y2ggKGNodW5rSGVhZGVyLmlkKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAnZm10ICc6IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZm9ybWF0Q2h1bmsgPSBhd2FpdCB0aGlzLnRva2VuaXplci5yZWFkVG9rZW4oRm9ybWF0Q2h1bmspO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm1ldGFkYXRhLnNldEZvcm1hdCgnbnVtYmVyT2ZDaGFubmVscycsIGZvcm1hdENodW5rLmNoYW5uZWxOdW0pO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm1ldGFkYXRhLnNldEZvcm1hdCgnc2FtcGxlUmF0ZScsIGZvcm1hdENodW5rLnNhbXBsaW5nRnJlcXVlbmN5KTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tZXRhZGF0YS5zZXRGb3JtYXQoJ2JpdHNQZXJTYW1wbGUnLCBmb3JtYXRDaHVuay5iaXRzUGVyU2FtcGxlKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tZXRhZGF0YS5zZXRGb3JtYXQoJ251bWJlck9mU2FtcGxlcycsIGZvcm1hdENodW5rLnNhbXBsZUNvdW50KTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tZXRhZGF0YS5zZXRGb3JtYXQoJ2R1cmF0aW9uJywgTnVtYmVyKGZvcm1hdENodW5rLnNhbXBsZUNvdW50KSAvIGZvcm1hdENodW5rLnNhbXBsaW5nRnJlcXVlbmN5KTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYml0cmF0ZSA9IGZvcm1hdENodW5rLmJpdHNQZXJTYW1wbGUgKiBmb3JtYXRDaHVuay5zYW1wbGluZ0ZyZXF1ZW5jeSAqIGZvcm1hdENodW5rLmNoYW5uZWxOdW07XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubWV0YWRhdGEuc2V0Rm9ybWF0KCdiaXRyYXRlJywgYml0cmF0ZSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjsgLy8gV2UgZ290IHdoYXQgd2Ugd2FudCwgc3RvcCBmdXJ0aGVyIHByb2Nlc3Npbmcgb2YgY2h1bmtzXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudG9rZW5pemVyLmlnbm9yZShOdW1iZXIoY2h1bmtIZWFkZXIuc2l6ZSkgLSBDaHVua0hlYWRlci5sZW4pO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJ5dGVzUmVtYWluaW5nIC09IGNodW5rSGVhZGVyLnNpemU7XG4gICAgICAgIH1cbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1Ec2ZQYXJzZXIuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/music-metadata/lib/dsf/DsfParser.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/music-metadata/lib/flac/FlacParser.js":
/*!************************************************************!*\
  !*** ./node_modules/music-metadata/lib/flac/FlacParser.js ***!
  \************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   FlacParser: () => (/* binding */ FlacParser)\n/* harmony export */ });\n/* harmony import */ var token_types__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! token-types */ \"(ssr)/./node_modules/token-types/lib/index.js\");\n/* harmony import */ var debug__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! debug */ \"(ssr)/./node_modules/debug/src/index.js\");\n/* harmony import */ var _common_Util_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../common/Util.js */ \"(ssr)/./node_modules/music-metadata/lib/common/Util.js\");\n/* harmony import */ var _ogg_vorbis_Vorbis_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../ogg/vorbis/Vorbis.js */ \"(ssr)/./node_modules/music-metadata/lib/ogg/vorbis/Vorbis.js\");\n/* harmony import */ var _id3v2_AbstractID3Parser_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../id3v2/AbstractID3Parser.js */ \"(ssr)/./node_modules/music-metadata/lib/id3v2/AbstractID3Parser.js\");\n/* harmony import */ var _common_FourCC_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../common/FourCC.js */ \"(ssr)/./node_modules/music-metadata/lib/common/FourCC.js\");\n/* harmony import */ var _ogg_vorbis_VorbisParser_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../ogg/vorbis/VorbisParser.js */ \"(ssr)/./node_modules/music-metadata/lib/ogg/vorbis/VorbisParser.js\");\n/* harmony import */ var _ogg_vorbis_VorbisDecoder_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../ogg/vorbis/VorbisDecoder.js */ \"(ssr)/./node_modules/music-metadata/lib/ogg/vorbis/VorbisDecoder.js\");\n\n\n\n\n\n\n\n\nconst debug = debug__WEBPACK_IMPORTED_MODULE_1__('music-metadata:parser:FLAC');\n/**\n * FLAC supports up to 128 kinds of metadata blocks; currently the following are defined:\n * ref: https://xiph.org/flac/format.html#metadata_block\n */\nvar BlockType;\n(function (BlockType) {\n    BlockType[BlockType[\"STREAMINFO\"] = 0] = \"STREAMINFO\";\n    BlockType[BlockType[\"PADDING\"] = 1] = \"PADDING\";\n    BlockType[BlockType[\"APPLICATION\"] = 2] = \"APPLICATION\";\n    BlockType[BlockType[\"SEEKTABLE\"] = 3] = \"SEEKTABLE\";\n    BlockType[BlockType[\"VORBIS_COMMENT\"] = 4] = \"VORBIS_COMMENT\";\n    BlockType[BlockType[\"CUESHEET\"] = 5] = \"CUESHEET\";\n    BlockType[BlockType[\"PICTURE\"] = 6] = \"PICTURE\";\n})(BlockType || (BlockType = {}));\nclass FlacParser extends _id3v2_AbstractID3Parser_js__WEBPACK_IMPORTED_MODULE_4__.AbstractID3Parser {\n    constructor() {\n        super(...arguments);\n        this.padding = 0;\n    }\n    /**\n     * Initialize parser with output (metadata), input (tokenizer) & parsing options (options).\n     * @param {INativeMetadataCollector} metadata Output\n     * @param {ITokenizer} tokenizer Input\n     * @param {IOptions} options Parsing options\n     */\n    init(metadata, tokenizer, options) {\n        super.init(metadata, tokenizer, options);\n        this.vorbisParser = new _ogg_vorbis_VorbisParser_js__WEBPACK_IMPORTED_MODULE_6__.VorbisParser(metadata, options);\n        return this;\n    }\n    async postId3v2Parse() {\n        const fourCC = await this.tokenizer.readToken(_common_FourCC_js__WEBPACK_IMPORTED_MODULE_5__.FourCcToken);\n        if (fourCC.toString() !== 'fLaC') {\n            throw new Error('Invalid FLAC preamble');\n        }\n        let blockHeader;\n        do {\n            // Read block header\n            blockHeader = await this.tokenizer.readToken(BlockHeader);\n            // Parse block data\n            await this.parseDataBlock(blockHeader);\n        } while (!blockHeader.lastBlock);\n        if (this.tokenizer.fileInfo.size && this.metadata.format.duration) {\n            const dataSize = this.tokenizer.fileInfo.size - this.tokenizer.position;\n            this.metadata.setFormat('bitrate', 8 * dataSize / this.metadata.format.duration);\n        }\n    }\n    async parseDataBlock(blockHeader) {\n        debug(`blockHeader type=${blockHeader.type}, length=${blockHeader.length}`);\n        switch (blockHeader.type) {\n            case BlockType.STREAMINFO:\n                return this.parseBlockStreamInfo(blockHeader.length);\n            case BlockType.PADDING:\n                this.padding += blockHeader.length;\n                break;\n            case BlockType.APPLICATION:\n                break;\n            case BlockType.SEEKTABLE:\n                break;\n            case BlockType.VORBIS_COMMENT:\n                return this.parseComment(blockHeader.length);\n            case BlockType.CUESHEET:\n                break;\n            case BlockType.PICTURE:\n                await this.parsePicture(blockHeader.length);\n                return;\n            default:\n                this.metadata.addWarning(`Unknown block type: ${blockHeader.type}`);\n        }\n        // Ignore data block\n        return this.tokenizer.ignore(blockHeader.length).then();\n    }\n    /**\n     * Parse STREAMINFO\n     */\n    async parseBlockStreamInfo(dataLen) {\n        if (dataLen !== BlockStreamInfo.len)\n            throw new Error('Unexpected block-stream-info length');\n        const streamInfo = await this.tokenizer.readToken(BlockStreamInfo);\n        this.metadata.setFormat('container', 'FLAC');\n        this.metadata.setFormat('codec', 'FLAC');\n        this.metadata.setFormat('lossless', true);\n        this.metadata.setFormat('numberOfChannels', streamInfo.channels);\n        this.metadata.setFormat('bitsPerSample', streamInfo.bitsPerSample);\n        this.metadata.setFormat('sampleRate', streamInfo.sampleRate);\n        if (streamInfo.totalSamples > 0) {\n            this.metadata.setFormat('duration', streamInfo.totalSamples / streamInfo.sampleRate);\n        }\n    }\n    /**\n     * Parse VORBIS_COMMENT\n     * Ref: https://www.xiph.org/vorbis/doc/Vorbis_I_spec.html#x1-640004.2.3\n     */\n    async parseComment(dataLen) {\n        const data = await this.tokenizer.readToken(new token_types__WEBPACK_IMPORTED_MODULE_0__.Uint8ArrayType(dataLen));\n        const decoder = new _ogg_vorbis_VorbisDecoder_js__WEBPACK_IMPORTED_MODULE_7__.VorbisDecoder(data, 0);\n        decoder.readStringUtf8(); // vendor (skip)\n        const commentListLength = decoder.readInt32();\n        const tags = new Array(commentListLength);\n        for (let i = 0; i < commentListLength; i++) {\n            tags[i] = decoder.parseUserComment();\n        }\n        await Promise.all(tags.map(tag => this.vorbisParser.addTag(tag.key, tag.value)));\n    }\n    async parsePicture(dataLen) {\n        if (this.options.skipCovers) {\n            return this.tokenizer.ignore(dataLen);\n        }\n        const picture = await this.tokenizer.readToken(new _ogg_vorbis_Vorbis_js__WEBPACK_IMPORTED_MODULE_3__.VorbisPictureToken(dataLen));\n        this.vorbisParser.addTag('METADATA_BLOCK_PICTURE', picture);\n    }\n}\nconst BlockHeader = {\n    len: 4,\n    get: (buf, off) => {\n        return {\n            lastBlock: _common_Util_js__WEBPACK_IMPORTED_MODULE_2__.getBit(buf, off, 7),\n            type: _common_Util_js__WEBPACK_IMPORTED_MODULE_2__.getBitAllignedNumber(buf, off, 1, 7),\n            length: token_types__WEBPACK_IMPORTED_MODULE_0__.UINT24_BE.get(buf, off + 1)\n        };\n    }\n};\n/**\n * METADATA_BLOCK_DATA\n * Ref: https://xiph.org/flac/format.html#metadata_block_streaminfo\n */\nconst BlockStreamInfo = {\n    len: 34,\n    get: (buf, off) => {\n        return {\n            // The minimum block size (in samples) used in the stream.\n            minimumBlockSize: token_types__WEBPACK_IMPORTED_MODULE_0__.UINT16_BE.get(buf, off),\n            // The maximum block size (in samples) used in the stream.\n            // (Minimum blocksize == maximum blocksize) implies a fixed-blocksize stream.\n            maximumBlockSize: token_types__WEBPACK_IMPORTED_MODULE_0__.UINT16_BE.get(buf, off + 2) / 1000,\n            // The minimum frame size (in bytes) used in the stream.\n            // May be 0 to imply the value is not known.\n            minimumFrameSize: token_types__WEBPACK_IMPORTED_MODULE_0__.UINT24_BE.get(buf, off + 4),\n            // The maximum frame size (in bytes) used in the stream.\n            // May be 0 to imply the value is not known.\n            maximumFrameSize: token_types__WEBPACK_IMPORTED_MODULE_0__.UINT24_BE.get(buf, off + 7),\n            // Sample rate in Hz. Though 20 bits are available,\n            // the maximum sample rate is limited by the structure of frame headers to 655350Hz.\n            // Also, a value of 0 is invalid.\n            sampleRate: token_types__WEBPACK_IMPORTED_MODULE_0__.UINT24_BE.get(buf, off + 10) >> 4,\n            // probably slower: sampleRate: common.getBitAllignedNumber(buf, off + 10, 0, 20),\n            // (number of channels)-1. FLAC supports from 1 to 8 channels\n            channels: _common_Util_js__WEBPACK_IMPORTED_MODULE_2__.getBitAllignedNumber(buf, off + 12, 4, 3) + 1,\n            // bits per sample)-1.\n            // FLAC supports from 4 to 32 bits per sample. Currently the reference encoder and decoders only support up to 24 bits per sample.\n            bitsPerSample: _common_Util_js__WEBPACK_IMPORTED_MODULE_2__.getBitAllignedNumber(buf, off + 12, 7, 5) + 1,\n            // Total samples in stream.\n            // 'Samples' means inter-channel sample, i.e. one second of 44.1Khz audio will have 44100 samples regardless of the number of channels.\n            // A value of zero here means the number of total samples is unknown.\n            totalSamples: _common_Util_js__WEBPACK_IMPORTED_MODULE_2__.getBitAllignedNumber(buf, off + 13, 4, 36),\n            // the MD5 hash of the file (see notes for usage... it's a littly tricky)\n            fileMD5: new token_types__WEBPACK_IMPORTED_MODULE_0__.Uint8ArrayType(16).get(buf, off + 18)\n        };\n    }\n};\n//# sourceMappingURL=FlacParser.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbXVzaWMtbWV0YWRhdGEvbGliL2ZsYWMvRmxhY1BhcnNlci5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7QUFBbUU7QUFDckM7QUFDWTtBQUNtQjtBQUNLO0FBQ2hCO0FBQ1c7QUFDRTtBQUMvRCxjQUFjLGtDQUFTO0FBQ3ZCO0FBQ0EscURBQXFEO0FBQ3JEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLDhCQUE4QjtBQUN4Qix5QkFBeUIsMEVBQWlCO0FBQ2pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsMEJBQTBCO0FBQ3pDLGVBQWUsWUFBWTtBQUMzQixlQUFlLFVBQVU7QUFDekI7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDLHFFQUFZO0FBQzVDO0FBQ0E7QUFDQTtBQUNBLHNEQUFzRCwwREFBVztBQUNqRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0NBQWtDLGlCQUFpQixXQUFXLG1CQUFtQjtBQUNqRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnRUFBZ0UsaUJBQWlCO0FBQ2pGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3REFBd0QsdURBQWM7QUFDdEUsNEJBQTRCLHVFQUFhO0FBQ3pDLGtDQUFrQztBQUNsQztBQUNBO0FBQ0Esd0JBQXdCLHVCQUF1QjtBQUMvQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkRBQTJELHFFQUFrQjtBQUM3RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1QixtREFBVztBQUNsQyxrQkFBa0IsaUVBQXlCO0FBQzNDLG9CQUFvQixrREFBUztBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4QkFBOEIsa0RBQVM7QUFDdkM7QUFDQTtBQUNBLDhCQUE4QixrREFBUztBQUN2QztBQUNBO0FBQ0EsOEJBQThCLGtEQUFTO0FBQ3ZDO0FBQ0E7QUFDQSw4QkFBOEIsa0RBQVM7QUFDdkM7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLGtEQUFTO0FBQ2pDO0FBQ0E7QUFDQSxzQkFBc0IsaUVBQXlCO0FBQy9DO0FBQ0E7QUFDQSwyQkFBMkIsaUVBQXlCO0FBQ3BEO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQixpRUFBeUI7QUFDbkQ7QUFDQSx5QkFBeUIsdURBQWM7QUFDdkM7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9kZXZlbGV2YXRlLy4vbm9kZV9tb2R1bGVzL211c2ljLW1ldGFkYXRhL2xpYi9mbGFjL0ZsYWNQYXJzZXIuanM/OGFhZSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBVSU5UMTZfQkUsIFVJTlQyNF9CRSwgVWludDhBcnJheVR5cGUgfSBmcm9tICd0b2tlbi10eXBlcyc7XG5pbXBvcnQgaW5pdERlYnVnIGZyb20gJ2RlYnVnJztcbmltcG9ydCAqIGFzIHV0aWwgZnJvbSAnLi4vY29tbW9uL1V0aWwuanMnO1xuaW1wb3J0IHsgVm9yYmlzUGljdHVyZVRva2VuIH0gZnJvbSAnLi4vb2dnL3ZvcmJpcy9Wb3JiaXMuanMnO1xuaW1wb3J0IHsgQWJzdHJhY3RJRDNQYXJzZXIgfSBmcm9tICcuLi9pZDN2Mi9BYnN0cmFjdElEM1BhcnNlci5qcyc7XG5pbXBvcnQgeyBGb3VyQ2NUb2tlbiB9IGZyb20gJy4uL2NvbW1vbi9Gb3VyQ0MuanMnO1xuaW1wb3J0IHsgVm9yYmlzUGFyc2VyIH0gZnJvbSAnLi4vb2dnL3ZvcmJpcy9Wb3JiaXNQYXJzZXIuanMnO1xuaW1wb3J0IHsgVm9yYmlzRGVjb2RlciB9IGZyb20gJy4uL29nZy92b3JiaXMvVm9yYmlzRGVjb2Rlci5qcyc7XG5jb25zdCBkZWJ1ZyA9IGluaXREZWJ1ZygnbXVzaWMtbWV0YWRhdGE6cGFyc2VyOkZMQUMnKTtcbi8qKlxuICogRkxBQyBzdXBwb3J0cyB1cCB0byAxMjgga2luZHMgb2YgbWV0YWRhdGEgYmxvY2tzOyBjdXJyZW50bHkgdGhlIGZvbGxvd2luZyBhcmUgZGVmaW5lZDpcbiAqIHJlZjogaHR0cHM6Ly94aXBoLm9yZy9mbGFjL2Zvcm1hdC5odG1sI21ldGFkYXRhX2Jsb2NrXG4gKi9cbnZhciBCbG9ja1R5cGU7XG4oZnVuY3Rpb24gKEJsb2NrVHlwZSkge1xuICAgIEJsb2NrVHlwZVtCbG9ja1R5cGVbXCJTVFJFQU1JTkZPXCJdID0gMF0gPSBcIlNUUkVBTUlORk9cIjtcbiAgICBCbG9ja1R5cGVbQmxvY2tUeXBlW1wiUEFERElOR1wiXSA9IDFdID0gXCJQQURESU5HXCI7XG4gICAgQmxvY2tUeXBlW0Jsb2NrVHlwZVtcIkFQUExJQ0FUSU9OXCJdID0gMl0gPSBcIkFQUExJQ0FUSU9OXCI7XG4gICAgQmxvY2tUeXBlW0Jsb2NrVHlwZVtcIlNFRUtUQUJMRVwiXSA9IDNdID0gXCJTRUVLVEFCTEVcIjtcbiAgICBCbG9ja1R5cGVbQmxvY2tUeXBlW1wiVk9SQklTX0NPTU1FTlRcIl0gPSA0XSA9IFwiVk9SQklTX0NPTU1FTlRcIjtcbiAgICBCbG9ja1R5cGVbQmxvY2tUeXBlW1wiQ1VFU0hFRVRcIl0gPSA1XSA9IFwiQ1VFU0hFRVRcIjtcbiAgICBCbG9ja1R5cGVbQmxvY2tUeXBlW1wiUElDVFVSRVwiXSA9IDZdID0gXCJQSUNUVVJFXCI7XG59KShCbG9ja1R5cGUgfHwgKEJsb2NrVHlwZSA9IHt9KSk7XG5leHBvcnQgY2xhc3MgRmxhY1BhcnNlciBleHRlbmRzIEFic3RyYWN0SUQzUGFyc2VyIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoLi4uYXJndW1lbnRzKTtcbiAgICAgICAgdGhpcy5wYWRkaW5nID0gMDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogSW5pdGlhbGl6ZSBwYXJzZXIgd2l0aCBvdXRwdXQgKG1ldGFkYXRhKSwgaW5wdXQgKHRva2VuaXplcikgJiBwYXJzaW5nIG9wdGlvbnMgKG9wdGlvbnMpLlxuICAgICAqIEBwYXJhbSB7SU5hdGl2ZU1ldGFkYXRhQ29sbGVjdG9yfSBtZXRhZGF0YSBPdXRwdXRcbiAgICAgKiBAcGFyYW0ge0lUb2tlbml6ZXJ9IHRva2VuaXplciBJbnB1dFxuICAgICAqIEBwYXJhbSB7SU9wdGlvbnN9IG9wdGlvbnMgUGFyc2luZyBvcHRpb25zXG4gICAgICovXG4gICAgaW5pdChtZXRhZGF0YSwgdG9rZW5pemVyLCBvcHRpb25zKSB7XG4gICAgICAgIHN1cGVyLmluaXQobWV0YWRhdGEsIHRva2VuaXplciwgb3B0aW9ucyk7XG4gICAgICAgIHRoaXMudm9yYmlzUGFyc2VyID0gbmV3IFZvcmJpc1BhcnNlcihtZXRhZGF0YSwgb3B0aW9ucyk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICBhc3luYyBwb3N0SWQzdjJQYXJzZSgpIHtcbiAgICAgICAgY29uc3QgZm91ckNDID0gYXdhaXQgdGhpcy50b2tlbml6ZXIucmVhZFRva2VuKEZvdXJDY1Rva2VuKTtcbiAgICAgICAgaWYgKGZvdXJDQy50b1N0cmluZygpICE9PSAnZkxhQycpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBGTEFDIHByZWFtYmxlJyk7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGJsb2NrSGVhZGVyO1xuICAgICAgICBkbyB7XG4gICAgICAgICAgICAvLyBSZWFkIGJsb2NrIGhlYWRlclxuICAgICAgICAgICAgYmxvY2tIZWFkZXIgPSBhd2FpdCB0aGlzLnRva2VuaXplci5yZWFkVG9rZW4oQmxvY2tIZWFkZXIpO1xuICAgICAgICAgICAgLy8gUGFyc2UgYmxvY2sgZGF0YVxuICAgICAgICAgICAgYXdhaXQgdGhpcy5wYXJzZURhdGFCbG9jayhibG9ja0hlYWRlcik7XG4gICAgICAgIH0gd2hpbGUgKCFibG9ja0hlYWRlci5sYXN0QmxvY2spO1xuICAgICAgICBpZiAodGhpcy50b2tlbml6ZXIuZmlsZUluZm8uc2l6ZSAmJiB0aGlzLm1ldGFkYXRhLmZvcm1hdC5kdXJhdGlvbikge1xuICAgICAgICAgICAgY29uc3QgZGF0YVNpemUgPSB0aGlzLnRva2VuaXplci5maWxlSW5mby5zaXplIC0gdGhpcy50b2tlbml6ZXIucG9zaXRpb247XG4gICAgICAgICAgICB0aGlzLm1ldGFkYXRhLnNldEZvcm1hdCgnYml0cmF0ZScsIDggKiBkYXRhU2l6ZSAvIHRoaXMubWV0YWRhdGEuZm9ybWF0LmR1cmF0aW9uKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBhc3luYyBwYXJzZURhdGFCbG9jayhibG9ja0hlYWRlcikge1xuICAgICAgICBkZWJ1ZyhgYmxvY2tIZWFkZXIgdHlwZT0ke2Jsb2NrSGVhZGVyLnR5cGV9LCBsZW5ndGg9JHtibG9ja0hlYWRlci5sZW5ndGh9YCk7XG4gICAgICAgIHN3aXRjaCAoYmxvY2tIZWFkZXIudHlwZSkge1xuICAgICAgICAgICAgY2FzZSBCbG9ja1R5cGUuU1RSRUFNSU5GTzpcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5wYXJzZUJsb2NrU3RyZWFtSW5mbyhibG9ja0hlYWRlci5sZW5ndGgpO1xuICAgICAgICAgICAgY2FzZSBCbG9ja1R5cGUuUEFERElORzpcbiAgICAgICAgICAgICAgICB0aGlzLnBhZGRpbmcgKz0gYmxvY2tIZWFkZXIubGVuZ3RoO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBCbG9ja1R5cGUuQVBQTElDQVRJT046XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIEJsb2NrVHlwZS5TRUVLVEFCTEU6XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIEJsb2NrVHlwZS5WT1JCSVNfQ09NTUVOVDpcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5wYXJzZUNvbW1lbnQoYmxvY2tIZWFkZXIubGVuZ3RoKTtcbiAgICAgICAgICAgIGNhc2UgQmxvY2tUeXBlLkNVRVNIRUVUOlxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBCbG9ja1R5cGUuUElDVFVSRTpcbiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnBhcnNlUGljdHVyZShibG9ja0hlYWRlci5sZW5ndGgpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgdGhpcy5tZXRhZGF0YS5hZGRXYXJuaW5nKGBVbmtub3duIGJsb2NrIHR5cGU6ICR7YmxvY2tIZWFkZXIudHlwZX1gKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBJZ25vcmUgZGF0YSBibG9ja1xuICAgICAgICByZXR1cm4gdGhpcy50b2tlbml6ZXIuaWdub3JlKGJsb2NrSGVhZGVyLmxlbmd0aCkudGhlbigpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBQYXJzZSBTVFJFQU1JTkZPXG4gICAgICovXG4gICAgYXN5bmMgcGFyc2VCbG9ja1N0cmVhbUluZm8oZGF0YUxlbikge1xuICAgICAgICBpZiAoZGF0YUxlbiAhPT0gQmxvY2tTdHJlYW1JbmZvLmxlbilcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVW5leHBlY3RlZCBibG9jay1zdHJlYW0taW5mbyBsZW5ndGgnKTtcbiAgICAgICAgY29uc3Qgc3RyZWFtSW5mbyA9IGF3YWl0IHRoaXMudG9rZW5pemVyLnJlYWRUb2tlbihCbG9ja1N0cmVhbUluZm8pO1xuICAgICAgICB0aGlzLm1ldGFkYXRhLnNldEZvcm1hdCgnY29udGFpbmVyJywgJ0ZMQUMnKTtcbiAgICAgICAgdGhpcy5tZXRhZGF0YS5zZXRGb3JtYXQoJ2NvZGVjJywgJ0ZMQUMnKTtcbiAgICAgICAgdGhpcy5tZXRhZGF0YS5zZXRGb3JtYXQoJ2xvc3NsZXNzJywgdHJ1ZSk7XG4gICAgICAgIHRoaXMubWV0YWRhdGEuc2V0Rm9ybWF0KCdudW1iZXJPZkNoYW5uZWxzJywgc3RyZWFtSW5mby5jaGFubmVscyk7XG4gICAgICAgIHRoaXMubWV0YWRhdGEuc2V0Rm9ybWF0KCdiaXRzUGVyU2FtcGxlJywgc3RyZWFtSW5mby5iaXRzUGVyU2FtcGxlKTtcbiAgICAgICAgdGhpcy5tZXRhZGF0YS5zZXRGb3JtYXQoJ3NhbXBsZVJhdGUnLCBzdHJlYW1JbmZvLnNhbXBsZVJhdGUpO1xuICAgICAgICBpZiAoc3RyZWFtSW5mby50b3RhbFNhbXBsZXMgPiAwKSB7XG4gICAgICAgICAgICB0aGlzLm1ldGFkYXRhLnNldEZvcm1hdCgnZHVyYXRpb24nLCBzdHJlYW1JbmZvLnRvdGFsU2FtcGxlcyAvIHN0cmVhbUluZm8uc2FtcGxlUmF0ZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogUGFyc2UgVk9SQklTX0NPTU1FTlRcbiAgICAgKiBSZWY6IGh0dHBzOi8vd3d3LnhpcGgub3JnL3ZvcmJpcy9kb2MvVm9yYmlzX0lfc3BlYy5odG1sI3gxLTY0MDAwNC4yLjNcbiAgICAgKi9cbiAgICBhc3luYyBwYXJzZUNvbW1lbnQoZGF0YUxlbikge1xuICAgICAgICBjb25zdCBkYXRhID0gYXdhaXQgdGhpcy50b2tlbml6ZXIucmVhZFRva2VuKG5ldyBVaW50OEFycmF5VHlwZShkYXRhTGVuKSk7XG4gICAgICAgIGNvbnN0IGRlY29kZXIgPSBuZXcgVm9yYmlzRGVjb2RlcihkYXRhLCAwKTtcbiAgICAgICAgZGVjb2Rlci5yZWFkU3RyaW5nVXRmOCgpOyAvLyB2ZW5kb3IgKHNraXApXG4gICAgICAgIGNvbnN0IGNvbW1lbnRMaXN0TGVuZ3RoID0gZGVjb2Rlci5yZWFkSW50MzIoKTtcbiAgICAgICAgY29uc3QgdGFncyA9IG5ldyBBcnJheShjb21tZW50TGlzdExlbmd0aCk7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY29tbWVudExpc3RMZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdGFnc1tpXSA9IGRlY29kZXIucGFyc2VVc2VyQ29tbWVudCgpO1xuICAgICAgICB9XG4gICAgICAgIGF3YWl0IFByb21pc2UuYWxsKHRhZ3MubWFwKHRhZyA9PiB0aGlzLnZvcmJpc1BhcnNlci5hZGRUYWcodGFnLmtleSwgdGFnLnZhbHVlKSkpO1xuICAgIH1cbiAgICBhc3luYyBwYXJzZVBpY3R1cmUoZGF0YUxlbikge1xuICAgICAgICBpZiAodGhpcy5vcHRpb25zLnNraXBDb3ZlcnMpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnRva2VuaXplci5pZ25vcmUoZGF0YUxlbik7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcGljdHVyZSA9IGF3YWl0IHRoaXMudG9rZW5pemVyLnJlYWRUb2tlbihuZXcgVm9yYmlzUGljdHVyZVRva2VuKGRhdGFMZW4pKTtcbiAgICAgICAgdGhpcy52b3JiaXNQYXJzZXIuYWRkVGFnKCdNRVRBREFUQV9CTE9DS19QSUNUVVJFJywgcGljdHVyZSk7XG4gICAgfVxufVxuY29uc3QgQmxvY2tIZWFkZXIgPSB7XG4gICAgbGVuOiA0LFxuICAgIGdldDogKGJ1Ziwgb2ZmKSA9PiB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBsYXN0QmxvY2s6IHV0aWwuZ2V0Qml0KGJ1Ziwgb2ZmLCA3KSxcbiAgICAgICAgICAgIHR5cGU6IHV0aWwuZ2V0Qml0QWxsaWduZWROdW1iZXIoYnVmLCBvZmYsIDEsIDcpLFxuICAgICAgICAgICAgbGVuZ3RoOiBVSU5UMjRfQkUuZ2V0KGJ1Ziwgb2ZmICsgMSlcbiAgICAgICAgfTtcbiAgICB9XG59O1xuLyoqXG4gKiBNRVRBREFUQV9CTE9DS19EQVRBXG4gKiBSZWY6IGh0dHBzOi8veGlwaC5vcmcvZmxhYy9mb3JtYXQuaHRtbCNtZXRhZGF0YV9ibG9ja19zdHJlYW1pbmZvXG4gKi9cbmNvbnN0IEJsb2NrU3RyZWFtSW5mbyA9IHtcbiAgICBsZW46IDM0LFxuICAgIGdldDogKGJ1Ziwgb2ZmKSA9PiB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAvLyBUaGUgbWluaW11bSBibG9jayBzaXplIChpbiBzYW1wbGVzKSB1c2VkIGluIHRoZSBzdHJlYW0uXG4gICAgICAgICAgICBtaW5pbXVtQmxvY2tTaXplOiBVSU5UMTZfQkUuZ2V0KGJ1Ziwgb2ZmKSxcbiAgICAgICAgICAgIC8vIFRoZSBtYXhpbXVtIGJsb2NrIHNpemUgKGluIHNhbXBsZXMpIHVzZWQgaW4gdGhlIHN0cmVhbS5cbiAgICAgICAgICAgIC8vIChNaW5pbXVtIGJsb2Nrc2l6ZSA9PSBtYXhpbXVtIGJsb2Nrc2l6ZSkgaW1wbGllcyBhIGZpeGVkLWJsb2Nrc2l6ZSBzdHJlYW0uXG4gICAgICAgICAgICBtYXhpbXVtQmxvY2tTaXplOiBVSU5UMTZfQkUuZ2V0KGJ1Ziwgb2ZmICsgMikgLyAxMDAwLFxuICAgICAgICAgICAgLy8gVGhlIG1pbmltdW0gZnJhbWUgc2l6ZSAoaW4gYnl0ZXMpIHVzZWQgaW4gdGhlIHN0cmVhbS5cbiAgICAgICAgICAgIC8vIE1heSBiZSAwIHRvIGltcGx5IHRoZSB2YWx1ZSBpcyBub3Qga25vd24uXG4gICAgICAgICAgICBtaW5pbXVtRnJhbWVTaXplOiBVSU5UMjRfQkUuZ2V0KGJ1Ziwgb2ZmICsgNCksXG4gICAgICAgICAgICAvLyBUaGUgbWF4aW11bSBmcmFtZSBzaXplIChpbiBieXRlcykgdXNlZCBpbiB0aGUgc3RyZWFtLlxuICAgICAgICAgICAgLy8gTWF5IGJlIDAgdG8gaW1wbHkgdGhlIHZhbHVlIGlzIG5vdCBrbm93bi5cbiAgICAgICAgICAgIG1heGltdW1GcmFtZVNpemU6IFVJTlQyNF9CRS5nZXQoYnVmLCBvZmYgKyA3KSxcbiAgICAgICAgICAgIC8vIFNhbXBsZSByYXRlIGluIEh6LiBUaG91Z2ggMjAgYml0cyBhcmUgYXZhaWxhYmxlLFxuICAgICAgICAgICAgLy8gdGhlIG1heGltdW0gc2FtcGxlIHJhdGUgaXMgbGltaXRlZCBieSB0aGUgc3RydWN0dXJlIG9mIGZyYW1lIGhlYWRlcnMgdG8gNjU1MzUwSHouXG4gICAgICAgICAgICAvLyBBbHNvLCBhIHZhbHVlIG9mIDAgaXMgaW52YWxpZC5cbiAgICAgICAgICAgIHNhbXBsZVJhdGU6IFVJTlQyNF9CRS5nZXQoYnVmLCBvZmYgKyAxMCkgPj4gNCxcbiAgICAgICAgICAgIC8vIHByb2JhYmx5IHNsb3dlcjogc2FtcGxlUmF0ZTogY29tbW9uLmdldEJpdEFsbGlnbmVkTnVtYmVyKGJ1Ziwgb2ZmICsgMTAsIDAsIDIwKSxcbiAgICAgICAgICAgIC8vIChudW1iZXIgb2YgY2hhbm5lbHMpLTEuIEZMQUMgc3VwcG9ydHMgZnJvbSAxIHRvIDggY2hhbm5lbHNcbiAgICAgICAgICAgIGNoYW5uZWxzOiB1dGlsLmdldEJpdEFsbGlnbmVkTnVtYmVyKGJ1Ziwgb2ZmICsgMTIsIDQsIDMpICsgMSxcbiAgICAgICAgICAgIC8vIGJpdHMgcGVyIHNhbXBsZSktMS5cbiAgICAgICAgICAgIC8vIEZMQUMgc3VwcG9ydHMgZnJvbSA0IHRvIDMyIGJpdHMgcGVyIHNhbXBsZS4gQ3VycmVudGx5IHRoZSByZWZlcmVuY2UgZW5jb2RlciBhbmQgZGVjb2RlcnMgb25seSBzdXBwb3J0IHVwIHRvIDI0IGJpdHMgcGVyIHNhbXBsZS5cbiAgICAgICAgICAgIGJpdHNQZXJTYW1wbGU6IHV0aWwuZ2V0Qml0QWxsaWduZWROdW1iZXIoYnVmLCBvZmYgKyAxMiwgNywgNSkgKyAxLFxuICAgICAgICAgICAgLy8gVG90YWwgc2FtcGxlcyBpbiBzdHJlYW0uXG4gICAgICAgICAgICAvLyAnU2FtcGxlcycgbWVhbnMgaW50ZXItY2hhbm5lbCBzYW1wbGUsIGkuZS4gb25lIHNlY29uZCBvZiA0NC4xS2h6IGF1ZGlvIHdpbGwgaGF2ZSA0NDEwMCBzYW1wbGVzIHJlZ2FyZGxlc3Mgb2YgdGhlIG51bWJlciBvZiBjaGFubmVscy5cbiAgICAgICAgICAgIC8vIEEgdmFsdWUgb2YgemVybyBoZXJlIG1lYW5zIHRoZSBudW1iZXIgb2YgdG90YWwgc2FtcGxlcyBpcyB1bmtub3duLlxuICAgICAgICAgICAgdG90YWxTYW1wbGVzOiB1dGlsLmdldEJpdEFsbGlnbmVkTnVtYmVyKGJ1Ziwgb2ZmICsgMTMsIDQsIDM2KSxcbiAgICAgICAgICAgIC8vIHRoZSBNRDUgaGFzaCBvZiB0aGUgZmlsZSAoc2VlIG5vdGVzIGZvciB1c2FnZS4uLiBpdCdzIGEgbGl0dGx5IHRyaWNreSlcbiAgICAgICAgICAgIGZpbGVNRDU6IG5ldyBVaW50OEFycmF5VHlwZSgxNikuZ2V0KGJ1Ziwgb2ZmICsgMTgpXG4gICAgICAgIH07XG4gICAgfVxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUZsYWNQYXJzZXIuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/music-metadata/lib/flac/FlacParser.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/music-metadata/lib/id3v1/ID3v1Parser.js":
/*!**************************************************************!*\
  !*** ./node_modules/music-metadata/lib/id3v1/ID3v1Parser.js ***!
  \**************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Genres: () => (/* binding */ Genres),\n/* harmony export */   ID3v1Parser: () => (/* binding */ ID3v1Parser),\n/* harmony export */   hasID3v1Header: () => (/* binding */ hasID3v1Header)\n/* harmony export */ });\n/* harmony import */ var debug__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! debug */ \"(ssr)/./node_modules/debug/src/index.js\");\n/* harmony import */ var token_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! token-types */ \"(ssr)/./node_modules/token-types/lib/index.js\");\n/* harmony import */ var _common_Util_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../common/Util.js */ \"(ssr)/./node_modules/music-metadata/lib/common/Util.js\");\n/* harmony import */ var _common_BasicParser_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../common/BasicParser.js */ \"(ssr)/./node_modules/music-metadata/lib/common/BasicParser.js\");\n/* harmony import */ var _apev2_APEv2Parser_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../apev2/APEv2Parser.js */ \"(ssr)/./node_modules/music-metadata/lib/apev2/APEv2Parser.js\");\n\n\n\n\n\nconst debug = debug__WEBPACK_IMPORTED_MODULE_0__('music-metadata:parser:ID3v1');\n/**\n * ID3v1 Genre mappings\n * Ref: https://de.wikipedia.org/wiki/Liste_der_ID3v1-Genres\n */\nconst Genres = [\n    'Blues', 'Classic Rock', 'Country', 'Dance', 'Disco', 'Funk', 'Grunge', 'Hip-Hop',\n    'Jazz', 'Metal', 'New Age', 'Oldies', 'Other', 'Pop', 'R&B', 'Rap', 'Reggae', 'Rock',\n    'Techno', 'Industrial', 'Alternative', 'Ska', 'Death Metal', 'Pranks', 'Soundtrack',\n    'Euro-Techno', 'Ambient', 'Trip-Hop', 'Vocal', 'Jazz+Funk', 'Fusion', 'Trance',\n    'Classical', 'Instrumental', 'Acid', 'House', 'Game', 'Sound Clip', 'Gospel', 'Noise',\n    'Alt. Rock', 'Bass', 'Soul', 'Punk', 'Space', 'Meditative', 'Instrumental Pop',\n    'Instrumental Rock', 'Ethnic', 'Gothic', 'Darkwave', 'Techno-Industrial',\n    'Electronic', 'Pop-Folk', 'Eurodance', 'Dream', 'Southern Rock', 'Comedy', 'Cult',\n    'Gangsta Rap', 'Top 40', 'Christian Rap', 'Pop/Funk', 'Jungle', 'Native American',\n    'Cabaret', 'New Wave', 'Psychedelic', 'Rave', 'Showtunes', 'Trailer', 'Lo-Fi', 'Tribal',\n    'Acid Punk', 'Acid Jazz', 'Polka', 'Retro', 'Musical', 'Rock & Roll', 'Hard Rock',\n    'Folk', 'Folk/Rock', 'National Folk', 'Swing', 'Fast-Fusion', 'Bebob', 'Latin', 'Revival',\n    'Celtic', 'Bluegrass', 'Avantgarde', 'Gothic Rock', 'Progressive Rock', 'Psychedelic Rock',\n    'Symphonic Rock', 'Slow Rock', 'Big Band', 'Chorus', 'Easy Listening', 'Acoustic', 'Humour',\n    'Speech', 'Chanson', 'Opera', 'Chamber Music', 'Sonata', 'Symphony', 'Booty Bass', 'Primus',\n    'Porn Groove', 'Satire', 'Slow Jam', 'Club', 'Tango', 'Samba', 'Folklore',\n    'Ballad', 'Power Ballad', 'Rhythmic Soul', 'Freestyle', 'Duet', 'Punk Rock', 'Drum Solo',\n    'A Cappella', 'Euro-House', 'Dance Hall', 'Goa', 'Drum & Bass', 'Club-House',\n    'Hardcore', 'Terror', 'Indie', 'BritPop', 'Negerpunk', 'Polsk Punk', 'Beat',\n    'Christian Gangsta Rap', 'Heavy Metal', 'Black Metal', 'Crossover', 'Contemporary Christian',\n    'Christian Rock', 'Merengue', 'Salsa', 'Thrash Metal', 'Anime', 'JPop', 'Synthpop',\n    'Abstract', 'Art Rock', 'Baroque', 'Bhangra', 'Big Beat', 'Breakbeat', 'Chillout',\n    'Downtempo', 'Dub', 'EBM', 'Eclectic', 'Electro', 'Electroclash', 'Emo', 'Experimental',\n    'Garage', 'Global', 'IDM', 'Illbient', 'Industro-Goth', 'Jam Band', 'Krautrock',\n    'Leftfield', 'Lounge', 'Math Rock', 'New Romantic', 'Nu-Breakz', 'Post-Punk', 'Post-Rock',\n    'Psytrance', 'Shoegaze', 'Space Rock', 'Trop Rock', 'World Music', 'Neoclassical', 'Audiobook',\n    'Audio Theatre', 'Neue Deutsche Welle', 'Podcast', 'Indie Rock', 'G-Funk', 'Dubstep',\n    'Garage Rock', 'Psybient'\n];\n/**\n * Spec: http://id3.org/ID3v1\n * Wiki: https://en.wikipedia.org/wiki/ID3\n */\nconst Iid3v1Token = {\n    len: 128,\n    /**\n     * @param buf Buffer possibly holding the 128 bytes ID3v1.1 metadata header\n     * @param off Offset in buffer in bytes\n     * @returns ID3v1.1 header if first 3 bytes equals 'TAG', otherwise null is returned\n     */\n    get: (buf, off) => {\n        const header = new Id3v1StringType(3).get(buf, off);\n        return header === 'TAG' ? {\n            header,\n            title: new Id3v1StringType(30).get(buf, off + 3),\n            artist: new Id3v1StringType(30).get(buf, off + 33),\n            album: new Id3v1StringType(30).get(buf, off + 63),\n            year: new Id3v1StringType(4).get(buf, off + 93),\n            comment: new Id3v1StringType(28).get(buf, off + 97),\n            // ID3v1.1 separator for track\n            zeroByte: token_types__WEBPACK_IMPORTED_MODULE_1__.UINT8.get(buf, off + 127),\n            // track: ID3v1.1 field added by Michael Mutschler\n            track: token_types__WEBPACK_IMPORTED_MODULE_1__.UINT8.get(buf, off + 126),\n            genre: token_types__WEBPACK_IMPORTED_MODULE_1__.UINT8.get(buf, off + 127)\n        } : null;\n    }\n};\nclass Id3v1StringType {\n    constructor(len) {\n        this.len = len;\n        this.stringType = new token_types__WEBPACK_IMPORTED_MODULE_1__.StringType(len, 'latin1');\n    }\n    get(buf, off) {\n        let value = this.stringType.get(buf, off);\n        value = _common_Util_js__WEBPACK_IMPORTED_MODULE_2__.trimRightNull(value);\n        value = value.trim();\n        return value.length > 0 ? value : undefined;\n    }\n}\nclass ID3v1Parser extends _common_BasicParser_js__WEBPACK_IMPORTED_MODULE_3__.BasicParser {\n    static getGenre(genreIndex) {\n        if (genreIndex < Genres.length) {\n            return Genres[genreIndex];\n        }\n        return undefined; // ToDO: generate warning\n    }\n    async parse() {\n        if (!this.tokenizer.fileInfo.size) {\n            debug('Skip checking for ID3v1 because the file-size is unknown');\n            return;\n        }\n        if (this.options.apeHeader) {\n            this.tokenizer.ignore(this.options.apeHeader.offset - this.tokenizer.position);\n            const apeParser = new _apev2_APEv2Parser_js__WEBPACK_IMPORTED_MODULE_4__.APEv2Parser();\n            apeParser.init(this.metadata, this.tokenizer, this.options);\n            await apeParser.parseTags(this.options.apeHeader.footer);\n        }\n        const offset = this.tokenizer.fileInfo.size - Iid3v1Token.len;\n        if (this.tokenizer.position > offset) {\n            debug('Already consumed the last 128 bytes');\n            return;\n        }\n        const header = await this.tokenizer.readToken(Iid3v1Token, offset);\n        if (header) {\n            debug('ID3v1 header found at: pos=%s', this.tokenizer.fileInfo.size - Iid3v1Token.len);\n            const props = ['title', 'artist', 'album', 'comment', 'track', 'year'];\n            for (const id of props) {\n                if (header[id] && header[id] !== '')\n                    await this.addTag(id, header[id]);\n            }\n            const genre = ID3v1Parser.getGenre(header.genre);\n            if (genre)\n                await this.addTag('genre', genre);\n        }\n        else {\n            debug('ID3v1 header not found at: pos=%s', this.tokenizer.fileInfo.size - Iid3v1Token.len);\n        }\n    }\n    async addTag(id, value) {\n        await this.metadata.addTag('ID3v1', id, value);\n    }\n}\nasync function hasID3v1Header(reader) {\n    if (reader.fileSize >= 128) {\n        const tag = new Uint8Array(3);\n        await reader.randomRead(tag, 0, tag.length, reader.fileSize - 128);\n        return new TextDecoder('latin1').decode(tag) === 'TAG';\n    }\n    return false;\n}\n//# sourceMappingURL=ID3v1Parser.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbXVzaWMtbWV0YWRhdGEvbGliL2lkM3YxL0lEM3YxUGFyc2VyLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQThCO0FBQ2tCO0FBQ047QUFDYTtBQUNEO0FBQ3RELGNBQWMsa0NBQVM7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0IsOENBQUs7QUFDM0I7QUFDQSxtQkFBbUIsOENBQUs7QUFDeEIsbUJBQW1CLDhDQUFLO0FBQ3hCLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOEJBQThCLG1EQUFVO0FBQ3hDO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQiwwREFBa0I7QUFDbEM7QUFDQTtBQUNBO0FBQ0E7QUFDTywwQkFBMEIsK0RBQVc7QUFDNUM7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQkFBMEI7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtDQUFrQyw4REFBVztBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2RldmVsZXZhdGUvLi9ub2RlX21vZHVsZXMvbXVzaWMtbWV0YWRhdGEvbGliL2lkM3YxL0lEM3YxUGFyc2VyLmpzP2ZhYjIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGluaXREZWJ1ZyBmcm9tICdkZWJ1Zyc7XG5pbXBvcnQgeyBTdHJpbmdUeXBlLCBVSU5UOCB9IGZyb20gJ3Rva2VuLXR5cGVzJztcbmltcG9ydCAqIGFzIHV0aWwgZnJvbSAnLi4vY29tbW9uL1V0aWwuanMnO1xuaW1wb3J0IHsgQmFzaWNQYXJzZXIgfSBmcm9tICcuLi9jb21tb24vQmFzaWNQYXJzZXIuanMnO1xuaW1wb3J0IHsgQVBFdjJQYXJzZXIgfSBmcm9tICcuLi9hcGV2Mi9BUEV2MlBhcnNlci5qcyc7XG5jb25zdCBkZWJ1ZyA9IGluaXREZWJ1ZygnbXVzaWMtbWV0YWRhdGE6cGFyc2VyOklEM3YxJyk7XG4vKipcbiAqIElEM3YxIEdlbnJlIG1hcHBpbmdzXG4gKiBSZWY6IGh0dHBzOi8vZGUud2lraXBlZGlhLm9yZy93aWtpL0xpc3RlX2Rlcl9JRDN2MS1HZW5yZXNcbiAqL1xuZXhwb3J0IGNvbnN0IEdlbnJlcyA9IFtcbiAgICAnQmx1ZXMnLCAnQ2xhc3NpYyBSb2NrJywgJ0NvdW50cnknLCAnRGFuY2UnLCAnRGlzY28nLCAnRnVuaycsICdHcnVuZ2UnLCAnSGlwLUhvcCcsXG4gICAgJ0phenonLCAnTWV0YWwnLCAnTmV3IEFnZScsICdPbGRpZXMnLCAnT3RoZXInLCAnUG9wJywgJ1ImQicsICdSYXAnLCAnUmVnZ2FlJywgJ1JvY2snLFxuICAgICdUZWNobm8nLCAnSW5kdXN0cmlhbCcsICdBbHRlcm5hdGl2ZScsICdTa2EnLCAnRGVhdGggTWV0YWwnLCAnUHJhbmtzJywgJ1NvdW5kdHJhY2snLFxuICAgICdFdXJvLVRlY2hubycsICdBbWJpZW50JywgJ1RyaXAtSG9wJywgJ1ZvY2FsJywgJ0phenorRnVuaycsICdGdXNpb24nLCAnVHJhbmNlJyxcbiAgICAnQ2xhc3NpY2FsJywgJ0luc3RydW1lbnRhbCcsICdBY2lkJywgJ0hvdXNlJywgJ0dhbWUnLCAnU291bmQgQ2xpcCcsICdHb3NwZWwnLCAnTm9pc2UnLFxuICAgICdBbHQuIFJvY2snLCAnQmFzcycsICdTb3VsJywgJ1B1bmsnLCAnU3BhY2UnLCAnTWVkaXRhdGl2ZScsICdJbnN0cnVtZW50YWwgUG9wJyxcbiAgICAnSW5zdHJ1bWVudGFsIFJvY2snLCAnRXRobmljJywgJ0dvdGhpYycsICdEYXJrd2F2ZScsICdUZWNobm8tSW5kdXN0cmlhbCcsXG4gICAgJ0VsZWN0cm9uaWMnLCAnUG9wLUZvbGsnLCAnRXVyb2RhbmNlJywgJ0RyZWFtJywgJ1NvdXRoZXJuIFJvY2snLCAnQ29tZWR5JywgJ0N1bHQnLFxuICAgICdHYW5nc3RhIFJhcCcsICdUb3AgNDAnLCAnQ2hyaXN0aWFuIFJhcCcsICdQb3AvRnVuaycsICdKdW5nbGUnLCAnTmF0aXZlIEFtZXJpY2FuJyxcbiAgICAnQ2FiYXJldCcsICdOZXcgV2F2ZScsICdQc3ljaGVkZWxpYycsICdSYXZlJywgJ1Nob3d0dW5lcycsICdUcmFpbGVyJywgJ0xvLUZpJywgJ1RyaWJhbCcsXG4gICAgJ0FjaWQgUHVuaycsICdBY2lkIEphenonLCAnUG9sa2EnLCAnUmV0cm8nLCAnTXVzaWNhbCcsICdSb2NrICYgUm9sbCcsICdIYXJkIFJvY2snLFxuICAgICdGb2xrJywgJ0ZvbGsvUm9jaycsICdOYXRpb25hbCBGb2xrJywgJ1N3aW5nJywgJ0Zhc3QtRnVzaW9uJywgJ0JlYm9iJywgJ0xhdGluJywgJ1Jldml2YWwnLFxuICAgICdDZWx0aWMnLCAnQmx1ZWdyYXNzJywgJ0F2YW50Z2FyZGUnLCAnR290aGljIFJvY2snLCAnUHJvZ3Jlc3NpdmUgUm9jaycsICdQc3ljaGVkZWxpYyBSb2NrJyxcbiAgICAnU3ltcGhvbmljIFJvY2snLCAnU2xvdyBSb2NrJywgJ0JpZyBCYW5kJywgJ0Nob3J1cycsICdFYXN5IExpc3RlbmluZycsICdBY291c3RpYycsICdIdW1vdXInLFxuICAgICdTcGVlY2gnLCAnQ2hhbnNvbicsICdPcGVyYScsICdDaGFtYmVyIE11c2ljJywgJ1NvbmF0YScsICdTeW1waG9ueScsICdCb290eSBCYXNzJywgJ1ByaW11cycsXG4gICAgJ1Bvcm4gR3Jvb3ZlJywgJ1NhdGlyZScsICdTbG93IEphbScsICdDbHViJywgJ1RhbmdvJywgJ1NhbWJhJywgJ0ZvbGtsb3JlJyxcbiAgICAnQmFsbGFkJywgJ1Bvd2VyIEJhbGxhZCcsICdSaHl0aG1pYyBTb3VsJywgJ0ZyZWVzdHlsZScsICdEdWV0JywgJ1B1bmsgUm9jaycsICdEcnVtIFNvbG8nLFxuICAgICdBIENhcHBlbGxhJywgJ0V1cm8tSG91c2UnLCAnRGFuY2UgSGFsbCcsICdHb2EnLCAnRHJ1bSAmIEJhc3MnLCAnQ2x1Yi1Ib3VzZScsXG4gICAgJ0hhcmRjb3JlJywgJ1RlcnJvcicsICdJbmRpZScsICdCcml0UG9wJywgJ05lZ2VycHVuaycsICdQb2xzayBQdW5rJywgJ0JlYXQnLFxuICAgICdDaHJpc3RpYW4gR2FuZ3N0YSBSYXAnLCAnSGVhdnkgTWV0YWwnLCAnQmxhY2sgTWV0YWwnLCAnQ3Jvc3NvdmVyJywgJ0NvbnRlbXBvcmFyeSBDaHJpc3RpYW4nLFxuICAgICdDaHJpc3RpYW4gUm9jaycsICdNZXJlbmd1ZScsICdTYWxzYScsICdUaHJhc2ggTWV0YWwnLCAnQW5pbWUnLCAnSlBvcCcsICdTeW50aHBvcCcsXG4gICAgJ0Fic3RyYWN0JywgJ0FydCBSb2NrJywgJ0Jhcm9xdWUnLCAnQmhhbmdyYScsICdCaWcgQmVhdCcsICdCcmVha2JlYXQnLCAnQ2hpbGxvdXQnLFxuICAgICdEb3dudGVtcG8nLCAnRHViJywgJ0VCTScsICdFY2xlY3RpYycsICdFbGVjdHJvJywgJ0VsZWN0cm9jbGFzaCcsICdFbW8nLCAnRXhwZXJpbWVudGFsJyxcbiAgICAnR2FyYWdlJywgJ0dsb2JhbCcsICdJRE0nLCAnSWxsYmllbnQnLCAnSW5kdXN0cm8tR290aCcsICdKYW0gQmFuZCcsICdLcmF1dHJvY2snLFxuICAgICdMZWZ0ZmllbGQnLCAnTG91bmdlJywgJ01hdGggUm9jaycsICdOZXcgUm9tYW50aWMnLCAnTnUtQnJlYWt6JywgJ1Bvc3QtUHVuaycsICdQb3N0LVJvY2snLFxuICAgICdQc3l0cmFuY2UnLCAnU2hvZWdhemUnLCAnU3BhY2UgUm9jaycsICdUcm9wIFJvY2snLCAnV29ybGQgTXVzaWMnLCAnTmVvY2xhc3NpY2FsJywgJ0F1ZGlvYm9vaycsXG4gICAgJ0F1ZGlvIFRoZWF0cmUnLCAnTmV1ZSBEZXV0c2NoZSBXZWxsZScsICdQb2RjYXN0JywgJ0luZGllIFJvY2snLCAnRy1GdW5rJywgJ0R1YnN0ZXAnLFxuICAgICdHYXJhZ2UgUm9jaycsICdQc3liaWVudCdcbl07XG4vKipcbiAqIFNwZWM6IGh0dHA6Ly9pZDMub3JnL0lEM3YxXG4gKiBXaWtpOiBodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9JRDNcbiAqL1xuY29uc3QgSWlkM3YxVG9rZW4gPSB7XG4gICAgbGVuOiAxMjgsXG4gICAgLyoqXG4gICAgICogQHBhcmFtIGJ1ZiBCdWZmZXIgcG9zc2libHkgaG9sZGluZyB0aGUgMTI4IGJ5dGVzIElEM3YxLjEgbWV0YWRhdGEgaGVhZGVyXG4gICAgICogQHBhcmFtIG9mZiBPZmZzZXQgaW4gYnVmZmVyIGluIGJ5dGVzXG4gICAgICogQHJldHVybnMgSUQzdjEuMSBoZWFkZXIgaWYgZmlyc3QgMyBieXRlcyBlcXVhbHMgJ1RBRycsIG90aGVyd2lzZSBudWxsIGlzIHJldHVybmVkXG4gICAgICovXG4gICAgZ2V0OiAoYnVmLCBvZmYpID0+IHtcbiAgICAgICAgY29uc3QgaGVhZGVyID0gbmV3IElkM3YxU3RyaW5nVHlwZSgzKS5nZXQoYnVmLCBvZmYpO1xuICAgICAgICByZXR1cm4gaGVhZGVyID09PSAnVEFHJyA/IHtcbiAgICAgICAgICAgIGhlYWRlcixcbiAgICAgICAgICAgIHRpdGxlOiBuZXcgSWQzdjFTdHJpbmdUeXBlKDMwKS5nZXQoYnVmLCBvZmYgKyAzKSxcbiAgICAgICAgICAgIGFydGlzdDogbmV3IElkM3YxU3RyaW5nVHlwZSgzMCkuZ2V0KGJ1Ziwgb2ZmICsgMzMpLFxuICAgICAgICAgICAgYWxidW06IG5ldyBJZDN2MVN0cmluZ1R5cGUoMzApLmdldChidWYsIG9mZiArIDYzKSxcbiAgICAgICAgICAgIHllYXI6IG5ldyBJZDN2MVN0cmluZ1R5cGUoNCkuZ2V0KGJ1Ziwgb2ZmICsgOTMpLFxuICAgICAgICAgICAgY29tbWVudDogbmV3IElkM3YxU3RyaW5nVHlwZSgyOCkuZ2V0KGJ1Ziwgb2ZmICsgOTcpLFxuICAgICAgICAgICAgLy8gSUQzdjEuMSBzZXBhcmF0b3IgZm9yIHRyYWNrXG4gICAgICAgICAgICB6ZXJvQnl0ZTogVUlOVDguZ2V0KGJ1Ziwgb2ZmICsgMTI3KSxcbiAgICAgICAgICAgIC8vIHRyYWNrOiBJRDN2MS4xIGZpZWxkIGFkZGVkIGJ5IE1pY2hhZWwgTXV0c2NobGVyXG4gICAgICAgICAgICB0cmFjazogVUlOVDguZ2V0KGJ1Ziwgb2ZmICsgMTI2KSxcbiAgICAgICAgICAgIGdlbnJlOiBVSU5UOC5nZXQoYnVmLCBvZmYgKyAxMjcpXG4gICAgICAgIH0gOiBudWxsO1xuICAgIH1cbn07XG5jbGFzcyBJZDN2MVN0cmluZ1R5cGUge1xuICAgIGNvbnN0cnVjdG9yKGxlbikge1xuICAgICAgICB0aGlzLmxlbiA9IGxlbjtcbiAgICAgICAgdGhpcy5zdHJpbmdUeXBlID0gbmV3IFN0cmluZ1R5cGUobGVuLCAnbGF0aW4xJyk7XG4gICAgfVxuICAgIGdldChidWYsIG9mZikge1xuICAgICAgICBsZXQgdmFsdWUgPSB0aGlzLnN0cmluZ1R5cGUuZ2V0KGJ1Ziwgb2ZmKTtcbiAgICAgICAgdmFsdWUgPSB1dGlsLnRyaW1SaWdodE51bGwodmFsdWUpO1xuICAgICAgICB2YWx1ZSA9IHZhbHVlLnRyaW0oKTtcbiAgICAgICAgcmV0dXJuIHZhbHVlLmxlbmd0aCA+IDAgPyB2YWx1ZSA6IHVuZGVmaW5lZDtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgSUQzdjFQYXJzZXIgZXh0ZW5kcyBCYXNpY1BhcnNlciB7XG4gICAgc3RhdGljIGdldEdlbnJlKGdlbnJlSW5kZXgpIHtcbiAgICAgICAgaWYgKGdlbnJlSW5kZXggPCBHZW5yZXMubGVuZ3RoKSB7XG4gICAgICAgICAgICByZXR1cm4gR2VucmVzW2dlbnJlSW5kZXhdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7IC8vIFRvRE86IGdlbmVyYXRlIHdhcm5pbmdcbiAgICB9XG4gICAgYXN5bmMgcGFyc2UoKSB7XG4gICAgICAgIGlmICghdGhpcy50b2tlbml6ZXIuZmlsZUluZm8uc2l6ZSkge1xuICAgICAgICAgICAgZGVidWcoJ1NraXAgY2hlY2tpbmcgZm9yIElEM3YxIGJlY2F1c2UgdGhlIGZpbGUtc2l6ZSBpcyB1bmtub3duJyk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5hcGVIZWFkZXIpIHtcbiAgICAgICAgICAgIHRoaXMudG9rZW5pemVyLmlnbm9yZSh0aGlzLm9wdGlvbnMuYXBlSGVhZGVyLm9mZnNldCAtIHRoaXMudG9rZW5pemVyLnBvc2l0aW9uKTtcbiAgICAgICAgICAgIGNvbnN0IGFwZVBhcnNlciA9IG5ldyBBUEV2MlBhcnNlcigpO1xuICAgICAgICAgICAgYXBlUGFyc2VyLmluaXQodGhpcy5tZXRhZGF0YSwgdGhpcy50b2tlbml6ZXIsIHRoaXMub3B0aW9ucyk7XG4gICAgICAgICAgICBhd2FpdCBhcGVQYXJzZXIucGFyc2VUYWdzKHRoaXMub3B0aW9ucy5hcGVIZWFkZXIuZm9vdGVyKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBvZmZzZXQgPSB0aGlzLnRva2VuaXplci5maWxlSW5mby5zaXplIC0gSWlkM3YxVG9rZW4ubGVuO1xuICAgICAgICBpZiAodGhpcy50b2tlbml6ZXIucG9zaXRpb24gPiBvZmZzZXQpIHtcbiAgICAgICAgICAgIGRlYnVnKCdBbHJlYWR5IGNvbnN1bWVkIHRoZSBsYXN0IDEyOCBieXRlcycpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGhlYWRlciA9IGF3YWl0IHRoaXMudG9rZW5pemVyLnJlYWRUb2tlbihJaWQzdjFUb2tlbiwgb2Zmc2V0KTtcbiAgICAgICAgaWYgKGhlYWRlcikge1xuICAgICAgICAgICAgZGVidWcoJ0lEM3YxIGhlYWRlciBmb3VuZCBhdDogcG9zPSVzJywgdGhpcy50b2tlbml6ZXIuZmlsZUluZm8uc2l6ZSAtIElpZDN2MVRva2VuLmxlbik7XG4gICAgICAgICAgICBjb25zdCBwcm9wcyA9IFsndGl0bGUnLCAnYXJ0aXN0JywgJ2FsYnVtJywgJ2NvbW1lbnQnLCAndHJhY2snLCAneWVhciddO1xuICAgICAgICAgICAgZm9yIChjb25zdCBpZCBvZiBwcm9wcykge1xuICAgICAgICAgICAgICAgIGlmIChoZWFkZXJbaWRdICYmIGhlYWRlcltpZF0gIT09ICcnKVxuICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLmFkZFRhZyhpZCwgaGVhZGVyW2lkXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBnZW5yZSA9IElEM3YxUGFyc2VyLmdldEdlbnJlKGhlYWRlci5nZW5yZSk7XG4gICAgICAgICAgICBpZiAoZ2VucmUpXG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5hZGRUYWcoJ2dlbnJlJywgZ2VucmUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgZGVidWcoJ0lEM3YxIGhlYWRlciBub3QgZm91bmQgYXQ6IHBvcz0lcycsIHRoaXMudG9rZW5pemVyLmZpbGVJbmZvLnNpemUgLSBJaWQzdjFUb2tlbi5sZW4pO1xuICAgICAgICB9XG4gICAgfVxuICAgIGFzeW5jIGFkZFRhZyhpZCwgdmFsdWUpIHtcbiAgICAgICAgYXdhaXQgdGhpcy5tZXRhZGF0YS5hZGRUYWcoJ0lEM3YxJywgaWQsIHZhbHVlKTtcbiAgICB9XG59XG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gaGFzSUQzdjFIZWFkZXIocmVhZGVyKSB7XG4gICAgaWYgKHJlYWRlci5maWxlU2l6ZSA+PSAxMjgpIHtcbiAgICAgICAgY29uc3QgdGFnID0gbmV3IFVpbnQ4QXJyYXkoMyk7XG4gICAgICAgIGF3YWl0IHJlYWRlci5yYW5kb21SZWFkKHRhZywgMCwgdGFnLmxlbmd0aCwgcmVhZGVyLmZpbGVTaXplIC0gMTI4KTtcbiAgICAgICAgcmV0dXJuIG5ldyBUZXh0RGVjb2RlcignbGF0aW4xJykuZGVjb2RlKHRhZykgPT09ICdUQUcnO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1JRDN2MVBhcnNlci5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/music-metadata/lib/id3v1/ID3v1Parser.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/music-metadata/lib/id3v1/ID3v1TagMap.js":
/*!**************************************************************!*\
  !*** ./node_modules/music-metadata/lib/id3v1/ID3v1TagMap.js ***!
  \**************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ID3v1TagMapper: () => (/* binding */ ID3v1TagMapper)\n/* harmony export */ });\n/* harmony import */ var _common_GenericTagMapper_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../common/GenericTagMapper.js */ \"(ssr)/./node_modules/music-metadata/lib/common/GenericTagMapper.js\");\n\n/**\n * ID3v1 tag mappings\n */\nconst id3v1TagMap = {\n    title: 'title',\n    artist: 'artist',\n    album: 'album',\n    year: 'year',\n    comment: 'comment',\n    track: 'track',\n    genre: 'genre'\n};\nclass ID3v1TagMapper extends _common_GenericTagMapper_js__WEBPACK_IMPORTED_MODULE_0__.CommonTagMapper {\n    constructor() {\n        super(['ID3v1'], id3v1TagMap);\n    }\n}\n//# sourceMappingURL=ID3v1TagMap.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbXVzaWMtbWV0YWRhdGEvbGliL2lkM3YxL0lEM3YxVGFnTWFwLmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQWdFO0FBQ2hFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPLDZCQUE2Qix3RUFBZTtBQUNuRDtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZGV2ZWxldmF0ZS8uL25vZGVfbW9kdWxlcy9tdXNpYy1tZXRhZGF0YS9saWIvaWQzdjEvSUQzdjFUYWdNYXAuanM/NDJiYiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBDb21tb25UYWdNYXBwZXIgfSBmcm9tICcuLi9jb21tb24vR2VuZXJpY1RhZ01hcHBlci5qcyc7XG4vKipcbiAqIElEM3YxIHRhZyBtYXBwaW5nc1xuICovXG5jb25zdCBpZDN2MVRhZ01hcCA9IHtcbiAgICB0aXRsZTogJ3RpdGxlJyxcbiAgICBhcnRpc3Q6ICdhcnRpc3QnLFxuICAgIGFsYnVtOiAnYWxidW0nLFxuICAgIHllYXI6ICd5ZWFyJyxcbiAgICBjb21tZW50OiAnY29tbWVudCcsXG4gICAgdHJhY2s6ICd0cmFjaycsXG4gICAgZ2VucmU6ICdnZW5yZSdcbn07XG5leHBvcnQgY2xhc3MgSUQzdjFUYWdNYXBwZXIgZXh0ZW5kcyBDb21tb25UYWdNYXBwZXIge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcihbJ0lEM3YxJ10sIGlkM3YxVGFnTWFwKTtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1JRDN2MVRhZ01hcC5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/music-metadata/lib/id3v1/ID3v1TagMap.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/music-metadata/lib/id3v2/AbstractID3Parser.js":
/*!********************************************************************!*\
  !*** ./node_modules/music-metadata/lib/id3v2/AbstractID3Parser.js ***!
  \********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AbstractID3Parser: () => (/* binding */ AbstractID3Parser)\n/* harmony export */ });\n/* harmony import */ var strtok3__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! strtok3 */ \"(ssr)/./node_modules/strtok3/lib/index.js\");\n/* harmony import */ var debug__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! debug */ \"(ssr)/./node_modules/debug/src/index.js\");\n/* harmony import */ var _ID3v2Token_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./ID3v2Token.js */ \"(ssr)/./node_modules/music-metadata/lib/id3v2/ID3v2Token.js\");\n/* harmony import */ var _ID3v2Parser_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./ID3v2Parser.js */ \"(ssr)/./node_modules/music-metadata/lib/id3v2/ID3v2Parser.js\");\n/* harmony import */ var _id3v1_ID3v1Parser_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../id3v1/ID3v1Parser.js */ \"(ssr)/./node_modules/music-metadata/lib/id3v1/ID3v1Parser.js\");\n/* harmony import */ var _common_BasicParser_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../common/BasicParser.js */ \"(ssr)/./node_modules/music-metadata/lib/common/BasicParser.js\");\n\n\n\n\n\n\nconst debug = debug__WEBPACK_IMPORTED_MODULE_1__('music-metadata:parser:ID3');\n/**\n * Abstract parser which tries take ID3v2 and ID3v1 headers.\n */\nclass AbstractID3Parser extends _common_BasicParser_js__WEBPACK_IMPORTED_MODULE_5__.BasicParser {\n    constructor() {\n        super(...arguments);\n        this.id3parser = new _ID3v2Parser_js__WEBPACK_IMPORTED_MODULE_3__.ID3v2Parser();\n    }\n    static async startsWithID3v2Header(tokenizer) {\n        return (await tokenizer.peekToken(_ID3v2Token_js__WEBPACK_IMPORTED_MODULE_2__.ID3v2Header)).fileIdentifier === 'ID3';\n    }\n    async parse() {\n        try {\n            await this.parseID3v2();\n        }\n        catch (err) {\n            if (err instanceof strtok3__WEBPACK_IMPORTED_MODULE_0__.EndOfStreamError) {\n                debug(\"End-of-stream\");\n            }\n            else {\n                throw err;\n            }\n        }\n    }\n    finalize() {\n        return;\n    }\n    async parseID3v2() {\n        await this.tryReadId3v2Headers();\n        debug('End of ID3v2 header, go to MPEG-parser: pos=%s', this.tokenizer.position);\n        await this.postId3v2Parse();\n        if (this.options.skipPostHeaders && this.metadata.hasAny()) {\n            this.finalize();\n        }\n        else {\n            const id3v1parser = new _id3v1_ID3v1Parser_js__WEBPACK_IMPORTED_MODULE_4__.ID3v1Parser();\n            await id3v1parser.init(this.metadata, this.tokenizer, this.options).parse();\n            this.finalize();\n        }\n    }\n    async tryReadId3v2Headers() {\n        const id3Header = await this.tokenizer.peekToken(_ID3v2Token_js__WEBPACK_IMPORTED_MODULE_2__.ID3v2Header);\n        if (id3Header.fileIdentifier === 'ID3') {\n            debug('Found ID3v2 header, pos=%s', this.tokenizer.position);\n            await this.id3parser.parse(this.metadata, this.tokenizer, this.options);\n            return this.tryReadId3v2Headers();\n        }\n    }\n}\n//# sourceMappingURL=AbstractID3Parser.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbXVzaWMtbWV0YWRhdGEvbGliL2lkM3YyL0Fic3RyYWN0SUQzUGFyc2VyLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBMkM7QUFDYjtBQUNnQjtBQUNDO0FBQ087QUFDQztBQUN2RCxjQUFjLGtDQUFTO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNPLGdDQUFnQywrREFBVztBQUNsRDtBQUNBO0FBQ0EsNkJBQTZCLHdEQUFXO0FBQ3hDO0FBQ0E7QUFDQSwwQ0FBMEMsdURBQVc7QUFDckQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0JBQStCLHFEQUFnQjtBQUMvQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQ0FBb0MsOERBQVc7QUFDL0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlEQUF5RCx1REFBVztBQUNwRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZGV2ZWxldmF0ZS8uL25vZGVfbW9kdWxlcy9tdXNpYy1tZXRhZGF0YS9saWIvaWQzdjIvQWJzdHJhY3RJRDNQYXJzZXIuanM/ODM4ZiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBFbmRPZlN0cmVhbUVycm9yIH0gZnJvbSAnc3RydG9rMyc7XG5pbXBvcnQgaW5pdERlYnVnIGZyb20gJ2RlYnVnJztcbmltcG9ydCB7IElEM3YySGVhZGVyIH0gZnJvbSAnLi9JRDN2MlRva2VuLmpzJztcbmltcG9ydCB7IElEM3YyUGFyc2VyIH0gZnJvbSAnLi9JRDN2MlBhcnNlci5qcyc7XG5pbXBvcnQgeyBJRDN2MVBhcnNlciB9IGZyb20gJy4uL2lkM3YxL0lEM3YxUGFyc2VyLmpzJztcbmltcG9ydCB7IEJhc2ljUGFyc2VyIH0gZnJvbSAnLi4vY29tbW9uL0Jhc2ljUGFyc2VyLmpzJztcbmNvbnN0IGRlYnVnID0gaW5pdERlYnVnKCdtdXNpYy1tZXRhZGF0YTpwYXJzZXI6SUQzJyk7XG4vKipcbiAqIEFic3RyYWN0IHBhcnNlciB3aGljaCB0cmllcyB0YWtlIElEM3YyIGFuZCBJRDN2MSBoZWFkZXJzLlxuICovXG5leHBvcnQgY2xhc3MgQWJzdHJhY3RJRDNQYXJzZXIgZXh0ZW5kcyBCYXNpY1BhcnNlciB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XG4gICAgICAgIHRoaXMuaWQzcGFyc2VyID0gbmV3IElEM3YyUGFyc2VyKCk7XG4gICAgfVxuICAgIHN0YXRpYyBhc3luYyBzdGFydHNXaXRoSUQzdjJIZWFkZXIodG9rZW5pemVyKSB7XG4gICAgICAgIHJldHVybiAoYXdhaXQgdG9rZW5pemVyLnBlZWtUb2tlbihJRDN2MkhlYWRlcikpLmZpbGVJZGVudGlmaWVyID09PSAnSUQzJztcbiAgICB9XG4gICAgYXN5bmMgcGFyc2UoKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBhd2FpdCB0aGlzLnBhcnNlSUQzdjIoKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICBpZiAoZXJyIGluc3RhbmNlb2YgRW5kT2ZTdHJlYW1FcnJvcikge1xuICAgICAgICAgICAgICAgIGRlYnVnKFwiRW5kLW9mLXN0cmVhbVwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRocm93IGVycjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBmaW5hbGl6ZSgpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBhc3luYyBwYXJzZUlEM3YyKCkge1xuICAgICAgICBhd2FpdCB0aGlzLnRyeVJlYWRJZDN2MkhlYWRlcnMoKTtcbiAgICAgICAgZGVidWcoJ0VuZCBvZiBJRDN2MiBoZWFkZXIsIGdvIHRvIE1QRUctcGFyc2VyOiBwb3M9JXMnLCB0aGlzLnRva2VuaXplci5wb3NpdGlvbik7XG4gICAgICAgIGF3YWl0IHRoaXMucG9zdElkM3YyUGFyc2UoKTtcbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5za2lwUG9zdEhlYWRlcnMgJiYgdGhpcy5tZXRhZGF0YS5oYXNBbnkoKSkge1xuICAgICAgICAgICAgdGhpcy5maW5hbGl6ZSgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgaWQzdjFwYXJzZXIgPSBuZXcgSUQzdjFQYXJzZXIoKTtcbiAgICAgICAgICAgIGF3YWl0IGlkM3YxcGFyc2VyLmluaXQodGhpcy5tZXRhZGF0YSwgdGhpcy50b2tlbml6ZXIsIHRoaXMub3B0aW9ucykucGFyc2UoKTtcbiAgICAgICAgICAgIHRoaXMuZmluYWxpemUoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBhc3luYyB0cnlSZWFkSWQzdjJIZWFkZXJzKCkge1xuICAgICAgICBjb25zdCBpZDNIZWFkZXIgPSBhd2FpdCB0aGlzLnRva2VuaXplci5wZWVrVG9rZW4oSUQzdjJIZWFkZXIpO1xuICAgICAgICBpZiAoaWQzSGVhZGVyLmZpbGVJZGVudGlmaWVyID09PSAnSUQzJykge1xuICAgICAgICAgICAgZGVidWcoJ0ZvdW5kIElEM3YyIGhlYWRlciwgcG9zPSVzJywgdGhpcy50b2tlbml6ZXIucG9zaXRpb24pO1xuICAgICAgICAgICAgYXdhaXQgdGhpcy5pZDNwYXJzZXIucGFyc2UodGhpcy5tZXRhZGF0YSwgdGhpcy50b2tlbml6ZXIsIHRoaXMub3B0aW9ucyk7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy50cnlSZWFkSWQzdjJIZWFkZXJzKCk7XG4gICAgICAgIH1cbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1BYnN0cmFjdElEM1BhcnNlci5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/music-metadata/lib/id3v2/AbstractID3Parser.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/music-metadata/lib/id3v2/FrameParser.js":
/*!**************************************************************!*\
  !*** ./node_modules/music-metadata/lib/id3v2/FrameParser.js ***!
  \**************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   FrameParser: () => (/* binding */ FrameParser),\n/* harmony export */   parseGenre: () => (/* binding */ parseGenre)\n/* harmony export */ });\n/* harmony import */ var debug__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! debug */ \"(ssr)/./node_modules/debug/src/index.js\");\n/* harmony import */ var token_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! token-types */ \"(ssr)/./node_modules/token-types/lib/index.js\");\n/* harmony import */ var _common_Util_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../common/Util.js */ \"(ssr)/./node_modules/music-metadata/lib/common/Util.js\");\n/* harmony import */ var _ID3v2Token_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./ID3v2Token.js */ \"(ssr)/./node_modules/music-metadata/lib/id3v2/ID3v2Token.js\");\n/* harmony import */ var _id3v1_ID3v1Parser_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../id3v1/ID3v1Parser.js */ \"(ssr)/./node_modules/music-metadata/lib/id3v1/ID3v1Parser.js\");\n\n\n\n\n\nconst debug = debug__WEBPACK_IMPORTED_MODULE_0__('music-metadata:id3v2:frame-parser');\nconst defaultEnc = 'latin1'; // latin1 == iso-8859-1;\nfunction parseGenre(origVal) {\n    // match everything inside parentheses\n    const genres = [];\n    let code;\n    let word = '';\n    for (const c of origVal) {\n        if (typeof code === 'string') {\n            if (c === '(' && code === '') {\n                word += '(';\n                code = undefined;\n            }\n            else if (c === ')') {\n                if (word !== '') {\n                    genres.push(word);\n                    word = '';\n                }\n                const genre = parseGenreCode(code);\n                if (genre) {\n                    genres.push(genre);\n                }\n                code = undefined;\n            }\n            else\n                code += c;\n        }\n        else if (c === '(') {\n            code = '';\n        }\n        else {\n            word += c;\n        }\n    }\n    if (word) {\n        if (genres.length === 0 && word.match(/^\\d*$/)) {\n            word = parseGenreCode(word);\n        }\n        if (word) {\n            genres.push(word);\n        }\n    }\n    return genres;\n}\nfunction parseGenreCode(code) {\n    if (code === 'RX')\n        return 'Remix';\n    if (code === 'CR')\n        return 'Cover';\n    if (code.match(/^\\d*$/)) {\n        return _id3v1_ID3v1Parser_js__WEBPACK_IMPORTED_MODULE_4__.Genres[Number.parseInt(code)];\n    }\n}\nclass FrameParser {\n    /**\n     * Create id3v2 frame parser\n     * @param major - Major version, e.g. (4) for  id3v2.4\n     * @param warningCollector - Used to collect decode issue\n     */\n    constructor(major, warningCollector) {\n        this.major = major;\n        this.warningCollector = warningCollector;\n    }\n    readData(uint8Array, type, includeCovers) {\n        if (uint8Array.length === 0) {\n            this.warningCollector.addWarning(`id3v2.${this.major} header has empty tag type=${type}`);\n            return;\n        }\n        const { encoding, bom } = _ID3v2Token_js__WEBPACK_IMPORTED_MODULE_3__.TextEncodingToken.get(uint8Array, 0);\n        const length = uint8Array.length;\n        let offset = 0;\n        let output = []; // ToDo\n        const nullTerminatorLength = FrameParser.getNullTerminatorLength(encoding);\n        let fzero;\n        debug(`Parsing tag type=${type}, encoding=${encoding}, bom=${bom}`);\n        switch (type !== 'TXXX' && type[0] === 'T' ? 'T*' : type) {\n            case 'T*': // 4.2.1. Text information frames - details\n            case 'GRP1': // iTunes-specific ID3v2 grouping field\n            case 'IPLS': // v2.3: Involved people list\n            case 'MVIN':\n            case 'MVNM':\n            case 'PCS':\n            case 'PCST': {\n                let text;\n                try {\n                    text = _common_Util_js__WEBPACK_IMPORTED_MODULE_2__.decodeString(uint8Array.slice(1), encoding).replace(/\\x00+$/, '');\n                }\n                catch (error) {\n                    if (error instanceof Error) {\n                        this.warningCollector.addWarning(`id3v2.${this.major} type=${type} header has invalid string value: ${error.message}`);\n                        break;\n                    }\n                    throw error;\n                }\n                switch (type) {\n                    case 'TMCL': // Musician credits list\n                    case 'TIPL': // Involved people list\n                    case 'IPLS': // Involved people list\n                        output = FrameParser.functionList(this.splitValue(type, text));\n                        break;\n                    case 'TRK':\n                    case 'TRCK':\n                    case 'TPOS':\n                        output = text;\n                        break;\n                    case 'TCOM':\n                    case 'TEXT':\n                    case 'TOLY':\n                    case 'TOPE':\n                    case 'TPE1':\n                    case 'TSRC':\n                        // id3v2.3 defines that TCOM, TEXT, TOLY, TOPE & TPE1 values are separated by /\n                        output = this.splitValue(type, text);\n                        break;\n                    case 'TCO':\n                    case 'TCON':\n                        output = this.splitValue(type, text).map(v => parseGenre(v)).reduce((acc, val) => acc.concat(val), []);\n                        break;\n                    case 'PCS':\n                    case 'PCST':\n                        // TODO: Why `default` not results `1` but `''`?\n                        output = this.major >= 4 ? this.splitValue(type, text) : [text];\n                        output = (Array.isArray(output) && output[0] === '') ? 1 : 0;\n                        break;\n                    default:\n                        output = this.major >= 4 ? this.splitValue(type, text) : [text];\n                }\n                break;\n            }\n            case 'TXXX': {\n                const idAndData = FrameParser.readIdentifierAndData(uint8Array, offset + 1, length, encoding);\n                const textTag = {\n                    description: idAndData.id,\n                    text: this.splitValue(type, _common_Util_js__WEBPACK_IMPORTED_MODULE_2__.decodeString(idAndData.data, encoding).replace(/\\x00+$/, ''))\n                };\n                output = textTag;\n                break;\n            }\n            case 'PIC':\n            case 'APIC':\n                if (includeCovers) {\n                    const pic = {};\n                    offset += 1;\n                    switch (this.major) {\n                        case 2:\n                            pic.format = _common_Util_js__WEBPACK_IMPORTED_MODULE_2__.decodeString(uint8Array.slice(offset, offset + 3), 'latin1'); // 'latin1'; // latin1 == iso-8859-1;\n                            offset += 3;\n                            break;\n                        case 3:\n                        case 4:\n                            fzero = _common_Util_js__WEBPACK_IMPORTED_MODULE_2__.findZero(uint8Array, offset, length, defaultEnc);\n                            pic.format = _common_Util_js__WEBPACK_IMPORTED_MODULE_2__.decodeString(uint8Array.slice(offset, fzero), defaultEnc);\n                            offset = fzero + 1;\n                            break;\n                        default:\n                            throw new Error(`Warning: unexpected major versionIndex: ${this.major}`);\n                    }\n                    pic.format = FrameParser.fixPictureMimeType(pic.format);\n                    pic.type = _ID3v2Token_js__WEBPACK_IMPORTED_MODULE_3__.AttachedPictureType[uint8Array[offset]];\n                    offset += 1;\n                    fzero = _common_Util_js__WEBPACK_IMPORTED_MODULE_2__.findZero(uint8Array, offset, length, encoding);\n                    pic.description = _common_Util_js__WEBPACK_IMPORTED_MODULE_2__.decodeString(uint8Array.slice(offset, fzero), encoding);\n                    offset = fzero + nullTerminatorLength;\n                    pic.data = uint8Array.slice(offset, length);\n                    output = pic;\n                }\n                break;\n            case 'CNT':\n            case 'PCNT':\n                output = token_types__WEBPACK_IMPORTED_MODULE_1__.UINT32_BE.get(uint8Array, 0);\n                break;\n            case 'SYLT': {\n                const syltHeader = _ID3v2Token_js__WEBPACK_IMPORTED_MODULE_3__.SyncTextHeader.get(uint8Array, 0);\n                offset += _ID3v2Token_js__WEBPACK_IMPORTED_MODULE_3__.SyncTextHeader.len;\n                const result = {\n                    descriptor: '',\n                    language: syltHeader.language,\n                    contentType: syltHeader.contentType,\n                    timeStampFormat: syltHeader.timeStampFormat,\n                    syncText: []\n                };\n                let readSyllables = false;\n                while (offset < length) {\n                    const nullStr = FrameParser.readNullTerminatedString(uint8Array.subarray(offset), syltHeader.encoding);\n                    offset += nullStr.len;\n                    if (readSyllables) {\n                        const timestamp = token_types__WEBPACK_IMPORTED_MODULE_1__.UINT32_BE.get(uint8Array, offset);\n                        offset += token_types__WEBPACK_IMPORTED_MODULE_1__.UINT32_BE.len;\n                        result.syncText.push({\n                            text: nullStr.text,\n                            timestamp\n                        });\n                    }\n                    else {\n                        result.descriptor = nullStr.text;\n                        readSyllables = true;\n                    }\n                }\n                output = result;\n                break;\n            }\n            case 'ULT':\n            case 'USLT':\n            case 'COM':\n            case 'COMM': {\n                const textHeader = _ID3v2Token_js__WEBPACK_IMPORTED_MODULE_3__.TextHeader.get(uint8Array, offset);\n                offset += _ID3v2Token_js__WEBPACK_IMPORTED_MODULE_3__.TextHeader.len;\n                const descriptorStr = FrameParser.readNullTerminatedString(uint8Array.subarray(offset), textHeader.encoding);\n                offset += descriptorStr.len;\n                const textStr = FrameParser.readNullTerminatedString(uint8Array.subarray(offset), textHeader.encoding);\n                const comment = {\n                    language: textHeader.language,\n                    descriptor: descriptorStr.text,\n                    text: textStr.text\n                };\n                output = comment;\n                break;\n            }\n            case 'UFID': {\n                const ufid = FrameParser.readIdentifierAndData(uint8Array, offset, length, defaultEnc);\n                output = { owner_identifier: ufid.id, identifier: ufid.data };\n                break;\n            }\n            case 'PRIV': { // private frame\n                const priv = FrameParser.readIdentifierAndData(uint8Array, offset, length, defaultEnc);\n                output = { owner_identifier: priv.id, data: priv.data };\n                break;\n            }\n            case 'POPM': { // Popularimeter\n                fzero = _common_Util_js__WEBPACK_IMPORTED_MODULE_2__.findZero(uint8Array, offset, length, defaultEnc);\n                const email = _common_Util_js__WEBPACK_IMPORTED_MODULE_2__.decodeString(uint8Array.slice(offset, fzero), defaultEnc);\n                offset = fzero + 1;\n                const dataLen = length - offset;\n                output = {\n                    email,\n                    rating: token_types__WEBPACK_IMPORTED_MODULE_1__.UINT8.get(uint8Array, offset),\n                    counter: dataLen >= 5 ? token_types__WEBPACK_IMPORTED_MODULE_1__.UINT32_BE.get(uint8Array, offset + 1) : undefined\n                };\n                break;\n            }\n            case 'GEOB': { // General encapsulated object\n                fzero = _common_Util_js__WEBPACK_IMPORTED_MODULE_2__.findZero(uint8Array, offset + 1, length, encoding);\n                const mimeType = _common_Util_js__WEBPACK_IMPORTED_MODULE_2__.decodeString(uint8Array.slice(offset + 1, fzero), defaultEnc);\n                offset = fzero + 1;\n                fzero = _common_Util_js__WEBPACK_IMPORTED_MODULE_2__.findZero(uint8Array, offset, length - offset, encoding);\n                const filename = _common_Util_js__WEBPACK_IMPORTED_MODULE_2__.decodeString(uint8Array.slice(offset, fzero), defaultEnc);\n                offset = fzero + 1;\n                fzero = _common_Util_js__WEBPACK_IMPORTED_MODULE_2__.findZero(uint8Array, offset, length - offset, encoding);\n                const description = _common_Util_js__WEBPACK_IMPORTED_MODULE_2__.decodeString(uint8Array.slice(offset, fzero), defaultEnc);\n                const geob = {\n                    type: mimeType,\n                    filename,\n                    description,\n                    data: uint8Array.slice(offset + 1, length)\n                };\n                output = geob;\n                break;\n            }\n            // W-Frames:\n            case 'WCOM':\n            case 'WCOP':\n            case 'WOAF':\n            case 'WOAR':\n            case 'WOAS':\n            case 'WORS':\n            case 'WPAY':\n            case 'WPUB':\n                // Decode URL\n                fzero = _common_Util_js__WEBPACK_IMPORTED_MODULE_2__.findZero(uint8Array, offset + 1, length, encoding);\n                output = _common_Util_js__WEBPACK_IMPORTED_MODULE_2__.decodeString(uint8Array.slice(offset, fzero), defaultEnc);\n                break;\n            case 'WXXX': {\n                // Decode URL\n                fzero = _common_Util_js__WEBPACK_IMPORTED_MODULE_2__.findZero(uint8Array, offset + 1, length, encoding);\n                const description = _common_Util_js__WEBPACK_IMPORTED_MODULE_2__.decodeString(uint8Array.slice(offset + 1, fzero), encoding);\n                offset = fzero + (encoding === 'utf-16le' ? 2 : 1);\n                output = { description, url: _common_Util_js__WEBPACK_IMPORTED_MODULE_2__.decodeString(uint8Array.slice(offset, length), defaultEnc) };\n                break;\n            }\n            case 'WFD':\n            case 'WFED':\n                output = _common_Util_js__WEBPACK_IMPORTED_MODULE_2__.decodeString(uint8Array.slice(offset + 1, _common_Util_js__WEBPACK_IMPORTED_MODULE_2__.findZero(uint8Array, offset + 1, length, encoding)), encoding);\n                break;\n            case 'MCDI': {\n                // Music CD identifier\n                output = uint8Array.slice(0, length);\n                break;\n            }\n            default:\n                debug(`Warning: unsupported id3v2-tag-type: ${type}`);\n                break;\n        }\n        return output;\n    }\n    static readNullTerminatedString(uint8Array, encoding) {\n        let offset = encoding.bom ? 2 : 0;\n        const zeroIndex = _common_Util_js__WEBPACK_IMPORTED_MODULE_2__.findZero(uint8Array, offset, uint8Array.length, encoding.encoding);\n        const txt = uint8Array.slice(offset, zeroIndex);\n        if (encoding.encoding === 'utf-16le') {\n            offset = zeroIndex + 2;\n        }\n        else {\n            offset = zeroIndex + 1;\n        }\n        return {\n            text: _common_Util_js__WEBPACK_IMPORTED_MODULE_2__.decodeString(txt, encoding.encoding),\n            len: offset\n        };\n    }\n    static fixPictureMimeType(pictureType) {\n        pictureType = pictureType.toLocaleLowerCase();\n        switch (pictureType) {\n            case 'jpg':\n                return 'image/jpeg';\n            case 'png':\n                return 'image/png';\n        }\n        return pictureType;\n    }\n    /**\n     * Converts TMCL (Musician credits list) or TIPL (Involved people list)\n     * @param entries\n     */\n    static functionList(entries) {\n        const res = {};\n        for (let i = 0; i + 1 < entries.length; i += 2) {\n            const names = entries[i + 1].split(',');\n            res[entries[i]] = res[entries[i]] ? res[entries[i]].concat(names) : names;\n        }\n        return res;\n    }\n    /**\n     * id3v2.4 defines that multiple T* values are separated by 0x00\n     * id3v2.3 defines that TCOM, TEXT, TOLY, TOPE & TPE1 values are separated by /\n     * @param tag - Tag name\n     * @param text - Concatenated tag value\n     * @returns Split tag value\n     */\n    splitValue(tag, text) {\n        let values;\n        if (this.major < 4) {\n            values = text.split(/\\x00/g);\n            if (values.length > 1) {\n                this.warningCollector.addWarning(`ID3v2.${this.major} ${tag} uses non standard null-separator.`);\n            }\n            else {\n                values = text.split(/\\//g);\n            }\n        }\n        else {\n            values = text.split(/\\x00/g);\n        }\n        return FrameParser.trimArray(values);\n    }\n    static trimArray(values) {\n        return values.map(value => value.replace(/\\x00+$/, '').trim());\n    }\n    static readIdentifierAndData(uint8Array, offset, length, encoding) {\n        const fzero = _common_Util_js__WEBPACK_IMPORTED_MODULE_2__.findZero(uint8Array, offset, length, encoding);\n        const id = _common_Util_js__WEBPACK_IMPORTED_MODULE_2__.decodeString(uint8Array.slice(offset, fzero), encoding);\n        offset = fzero + FrameParser.getNullTerminatorLength(encoding);\n        return { id, data: uint8Array.slice(offset, length) };\n    }\n    static getNullTerminatorLength(enc) {\n        return enc === 'utf-16le' ? 2 : 1;\n    }\n}\n//# sourceMappingURL=FrameParser.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbXVzaWMtbWV0YWRhdGEvbGliL2lkM3YyL0ZyYW1lUGFyc2VyLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBOEI7QUFDTztBQUNLO0FBQzJEO0FBQ3BEO0FBQ2pELGNBQWMsa0NBQVM7QUFDdkIsNkJBQTZCO0FBQ3RCO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUseURBQU07QUFDckI7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNEQUFzRCxZQUFZLDRCQUE0QixLQUFLO0FBQ25HO0FBQ0E7QUFDQSxnQkFBZ0IsZ0JBQWdCLEVBQUUsNkRBQWlCO0FBQ25EO0FBQ0E7QUFDQSx5QkFBeUI7QUFDekI7QUFDQTtBQUNBLGtDQUFrQyxLQUFLLGFBQWEsU0FBUyxRQUFRLElBQUk7QUFDekU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQkFBMkIseURBQWlCO0FBQzVDO0FBQ0E7QUFDQTtBQUNBLGtFQUFrRSxZQUFZLE9BQU8sTUFBTSxtQ0FBbUMsY0FBYztBQUM1STtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdEQUFnRCx5REFBaUI7QUFDakU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlDQUF5Qyx5REFBaUIsa0RBQWtELGFBQWE7QUFDekg7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQ0FBb0MscURBQWE7QUFDakQseUNBQXlDLHlEQUFpQjtBQUMxRDtBQUNBO0FBQ0E7QUFDQSx1RkFBdUYsV0FBVztBQUNsRztBQUNBO0FBQ0EsK0JBQStCLCtEQUFtQjtBQUNsRDtBQUNBLDRCQUE0QixxREFBYTtBQUN6QyxzQ0FBc0MseURBQWlCO0FBQ3ZEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCLGtEQUFlO0FBQ3hDO0FBQ0E7QUFDQSxtQ0FBbUMsMERBQWM7QUFDakQsMEJBQTBCLDBEQUFjO0FBQ3hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBDQUEwQyxrREFBZTtBQUN6RCxrQ0FBa0Msa0RBQWU7QUFDakQ7QUFDQTtBQUNBO0FBQ0EseUJBQXlCO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUNBQW1DLHNEQUFVO0FBQzdDLDBCQUEwQixzREFBVTtBQUNwQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQjtBQUMzQjtBQUNBO0FBQ0EsMkJBQTJCO0FBQzNCO0FBQ0EsMkJBQTJCO0FBQzNCO0FBQ0E7QUFDQSwyQkFBMkI7QUFDM0Isd0JBQXdCLHFEQUFhO0FBQ3JDLDhCQUE4Qix5REFBaUI7QUFDL0M7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIsOENBQVc7QUFDdkMsNENBQTRDLGtEQUFlO0FBQzNEO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQjtBQUMzQix3QkFBd0IscURBQWE7QUFDckMsaUNBQWlDLHlEQUFpQjtBQUNsRDtBQUNBLHdCQUF3QixxREFBYTtBQUNyQyxpQ0FBaUMseURBQWlCO0FBQ2xEO0FBQ0Esd0JBQXdCLHFEQUFhO0FBQ3JDLG9DQUFvQyx5REFBaUI7QUFDckQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IscURBQWE7QUFDckMseUJBQXlCLHlEQUFpQjtBQUMxQztBQUNBO0FBQ0E7QUFDQSx3QkFBd0IscURBQWE7QUFDckMsb0NBQW9DLHlEQUFpQjtBQUNyRDtBQUNBLDJCQUEyQixrQkFBa0IseURBQWlCO0FBQzlEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCLHlEQUFpQiw4QkFBOEIscURBQWE7QUFDckY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4REFBOEQsS0FBSztBQUNuRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQkFBMEIscURBQWE7QUFDdkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQix5REFBaUI7QUFDbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0Isd0JBQXdCO0FBQ2hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwREFBMEQsWUFBWSxFQUFFLEtBQUs7QUFDN0U7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQixxREFBYTtBQUNuQyxtQkFBbUIseURBQWlCO0FBQ3BDO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2RldmVsZXZhdGUvLi9ub2RlX21vZHVsZXMvbXVzaWMtbWV0YWRhdGEvbGliL2lkM3YyL0ZyYW1lUGFyc2VyLmpzP2IzN2MiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGluaXREZWJ1ZyBmcm9tICdkZWJ1Zyc7XG5pbXBvcnQgKiBhcyBUb2tlbiBmcm9tICd0b2tlbi10eXBlcyc7XG5pbXBvcnQgKiBhcyB1dGlsIGZyb20gJy4uL2NvbW1vbi9VdGlsLmpzJztcbmltcG9ydCB7IEF0dGFjaGVkUGljdHVyZVR5cGUsIFN5bmNUZXh0SGVhZGVyLCBUZXh0RW5jb2RpbmdUb2tlbiwgVGV4dEhlYWRlciB9IGZyb20gJy4vSUQzdjJUb2tlbi5qcyc7XG5pbXBvcnQgeyBHZW5yZXMgfSBmcm9tICcuLi9pZDN2MS9JRDN2MVBhcnNlci5qcyc7XG5jb25zdCBkZWJ1ZyA9IGluaXREZWJ1ZygnbXVzaWMtbWV0YWRhdGE6aWQzdjI6ZnJhbWUtcGFyc2VyJyk7XG5jb25zdCBkZWZhdWx0RW5jID0gJ2xhdGluMSc7IC8vIGxhdGluMSA9PSBpc28tODg1OS0xO1xuZXhwb3J0IGZ1bmN0aW9uIHBhcnNlR2VucmUob3JpZ1ZhbCkge1xuICAgIC8vIG1hdGNoIGV2ZXJ5dGhpbmcgaW5zaWRlIHBhcmVudGhlc2VzXG4gICAgY29uc3QgZ2VucmVzID0gW107XG4gICAgbGV0IGNvZGU7XG4gICAgbGV0IHdvcmQgPSAnJztcbiAgICBmb3IgKGNvbnN0IGMgb2Ygb3JpZ1ZhbCkge1xuICAgICAgICBpZiAodHlwZW9mIGNvZGUgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICBpZiAoYyA9PT0gJygnICYmIGNvZGUgPT09ICcnKSB7XG4gICAgICAgICAgICAgICAgd29yZCArPSAnKCc7XG4gICAgICAgICAgICAgICAgY29kZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGMgPT09ICcpJykge1xuICAgICAgICAgICAgICAgIGlmICh3b3JkICE9PSAnJykge1xuICAgICAgICAgICAgICAgICAgICBnZW5yZXMucHVzaCh3b3JkKTtcbiAgICAgICAgICAgICAgICAgICAgd29yZCA9ICcnO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCBnZW5yZSA9IHBhcnNlR2VucmVDb2RlKGNvZGUpO1xuICAgICAgICAgICAgICAgIGlmIChnZW5yZSkge1xuICAgICAgICAgICAgICAgICAgICBnZW5yZXMucHVzaChnZW5yZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvZGUgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgY29kZSArPSBjO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGMgPT09ICcoJykge1xuICAgICAgICAgICAgY29kZSA9ICcnO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgd29yZCArPSBjO1xuICAgICAgICB9XG4gICAgfVxuICAgIGlmICh3b3JkKSB7XG4gICAgICAgIGlmIChnZW5yZXMubGVuZ3RoID09PSAwICYmIHdvcmQubWF0Y2goL15cXGQqJC8pKSB7XG4gICAgICAgICAgICB3b3JkID0gcGFyc2VHZW5yZUNvZGUod29yZCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHdvcmQpIHtcbiAgICAgICAgICAgIGdlbnJlcy5wdXNoKHdvcmQpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBnZW5yZXM7XG59XG5mdW5jdGlvbiBwYXJzZUdlbnJlQ29kZShjb2RlKSB7XG4gICAgaWYgKGNvZGUgPT09ICdSWCcpXG4gICAgICAgIHJldHVybiAnUmVtaXgnO1xuICAgIGlmIChjb2RlID09PSAnQ1InKVxuICAgICAgICByZXR1cm4gJ0NvdmVyJztcbiAgICBpZiAoY29kZS5tYXRjaCgvXlxcZCokLykpIHtcbiAgICAgICAgcmV0dXJuIEdlbnJlc1tOdW1iZXIucGFyc2VJbnQoY29kZSldO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBGcmFtZVBhcnNlciB7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGlkM3YyIGZyYW1lIHBhcnNlclxuICAgICAqIEBwYXJhbSBtYWpvciAtIE1ham9yIHZlcnNpb24sIGUuZy4gKDQpIGZvciAgaWQzdjIuNFxuICAgICAqIEBwYXJhbSB3YXJuaW5nQ29sbGVjdG9yIC0gVXNlZCB0byBjb2xsZWN0IGRlY29kZSBpc3N1ZVxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKG1ham9yLCB3YXJuaW5nQ29sbGVjdG9yKSB7XG4gICAgICAgIHRoaXMubWFqb3IgPSBtYWpvcjtcbiAgICAgICAgdGhpcy53YXJuaW5nQ29sbGVjdG9yID0gd2FybmluZ0NvbGxlY3RvcjtcbiAgICB9XG4gICAgcmVhZERhdGEodWludDhBcnJheSwgdHlwZSwgaW5jbHVkZUNvdmVycykge1xuICAgICAgICBpZiAodWludDhBcnJheS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHRoaXMud2FybmluZ0NvbGxlY3Rvci5hZGRXYXJuaW5nKGBpZDN2Mi4ke3RoaXMubWFqb3J9IGhlYWRlciBoYXMgZW1wdHkgdGFnIHR5cGU9JHt0eXBlfWApO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHsgZW5jb2RpbmcsIGJvbSB9ID0gVGV4dEVuY29kaW5nVG9rZW4uZ2V0KHVpbnQ4QXJyYXksIDApO1xuICAgICAgICBjb25zdCBsZW5ndGggPSB1aW50OEFycmF5Lmxlbmd0aDtcbiAgICAgICAgbGV0IG9mZnNldCA9IDA7XG4gICAgICAgIGxldCBvdXRwdXQgPSBbXTsgLy8gVG9Eb1xuICAgICAgICBjb25zdCBudWxsVGVybWluYXRvckxlbmd0aCA9IEZyYW1lUGFyc2VyLmdldE51bGxUZXJtaW5hdG9yTGVuZ3RoKGVuY29kaW5nKTtcbiAgICAgICAgbGV0IGZ6ZXJvO1xuICAgICAgICBkZWJ1ZyhgUGFyc2luZyB0YWcgdHlwZT0ke3R5cGV9LCBlbmNvZGluZz0ke2VuY29kaW5nfSwgYm9tPSR7Ym9tfWApO1xuICAgICAgICBzd2l0Y2ggKHR5cGUgIT09ICdUWFhYJyAmJiB0eXBlWzBdID09PSAnVCcgPyAnVConIDogdHlwZSkge1xuICAgICAgICAgICAgY2FzZSAnVConOiAvLyA0LjIuMS4gVGV4dCBpbmZvcm1hdGlvbiBmcmFtZXMgLSBkZXRhaWxzXG4gICAgICAgICAgICBjYXNlICdHUlAxJzogLy8gaVR1bmVzLXNwZWNpZmljIElEM3YyIGdyb3VwaW5nIGZpZWxkXG4gICAgICAgICAgICBjYXNlICdJUExTJzogLy8gdjIuMzogSW52b2x2ZWQgcGVvcGxlIGxpc3RcbiAgICAgICAgICAgIGNhc2UgJ01WSU4nOlxuICAgICAgICAgICAgY2FzZSAnTVZOTSc6XG4gICAgICAgICAgICBjYXNlICdQQ1MnOlxuICAgICAgICAgICAgY2FzZSAnUENTVCc6IHtcbiAgICAgICAgICAgICAgICBsZXQgdGV4dDtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICB0ZXh0ID0gdXRpbC5kZWNvZGVTdHJpbmcodWludDhBcnJheS5zbGljZSgxKSwgZW5jb2RpbmcpLnJlcGxhY2UoL1xceDAwKyQvLCAnJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3IgaW5zdGFuY2VvZiBFcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy53YXJuaW5nQ29sbGVjdG9yLmFkZFdhcm5pbmcoYGlkM3YyLiR7dGhpcy5tYWpvcn0gdHlwZT0ke3R5cGV9IGhlYWRlciBoYXMgaW52YWxpZCBzdHJpbmcgdmFsdWU6ICR7ZXJyb3IubWVzc2FnZX1gKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnVE1DTCc6IC8vIE11c2ljaWFuIGNyZWRpdHMgbGlzdFxuICAgICAgICAgICAgICAgICAgICBjYXNlICdUSVBMJzogLy8gSW52b2x2ZWQgcGVvcGxlIGxpc3RcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnSVBMUyc6IC8vIEludm9sdmVkIHBlb3BsZSBsaXN0XG4gICAgICAgICAgICAgICAgICAgICAgICBvdXRwdXQgPSBGcmFtZVBhcnNlci5mdW5jdGlvbkxpc3QodGhpcy5zcGxpdFZhbHVlKHR5cGUsIHRleHQpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlICdUUksnOlxuICAgICAgICAgICAgICAgICAgICBjYXNlICdUUkNLJzpcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnVFBPUyc6XG4gICAgICAgICAgICAgICAgICAgICAgICBvdXRwdXQgPSB0ZXh0O1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ1RDT00nOlxuICAgICAgICAgICAgICAgICAgICBjYXNlICdURVhUJzpcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnVE9MWSc6XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ1RPUEUnOlxuICAgICAgICAgICAgICAgICAgICBjYXNlICdUUEUxJzpcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnVFNSQyc6XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBpZDN2Mi4zIGRlZmluZXMgdGhhdCBUQ09NLCBURVhULCBUT0xZLCBUT1BFICYgVFBFMSB2YWx1ZXMgYXJlIHNlcGFyYXRlZCBieSAvXG4gICAgICAgICAgICAgICAgICAgICAgICBvdXRwdXQgPSB0aGlzLnNwbGl0VmFsdWUodHlwZSwgdGV4dCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnVENPJzpcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnVENPTic6XG4gICAgICAgICAgICAgICAgICAgICAgICBvdXRwdXQgPSB0aGlzLnNwbGl0VmFsdWUodHlwZSwgdGV4dCkubWFwKHYgPT4gcGFyc2VHZW5yZSh2KSkucmVkdWNlKChhY2MsIHZhbCkgPT4gYWNjLmNvbmNhdCh2YWwpLCBbXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnUENTJzpcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnUENTVCc6XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBUT0RPOiBXaHkgYGRlZmF1bHRgIG5vdCByZXN1bHRzIGAxYCBidXQgYCcnYD9cbiAgICAgICAgICAgICAgICAgICAgICAgIG91dHB1dCA9IHRoaXMubWFqb3IgPj0gNCA/IHRoaXMuc3BsaXRWYWx1ZSh0eXBlLCB0ZXh0KSA6IFt0ZXh0XTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG91dHB1dCA9IChBcnJheS5pc0FycmF5KG91dHB1dCkgJiYgb3V0cHV0WzBdID09PSAnJykgPyAxIDogMDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICAgICAgb3V0cHV0ID0gdGhpcy5tYWpvciA+PSA0ID8gdGhpcy5zcGxpdFZhbHVlKHR5cGUsIHRleHQpIDogW3RleHRdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgJ1RYWFgnOiB7XG4gICAgICAgICAgICAgICAgY29uc3QgaWRBbmREYXRhID0gRnJhbWVQYXJzZXIucmVhZElkZW50aWZpZXJBbmREYXRhKHVpbnQ4QXJyYXksIG9mZnNldCArIDEsIGxlbmd0aCwgZW5jb2RpbmcpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHRleHRUYWcgPSB7XG4gICAgICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBpZEFuZERhdGEuaWQsXG4gICAgICAgICAgICAgICAgICAgIHRleHQ6IHRoaXMuc3BsaXRWYWx1ZSh0eXBlLCB1dGlsLmRlY29kZVN0cmluZyhpZEFuZERhdGEuZGF0YSwgZW5jb2RpbmcpLnJlcGxhY2UoL1xceDAwKyQvLCAnJykpXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBvdXRwdXQgPSB0ZXh0VGFnO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSAnUElDJzpcbiAgICAgICAgICAgIGNhc2UgJ0FQSUMnOlxuICAgICAgICAgICAgICAgIGlmIChpbmNsdWRlQ292ZXJzKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHBpYyA9IHt9O1xuICAgICAgICAgICAgICAgICAgICBvZmZzZXQgKz0gMTtcbiAgICAgICAgICAgICAgICAgICAgc3dpdGNoICh0aGlzLm1ham9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGljLmZvcm1hdCA9IHV0aWwuZGVjb2RlU3RyaW5nKHVpbnQ4QXJyYXkuc2xpY2Uob2Zmc2V0LCBvZmZzZXQgKyAzKSwgJ2xhdGluMScpOyAvLyAnbGF0aW4xJzsgLy8gbGF0aW4xID09IGlzby04ODU5LTE7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb2Zmc2V0ICs9IDM7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZnplcm8gPSB1dGlsLmZpbmRaZXJvKHVpbnQ4QXJyYXksIG9mZnNldCwgbGVuZ3RoLCBkZWZhdWx0RW5jKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwaWMuZm9ybWF0ID0gdXRpbC5kZWNvZGVTdHJpbmcodWludDhBcnJheS5zbGljZShvZmZzZXQsIGZ6ZXJvKSwgZGVmYXVsdEVuYyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb2Zmc2V0ID0gZnplcm8gKyAxO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFdhcm5pbmc6IHVuZXhwZWN0ZWQgbWFqb3IgdmVyc2lvbkluZGV4OiAke3RoaXMubWFqb3J9YCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcGljLmZvcm1hdCA9IEZyYW1lUGFyc2VyLmZpeFBpY3R1cmVNaW1lVHlwZShwaWMuZm9ybWF0KTtcbiAgICAgICAgICAgICAgICAgICAgcGljLnR5cGUgPSBBdHRhY2hlZFBpY3R1cmVUeXBlW3VpbnQ4QXJyYXlbb2Zmc2V0XV07XG4gICAgICAgICAgICAgICAgICAgIG9mZnNldCArPSAxO1xuICAgICAgICAgICAgICAgICAgICBmemVybyA9IHV0aWwuZmluZFplcm8odWludDhBcnJheSwgb2Zmc2V0LCBsZW5ndGgsIGVuY29kaW5nKTtcbiAgICAgICAgICAgICAgICAgICAgcGljLmRlc2NyaXB0aW9uID0gdXRpbC5kZWNvZGVTdHJpbmcodWludDhBcnJheS5zbGljZShvZmZzZXQsIGZ6ZXJvKSwgZW5jb2RpbmcpO1xuICAgICAgICAgICAgICAgICAgICBvZmZzZXQgPSBmemVybyArIG51bGxUZXJtaW5hdG9yTGVuZ3RoO1xuICAgICAgICAgICAgICAgICAgICBwaWMuZGF0YSA9IHVpbnQ4QXJyYXkuc2xpY2Uob2Zmc2V0LCBsZW5ndGgpO1xuICAgICAgICAgICAgICAgICAgICBvdXRwdXQgPSBwaWM7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnQ05UJzpcbiAgICAgICAgICAgIGNhc2UgJ1BDTlQnOlxuICAgICAgICAgICAgICAgIG91dHB1dCA9IFRva2VuLlVJTlQzMl9CRS5nZXQodWludDhBcnJheSwgMCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdTWUxUJzoge1xuICAgICAgICAgICAgICAgIGNvbnN0IHN5bHRIZWFkZXIgPSBTeW5jVGV4dEhlYWRlci5nZXQodWludDhBcnJheSwgMCk7XG4gICAgICAgICAgICAgICAgb2Zmc2V0ICs9IFN5bmNUZXh0SGVhZGVyLmxlbjtcbiAgICAgICAgICAgICAgICBjb25zdCByZXN1bHQgPSB7XG4gICAgICAgICAgICAgICAgICAgIGRlc2NyaXB0b3I6ICcnLFxuICAgICAgICAgICAgICAgICAgICBsYW5ndWFnZTogc3lsdEhlYWRlci5sYW5ndWFnZSxcbiAgICAgICAgICAgICAgICAgICAgY29udGVudFR5cGU6IHN5bHRIZWFkZXIuY29udGVudFR5cGUsXG4gICAgICAgICAgICAgICAgICAgIHRpbWVTdGFtcEZvcm1hdDogc3lsdEhlYWRlci50aW1lU3RhbXBGb3JtYXQsXG4gICAgICAgICAgICAgICAgICAgIHN5bmNUZXh0OiBbXVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgbGV0IHJlYWRTeWxsYWJsZXMgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB3aGlsZSAob2Zmc2V0IDwgbGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG51bGxTdHIgPSBGcmFtZVBhcnNlci5yZWFkTnVsbFRlcm1pbmF0ZWRTdHJpbmcodWludDhBcnJheS5zdWJhcnJheShvZmZzZXQpLCBzeWx0SGVhZGVyLmVuY29kaW5nKTtcbiAgICAgICAgICAgICAgICAgICAgb2Zmc2V0ICs9IG51bGxTdHIubGVuO1xuICAgICAgICAgICAgICAgICAgICBpZiAocmVhZFN5bGxhYmxlcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGltZXN0YW1wID0gVG9rZW4uVUlOVDMyX0JFLmdldCh1aW50OEFycmF5LCBvZmZzZXQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgb2Zmc2V0ICs9IFRva2VuLlVJTlQzMl9CRS5sZW47XG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQuc3luY1RleHQucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dDogbnVsbFN0ci50ZXh0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpbWVzdGFtcFxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQuZGVzY3JpcHRvciA9IG51bGxTdHIudGV4dDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlYWRTeWxsYWJsZXMgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIG91dHB1dCA9IHJlc3VsdDtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgJ1VMVCc6XG4gICAgICAgICAgICBjYXNlICdVU0xUJzpcbiAgICAgICAgICAgIGNhc2UgJ0NPTSc6XG4gICAgICAgICAgICBjYXNlICdDT01NJzoge1xuICAgICAgICAgICAgICAgIGNvbnN0IHRleHRIZWFkZXIgPSBUZXh0SGVhZGVyLmdldCh1aW50OEFycmF5LCBvZmZzZXQpO1xuICAgICAgICAgICAgICAgIG9mZnNldCArPSBUZXh0SGVhZGVyLmxlbjtcbiAgICAgICAgICAgICAgICBjb25zdCBkZXNjcmlwdG9yU3RyID0gRnJhbWVQYXJzZXIucmVhZE51bGxUZXJtaW5hdGVkU3RyaW5nKHVpbnQ4QXJyYXkuc3ViYXJyYXkob2Zmc2V0KSwgdGV4dEhlYWRlci5lbmNvZGluZyk7XG4gICAgICAgICAgICAgICAgb2Zmc2V0ICs9IGRlc2NyaXB0b3JTdHIubGVuO1xuICAgICAgICAgICAgICAgIGNvbnN0IHRleHRTdHIgPSBGcmFtZVBhcnNlci5yZWFkTnVsbFRlcm1pbmF0ZWRTdHJpbmcodWludDhBcnJheS5zdWJhcnJheShvZmZzZXQpLCB0ZXh0SGVhZGVyLmVuY29kaW5nKTtcbiAgICAgICAgICAgICAgICBjb25zdCBjb21tZW50ID0ge1xuICAgICAgICAgICAgICAgICAgICBsYW5ndWFnZTogdGV4dEhlYWRlci5sYW5ndWFnZSxcbiAgICAgICAgICAgICAgICAgICAgZGVzY3JpcHRvcjogZGVzY3JpcHRvclN0ci50ZXh0LFxuICAgICAgICAgICAgICAgICAgICB0ZXh0OiB0ZXh0U3RyLnRleHRcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIG91dHB1dCA9IGNvbW1lbnQ7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlICdVRklEJzoge1xuICAgICAgICAgICAgICAgIGNvbnN0IHVmaWQgPSBGcmFtZVBhcnNlci5yZWFkSWRlbnRpZmllckFuZERhdGEodWludDhBcnJheSwgb2Zmc2V0LCBsZW5ndGgsIGRlZmF1bHRFbmMpO1xuICAgICAgICAgICAgICAgIG91dHB1dCA9IHsgb3duZXJfaWRlbnRpZmllcjogdWZpZC5pZCwgaWRlbnRpZmllcjogdWZpZC5kYXRhIH07XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlICdQUklWJzogeyAvLyBwcml2YXRlIGZyYW1lXG4gICAgICAgICAgICAgICAgY29uc3QgcHJpdiA9IEZyYW1lUGFyc2VyLnJlYWRJZGVudGlmaWVyQW5kRGF0YSh1aW50OEFycmF5LCBvZmZzZXQsIGxlbmd0aCwgZGVmYXVsdEVuYyk7XG4gICAgICAgICAgICAgICAgb3V0cHV0ID0geyBvd25lcl9pZGVudGlmaWVyOiBwcml2LmlkLCBkYXRhOiBwcml2LmRhdGEgfTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgJ1BPUE0nOiB7IC8vIFBvcHVsYXJpbWV0ZXJcbiAgICAgICAgICAgICAgICBmemVybyA9IHV0aWwuZmluZFplcm8odWludDhBcnJheSwgb2Zmc2V0LCBsZW5ndGgsIGRlZmF1bHRFbmMpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGVtYWlsID0gdXRpbC5kZWNvZGVTdHJpbmcodWludDhBcnJheS5zbGljZShvZmZzZXQsIGZ6ZXJvKSwgZGVmYXVsdEVuYyk7XG4gICAgICAgICAgICAgICAgb2Zmc2V0ID0gZnplcm8gKyAxO1xuICAgICAgICAgICAgICAgIGNvbnN0IGRhdGFMZW4gPSBsZW5ndGggLSBvZmZzZXQ7XG4gICAgICAgICAgICAgICAgb3V0cHV0ID0ge1xuICAgICAgICAgICAgICAgICAgICBlbWFpbCxcbiAgICAgICAgICAgICAgICAgICAgcmF0aW5nOiBUb2tlbi5VSU5UOC5nZXQodWludDhBcnJheSwgb2Zmc2V0KSxcbiAgICAgICAgICAgICAgICAgICAgY291bnRlcjogZGF0YUxlbiA+PSA1ID8gVG9rZW4uVUlOVDMyX0JFLmdldCh1aW50OEFycmF5LCBvZmZzZXQgKyAxKSA6IHVuZGVmaW5lZFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlICdHRU9CJzogeyAvLyBHZW5lcmFsIGVuY2Fwc3VsYXRlZCBvYmplY3RcbiAgICAgICAgICAgICAgICBmemVybyA9IHV0aWwuZmluZFplcm8odWludDhBcnJheSwgb2Zmc2V0ICsgMSwgbGVuZ3RoLCBlbmNvZGluZyk7XG4gICAgICAgICAgICAgICAgY29uc3QgbWltZVR5cGUgPSB1dGlsLmRlY29kZVN0cmluZyh1aW50OEFycmF5LnNsaWNlKG9mZnNldCArIDEsIGZ6ZXJvKSwgZGVmYXVsdEVuYyk7XG4gICAgICAgICAgICAgICAgb2Zmc2V0ID0gZnplcm8gKyAxO1xuICAgICAgICAgICAgICAgIGZ6ZXJvID0gdXRpbC5maW5kWmVybyh1aW50OEFycmF5LCBvZmZzZXQsIGxlbmd0aCAtIG9mZnNldCwgZW5jb2RpbmcpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGZpbGVuYW1lID0gdXRpbC5kZWNvZGVTdHJpbmcodWludDhBcnJheS5zbGljZShvZmZzZXQsIGZ6ZXJvKSwgZGVmYXVsdEVuYyk7XG4gICAgICAgICAgICAgICAgb2Zmc2V0ID0gZnplcm8gKyAxO1xuICAgICAgICAgICAgICAgIGZ6ZXJvID0gdXRpbC5maW5kWmVybyh1aW50OEFycmF5LCBvZmZzZXQsIGxlbmd0aCAtIG9mZnNldCwgZW5jb2RpbmcpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGRlc2NyaXB0aW9uID0gdXRpbC5kZWNvZGVTdHJpbmcodWludDhBcnJheS5zbGljZShvZmZzZXQsIGZ6ZXJvKSwgZGVmYXVsdEVuYyk7XG4gICAgICAgICAgICAgICAgY29uc3QgZ2VvYiA9IHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogbWltZVR5cGUsXG4gICAgICAgICAgICAgICAgICAgIGZpbGVuYW1lLFxuICAgICAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbixcbiAgICAgICAgICAgICAgICAgICAgZGF0YTogdWludDhBcnJheS5zbGljZShvZmZzZXQgKyAxLCBsZW5ndGgpXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBvdXRwdXQgPSBnZW9iO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gVy1GcmFtZXM6XG4gICAgICAgICAgICBjYXNlICdXQ09NJzpcbiAgICAgICAgICAgIGNhc2UgJ1dDT1AnOlxuICAgICAgICAgICAgY2FzZSAnV09BRic6XG4gICAgICAgICAgICBjYXNlICdXT0FSJzpcbiAgICAgICAgICAgIGNhc2UgJ1dPQVMnOlxuICAgICAgICAgICAgY2FzZSAnV09SUyc6XG4gICAgICAgICAgICBjYXNlICdXUEFZJzpcbiAgICAgICAgICAgIGNhc2UgJ1dQVUInOlxuICAgICAgICAgICAgICAgIC8vIERlY29kZSBVUkxcbiAgICAgICAgICAgICAgICBmemVybyA9IHV0aWwuZmluZFplcm8odWludDhBcnJheSwgb2Zmc2V0ICsgMSwgbGVuZ3RoLCBlbmNvZGluZyk7XG4gICAgICAgICAgICAgICAgb3V0cHV0ID0gdXRpbC5kZWNvZGVTdHJpbmcodWludDhBcnJheS5zbGljZShvZmZzZXQsIGZ6ZXJvKSwgZGVmYXVsdEVuYyk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdXWFhYJzoge1xuICAgICAgICAgICAgICAgIC8vIERlY29kZSBVUkxcbiAgICAgICAgICAgICAgICBmemVybyA9IHV0aWwuZmluZFplcm8odWludDhBcnJheSwgb2Zmc2V0ICsgMSwgbGVuZ3RoLCBlbmNvZGluZyk7XG4gICAgICAgICAgICAgICAgY29uc3QgZGVzY3JpcHRpb24gPSB1dGlsLmRlY29kZVN0cmluZyh1aW50OEFycmF5LnNsaWNlKG9mZnNldCArIDEsIGZ6ZXJvKSwgZW5jb2RpbmcpO1xuICAgICAgICAgICAgICAgIG9mZnNldCA9IGZ6ZXJvICsgKGVuY29kaW5nID09PSAndXRmLTE2bGUnID8gMiA6IDEpO1xuICAgICAgICAgICAgICAgIG91dHB1dCA9IHsgZGVzY3JpcHRpb24sIHVybDogdXRpbC5kZWNvZGVTdHJpbmcodWludDhBcnJheS5zbGljZShvZmZzZXQsIGxlbmd0aCksIGRlZmF1bHRFbmMpIH07XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlICdXRkQnOlxuICAgICAgICAgICAgY2FzZSAnV0ZFRCc6XG4gICAgICAgICAgICAgICAgb3V0cHV0ID0gdXRpbC5kZWNvZGVTdHJpbmcodWludDhBcnJheS5zbGljZShvZmZzZXQgKyAxLCB1dGlsLmZpbmRaZXJvKHVpbnQ4QXJyYXksIG9mZnNldCArIDEsIGxlbmd0aCwgZW5jb2RpbmcpKSwgZW5jb2RpbmcpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnTUNESSc6IHtcbiAgICAgICAgICAgICAgICAvLyBNdXNpYyBDRCBpZGVudGlmaWVyXG4gICAgICAgICAgICAgICAgb3V0cHV0ID0gdWludDhBcnJheS5zbGljZSgwLCBsZW5ndGgpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICBkZWJ1ZyhgV2FybmluZzogdW5zdXBwb3J0ZWQgaWQzdjItdGFnLXR5cGU6ICR7dHlwZX1gKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gb3V0cHV0O1xuICAgIH1cbiAgICBzdGF0aWMgcmVhZE51bGxUZXJtaW5hdGVkU3RyaW5nKHVpbnQ4QXJyYXksIGVuY29kaW5nKSB7XG4gICAgICAgIGxldCBvZmZzZXQgPSBlbmNvZGluZy5ib20gPyAyIDogMDtcbiAgICAgICAgY29uc3QgemVyb0luZGV4ID0gdXRpbC5maW5kWmVybyh1aW50OEFycmF5LCBvZmZzZXQsIHVpbnQ4QXJyYXkubGVuZ3RoLCBlbmNvZGluZy5lbmNvZGluZyk7XG4gICAgICAgIGNvbnN0IHR4dCA9IHVpbnQ4QXJyYXkuc2xpY2Uob2Zmc2V0LCB6ZXJvSW5kZXgpO1xuICAgICAgICBpZiAoZW5jb2RpbmcuZW5jb2RpbmcgPT09ICd1dGYtMTZsZScpIHtcbiAgICAgICAgICAgIG9mZnNldCA9IHplcm9JbmRleCArIDI7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBvZmZzZXQgPSB6ZXJvSW5kZXggKyAxO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB0ZXh0OiB1dGlsLmRlY29kZVN0cmluZyh0eHQsIGVuY29kaW5nLmVuY29kaW5nKSxcbiAgICAgICAgICAgIGxlbjogb2Zmc2V0XG4gICAgICAgIH07XG4gICAgfVxuICAgIHN0YXRpYyBmaXhQaWN0dXJlTWltZVR5cGUocGljdHVyZVR5cGUpIHtcbiAgICAgICAgcGljdHVyZVR5cGUgPSBwaWN0dXJlVHlwZS50b0xvY2FsZUxvd2VyQ2FzZSgpO1xuICAgICAgICBzd2l0Y2ggKHBpY3R1cmVUeXBlKSB7XG4gICAgICAgICAgICBjYXNlICdqcGcnOlxuICAgICAgICAgICAgICAgIHJldHVybiAnaW1hZ2UvanBlZyc7XG4gICAgICAgICAgICBjYXNlICdwbmcnOlxuICAgICAgICAgICAgICAgIHJldHVybiAnaW1hZ2UvcG5nJztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcGljdHVyZVR5cGU7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIFRNQ0wgKE11c2ljaWFuIGNyZWRpdHMgbGlzdCkgb3IgVElQTCAoSW52b2x2ZWQgcGVvcGxlIGxpc3QpXG4gICAgICogQHBhcmFtIGVudHJpZXNcbiAgICAgKi9cbiAgICBzdGF0aWMgZnVuY3Rpb25MaXN0KGVudHJpZXMpIHtcbiAgICAgICAgY29uc3QgcmVzID0ge307XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpICsgMSA8IGVudHJpZXMubGVuZ3RoOyBpICs9IDIpIHtcbiAgICAgICAgICAgIGNvbnN0IG5hbWVzID0gZW50cmllc1tpICsgMV0uc3BsaXQoJywnKTtcbiAgICAgICAgICAgIHJlc1tlbnRyaWVzW2ldXSA9IHJlc1tlbnRyaWVzW2ldXSA/IHJlc1tlbnRyaWVzW2ldXS5jb25jYXQobmFtZXMpIDogbmFtZXM7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogaWQzdjIuNCBkZWZpbmVzIHRoYXQgbXVsdGlwbGUgVCogdmFsdWVzIGFyZSBzZXBhcmF0ZWQgYnkgMHgwMFxuICAgICAqIGlkM3YyLjMgZGVmaW5lcyB0aGF0IFRDT00sIFRFWFQsIFRPTFksIFRPUEUgJiBUUEUxIHZhbHVlcyBhcmUgc2VwYXJhdGVkIGJ5IC9cbiAgICAgKiBAcGFyYW0gdGFnIC0gVGFnIG5hbWVcbiAgICAgKiBAcGFyYW0gdGV4dCAtIENvbmNhdGVuYXRlZCB0YWcgdmFsdWVcbiAgICAgKiBAcmV0dXJucyBTcGxpdCB0YWcgdmFsdWVcbiAgICAgKi9cbiAgICBzcGxpdFZhbHVlKHRhZywgdGV4dCkge1xuICAgICAgICBsZXQgdmFsdWVzO1xuICAgICAgICBpZiAodGhpcy5tYWpvciA8IDQpIHtcbiAgICAgICAgICAgIHZhbHVlcyA9IHRleHQuc3BsaXQoL1xceDAwL2cpO1xuICAgICAgICAgICAgaWYgKHZhbHVlcy5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgICAgICAgdGhpcy53YXJuaW5nQ29sbGVjdG9yLmFkZFdhcm5pbmcoYElEM3YyLiR7dGhpcy5tYWpvcn0gJHt0YWd9IHVzZXMgbm9uIHN0YW5kYXJkIG51bGwtc2VwYXJhdG9yLmApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdmFsdWVzID0gdGV4dC5zcGxpdCgvXFwvL2cpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdmFsdWVzID0gdGV4dC5zcGxpdCgvXFx4MDAvZyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIEZyYW1lUGFyc2VyLnRyaW1BcnJheSh2YWx1ZXMpO1xuICAgIH1cbiAgICBzdGF0aWMgdHJpbUFycmF5KHZhbHVlcykge1xuICAgICAgICByZXR1cm4gdmFsdWVzLm1hcCh2YWx1ZSA9PiB2YWx1ZS5yZXBsYWNlKC9cXHgwMCskLywgJycpLnRyaW0oKSk7XG4gICAgfVxuICAgIHN0YXRpYyByZWFkSWRlbnRpZmllckFuZERhdGEodWludDhBcnJheSwgb2Zmc2V0LCBsZW5ndGgsIGVuY29kaW5nKSB7XG4gICAgICAgIGNvbnN0IGZ6ZXJvID0gdXRpbC5maW5kWmVybyh1aW50OEFycmF5LCBvZmZzZXQsIGxlbmd0aCwgZW5jb2RpbmcpO1xuICAgICAgICBjb25zdCBpZCA9IHV0aWwuZGVjb2RlU3RyaW5nKHVpbnQ4QXJyYXkuc2xpY2Uob2Zmc2V0LCBmemVybyksIGVuY29kaW5nKTtcbiAgICAgICAgb2Zmc2V0ID0gZnplcm8gKyBGcmFtZVBhcnNlci5nZXROdWxsVGVybWluYXRvckxlbmd0aChlbmNvZGluZyk7XG4gICAgICAgIHJldHVybiB7IGlkLCBkYXRhOiB1aW50OEFycmF5LnNsaWNlKG9mZnNldCwgbGVuZ3RoKSB9O1xuICAgIH1cbiAgICBzdGF0aWMgZ2V0TnVsbFRlcm1pbmF0b3JMZW5ndGgoZW5jKSB7XG4gICAgICAgIHJldHVybiBlbmMgPT09ICd1dGYtMTZsZScgPyAyIDogMTtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1GcmFtZVBhcnNlci5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/music-metadata/lib/id3v2/FrameParser.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/music-metadata/lib/id3v2/ID3v22TagMapper.js":
/*!******************************************************************!*\
  !*** ./node_modules/music-metadata/lib/id3v2/ID3v22TagMapper.js ***!
  \******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ID3v22TagMapper: () => (/* binding */ ID3v22TagMapper),\n/* harmony export */   id3v22TagMap: () => (/* binding */ id3v22TagMap)\n/* harmony export */ });\n/* harmony import */ var _common_CaseInsensitiveTagMap_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../common/CaseInsensitiveTagMap.js */ \"(ssr)/./node_modules/music-metadata/lib/common/CaseInsensitiveTagMap.js\");\n\n/**\n * ID3v2.2 tag mappings\n */\nconst id3v22TagMap = {\n    TT2: 'title',\n    TP1: 'artist',\n    TP2: 'albumartist',\n    TAL: 'album',\n    TYE: 'year',\n    COM: 'comment',\n    TRK: 'track',\n    TPA: 'disk',\n    TCO: 'genre',\n    PIC: 'picture',\n    TCM: 'composer',\n    TOR: 'originaldate',\n    TOT: 'originalalbum',\n    TXT: 'lyricist',\n    TP3: 'conductor',\n    TPB: 'label',\n    TT1: 'grouping',\n    TT3: 'subtitle',\n    TLA: 'language',\n    TCR: 'copyright',\n    WCP: 'license',\n    TEN: 'encodedby',\n    TSS: 'encodersettings',\n    WAR: 'website',\n    PCS: 'podcast',\n    TCP: \"compilation\",\n    TDR: 'date',\n    TS2: 'albumartistsort',\n    TSA: 'albumsort',\n    TSC: 'composersort',\n    TSP: 'artistsort',\n    TST: 'titlesort',\n    WFD: 'podcasturl',\n    TBP: 'bpm'\n};\nclass ID3v22TagMapper extends _common_CaseInsensitiveTagMap_js__WEBPACK_IMPORTED_MODULE_0__.CaseInsensitiveTagMap {\n    constructor() {\n        super(['ID3v2.2'], id3v22TagMap);\n    }\n}\n//# sourceMappingURL=ID3v22TagMapper.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbXVzaWMtbWV0YWRhdGEvbGliL2lkM3YyL0lEM3YyMlRhZ01hcHBlci5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBMkU7QUFDM0U7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ08sOEJBQThCLG1GQUFxQjtBQUMxRDtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZGV2ZWxldmF0ZS8uL25vZGVfbW9kdWxlcy9tdXNpYy1tZXRhZGF0YS9saWIvaWQzdjIvSUQzdjIyVGFnTWFwcGVyLmpzP2Q3NDMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQ2FzZUluc2Vuc2l0aXZlVGFnTWFwIH0gZnJvbSAnLi4vY29tbW9uL0Nhc2VJbnNlbnNpdGl2ZVRhZ01hcC5qcyc7XG4vKipcbiAqIElEM3YyLjIgdGFnIG1hcHBpbmdzXG4gKi9cbmV4cG9ydCBjb25zdCBpZDN2MjJUYWdNYXAgPSB7XG4gICAgVFQyOiAndGl0bGUnLFxuICAgIFRQMTogJ2FydGlzdCcsXG4gICAgVFAyOiAnYWxidW1hcnRpc3QnLFxuICAgIFRBTDogJ2FsYnVtJyxcbiAgICBUWUU6ICd5ZWFyJyxcbiAgICBDT006ICdjb21tZW50JyxcbiAgICBUUks6ICd0cmFjaycsXG4gICAgVFBBOiAnZGlzaycsXG4gICAgVENPOiAnZ2VucmUnLFxuICAgIFBJQzogJ3BpY3R1cmUnLFxuICAgIFRDTTogJ2NvbXBvc2VyJyxcbiAgICBUT1I6ICdvcmlnaW5hbGRhdGUnLFxuICAgIFRPVDogJ29yaWdpbmFsYWxidW0nLFxuICAgIFRYVDogJ2x5cmljaXN0JyxcbiAgICBUUDM6ICdjb25kdWN0b3InLFxuICAgIFRQQjogJ2xhYmVsJyxcbiAgICBUVDE6ICdncm91cGluZycsXG4gICAgVFQzOiAnc3VidGl0bGUnLFxuICAgIFRMQTogJ2xhbmd1YWdlJyxcbiAgICBUQ1I6ICdjb3B5cmlnaHQnLFxuICAgIFdDUDogJ2xpY2Vuc2UnLFxuICAgIFRFTjogJ2VuY29kZWRieScsXG4gICAgVFNTOiAnZW5jb2RlcnNldHRpbmdzJyxcbiAgICBXQVI6ICd3ZWJzaXRlJyxcbiAgICBQQ1M6ICdwb2RjYXN0JyxcbiAgICBUQ1A6IFwiY29tcGlsYXRpb25cIixcbiAgICBURFI6ICdkYXRlJyxcbiAgICBUUzI6ICdhbGJ1bWFydGlzdHNvcnQnLFxuICAgIFRTQTogJ2FsYnVtc29ydCcsXG4gICAgVFNDOiAnY29tcG9zZXJzb3J0JyxcbiAgICBUU1A6ICdhcnRpc3Rzb3J0JyxcbiAgICBUU1Q6ICd0aXRsZXNvcnQnLFxuICAgIFdGRDogJ3BvZGNhc3R1cmwnLFxuICAgIFRCUDogJ2JwbSdcbn07XG5leHBvcnQgY2xhc3MgSUQzdjIyVGFnTWFwcGVyIGV4dGVuZHMgQ2FzZUluc2Vuc2l0aXZlVGFnTWFwIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoWydJRDN2Mi4yJ10sIGlkM3YyMlRhZ01hcCk7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9SUQzdjIyVGFnTWFwcGVyLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/music-metadata/lib/id3v2/ID3v22TagMapper.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/music-metadata/lib/id3v2/ID3v24TagMapper.js":
/*!******************************************************************!*\
  !*** ./node_modules/music-metadata/lib/id3v2/ID3v24TagMapper.js ***!
  \******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ID3v24TagMapper: () => (/* binding */ ID3v24TagMapper)\n/* harmony export */ });\n/* harmony import */ var token_types__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! token-types */ \"(ssr)/./node_modules/token-types/lib/index.js\");\n/* harmony import */ var _common_GenericTagMapper_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../common/GenericTagMapper.js */ \"(ssr)/./node_modules/music-metadata/lib/common/GenericTagMapper.js\");\n/* harmony import */ var _common_CaseInsensitiveTagMap_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../common/CaseInsensitiveTagMap.js */ \"(ssr)/./node_modules/music-metadata/lib/common/CaseInsensitiveTagMap.js\");\n/* harmony import */ var _common_Util_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../common/Util.js */ \"(ssr)/./node_modules/music-metadata/lib/common/Util.js\");\n\n\n\n\n/**\n * ID3v2.3/ID3v2.4 tag mappings\n */\nconst id3v24TagMap = {\n    // id3v2.3\n    TIT2: 'title',\n    TPE1: 'artist',\n    'TXXX:Artists': 'artists',\n    TPE2: 'albumartist',\n    TALB: 'album',\n    TDRV: 'date', // [ 'date', 'year' ] ToDo: improve 'year' mapping\n    /**\n     * Original release year\n     */\n    TORY: 'originalyear',\n    TPOS: 'disk',\n    TCON: 'genre',\n    APIC: 'picture',\n    TCOM: 'composer',\n    USLT: 'lyrics',\n    TSOA: 'albumsort',\n    TSOT: 'titlesort',\n    TOAL: 'originalalbum',\n    TSOP: 'artistsort',\n    TSO2: 'albumartistsort',\n    TSOC: 'composersort',\n    TEXT: 'lyricist',\n    'TXXX:Writer': 'writer',\n    TPE3: 'conductor',\n    // 'IPLS:instrument': 'performer:instrument', // ToDo\n    TPE4: 'remixer',\n    'IPLS:arranger': 'arranger',\n    'IPLS:engineer': 'engineer',\n    'IPLS:producer': 'producer',\n    'IPLS:DJ-mix': 'djmixer',\n    'IPLS:mix': 'mixer',\n    TPUB: 'label',\n    TIT1: 'grouping',\n    TIT3: 'subtitle',\n    TRCK: 'track',\n    TCMP: 'compilation',\n    POPM: 'rating',\n    TBPM: 'bpm',\n    TMED: 'media',\n    'TXXX:CATALOGNUMBER': 'catalognumber',\n    'TXXX:MusicBrainz Album Status': 'releasestatus',\n    'TXXX:MusicBrainz Album Type': 'releasetype',\n    /**\n     * Release country as documented: https://picard.musicbrainz.org/docs/mappings/#cite_note-0\n     */\n    'TXXX:MusicBrainz Album Release Country': 'releasecountry',\n    /**\n     * Release country as implemented // ToDo: report\n     */\n    'TXXX:RELEASECOUNTRY': 'releasecountry',\n    'TXXX:SCRIPT': 'script',\n    TLAN: 'language',\n    TCOP: 'copyright',\n    WCOP: 'license',\n    TENC: 'encodedby',\n    TSSE: 'encodersettings',\n    'TXXX:BARCODE': 'barcode',\n    'TXXX:ISRC': 'isrc',\n    TSRC: 'isrc',\n    'TXXX:ASIN': 'asin',\n    'TXXX:originalyear': 'originalyear',\n    'UFID:http://musicbrainz.org': 'musicbrainz_recordingid',\n    'TXXX:MusicBrainz Release Track Id': 'musicbrainz_trackid',\n    'TXXX:MusicBrainz Album Id': 'musicbrainz_albumid',\n    'TXXX:MusicBrainz Artist Id': 'musicbrainz_artistid',\n    'TXXX:MusicBrainz Album Artist Id': 'musicbrainz_albumartistid',\n    'TXXX:MusicBrainz Release Group Id': 'musicbrainz_releasegroupid',\n    'TXXX:MusicBrainz Work Id': 'musicbrainz_workid',\n    'TXXX:MusicBrainz TRM Id': 'musicbrainz_trmid',\n    'TXXX:MusicBrainz Disc Id': 'musicbrainz_discid',\n    'TXXX:ACOUSTID_ID': 'acoustid_id',\n    'TXXX:Acoustid Id': 'acoustid_id',\n    'TXXX:Acoustid Fingerprint': 'acoustid_fingerprint',\n    'TXXX:MusicIP PUID': 'musicip_puid',\n    'TXXX:MusicMagic Fingerprint': 'musicip_fingerprint',\n    WOAR: 'website',\n    // id3v2.4\n    // ToDo: In same sequence as defined at http://id3.org/id3v2.4.0-frames\n    TDRC: 'date', // date YYYY-MM-DD\n    TYER: 'year',\n    TDOR: 'originaldate',\n    // 'TMCL:instrument': 'performer:instrument',\n    'TIPL:arranger': 'arranger',\n    'TIPL:engineer': 'engineer',\n    'TIPL:producer': 'producer',\n    'TIPL:DJ-mix': 'djmixer',\n    'TIPL:mix': 'mixer',\n    TMOO: 'mood',\n    // additional mappings:\n    SYLT: 'lyrics',\n    TSST: 'discsubtitle',\n    TKEY: 'key',\n    COMM: 'comment',\n    TOPE: 'originalartist',\n    // Windows Media Player\n    'PRIV:AverageLevel': 'averageLevel',\n    'PRIV:PeakLevel': 'peakLevel',\n    // Discogs\n    'TXXX:DISCOGS_ARTIST_ID': 'discogs_artist_id',\n    'TXXX:DISCOGS_ARTISTS': 'artists',\n    'TXXX:DISCOGS_ARTIST_NAME': 'artists',\n    'TXXX:DISCOGS_ALBUM_ARTISTS': 'albumartist',\n    'TXXX:DISCOGS_CATALOG': 'catalognumber',\n    'TXXX:DISCOGS_COUNTRY': 'releasecountry',\n    'TXXX:DISCOGS_DATE': 'originaldate',\n    'TXXX:DISCOGS_LABEL': 'label',\n    'TXXX:DISCOGS_LABEL_ID': 'discogs_label_id',\n    'TXXX:DISCOGS_MASTER_RELEASE_ID': 'discogs_master_release_id',\n    'TXXX:DISCOGS_RATING': 'discogs_rating',\n    'TXXX:DISCOGS_RELEASED': 'date',\n    'TXXX:DISCOGS_RELEASE_ID': 'discogs_release_id',\n    'TXXX:DISCOGS_VOTES': 'discogs_votes',\n    'TXXX:CATALOGID': 'catalognumber',\n    'TXXX:STYLE': 'genre',\n    'TXXX:REPLAYGAIN_TRACK_PEAK': 'replaygain_track_peak',\n    'TXXX:REPLAYGAIN_TRACK_GAIN': 'replaygain_track_gain',\n    'TXXX:REPLAYGAIN_ALBUM_PEAK': 'replaygain_album_peak',\n    'TXXX:REPLAYGAIN_ALBUM_GAIN': 'replaygain_album_gain',\n    'TXXX:MP3GAIN_MINMAX': 'replaygain_track_minmax',\n    'TXXX:MP3GAIN_ALBUM_MINMAX': 'replaygain_album_minmax',\n    'TXXX:MP3GAIN_UNDO': 'replaygain_undo',\n    MVNM: 'movement',\n    MVIN: 'movementIndex',\n    PCST: 'podcast',\n    TCAT: 'category',\n    TDES: 'description',\n    TDRL: 'releasedate',\n    TGID: 'podcastId',\n    TKWD: 'keywords',\n    WFED: 'podcasturl',\n    GRP1: 'grouping'\n};\nclass ID3v24TagMapper extends _common_CaseInsensitiveTagMap_js__WEBPACK_IMPORTED_MODULE_2__.CaseInsensitiveTagMap {\n    static toRating(popm) {\n        return {\n            source: popm.email,\n            rating: popm.rating > 0 ? (popm.rating - 1) / 254 * _common_GenericTagMapper_js__WEBPACK_IMPORTED_MODULE_1__.CommonTagMapper.maxRatingScore : undefined\n        };\n    }\n    constructor() {\n        super(['ID3v2.3', 'ID3v2.4'], id3v24TagMap);\n    }\n    /**\n     * Handle post mapping exceptions / correction\n     * @param tag to post map\n     * @param warnings Wil be used to register (collect) warnings\n     */\n    postMap(tag, warnings) {\n        switch (tag.id) {\n            case 'UFID':\n                {\n                    // decode MusicBrainz Recording Id\n                    const idTag = tag.value;\n                    if (idTag.owner_identifier === 'http://musicbrainz.org') {\n                        tag.id += `:${idTag.owner_identifier}`;\n                        tag.value = (0,_common_Util_js__WEBPACK_IMPORTED_MODULE_3__.decodeString)(idTag.identifier, 'latin1'); // latin1 == iso-8859-1\n                    }\n                }\n                break;\n            case 'PRIV':\n                {\n                    const customTag = tag.value;\n                    switch (customTag.owner_identifier) {\n                        // decode Windows Media Player\n                        case 'AverageLevel':\n                        case 'PeakValue':\n                            tag.id += `:${customTag.owner_identifier}`;\n                            tag.value = customTag.data.length === 4 ? token_types__WEBPACK_IMPORTED_MODULE_0__.UINT32_LE.get(customTag.data, 0) : null;\n                            if (tag.value === null) {\n                                warnings.addWarning('Failed to parse PRIV:PeakValue');\n                            }\n                            break;\n                        default:\n                            warnings.addWarning(`Unknown PRIV owner-identifier: ${customTag.data}`);\n                    }\n                }\n                break;\n            case 'POPM':\n                tag.value = ID3v24TagMapper.toRating(tag.value);\n                break;\n            default:\n                break;\n        }\n    }\n}\n//# sourceMappingURL=ID3v24TagMapper.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbXVzaWMtbWV0YWRhdGEvbGliL2lkM3YyL0lEM3YyNFRhZ01hcHBlci5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUF3QztBQUN3QjtBQUNXO0FBQzFCO0FBQ2pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTyw4QkFBOEIsbUZBQXFCO0FBQzFEO0FBQ0E7QUFDQTtBQUNBLGdFQUFnRSx3RUFBZTtBQUMvRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0NBQXNDLHVCQUF1QjtBQUM3RCxvQ0FBb0MsNkRBQVksOEJBQThCO0FBQzlFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMENBQTBDLDJCQUEyQjtBQUNyRSxzRUFBc0Usa0RBQVM7QUFDL0U7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtGQUFrRixlQUFlO0FBQ2pHO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2RldmVsZXZhdGUvLi9ub2RlX21vZHVsZXMvbXVzaWMtbWV0YWRhdGEvbGliL2lkM3YyL0lEM3YyNFRhZ01hcHBlci5qcz83ZjFlIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFVJTlQzMl9MRSB9IGZyb20gJ3Rva2VuLXR5cGVzJztcbmltcG9ydCB7IENvbW1vblRhZ01hcHBlciB9IGZyb20gJy4uL2NvbW1vbi9HZW5lcmljVGFnTWFwcGVyLmpzJztcbmltcG9ydCB7IENhc2VJbnNlbnNpdGl2ZVRhZ01hcCB9IGZyb20gJy4uL2NvbW1vbi9DYXNlSW5zZW5zaXRpdmVUYWdNYXAuanMnO1xuaW1wb3J0IHsgZGVjb2RlU3RyaW5nIH0gZnJvbSAnLi4vY29tbW9uL1V0aWwuanMnO1xuLyoqXG4gKiBJRDN2Mi4zL0lEM3YyLjQgdGFnIG1hcHBpbmdzXG4gKi9cbmNvbnN0IGlkM3YyNFRhZ01hcCA9IHtcbiAgICAvLyBpZDN2Mi4zXG4gICAgVElUMjogJ3RpdGxlJyxcbiAgICBUUEUxOiAnYXJ0aXN0JyxcbiAgICAnVFhYWDpBcnRpc3RzJzogJ2FydGlzdHMnLFxuICAgIFRQRTI6ICdhbGJ1bWFydGlzdCcsXG4gICAgVEFMQjogJ2FsYnVtJyxcbiAgICBURFJWOiAnZGF0ZScsIC8vIFsgJ2RhdGUnLCAneWVhcicgXSBUb0RvOiBpbXByb3ZlICd5ZWFyJyBtYXBwaW5nXG4gICAgLyoqXG4gICAgICogT3JpZ2luYWwgcmVsZWFzZSB5ZWFyXG4gICAgICovXG4gICAgVE9SWTogJ29yaWdpbmFseWVhcicsXG4gICAgVFBPUzogJ2Rpc2snLFxuICAgIFRDT046ICdnZW5yZScsXG4gICAgQVBJQzogJ3BpY3R1cmUnLFxuICAgIFRDT006ICdjb21wb3NlcicsXG4gICAgVVNMVDogJ2x5cmljcycsXG4gICAgVFNPQTogJ2FsYnVtc29ydCcsXG4gICAgVFNPVDogJ3RpdGxlc29ydCcsXG4gICAgVE9BTDogJ29yaWdpbmFsYWxidW0nLFxuICAgIFRTT1A6ICdhcnRpc3Rzb3J0JyxcbiAgICBUU08yOiAnYWxidW1hcnRpc3Rzb3J0JyxcbiAgICBUU09DOiAnY29tcG9zZXJzb3J0JyxcbiAgICBURVhUOiAnbHlyaWNpc3QnLFxuICAgICdUWFhYOldyaXRlcic6ICd3cml0ZXInLFxuICAgIFRQRTM6ICdjb25kdWN0b3InLFxuICAgIC8vICdJUExTOmluc3RydW1lbnQnOiAncGVyZm9ybWVyOmluc3RydW1lbnQnLCAvLyBUb0RvXG4gICAgVFBFNDogJ3JlbWl4ZXInLFxuICAgICdJUExTOmFycmFuZ2VyJzogJ2FycmFuZ2VyJyxcbiAgICAnSVBMUzplbmdpbmVlcic6ICdlbmdpbmVlcicsXG4gICAgJ0lQTFM6cHJvZHVjZXInOiAncHJvZHVjZXInLFxuICAgICdJUExTOkRKLW1peCc6ICdkam1peGVyJyxcbiAgICAnSVBMUzptaXgnOiAnbWl4ZXInLFxuICAgIFRQVUI6ICdsYWJlbCcsXG4gICAgVElUMTogJ2dyb3VwaW5nJyxcbiAgICBUSVQzOiAnc3VidGl0bGUnLFxuICAgIFRSQ0s6ICd0cmFjaycsXG4gICAgVENNUDogJ2NvbXBpbGF0aW9uJyxcbiAgICBQT1BNOiAncmF0aW5nJyxcbiAgICBUQlBNOiAnYnBtJyxcbiAgICBUTUVEOiAnbWVkaWEnLFxuICAgICdUWFhYOkNBVEFMT0dOVU1CRVInOiAnY2F0YWxvZ251bWJlcicsXG4gICAgJ1RYWFg6TXVzaWNCcmFpbnogQWxidW0gU3RhdHVzJzogJ3JlbGVhc2VzdGF0dXMnLFxuICAgICdUWFhYOk11c2ljQnJhaW56IEFsYnVtIFR5cGUnOiAncmVsZWFzZXR5cGUnLFxuICAgIC8qKlxuICAgICAqIFJlbGVhc2UgY291bnRyeSBhcyBkb2N1bWVudGVkOiBodHRwczovL3BpY2FyZC5tdXNpY2JyYWluei5vcmcvZG9jcy9tYXBwaW5ncy8jY2l0ZV9ub3RlLTBcbiAgICAgKi9cbiAgICAnVFhYWDpNdXNpY0JyYWlueiBBbGJ1bSBSZWxlYXNlIENvdW50cnknOiAncmVsZWFzZWNvdW50cnknLFxuICAgIC8qKlxuICAgICAqIFJlbGVhc2UgY291bnRyeSBhcyBpbXBsZW1lbnRlZCAvLyBUb0RvOiByZXBvcnRcbiAgICAgKi9cbiAgICAnVFhYWDpSRUxFQVNFQ09VTlRSWSc6ICdyZWxlYXNlY291bnRyeScsXG4gICAgJ1RYWFg6U0NSSVBUJzogJ3NjcmlwdCcsXG4gICAgVExBTjogJ2xhbmd1YWdlJyxcbiAgICBUQ09QOiAnY29weXJpZ2h0JyxcbiAgICBXQ09QOiAnbGljZW5zZScsXG4gICAgVEVOQzogJ2VuY29kZWRieScsXG4gICAgVFNTRTogJ2VuY29kZXJzZXR0aW5ncycsXG4gICAgJ1RYWFg6QkFSQ09ERSc6ICdiYXJjb2RlJyxcbiAgICAnVFhYWDpJU1JDJzogJ2lzcmMnLFxuICAgIFRTUkM6ICdpc3JjJyxcbiAgICAnVFhYWDpBU0lOJzogJ2FzaW4nLFxuICAgICdUWFhYOm9yaWdpbmFseWVhcic6ICdvcmlnaW5hbHllYXInLFxuICAgICdVRklEOmh0dHA6Ly9tdXNpY2JyYWluei5vcmcnOiAnbXVzaWNicmFpbnpfcmVjb3JkaW5naWQnLFxuICAgICdUWFhYOk11c2ljQnJhaW56IFJlbGVhc2UgVHJhY2sgSWQnOiAnbXVzaWNicmFpbnpfdHJhY2tpZCcsXG4gICAgJ1RYWFg6TXVzaWNCcmFpbnogQWxidW0gSWQnOiAnbXVzaWNicmFpbnpfYWxidW1pZCcsXG4gICAgJ1RYWFg6TXVzaWNCcmFpbnogQXJ0aXN0IElkJzogJ211c2ljYnJhaW56X2FydGlzdGlkJyxcbiAgICAnVFhYWDpNdXNpY0JyYWlueiBBbGJ1bSBBcnRpc3QgSWQnOiAnbXVzaWNicmFpbnpfYWxidW1hcnRpc3RpZCcsXG4gICAgJ1RYWFg6TXVzaWNCcmFpbnogUmVsZWFzZSBHcm91cCBJZCc6ICdtdXNpY2JyYWluel9yZWxlYXNlZ3JvdXBpZCcsXG4gICAgJ1RYWFg6TXVzaWNCcmFpbnogV29yayBJZCc6ICdtdXNpY2JyYWluel93b3JraWQnLFxuICAgICdUWFhYOk11c2ljQnJhaW56IFRSTSBJZCc6ICdtdXNpY2JyYWluel90cm1pZCcsXG4gICAgJ1RYWFg6TXVzaWNCcmFpbnogRGlzYyBJZCc6ICdtdXNpY2JyYWluel9kaXNjaWQnLFxuICAgICdUWFhYOkFDT1VTVElEX0lEJzogJ2Fjb3VzdGlkX2lkJyxcbiAgICAnVFhYWDpBY291c3RpZCBJZCc6ICdhY291c3RpZF9pZCcsXG4gICAgJ1RYWFg6QWNvdXN0aWQgRmluZ2VycHJpbnQnOiAnYWNvdXN0aWRfZmluZ2VycHJpbnQnLFxuICAgICdUWFhYOk11c2ljSVAgUFVJRCc6ICdtdXNpY2lwX3B1aWQnLFxuICAgICdUWFhYOk11c2ljTWFnaWMgRmluZ2VycHJpbnQnOiAnbXVzaWNpcF9maW5nZXJwcmludCcsXG4gICAgV09BUjogJ3dlYnNpdGUnLFxuICAgIC8vIGlkM3YyLjRcbiAgICAvLyBUb0RvOiBJbiBzYW1lIHNlcXVlbmNlIGFzIGRlZmluZWQgYXQgaHR0cDovL2lkMy5vcmcvaWQzdjIuNC4wLWZyYW1lc1xuICAgIFREUkM6ICdkYXRlJywgLy8gZGF0ZSBZWVlZLU1NLUREXG4gICAgVFlFUjogJ3llYXInLFxuICAgIFRET1I6ICdvcmlnaW5hbGRhdGUnLFxuICAgIC8vICdUTUNMOmluc3RydW1lbnQnOiAncGVyZm9ybWVyOmluc3RydW1lbnQnLFxuICAgICdUSVBMOmFycmFuZ2VyJzogJ2FycmFuZ2VyJyxcbiAgICAnVElQTDplbmdpbmVlcic6ICdlbmdpbmVlcicsXG4gICAgJ1RJUEw6cHJvZHVjZXInOiAncHJvZHVjZXInLFxuICAgICdUSVBMOkRKLW1peCc6ICdkam1peGVyJyxcbiAgICAnVElQTDptaXgnOiAnbWl4ZXInLFxuICAgIFRNT086ICdtb29kJyxcbiAgICAvLyBhZGRpdGlvbmFsIG1hcHBpbmdzOlxuICAgIFNZTFQ6ICdseXJpY3MnLFxuICAgIFRTU1Q6ICdkaXNjc3VidGl0bGUnLFxuICAgIFRLRVk6ICdrZXknLFxuICAgIENPTU06ICdjb21tZW50JyxcbiAgICBUT1BFOiAnb3JpZ2luYWxhcnRpc3QnLFxuICAgIC8vIFdpbmRvd3MgTWVkaWEgUGxheWVyXG4gICAgJ1BSSVY6QXZlcmFnZUxldmVsJzogJ2F2ZXJhZ2VMZXZlbCcsXG4gICAgJ1BSSVY6UGVha0xldmVsJzogJ3BlYWtMZXZlbCcsXG4gICAgLy8gRGlzY29nc1xuICAgICdUWFhYOkRJU0NPR1NfQVJUSVNUX0lEJzogJ2Rpc2NvZ3NfYXJ0aXN0X2lkJyxcbiAgICAnVFhYWDpESVNDT0dTX0FSVElTVFMnOiAnYXJ0aXN0cycsXG4gICAgJ1RYWFg6RElTQ09HU19BUlRJU1RfTkFNRSc6ICdhcnRpc3RzJyxcbiAgICAnVFhYWDpESVNDT0dTX0FMQlVNX0FSVElTVFMnOiAnYWxidW1hcnRpc3QnLFxuICAgICdUWFhYOkRJU0NPR1NfQ0FUQUxPRyc6ICdjYXRhbG9nbnVtYmVyJyxcbiAgICAnVFhYWDpESVNDT0dTX0NPVU5UUlknOiAncmVsZWFzZWNvdW50cnknLFxuICAgICdUWFhYOkRJU0NPR1NfREFURSc6ICdvcmlnaW5hbGRhdGUnLFxuICAgICdUWFhYOkRJU0NPR1NfTEFCRUwnOiAnbGFiZWwnLFxuICAgICdUWFhYOkRJU0NPR1NfTEFCRUxfSUQnOiAnZGlzY29nc19sYWJlbF9pZCcsXG4gICAgJ1RYWFg6RElTQ09HU19NQVNURVJfUkVMRUFTRV9JRCc6ICdkaXNjb2dzX21hc3Rlcl9yZWxlYXNlX2lkJyxcbiAgICAnVFhYWDpESVNDT0dTX1JBVElORyc6ICdkaXNjb2dzX3JhdGluZycsXG4gICAgJ1RYWFg6RElTQ09HU19SRUxFQVNFRCc6ICdkYXRlJyxcbiAgICAnVFhYWDpESVNDT0dTX1JFTEVBU0VfSUQnOiAnZGlzY29nc19yZWxlYXNlX2lkJyxcbiAgICAnVFhYWDpESVNDT0dTX1ZPVEVTJzogJ2Rpc2NvZ3Nfdm90ZXMnLFxuICAgICdUWFhYOkNBVEFMT0dJRCc6ICdjYXRhbG9nbnVtYmVyJyxcbiAgICAnVFhYWDpTVFlMRSc6ICdnZW5yZScsXG4gICAgJ1RYWFg6UkVQTEFZR0FJTl9UUkFDS19QRUFLJzogJ3JlcGxheWdhaW5fdHJhY2tfcGVhaycsXG4gICAgJ1RYWFg6UkVQTEFZR0FJTl9UUkFDS19HQUlOJzogJ3JlcGxheWdhaW5fdHJhY2tfZ2FpbicsXG4gICAgJ1RYWFg6UkVQTEFZR0FJTl9BTEJVTV9QRUFLJzogJ3JlcGxheWdhaW5fYWxidW1fcGVhaycsXG4gICAgJ1RYWFg6UkVQTEFZR0FJTl9BTEJVTV9HQUlOJzogJ3JlcGxheWdhaW5fYWxidW1fZ2FpbicsXG4gICAgJ1RYWFg6TVAzR0FJTl9NSU5NQVgnOiAncmVwbGF5Z2Fpbl90cmFja19taW5tYXgnLFxuICAgICdUWFhYOk1QM0dBSU5fQUxCVU1fTUlOTUFYJzogJ3JlcGxheWdhaW5fYWxidW1fbWlubWF4JyxcbiAgICAnVFhYWDpNUDNHQUlOX1VORE8nOiAncmVwbGF5Z2Fpbl91bmRvJyxcbiAgICBNVk5NOiAnbW92ZW1lbnQnLFxuICAgIE1WSU46ICdtb3ZlbWVudEluZGV4JyxcbiAgICBQQ1NUOiAncG9kY2FzdCcsXG4gICAgVENBVDogJ2NhdGVnb3J5JyxcbiAgICBUREVTOiAnZGVzY3JpcHRpb24nLFxuICAgIFREUkw6ICdyZWxlYXNlZGF0ZScsXG4gICAgVEdJRDogJ3BvZGNhc3RJZCcsXG4gICAgVEtXRDogJ2tleXdvcmRzJyxcbiAgICBXRkVEOiAncG9kY2FzdHVybCcsXG4gICAgR1JQMTogJ2dyb3VwaW5nJ1xufTtcbmV4cG9ydCBjbGFzcyBJRDN2MjRUYWdNYXBwZXIgZXh0ZW5kcyBDYXNlSW5zZW5zaXRpdmVUYWdNYXAge1xuICAgIHN0YXRpYyB0b1JhdGluZyhwb3BtKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBzb3VyY2U6IHBvcG0uZW1haWwsXG4gICAgICAgICAgICByYXRpbmc6IHBvcG0ucmF0aW5nID4gMCA/IChwb3BtLnJhdGluZyAtIDEpIC8gMjU0ICogQ29tbW9uVGFnTWFwcGVyLm1heFJhdGluZ1Njb3JlIDogdW5kZWZpbmVkXG4gICAgICAgIH07XG4gICAgfVxuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcihbJ0lEM3YyLjMnLCAnSUQzdjIuNCddLCBpZDN2MjRUYWdNYXApO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBIYW5kbGUgcG9zdCBtYXBwaW5nIGV4Y2VwdGlvbnMgLyBjb3JyZWN0aW9uXG4gICAgICogQHBhcmFtIHRhZyB0byBwb3N0IG1hcFxuICAgICAqIEBwYXJhbSB3YXJuaW5ncyBXaWwgYmUgdXNlZCB0byByZWdpc3RlciAoY29sbGVjdCkgd2FybmluZ3NcbiAgICAgKi9cbiAgICBwb3N0TWFwKHRhZywgd2FybmluZ3MpIHtcbiAgICAgICAgc3dpdGNoICh0YWcuaWQpIHtcbiAgICAgICAgICAgIGNhc2UgJ1VGSUQnOlxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gZGVjb2RlIE11c2ljQnJhaW56IFJlY29yZGluZyBJZFxuICAgICAgICAgICAgICAgICAgICBjb25zdCBpZFRhZyA9IHRhZy52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlkVGFnLm93bmVyX2lkZW50aWZpZXIgPT09ICdodHRwOi8vbXVzaWNicmFpbnoub3JnJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGFnLmlkICs9IGA6JHtpZFRhZy5vd25lcl9pZGVudGlmaWVyfWA7XG4gICAgICAgICAgICAgICAgICAgICAgICB0YWcudmFsdWUgPSBkZWNvZGVTdHJpbmcoaWRUYWcuaWRlbnRpZmllciwgJ2xhdGluMScpOyAvLyBsYXRpbjEgPT0gaXNvLTg4NTktMVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnUFJJVic6XG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBjdXN0b21UYWcgPSB0YWcudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoY3VzdG9tVGFnLm93bmVyX2lkZW50aWZpZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGRlY29kZSBXaW5kb3dzIE1lZGlhIFBsYXllclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnQXZlcmFnZUxldmVsJzpcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ1BlYWtWYWx1ZSc6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFnLmlkICs9IGA6JHtjdXN0b21UYWcub3duZXJfaWRlbnRpZmllcn1gO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhZy52YWx1ZSA9IGN1c3RvbVRhZy5kYXRhLmxlbmd0aCA9PT0gNCA/IFVJTlQzMl9MRS5nZXQoY3VzdG9tVGFnLmRhdGEsIDApIDogbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGFnLnZhbHVlID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdhcm5pbmdzLmFkZFdhcm5pbmcoJ0ZhaWxlZCB0byBwYXJzZSBQUklWOlBlYWtWYWx1ZScpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2FybmluZ3MuYWRkV2FybmluZyhgVW5rbm93biBQUklWIG93bmVyLWlkZW50aWZpZXI6ICR7Y3VzdG9tVGFnLmRhdGF9YCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdQT1BNJzpcbiAgICAgICAgICAgICAgICB0YWcudmFsdWUgPSBJRDN2MjRUYWdNYXBwZXIudG9SYXRpbmcodGFnLnZhbHVlKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1JRDN2MjRUYWdNYXBwZXIuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/music-metadata/lib/id3v2/ID3v24TagMapper.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/music-metadata/lib/id3v2/ID3v2Parser.js":
/*!**************************************************************!*\
  !*** ./node_modules/music-metadata/lib/id3v2/ID3v2Parser.js ***!
  \**************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ID3v2Parser: () => (/* binding */ ID3v2Parser)\n/* harmony export */ });\n/* harmony import */ var token_types__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! token-types */ \"(ssr)/./node_modules/token-types/lib/index.js\");\n/* harmony import */ var _common_Util_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../common/Util.js */ \"(ssr)/./node_modules/music-metadata/lib/common/Util.js\");\n/* harmony import */ var _FrameParser_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./FrameParser.js */ \"(ssr)/./node_modules/music-metadata/lib/id3v2/FrameParser.js\");\n/* harmony import */ var _ID3v2Token_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./ID3v2Token.js */ \"(ssr)/./node_modules/music-metadata/lib/id3v2/ID3v2Token.js\");\n\n\n\n\nconst asciiDecoder = new TextDecoder('ascii');\nclass ID3v2Parser {\n    constructor() {\n        this.tokenizer = undefined;\n        this.id3Header = undefined;\n        this.metadata = undefined;\n        this.headerType = undefined;\n        this.options = undefined;\n    }\n    static removeUnsyncBytes(buffer) {\n        let readI = 0;\n        let writeI = 0;\n        while (readI < buffer.length - 1) {\n            if (readI !== writeI) {\n                buffer[writeI] = buffer[readI];\n            }\n            readI += (buffer[readI] === 0xFF && buffer[readI + 1] === 0) ? 2 : 1;\n            writeI++;\n        }\n        if (readI < buffer.length) {\n            buffer[writeI++] = buffer[readI];\n        }\n        return buffer.slice(0, writeI);\n    }\n    static getFrameHeaderLength(majorVer) {\n        switch (majorVer) {\n            case 2:\n                return 6;\n            case 3:\n            case 4:\n                return 10;\n            default:\n                throw new Error('header versionIndex is incorrect');\n        }\n    }\n    static readFrameFlags(b) {\n        return {\n            status: {\n                tag_alter_preservation: _common_Util_js__WEBPACK_IMPORTED_MODULE_1__.getBit(b, 0, 6),\n                file_alter_preservation: _common_Util_js__WEBPACK_IMPORTED_MODULE_1__.getBit(b, 0, 5),\n                read_only: _common_Util_js__WEBPACK_IMPORTED_MODULE_1__.getBit(b, 0, 4)\n            },\n            format: {\n                grouping_identity: _common_Util_js__WEBPACK_IMPORTED_MODULE_1__.getBit(b, 1, 7),\n                compression: _common_Util_js__WEBPACK_IMPORTED_MODULE_1__.getBit(b, 1, 3),\n                encryption: _common_Util_js__WEBPACK_IMPORTED_MODULE_1__.getBit(b, 1, 2),\n                unsynchronisation: _common_Util_js__WEBPACK_IMPORTED_MODULE_1__.getBit(b, 1, 1),\n                data_length_indicator: _common_Util_js__WEBPACK_IMPORTED_MODULE_1__.getBit(b, 1, 0)\n            }\n        };\n    }\n    static readFrameData(uint8Array, frameHeader, majorVer, includeCovers, warningCollector) {\n        var _a, _b;\n        const frameParser = new _FrameParser_js__WEBPACK_IMPORTED_MODULE_2__.FrameParser(majorVer, warningCollector);\n        switch (majorVer) {\n            case 2:\n                return frameParser.readData(uint8Array, frameHeader.id, includeCovers);\n            case 3:\n            case 4:\n                if ((_a = frameHeader.flags) === null || _a === void 0 ? void 0 : _a.format.unsynchronisation) {\n                    uint8Array = ID3v2Parser.removeUnsyncBytes(uint8Array);\n                }\n                if ((_b = frameHeader.flags) === null || _b === void 0 ? void 0 : _b.format.data_length_indicator) {\n                    uint8Array = uint8Array.slice(4, uint8Array.length);\n                }\n                return frameParser.readData(uint8Array, frameHeader.id, includeCovers);\n            default:\n                throw new Error(`Unexpected majorVer: ${majorVer}`);\n        }\n    }\n    /**\n     * Create a combined tag key, of tag & description\n     * @param tag e.g.: COM\n     * @param description e.g. iTunPGAP\n     * @returns string e.g. COM:iTunPGAP\n     */\n    static makeDescriptionTagName(tag, description) {\n        return tag + (description ? `:${description}` : '');\n    }\n    async parse(metadata, tokenizer, options) {\n        this.tokenizer = tokenizer;\n        this.metadata = metadata;\n        this.options = options;\n        const id3Header = await this.tokenizer.readToken(_ID3v2Token_js__WEBPACK_IMPORTED_MODULE_3__.ID3v2Header);\n        if (id3Header.fileIdentifier !== 'ID3') {\n            throw new Error('expected ID3-header file-identifier \\'ID3\\' was not found');\n        }\n        this.id3Header = id3Header;\n        this.headerType = (`ID3v2.${id3Header.version.major}`);\n        return id3Header.flags.isExtendedHeader ? this.parseExtendedHeader() : this.parseId3Data(id3Header.size);\n    }\n    async parseExtendedHeader() {\n        const extendedHeader = await this.tokenizer.readToken(_ID3v2Token_js__WEBPACK_IMPORTED_MODULE_3__.ExtendedHeader);\n        const dataRemaining = extendedHeader.size - _ID3v2Token_js__WEBPACK_IMPORTED_MODULE_3__.ExtendedHeader.len;\n        return dataRemaining > 0 ? this.parseExtendedHeaderData(dataRemaining, extendedHeader.size) : this.parseId3Data(this.id3Header.size - extendedHeader.size);\n    }\n    async parseExtendedHeaderData(dataRemaining, extendedHeaderSize) {\n        await this.tokenizer.ignore(dataRemaining);\n        return this.parseId3Data(this.id3Header.size - extendedHeaderSize);\n    }\n    async parseId3Data(dataLen) {\n        const uint8Array = await this.tokenizer.readToken(new token_types__WEBPACK_IMPORTED_MODULE_0__.Uint8ArrayType(dataLen));\n        for (const tag of this.parseMetadata(uint8Array)) {\n            switch (tag.id) {\n                case 'TXXX':\n                    if (tag.value) {\n                        await this.handleTag(tag, tag.value.text, () => tag.value.description);\n                    }\n                    break;\n                default:\n                    await (Array.isArray(tag.value) ? Promise.all(tag.value.map(value => this.addTag(tag.id, value))) : this.addTag(tag.id, tag.value));\n            }\n        }\n    }\n    async handleTag(tag, values, descriptor, resolveValue = value => value) {\n        await Promise.all(values.map(value => this.addTag(ID3v2Parser.makeDescriptionTagName(tag.id, descriptor(value)), resolveValue(value))));\n    }\n    async addTag(id, value) {\n        await this.metadata.addTag(this.headerType, id, value);\n    }\n    parseMetadata(data) {\n        let offset = 0;\n        const tags = [];\n        while (true) {\n            if (offset === data.length)\n                break;\n            const frameHeaderLength = ID3v2Parser.getFrameHeaderLength(this.id3Header.version.major);\n            if (offset + frameHeaderLength > data.length) {\n                this.metadata.addWarning('Illegal ID3v2 tag length');\n                break;\n            }\n            const frameHeaderBytes = data.slice(offset, offset + frameHeaderLength);\n            offset += frameHeaderLength;\n            const frameHeader = this.readFrameHeader(frameHeaderBytes, this.id3Header.version.major);\n            const frameDataBytes = data.slice(offset, offset + frameHeader.length);\n            offset += frameHeader.length;\n            const values = ID3v2Parser.readFrameData(frameDataBytes, frameHeader, this.id3Header.version.major, !this.options.skipCovers, this.metadata);\n            if (values) {\n                tags.push({ id: frameHeader.id, value: values });\n            }\n        }\n        return tags;\n    }\n    readFrameHeader(uint8Array, majorVer) {\n        let header;\n        switch (majorVer) {\n            case 2:\n                header = {\n                    id: asciiDecoder.decode(uint8Array.slice(0, 3)),\n                    length: token_types__WEBPACK_IMPORTED_MODULE_0__.UINT24_BE.get(uint8Array, 3)\n                };\n                if (!header.id.match(/[A-Z0-9]{3}/g)) {\n                    this.metadata.addWarning(`Invalid ID3v2.${this.id3Header.version.major} frame-header-ID: ${header.id}`);\n                }\n                break;\n            case 3:\n            case 4:\n                header = {\n                    id: asciiDecoder.decode(uint8Array.slice(0, 4)),\n                    length: (majorVer === 4 ? _ID3v2Token_js__WEBPACK_IMPORTED_MODULE_3__.UINT32SYNCSAFE : token_types__WEBPACK_IMPORTED_MODULE_0__.UINT32_BE).get(uint8Array, 4),\n                    flags: ID3v2Parser.readFrameFlags(uint8Array.slice(8, 10))\n                };\n                if (!header.id.match(/[A-Z0-9]{4}/g)) {\n                    this.metadata.addWarning(`Invalid ID3v2.${this.id3Header.version.major} frame-header-ID: ${header.id}`);\n                }\n                break;\n            default:\n                throw new Error(`Unexpected majorVer: ${majorVer}`);\n        }\n        return header;\n    }\n}\n//# sourceMappingURL=ID3v2Parser.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbXVzaWMtbWV0YWRhdGEvbGliL2lkM3YyL0lEM3YyUGFyc2VyLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQXFDO0FBQ0s7QUFDSztBQUMrQjtBQUM5RTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0NBQXdDLG1EQUFXO0FBQ25ELHlDQUF5QyxtREFBVztBQUNwRCwyQkFBMkIsbURBQVc7QUFDdEMsYUFBYTtBQUNiO0FBQ0EsbUNBQW1DLG1EQUFXO0FBQzlDLDZCQUE2QixtREFBVztBQUN4Qyw0QkFBNEIsbURBQVc7QUFDdkMsbUNBQW1DLG1EQUFXO0FBQzlDLHVDQUF1QyxtREFBVztBQUNsRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDLHdEQUFXO0FBQzNDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0RBQXdELFNBQVM7QUFDakU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0NBQXdDLFlBQVk7QUFDcEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlEQUF5RCx1REFBVztBQUNwRTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9DQUFvQyx3QkFBd0I7QUFDNUQ7QUFDQTtBQUNBO0FBQ0EsOERBQThELDBEQUFjO0FBQzVFLG9EQUFvRCwwREFBYztBQUNsRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhEQUE4RCx1REFBb0I7QUFDbEY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLG1DQUFtQztBQUMvRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRCQUE0QixrREFBZTtBQUMzQztBQUNBLCtDQUErQyxFQUFFO0FBQ2pELDhEQUE4RCw4QkFBOEIsbUJBQW1CLFVBQVU7QUFDekg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOENBQThDLDBEQUFjLEdBQUcsa0RBQWU7QUFDOUU7QUFDQTtBQUNBLCtDQUErQyxFQUFFO0FBQ2pELDhEQUE4RCw4QkFBOEIsbUJBQW1CLFVBQVU7QUFDekg7QUFDQTtBQUNBO0FBQ0Esd0RBQXdELFNBQVM7QUFDakU7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2RldmVsZXZhdGUvLi9ub2RlX21vZHVsZXMvbXVzaWMtbWV0YWRhdGEvbGliL2lkM3YyL0lEM3YyUGFyc2VyLmpzP2Y1MzIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICogYXMgVG9rZW4gZnJvbSAndG9rZW4tdHlwZXMnO1xuaW1wb3J0ICogYXMgdXRpbCBmcm9tICcuLi9jb21tb24vVXRpbC5qcyc7XG5pbXBvcnQgeyBGcmFtZVBhcnNlciB9IGZyb20gJy4vRnJhbWVQYXJzZXIuanMnO1xuaW1wb3J0IHsgRXh0ZW5kZWRIZWFkZXIsIElEM3YySGVhZGVyLCBVSU5UMzJTWU5DU0FGRSB9IGZyb20gJy4vSUQzdjJUb2tlbi5qcyc7XG5jb25zdCBhc2NpaURlY29kZXIgPSBuZXcgVGV4dERlY29kZXIoJ2FzY2lpJyk7XG5leHBvcnQgY2xhc3MgSUQzdjJQYXJzZXIge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLnRva2VuaXplciA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5pZDNIZWFkZXIgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMubWV0YWRhdGEgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMuaGVhZGVyVHlwZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5vcHRpb25zID0gdW5kZWZpbmVkO1xuICAgIH1cbiAgICBzdGF0aWMgcmVtb3ZlVW5zeW5jQnl0ZXMoYnVmZmVyKSB7XG4gICAgICAgIGxldCByZWFkSSA9IDA7XG4gICAgICAgIGxldCB3cml0ZUkgPSAwO1xuICAgICAgICB3aGlsZSAocmVhZEkgPCBidWZmZXIubGVuZ3RoIC0gMSkge1xuICAgICAgICAgICAgaWYgKHJlYWRJICE9PSB3cml0ZUkpIHtcbiAgICAgICAgICAgICAgICBidWZmZXJbd3JpdGVJXSA9IGJ1ZmZlcltyZWFkSV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZWFkSSArPSAoYnVmZmVyW3JlYWRJXSA9PT0gMHhGRiAmJiBidWZmZXJbcmVhZEkgKyAxXSA9PT0gMCkgPyAyIDogMTtcbiAgICAgICAgICAgIHdyaXRlSSsrO1xuICAgICAgICB9XG4gICAgICAgIGlmIChyZWFkSSA8IGJ1ZmZlci5sZW5ndGgpIHtcbiAgICAgICAgICAgIGJ1ZmZlclt3cml0ZUkrK10gPSBidWZmZXJbcmVhZEldO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBidWZmZXIuc2xpY2UoMCwgd3JpdGVJKTtcbiAgICB9XG4gICAgc3RhdGljIGdldEZyYW1lSGVhZGVyTGVuZ3RoKG1ham9yVmVyKSB7XG4gICAgICAgIHN3aXRjaCAobWFqb3JWZXIpIHtcbiAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICByZXR1cm4gNjtcbiAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgICAgICByZXR1cm4gMTA7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignaGVhZGVyIHZlcnNpb25JbmRleCBpcyBpbmNvcnJlY3QnKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBzdGF0aWMgcmVhZEZyYW1lRmxhZ3MoYikge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgc3RhdHVzOiB7XG4gICAgICAgICAgICAgICAgdGFnX2FsdGVyX3ByZXNlcnZhdGlvbjogdXRpbC5nZXRCaXQoYiwgMCwgNiksXG4gICAgICAgICAgICAgICAgZmlsZV9hbHRlcl9wcmVzZXJ2YXRpb246IHV0aWwuZ2V0Qml0KGIsIDAsIDUpLFxuICAgICAgICAgICAgICAgIHJlYWRfb25seTogdXRpbC5nZXRCaXQoYiwgMCwgNClcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBmb3JtYXQ6IHtcbiAgICAgICAgICAgICAgICBncm91cGluZ19pZGVudGl0eTogdXRpbC5nZXRCaXQoYiwgMSwgNyksXG4gICAgICAgICAgICAgICAgY29tcHJlc3Npb246IHV0aWwuZ2V0Qml0KGIsIDEsIDMpLFxuICAgICAgICAgICAgICAgIGVuY3J5cHRpb246IHV0aWwuZ2V0Qml0KGIsIDEsIDIpLFxuICAgICAgICAgICAgICAgIHVuc3luY2hyb25pc2F0aW9uOiB1dGlsLmdldEJpdChiLCAxLCAxKSxcbiAgICAgICAgICAgICAgICBkYXRhX2xlbmd0aF9pbmRpY2F0b3I6IHV0aWwuZ2V0Qml0KGIsIDEsIDApXG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfVxuICAgIHN0YXRpYyByZWFkRnJhbWVEYXRhKHVpbnQ4QXJyYXksIGZyYW1lSGVhZGVyLCBtYWpvclZlciwgaW5jbHVkZUNvdmVycywgd2FybmluZ0NvbGxlY3Rvcikge1xuICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICBjb25zdCBmcmFtZVBhcnNlciA9IG5ldyBGcmFtZVBhcnNlcihtYWpvclZlciwgd2FybmluZ0NvbGxlY3Rvcik7XG4gICAgICAgIHN3aXRjaCAobWFqb3JWZXIpIHtcbiAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICByZXR1cm4gZnJhbWVQYXJzZXIucmVhZERhdGEodWludDhBcnJheSwgZnJhbWVIZWFkZXIuaWQsIGluY2x1ZGVDb3ZlcnMpO1xuICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgICAgIGlmICgoX2EgPSBmcmFtZUhlYWRlci5mbGFncykgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmZvcm1hdC51bnN5bmNocm9uaXNhdGlvbikge1xuICAgICAgICAgICAgICAgICAgICB1aW50OEFycmF5ID0gSUQzdjJQYXJzZXIucmVtb3ZlVW5zeW5jQnl0ZXModWludDhBcnJheSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICgoX2IgPSBmcmFtZUhlYWRlci5mbGFncykgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLmZvcm1hdC5kYXRhX2xlbmd0aF9pbmRpY2F0b3IpIHtcbiAgICAgICAgICAgICAgICAgICAgdWludDhBcnJheSA9IHVpbnQ4QXJyYXkuc2xpY2UoNCwgdWludDhBcnJheS5sZW5ndGgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gZnJhbWVQYXJzZXIucmVhZERhdGEodWludDhBcnJheSwgZnJhbWVIZWFkZXIuaWQsIGluY2x1ZGVDb3ZlcnMpO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFVuZXhwZWN0ZWQgbWFqb3JWZXI6ICR7bWFqb3JWZXJ9YCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGEgY29tYmluZWQgdGFnIGtleSwgb2YgdGFnICYgZGVzY3JpcHRpb25cbiAgICAgKiBAcGFyYW0gdGFnIGUuZy46IENPTVxuICAgICAqIEBwYXJhbSBkZXNjcmlwdGlvbiBlLmcuIGlUdW5QR0FQXG4gICAgICogQHJldHVybnMgc3RyaW5nIGUuZy4gQ09NOmlUdW5QR0FQXG4gICAgICovXG4gICAgc3RhdGljIG1ha2VEZXNjcmlwdGlvblRhZ05hbWUodGFnLCBkZXNjcmlwdGlvbikge1xuICAgICAgICByZXR1cm4gdGFnICsgKGRlc2NyaXB0aW9uID8gYDoke2Rlc2NyaXB0aW9ufWAgOiAnJyk7XG4gICAgfVxuICAgIGFzeW5jIHBhcnNlKG1ldGFkYXRhLCB0b2tlbml6ZXIsIG9wdGlvbnMpIHtcbiAgICAgICAgdGhpcy50b2tlbml6ZXIgPSB0b2tlbml6ZXI7XG4gICAgICAgIHRoaXMubWV0YWRhdGEgPSBtZXRhZGF0YTtcbiAgICAgICAgdGhpcy5vcHRpb25zID0gb3B0aW9ucztcbiAgICAgICAgY29uc3QgaWQzSGVhZGVyID0gYXdhaXQgdGhpcy50b2tlbml6ZXIucmVhZFRva2VuKElEM3YySGVhZGVyKTtcbiAgICAgICAgaWYgKGlkM0hlYWRlci5maWxlSWRlbnRpZmllciAhPT0gJ0lEMycpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignZXhwZWN0ZWQgSUQzLWhlYWRlciBmaWxlLWlkZW50aWZpZXIgXFwnSUQzXFwnIHdhcyBub3QgZm91bmQnKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmlkM0hlYWRlciA9IGlkM0hlYWRlcjtcbiAgICAgICAgdGhpcy5oZWFkZXJUeXBlID0gKGBJRDN2Mi4ke2lkM0hlYWRlci52ZXJzaW9uLm1ham9yfWApO1xuICAgICAgICByZXR1cm4gaWQzSGVhZGVyLmZsYWdzLmlzRXh0ZW5kZWRIZWFkZXIgPyB0aGlzLnBhcnNlRXh0ZW5kZWRIZWFkZXIoKSA6IHRoaXMucGFyc2VJZDNEYXRhKGlkM0hlYWRlci5zaXplKTtcbiAgICB9XG4gICAgYXN5bmMgcGFyc2VFeHRlbmRlZEhlYWRlcigpIHtcbiAgICAgICAgY29uc3QgZXh0ZW5kZWRIZWFkZXIgPSBhd2FpdCB0aGlzLnRva2VuaXplci5yZWFkVG9rZW4oRXh0ZW5kZWRIZWFkZXIpO1xuICAgICAgICBjb25zdCBkYXRhUmVtYWluaW5nID0gZXh0ZW5kZWRIZWFkZXIuc2l6ZSAtIEV4dGVuZGVkSGVhZGVyLmxlbjtcbiAgICAgICAgcmV0dXJuIGRhdGFSZW1haW5pbmcgPiAwID8gdGhpcy5wYXJzZUV4dGVuZGVkSGVhZGVyRGF0YShkYXRhUmVtYWluaW5nLCBleHRlbmRlZEhlYWRlci5zaXplKSA6IHRoaXMucGFyc2VJZDNEYXRhKHRoaXMuaWQzSGVhZGVyLnNpemUgLSBleHRlbmRlZEhlYWRlci5zaXplKTtcbiAgICB9XG4gICAgYXN5bmMgcGFyc2VFeHRlbmRlZEhlYWRlckRhdGEoZGF0YVJlbWFpbmluZywgZXh0ZW5kZWRIZWFkZXJTaXplKSB7XG4gICAgICAgIGF3YWl0IHRoaXMudG9rZW5pemVyLmlnbm9yZShkYXRhUmVtYWluaW5nKTtcbiAgICAgICAgcmV0dXJuIHRoaXMucGFyc2VJZDNEYXRhKHRoaXMuaWQzSGVhZGVyLnNpemUgLSBleHRlbmRlZEhlYWRlclNpemUpO1xuICAgIH1cbiAgICBhc3luYyBwYXJzZUlkM0RhdGEoZGF0YUxlbikge1xuICAgICAgICBjb25zdCB1aW50OEFycmF5ID0gYXdhaXQgdGhpcy50b2tlbml6ZXIucmVhZFRva2VuKG5ldyBUb2tlbi5VaW50OEFycmF5VHlwZShkYXRhTGVuKSk7XG4gICAgICAgIGZvciAoY29uc3QgdGFnIG9mIHRoaXMucGFyc2VNZXRhZGF0YSh1aW50OEFycmF5KSkge1xuICAgICAgICAgICAgc3dpdGNoICh0YWcuaWQpIHtcbiAgICAgICAgICAgICAgICBjYXNlICdUWFhYJzpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhZy52YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5oYW5kbGVUYWcodGFnLCB0YWcudmFsdWUudGV4dCwgKCkgPT4gdGFnLnZhbHVlLmRlc2NyaXB0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICBhd2FpdCAoQXJyYXkuaXNBcnJheSh0YWcudmFsdWUpID8gUHJvbWlzZS5hbGwodGFnLnZhbHVlLm1hcCh2YWx1ZSA9PiB0aGlzLmFkZFRhZyh0YWcuaWQsIHZhbHVlKSkpIDogdGhpcy5hZGRUYWcodGFnLmlkLCB0YWcudmFsdWUpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBhc3luYyBoYW5kbGVUYWcodGFnLCB2YWx1ZXMsIGRlc2NyaXB0b3IsIHJlc29sdmVWYWx1ZSA9IHZhbHVlID0+IHZhbHVlKSB7XG4gICAgICAgIGF3YWl0IFByb21pc2UuYWxsKHZhbHVlcy5tYXAodmFsdWUgPT4gdGhpcy5hZGRUYWcoSUQzdjJQYXJzZXIubWFrZURlc2NyaXB0aW9uVGFnTmFtZSh0YWcuaWQsIGRlc2NyaXB0b3IodmFsdWUpKSwgcmVzb2x2ZVZhbHVlKHZhbHVlKSkpKTtcbiAgICB9XG4gICAgYXN5bmMgYWRkVGFnKGlkLCB2YWx1ZSkge1xuICAgICAgICBhd2FpdCB0aGlzLm1ldGFkYXRhLmFkZFRhZyh0aGlzLmhlYWRlclR5cGUsIGlkLCB2YWx1ZSk7XG4gICAgfVxuICAgIHBhcnNlTWV0YWRhdGEoZGF0YSkge1xuICAgICAgICBsZXQgb2Zmc2V0ID0gMDtcbiAgICAgICAgY29uc3QgdGFncyA9IFtdO1xuICAgICAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgICAgICAgaWYgKG9mZnNldCA9PT0gZGF0YS5sZW5ndGgpXG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjb25zdCBmcmFtZUhlYWRlckxlbmd0aCA9IElEM3YyUGFyc2VyLmdldEZyYW1lSGVhZGVyTGVuZ3RoKHRoaXMuaWQzSGVhZGVyLnZlcnNpb24ubWFqb3IpO1xuICAgICAgICAgICAgaWYgKG9mZnNldCArIGZyYW1lSGVhZGVyTGVuZ3RoID4gZGF0YS5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICB0aGlzLm1ldGFkYXRhLmFkZFdhcm5pbmcoJ0lsbGVnYWwgSUQzdjIgdGFnIGxlbmd0aCcpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgZnJhbWVIZWFkZXJCeXRlcyA9IGRhdGEuc2xpY2Uob2Zmc2V0LCBvZmZzZXQgKyBmcmFtZUhlYWRlckxlbmd0aCk7XG4gICAgICAgICAgICBvZmZzZXQgKz0gZnJhbWVIZWFkZXJMZW5ndGg7XG4gICAgICAgICAgICBjb25zdCBmcmFtZUhlYWRlciA9IHRoaXMucmVhZEZyYW1lSGVhZGVyKGZyYW1lSGVhZGVyQnl0ZXMsIHRoaXMuaWQzSGVhZGVyLnZlcnNpb24ubWFqb3IpO1xuICAgICAgICAgICAgY29uc3QgZnJhbWVEYXRhQnl0ZXMgPSBkYXRhLnNsaWNlKG9mZnNldCwgb2Zmc2V0ICsgZnJhbWVIZWFkZXIubGVuZ3RoKTtcbiAgICAgICAgICAgIG9mZnNldCArPSBmcmFtZUhlYWRlci5sZW5ndGg7XG4gICAgICAgICAgICBjb25zdCB2YWx1ZXMgPSBJRDN2MlBhcnNlci5yZWFkRnJhbWVEYXRhKGZyYW1lRGF0YUJ5dGVzLCBmcmFtZUhlYWRlciwgdGhpcy5pZDNIZWFkZXIudmVyc2lvbi5tYWpvciwgIXRoaXMub3B0aW9ucy5za2lwQ292ZXJzLCB0aGlzLm1ldGFkYXRhKTtcbiAgICAgICAgICAgIGlmICh2YWx1ZXMpIHtcbiAgICAgICAgICAgICAgICB0YWdzLnB1c2goeyBpZDogZnJhbWVIZWFkZXIuaWQsIHZhbHVlOiB2YWx1ZXMgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRhZ3M7XG4gICAgfVxuICAgIHJlYWRGcmFtZUhlYWRlcih1aW50OEFycmF5LCBtYWpvclZlcikge1xuICAgICAgICBsZXQgaGVhZGVyO1xuICAgICAgICBzd2l0Y2ggKG1ham9yVmVyKSB7XG4gICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgaGVhZGVyID0ge1xuICAgICAgICAgICAgICAgICAgICBpZDogYXNjaWlEZWNvZGVyLmRlY29kZSh1aW50OEFycmF5LnNsaWNlKDAsIDMpKSxcbiAgICAgICAgICAgICAgICAgICAgbGVuZ3RoOiBUb2tlbi5VSU5UMjRfQkUuZ2V0KHVpbnQ4QXJyYXksIDMpXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBpZiAoIWhlYWRlci5pZC5tYXRjaCgvW0EtWjAtOV17M30vZykpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tZXRhZGF0YS5hZGRXYXJuaW5nKGBJbnZhbGlkIElEM3YyLiR7dGhpcy5pZDNIZWFkZXIudmVyc2lvbi5tYWpvcn0gZnJhbWUtaGVhZGVyLUlEOiAke2hlYWRlci5pZH1gKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICAgICAgaGVhZGVyID0ge1xuICAgICAgICAgICAgICAgICAgICBpZDogYXNjaWlEZWNvZGVyLmRlY29kZSh1aW50OEFycmF5LnNsaWNlKDAsIDQpKSxcbiAgICAgICAgICAgICAgICAgICAgbGVuZ3RoOiAobWFqb3JWZXIgPT09IDQgPyBVSU5UMzJTWU5DU0FGRSA6IFRva2VuLlVJTlQzMl9CRSkuZ2V0KHVpbnQ4QXJyYXksIDQpLFxuICAgICAgICAgICAgICAgICAgICBmbGFnczogSUQzdjJQYXJzZXIucmVhZEZyYW1lRmxhZ3ModWludDhBcnJheS5zbGljZSg4LCAxMCkpXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBpZiAoIWhlYWRlci5pZC5tYXRjaCgvW0EtWjAtOV17NH0vZykpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tZXRhZGF0YS5hZGRXYXJuaW5nKGBJbnZhbGlkIElEM3YyLiR7dGhpcy5pZDNIZWFkZXIudmVyc2lvbi5tYWpvcn0gZnJhbWUtaGVhZGVyLUlEOiAke2hlYWRlci5pZH1gKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgVW5leHBlY3RlZCBtYWpvclZlcjogJHttYWpvclZlcn1gKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaGVhZGVyO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUlEM3YyUGFyc2VyLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/music-metadata/lib/id3v2/ID3v2Parser.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/music-metadata/lib/id3v2/ID3v2Token.js":
/*!*************************************************************!*\
  !*** ./node_modules/music-metadata/lib/id3v2/ID3v2Token.js ***!
  \*************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AttachedPictureType: () => (/* binding */ AttachedPictureType),\n/* harmony export */   ExtendedHeader: () => (/* binding */ ExtendedHeader),\n/* harmony export */   ID3v2Header: () => (/* binding */ ID3v2Header),\n/* harmony export */   LyricsContentType: () => (/* binding */ LyricsContentType),\n/* harmony export */   SyncTextHeader: () => (/* binding */ SyncTextHeader),\n/* harmony export */   TextEncodingToken: () => (/* binding */ TextEncodingToken),\n/* harmony export */   TextHeader: () => (/* binding */ TextHeader),\n/* harmony export */   TimestampFormat: () => (/* binding */ TimestampFormat),\n/* harmony export */   UINT32SYNCSAFE: () => (/* binding */ UINT32SYNCSAFE)\n/* harmony export */ });\n/* harmony import */ var token_types__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! token-types */ \"(ssr)/./node_modules/token-types/lib/index.js\");\n/* harmony import */ var _common_Util_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../common/Util.js */ \"(ssr)/./node_modules/music-metadata/lib/common/Util.js\");\n\n\n/**\n * The picture type according to the ID3v2 APIC frame\n * Ref: http://id3.org/id3v2.3.0#Attached_picture\n */\nvar AttachedPictureType;\n(function (AttachedPictureType) {\n    AttachedPictureType[AttachedPictureType[\"Other\"] = 0] = \"Other\";\n    AttachedPictureType[AttachedPictureType[\"32x32 pixels 'file icon' (PNG only)\"] = 1] = \"32x32 pixels 'file icon' (PNG only)\";\n    AttachedPictureType[AttachedPictureType[\"Other file icon\"] = 2] = \"Other file icon\";\n    AttachedPictureType[AttachedPictureType[\"Cover (front)\"] = 3] = \"Cover (front)\";\n    AttachedPictureType[AttachedPictureType[\"Cover (back)\"] = 4] = \"Cover (back)\";\n    AttachedPictureType[AttachedPictureType[\"Leaflet page\"] = 5] = \"Leaflet page\";\n    AttachedPictureType[AttachedPictureType[\"Media (e.g. label side of CD)\"] = 6] = \"Media (e.g. label side of CD)\";\n    AttachedPictureType[AttachedPictureType[\"Lead artist/lead performer/soloist\"] = 7] = \"Lead artist/lead performer/soloist\";\n    AttachedPictureType[AttachedPictureType[\"Artist/performer\"] = 8] = \"Artist/performer\";\n    AttachedPictureType[AttachedPictureType[\"Conductor\"] = 9] = \"Conductor\";\n    AttachedPictureType[AttachedPictureType[\"Band/Orchestra\"] = 10] = \"Band/Orchestra\";\n    AttachedPictureType[AttachedPictureType[\"Composer\"] = 11] = \"Composer\";\n    AttachedPictureType[AttachedPictureType[\"Lyricist/text writer\"] = 12] = \"Lyricist/text writer\";\n    AttachedPictureType[AttachedPictureType[\"Recording Location\"] = 13] = \"Recording Location\";\n    AttachedPictureType[AttachedPictureType[\"During recording\"] = 14] = \"During recording\";\n    AttachedPictureType[AttachedPictureType[\"During performance\"] = 15] = \"During performance\";\n    AttachedPictureType[AttachedPictureType[\"Movie/video screen capture\"] = 16] = \"Movie/video screen capture\";\n    AttachedPictureType[AttachedPictureType[\"A bright coloured fish\"] = 17] = \"A bright coloured fish\";\n    AttachedPictureType[AttachedPictureType[\"Illustration\"] = 18] = \"Illustration\";\n    AttachedPictureType[AttachedPictureType[\"Band/artist logotype\"] = 19] = \"Band/artist logotype\";\n    AttachedPictureType[AttachedPictureType[\"Publisher/Studio logotype\"] = 20] = \"Publisher/Studio logotype\";\n})(AttachedPictureType || (AttachedPictureType = {}));\n/**\n * https://id3.org/id3v2.3.0#Synchronised_lyrics.2Ftext\n */\nvar LyricsContentType;\n(function (LyricsContentType) {\n    LyricsContentType[LyricsContentType[\"other\"] = 0] = \"other\";\n    LyricsContentType[LyricsContentType[\"lyrics\"] = 1] = \"lyrics\";\n    LyricsContentType[LyricsContentType[\"text\"] = 2] = \"text\";\n    LyricsContentType[LyricsContentType[\"movement_part\"] = 3] = \"movement_part\";\n    LyricsContentType[LyricsContentType[\"events\"] = 4] = \"events\";\n    LyricsContentType[LyricsContentType[\"chord\"] = 5] = \"chord\";\n    LyricsContentType[LyricsContentType[\"trivia_pop\"] = 6] = \"trivia_pop\";\n})(LyricsContentType || (LyricsContentType = {}));\nvar TimestampFormat;\n(function (TimestampFormat) {\n    TimestampFormat[TimestampFormat[\"notSynchronized0\"] = 0] = \"notSynchronized0\";\n    TimestampFormat[TimestampFormat[\"mpegFrameNumber\"] = 1] = \"mpegFrameNumber\";\n    TimestampFormat[TimestampFormat[\"milliseconds\"] = 2] = \"milliseconds\";\n})(TimestampFormat || (TimestampFormat = {}));\n/**\n * 28 bits (representing up to 256MB) integer, the msb is 0 to avoid 'false syncsignals'.\n * 4 * %0xxxxxxx\n */\nconst UINT32SYNCSAFE = {\n    get: (buf, off) => {\n        return buf[off + 3] & 0x7f | ((buf[off + 2]) << 7) |\n            ((buf[off + 1]) << 14) | ((buf[off]) << 21);\n    },\n    len: 4\n};\n/**\n * ID3v2 header\n * Ref: http://id3.org/id3v2.3.0#ID3v2_header\n * ToDo\n */\nconst ID3v2Header = {\n    len: 10,\n    get: (buf, off) => {\n        return {\n            // ID3v2/file identifier   \"ID3\"\n            fileIdentifier: new token_types__WEBPACK_IMPORTED_MODULE_0__.StringType(3, 'ascii').get(buf, off),\n            // ID3v2 versionIndex\n            version: {\n                major: token_types__WEBPACK_IMPORTED_MODULE_0__.INT8.get(buf, off + 3),\n                revision: token_types__WEBPACK_IMPORTED_MODULE_0__.INT8.get(buf, off + 4)\n            },\n            // ID3v2 flags\n            flags: {\n                // Unsynchronisation\n                unsynchronisation: _common_Util_js__WEBPACK_IMPORTED_MODULE_1__.getBit(buf, off + 5, 7),\n                // Extended header\n                isExtendedHeader: _common_Util_js__WEBPACK_IMPORTED_MODULE_1__.getBit(buf, off + 5, 6),\n                // Experimental indicator\n                expIndicator: _common_Util_js__WEBPACK_IMPORTED_MODULE_1__.getBit(buf, off + 5, 5),\n                footer: _common_Util_js__WEBPACK_IMPORTED_MODULE_1__.getBit(buf, off + 5, 4)\n            },\n            size: UINT32SYNCSAFE.get(buf, off + 6)\n        };\n    }\n};\nconst ExtendedHeader = {\n    len: 10,\n    get: (buf, off) => {\n        return {\n            // Extended header size\n            size: token_types__WEBPACK_IMPORTED_MODULE_0__.UINT32_BE.get(buf, off),\n            // Extended Flags\n            extendedFlags: token_types__WEBPACK_IMPORTED_MODULE_0__.UINT16_BE.get(buf, off + 4),\n            // Size of padding\n            sizeOfPadding: token_types__WEBPACK_IMPORTED_MODULE_0__.UINT32_BE.get(buf, off + 6),\n            // CRC data present\n            crcDataPresent: _common_Util_js__WEBPACK_IMPORTED_MODULE_1__.getBit(buf, off + 4, 31)\n        };\n    }\n};\nconst TextEncodingToken = {\n    len: 1,\n    get: (uint8Array, off) => {\n        switch (uint8Array[off]) {\n            case 0x00:\n                return { encoding: 'latin1' }; // binary\n            case 0x01:\n                return { encoding: 'utf-16le', bom: true };\n            case 0x02:\n                return { encoding: 'utf-16le', bom: false };\n            case 0x03:\n                return { encoding: 'utf8', bom: false };\n            default:\n                return { encoding: 'utf8', bom: false };\n        }\n    }\n};\n/**\n * Used to read first portion of `SYLT` frame\n */\nconst TextHeader = {\n    len: 4,\n    get: (uint8Array, off) => {\n        return {\n            encoding: TextEncodingToken.get(uint8Array, off),\n            language: new token_types__WEBPACK_IMPORTED_MODULE_0__.StringType(3, 'latin1').get(uint8Array, off + 1)\n        };\n    }\n};\n/**\n * Used to read first portion of `SYLT` frame\n */\nconst SyncTextHeader = {\n    len: 6,\n    get: (uint8Array, off) => {\n        const text = TextHeader.get(uint8Array, off);\n        return {\n            encoding: text.encoding,\n            language: text.language,\n            timeStampFormat: token_types__WEBPACK_IMPORTED_MODULE_0__.UINT8.get(uint8Array, off + 4),\n            contentType: token_types__WEBPACK_IMPORTED_MODULE_0__.UINT8.get(uint8Array, off + 5)\n        };\n    }\n};\n//# sourceMappingURL=ID3v2Token.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbXVzaWMtbWV0YWRhdGEvbGliL2lkM3YyL0lEM3YyVG9rZW4uanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7QUFBcUM7QUFDSztBQUMxQztBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLGtEQUFrRDtBQUNuRDtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLDhDQUE4QztBQUN4QztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQywwQ0FBMEM7QUFDM0M7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQ0FBZ0MsbURBQWdCO0FBQ2hEO0FBQ0E7QUFDQSx1QkFBdUIsNkNBQVU7QUFDakMsMEJBQTBCLDZDQUFVO0FBQ3BDLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQSxtQ0FBbUMsbURBQVc7QUFDOUM7QUFDQSxrQ0FBa0MsbURBQVc7QUFDN0M7QUFDQSw4QkFBOEIsbURBQVc7QUFDekMsd0JBQXdCLG1EQUFXO0FBQ25DLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0Isa0RBQWU7QUFDakM7QUFDQSwyQkFBMkIsa0RBQWU7QUFDMUM7QUFDQSwyQkFBMkIsa0RBQWU7QUFDMUM7QUFDQSw0QkFBNEIsbURBQVc7QUFDdkM7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QixzQkFBc0I7QUFDL0M7QUFDQSx5QkFBeUI7QUFDekI7QUFDQSx5QkFBeUI7QUFDekI7QUFDQSx5QkFBeUI7QUFDekI7QUFDQSx5QkFBeUI7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQixtREFBZ0I7QUFDMUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkIsOENBQVc7QUFDeEMseUJBQXlCLDhDQUFXO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZGV2ZWxldmF0ZS8uL25vZGVfbW9kdWxlcy9tdXNpYy1tZXRhZGF0YS9saWIvaWQzdjIvSUQzdjJUb2tlbi5qcz84NjM5Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAqIGFzIFRva2VuIGZyb20gJ3Rva2VuLXR5cGVzJztcbmltcG9ydCAqIGFzIHV0aWwgZnJvbSAnLi4vY29tbW9uL1V0aWwuanMnO1xuLyoqXG4gKiBUaGUgcGljdHVyZSB0eXBlIGFjY29yZGluZyB0byB0aGUgSUQzdjIgQVBJQyBmcmFtZVxuICogUmVmOiBodHRwOi8vaWQzLm9yZy9pZDN2Mi4zLjAjQXR0YWNoZWRfcGljdHVyZVxuICovXG5leHBvcnQgdmFyIEF0dGFjaGVkUGljdHVyZVR5cGU7XG4oZnVuY3Rpb24gKEF0dGFjaGVkUGljdHVyZVR5cGUpIHtcbiAgICBBdHRhY2hlZFBpY3R1cmVUeXBlW0F0dGFjaGVkUGljdHVyZVR5cGVbXCJPdGhlclwiXSA9IDBdID0gXCJPdGhlclwiO1xuICAgIEF0dGFjaGVkUGljdHVyZVR5cGVbQXR0YWNoZWRQaWN0dXJlVHlwZVtcIjMyeDMyIHBpeGVscyAnZmlsZSBpY29uJyAoUE5HIG9ubHkpXCJdID0gMV0gPSBcIjMyeDMyIHBpeGVscyAnZmlsZSBpY29uJyAoUE5HIG9ubHkpXCI7XG4gICAgQXR0YWNoZWRQaWN0dXJlVHlwZVtBdHRhY2hlZFBpY3R1cmVUeXBlW1wiT3RoZXIgZmlsZSBpY29uXCJdID0gMl0gPSBcIk90aGVyIGZpbGUgaWNvblwiO1xuICAgIEF0dGFjaGVkUGljdHVyZVR5cGVbQXR0YWNoZWRQaWN0dXJlVHlwZVtcIkNvdmVyIChmcm9udClcIl0gPSAzXSA9IFwiQ292ZXIgKGZyb250KVwiO1xuICAgIEF0dGFjaGVkUGljdHVyZVR5cGVbQXR0YWNoZWRQaWN0dXJlVHlwZVtcIkNvdmVyIChiYWNrKVwiXSA9IDRdID0gXCJDb3ZlciAoYmFjaylcIjtcbiAgICBBdHRhY2hlZFBpY3R1cmVUeXBlW0F0dGFjaGVkUGljdHVyZVR5cGVbXCJMZWFmbGV0IHBhZ2VcIl0gPSA1XSA9IFwiTGVhZmxldCBwYWdlXCI7XG4gICAgQXR0YWNoZWRQaWN0dXJlVHlwZVtBdHRhY2hlZFBpY3R1cmVUeXBlW1wiTWVkaWEgKGUuZy4gbGFiZWwgc2lkZSBvZiBDRClcIl0gPSA2XSA9IFwiTWVkaWEgKGUuZy4gbGFiZWwgc2lkZSBvZiBDRClcIjtcbiAgICBBdHRhY2hlZFBpY3R1cmVUeXBlW0F0dGFjaGVkUGljdHVyZVR5cGVbXCJMZWFkIGFydGlzdC9sZWFkIHBlcmZvcm1lci9zb2xvaXN0XCJdID0gN10gPSBcIkxlYWQgYXJ0aXN0L2xlYWQgcGVyZm9ybWVyL3NvbG9pc3RcIjtcbiAgICBBdHRhY2hlZFBpY3R1cmVUeXBlW0F0dGFjaGVkUGljdHVyZVR5cGVbXCJBcnRpc3QvcGVyZm9ybWVyXCJdID0gOF0gPSBcIkFydGlzdC9wZXJmb3JtZXJcIjtcbiAgICBBdHRhY2hlZFBpY3R1cmVUeXBlW0F0dGFjaGVkUGljdHVyZVR5cGVbXCJDb25kdWN0b3JcIl0gPSA5XSA9IFwiQ29uZHVjdG9yXCI7XG4gICAgQXR0YWNoZWRQaWN0dXJlVHlwZVtBdHRhY2hlZFBpY3R1cmVUeXBlW1wiQmFuZC9PcmNoZXN0cmFcIl0gPSAxMF0gPSBcIkJhbmQvT3JjaGVzdHJhXCI7XG4gICAgQXR0YWNoZWRQaWN0dXJlVHlwZVtBdHRhY2hlZFBpY3R1cmVUeXBlW1wiQ29tcG9zZXJcIl0gPSAxMV0gPSBcIkNvbXBvc2VyXCI7XG4gICAgQXR0YWNoZWRQaWN0dXJlVHlwZVtBdHRhY2hlZFBpY3R1cmVUeXBlW1wiTHlyaWNpc3QvdGV4dCB3cml0ZXJcIl0gPSAxMl0gPSBcIkx5cmljaXN0L3RleHQgd3JpdGVyXCI7XG4gICAgQXR0YWNoZWRQaWN0dXJlVHlwZVtBdHRhY2hlZFBpY3R1cmVUeXBlW1wiUmVjb3JkaW5nIExvY2F0aW9uXCJdID0gMTNdID0gXCJSZWNvcmRpbmcgTG9jYXRpb25cIjtcbiAgICBBdHRhY2hlZFBpY3R1cmVUeXBlW0F0dGFjaGVkUGljdHVyZVR5cGVbXCJEdXJpbmcgcmVjb3JkaW5nXCJdID0gMTRdID0gXCJEdXJpbmcgcmVjb3JkaW5nXCI7XG4gICAgQXR0YWNoZWRQaWN0dXJlVHlwZVtBdHRhY2hlZFBpY3R1cmVUeXBlW1wiRHVyaW5nIHBlcmZvcm1hbmNlXCJdID0gMTVdID0gXCJEdXJpbmcgcGVyZm9ybWFuY2VcIjtcbiAgICBBdHRhY2hlZFBpY3R1cmVUeXBlW0F0dGFjaGVkUGljdHVyZVR5cGVbXCJNb3ZpZS92aWRlbyBzY3JlZW4gY2FwdHVyZVwiXSA9IDE2XSA9IFwiTW92aWUvdmlkZW8gc2NyZWVuIGNhcHR1cmVcIjtcbiAgICBBdHRhY2hlZFBpY3R1cmVUeXBlW0F0dGFjaGVkUGljdHVyZVR5cGVbXCJBIGJyaWdodCBjb2xvdXJlZCBmaXNoXCJdID0gMTddID0gXCJBIGJyaWdodCBjb2xvdXJlZCBmaXNoXCI7XG4gICAgQXR0YWNoZWRQaWN0dXJlVHlwZVtBdHRhY2hlZFBpY3R1cmVUeXBlW1wiSWxsdXN0cmF0aW9uXCJdID0gMThdID0gXCJJbGx1c3RyYXRpb25cIjtcbiAgICBBdHRhY2hlZFBpY3R1cmVUeXBlW0F0dGFjaGVkUGljdHVyZVR5cGVbXCJCYW5kL2FydGlzdCBsb2dvdHlwZVwiXSA9IDE5XSA9IFwiQmFuZC9hcnRpc3QgbG9nb3R5cGVcIjtcbiAgICBBdHRhY2hlZFBpY3R1cmVUeXBlW0F0dGFjaGVkUGljdHVyZVR5cGVbXCJQdWJsaXNoZXIvU3R1ZGlvIGxvZ290eXBlXCJdID0gMjBdID0gXCJQdWJsaXNoZXIvU3R1ZGlvIGxvZ290eXBlXCI7XG59KShBdHRhY2hlZFBpY3R1cmVUeXBlIHx8IChBdHRhY2hlZFBpY3R1cmVUeXBlID0ge30pKTtcbi8qKlxuICogaHR0cHM6Ly9pZDMub3JnL2lkM3YyLjMuMCNTeW5jaHJvbmlzZWRfbHlyaWNzLjJGdGV4dFxuICovXG5leHBvcnQgdmFyIEx5cmljc0NvbnRlbnRUeXBlO1xuKGZ1bmN0aW9uIChMeXJpY3NDb250ZW50VHlwZSkge1xuICAgIEx5cmljc0NvbnRlbnRUeXBlW0x5cmljc0NvbnRlbnRUeXBlW1wib3RoZXJcIl0gPSAwXSA9IFwib3RoZXJcIjtcbiAgICBMeXJpY3NDb250ZW50VHlwZVtMeXJpY3NDb250ZW50VHlwZVtcImx5cmljc1wiXSA9IDFdID0gXCJseXJpY3NcIjtcbiAgICBMeXJpY3NDb250ZW50VHlwZVtMeXJpY3NDb250ZW50VHlwZVtcInRleHRcIl0gPSAyXSA9IFwidGV4dFwiO1xuICAgIEx5cmljc0NvbnRlbnRUeXBlW0x5cmljc0NvbnRlbnRUeXBlW1wibW92ZW1lbnRfcGFydFwiXSA9IDNdID0gXCJtb3ZlbWVudF9wYXJ0XCI7XG4gICAgTHlyaWNzQ29udGVudFR5cGVbTHlyaWNzQ29udGVudFR5cGVbXCJldmVudHNcIl0gPSA0XSA9IFwiZXZlbnRzXCI7XG4gICAgTHlyaWNzQ29udGVudFR5cGVbTHlyaWNzQ29udGVudFR5cGVbXCJjaG9yZFwiXSA9IDVdID0gXCJjaG9yZFwiO1xuICAgIEx5cmljc0NvbnRlbnRUeXBlW0x5cmljc0NvbnRlbnRUeXBlW1widHJpdmlhX3BvcFwiXSA9IDZdID0gXCJ0cml2aWFfcG9wXCI7XG59KShMeXJpY3NDb250ZW50VHlwZSB8fCAoTHlyaWNzQ29udGVudFR5cGUgPSB7fSkpO1xuZXhwb3J0IHZhciBUaW1lc3RhbXBGb3JtYXQ7XG4oZnVuY3Rpb24gKFRpbWVzdGFtcEZvcm1hdCkge1xuICAgIFRpbWVzdGFtcEZvcm1hdFtUaW1lc3RhbXBGb3JtYXRbXCJub3RTeW5jaHJvbml6ZWQwXCJdID0gMF0gPSBcIm5vdFN5bmNocm9uaXplZDBcIjtcbiAgICBUaW1lc3RhbXBGb3JtYXRbVGltZXN0YW1wRm9ybWF0W1wibXBlZ0ZyYW1lTnVtYmVyXCJdID0gMV0gPSBcIm1wZWdGcmFtZU51bWJlclwiO1xuICAgIFRpbWVzdGFtcEZvcm1hdFtUaW1lc3RhbXBGb3JtYXRbXCJtaWxsaXNlY29uZHNcIl0gPSAyXSA9IFwibWlsbGlzZWNvbmRzXCI7XG59KShUaW1lc3RhbXBGb3JtYXQgfHwgKFRpbWVzdGFtcEZvcm1hdCA9IHt9KSk7XG4vKipcbiAqIDI4IGJpdHMgKHJlcHJlc2VudGluZyB1cCB0byAyNTZNQikgaW50ZWdlciwgdGhlIG1zYiBpcyAwIHRvIGF2b2lkICdmYWxzZSBzeW5jc2lnbmFscycuXG4gKiA0ICogJTB4eHh4eHh4XG4gKi9cbmV4cG9ydCBjb25zdCBVSU5UMzJTWU5DU0FGRSA9IHtcbiAgICBnZXQ6IChidWYsIG9mZikgPT4ge1xuICAgICAgICByZXR1cm4gYnVmW29mZiArIDNdICYgMHg3ZiB8ICgoYnVmW29mZiArIDJdKSA8PCA3KSB8XG4gICAgICAgICAgICAoKGJ1ZltvZmYgKyAxXSkgPDwgMTQpIHwgKChidWZbb2ZmXSkgPDwgMjEpO1xuICAgIH0sXG4gICAgbGVuOiA0XG59O1xuLyoqXG4gKiBJRDN2MiBoZWFkZXJcbiAqIFJlZjogaHR0cDovL2lkMy5vcmcvaWQzdjIuMy4wI0lEM3YyX2hlYWRlclxuICogVG9Eb1xuICovXG5leHBvcnQgY29uc3QgSUQzdjJIZWFkZXIgPSB7XG4gICAgbGVuOiAxMCxcbiAgICBnZXQ6IChidWYsIG9mZikgPT4ge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgLy8gSUQzdjIvZmlsZSBpZGVudGlmaWVyICAgXCJJRDNcIlxuICAgICAgICAgICAgZmlsZUlkZW50aWZpZXI6IG5ldyBUb2tlbi5TdHJpbmdUeXBlKDMsICdhc2NpaScpLmdldChidWYsIG9mZiksXG4gICAgICAgICAgICAvLyBJRDN2MiB2ZXJzaW9uSW5kZXhcbiAgICAgICAgICAgIHZlcnNpb246IHtcbiAgICAgICAgICAgICAgICBtYWpvcjogVG9rZW4uSU5UOC5nZXQoYnVmLCBvZmYgKyAzKSxcbiAgICAgICAgICAgICAgICByZXZpc2lvbjogVG9rZW4uSU5UOC5nZXQoYnVmLCBvZmYgKyA0KVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIC8vIElEM3YyIGZsYWdzXG4gICAgICAgICAgICBmbGFnczoge1xuICAgICAgICAgICAgICAgIC8vIFVuc3luY2hyb25pc2F0aW9uXG4gICAgICAgICAgICAgICAgdW5zeW5jaHJvbmlzYXRpb246IHV0aWwuZ2V0Qml0KGJ1Ziwgb2ZmICsgNSwgNyksXG4gICAgICAgICAgICAgICAgLy8gRXh0ZW5kZWQgaGVhZGVyXG4gICAgICAgICAgICAgICAgaXNFeHRlbmRlZEhlYWRlcjogdXRpbC5nZXRCaXQoYnVmLCBvZmYgKyA1LCA2KSxcbiAgICAgICAgICAgICAgICAvLyBFeHBlcmltZW50YWwgaW5kaWNhdG9yXG4gICAgICAgICAgICAgICAgZXhwSW5kaWNhdG9yOiB1dGlsLmdldEJpdChidWYsIG9mZiArIDUsIDUpLFxuICAgICAgICAgICAgICAgIGZvb3RlcjogdXRpbC5nZXRCaXQoYnVmLCBvZmYgKyA1LCA0KVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHNpemU6IFVJTlQzMlNZTkNTQUZFLmdldChidWYsIG9mZiArIDYpXG4gICAgICAgIH07XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBFeHRlbmRlZEhlYWRlciA9IHtcbiAgICBsZW46IDEwLFxuICAgIGdldDogKGJ1Ziwgb2ZmKSA9PiB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAvLyBFeHRlbmRlZCBoZWFkZXIgc2l6ZVxuICAgICAgICAgICAgc2l6ZTogVG9rZW4uVUlOVDMyX0JFLmdldChidWYsIG9mZiksXG4gICAgICAgICAgICAvLyBFeHRlbmRlZCBGbGFnc1xuICAgICAgICAgICAgZXh0ZW5kZWRGbGFnczogVG9rZW4uVUlOVDE2X0JFLmdldChidWYsIG9mZiArIDQpLFxuICAgICAgICAgICAgLy8gU2l6ZSBvZiBwYWRkaW5nXG4gICAgICAgICAgICBzaXplT2ZQYWRkaW5nOiBUb2tlbi5VSU5UMzJfQkUuZ2V0KGJ1Ziwgb2ZmICsgNiksXG4gICAgICAgICAgICAvLyBDUkMgZGF0YSBwcmVzZW50XG4gICAgICAgICAgICBjcmNEYXRhUHJlc2VudDogdXRpbC5nZXRCaXQoYnVmLCBvZmYgKyA0LCAzMSlcbiAgICAgICAgfTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IFRleHRFbmNvZGluZ1Rva2VuID0ge1xuICAgIGxlbjogMSxcbiAgICBnZXQ6ICh1aW50OEFycmF5LCBvZmYpID0+IHtcbiAgICAgICAgc3dpdGNoICh1aW50OEFycmF5W29mZl0pIHtcbiAgICAgICAgICAgIGNhc2UgMHgwMDpcbiAgICAgICAgICAgICAgICByZXR1cm4geyBlbmNvZGluZzogJ2xhdGluMScgfTsgLy8gYmluYXJ5XG4gICAgICAgICAgICBjYXNlIDB4MDE6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgZW5jb2Rpbmc6ICd1dGYtMTZsZScsIGJvbTogdHJ1ZSB9O1xuICAgICAgICAgICAgY2FzZSAweDAyOlxuICAgICAgICAgICAgICAgIHJldHVybiB7IGVuY29kaW5nOiAndXRmLTE2bGUnLCBib206IGZhbHNlIH07XG4gICAgICAgICAgICBjYXNlIDB4MDM6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgZW5jb2Rpbmc6ICd1dGY4JywgYm9tOiBmYWxzZSB9O1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICByZXR1cm4geyBlbmNvZGluZzogJ3V0ZjgnLCBib206IGZhbHNlIH07XG4gICAgICAgIH1cbiAgICB9XG59O1xuLyoqXG4gKiBVc2VkIHRvIHJlYWQgZmlyc3QgcG9ydGlvbiBvZiBgU1lMVGAgZnJhbWVcbiAqL1xuZXhwb3J0IGNvbnN0IFRleHRIZWFkZXIgPSB7XG4gICAgbGVuOiA0LFxuICAgIGdldDogKHVpbnQ4QXJyYXksIG9mZikgPT4ge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgZW5jb2Rpbmc6IFRleHRFbmNvZGluZ1Rva2VuLmdldCh1aW50OEFycmF5LCBvZmYpLFxuICAgICAgICAgICAgbGFuZ3VhZ2U6IG5ldyBUb2tlbi5TdHJpbmdUeXBlKDMsICdsYXRpbjEnKS5nZXQodWludDhBcnJheSwgb2ZmICsgMSlcbiAgICAgICAgfTtcbiAgICB9XG59O1xuLyoqXG4gKiBVc2VkIHRvIHJlYWQgZmlyc3QgcG9ydGlvbiBvZiBgU1lMVGAgZnJhbWVcbiAqL1xuZXhwb3J0IGNvbnN0IFN5bmNUZXh0SGVhZGVyID0ge1xuICAgIGxlbjogNixcbiAgICBnZXQ6ICh1aW50OEFycmF5LCBvZmYpID0+IHtcbiAgICAgICAgY29uc3QgdGV4dCA9IFRleHRIZWFkZXIuZ2V0KHVpbnQ4QXJyYXksIG9mZik7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBlbmNvZGluZzogdGV4dC5lbmNvZGluZyxcbiAgICAgICAgICAgIGxhbmd1YWdlOiB0ZXh0Lmxhbmd1YWdlLFxuICAgICAgICAgICAgdGltZVN0YW1wRm9ybWF0OiBUb2tlbi5VSU5UOC5nZXQodWludDhBcnJheSwgb2ZmICsgNCksXG4gICAgICAgICAgICBjb250ZW50VHlwZTogVG9rZW4uVUlOVDguZ2V0KHVpbnQ4QXJyYXksIG9mZiArIDUpXG4gICAgICAgIH07XG4gICAgfVxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUlEM3YyVG9rZW4uanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/music-metadata/lib/id3v2/ID3v2Token.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/music-metadata/lib/iff/index.js":
/*!******************************************************!*\
  !*** ./node_modules/music-metadata/lib/iff/index.js ***!
  \******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Header: () => (/* binding */ Header)\n/* harmony export */ });\n/* harmony import */ var token_types__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! token-types */ \"(ssr)/./node_modules/token-types/lib/index.js\");\n/* harmony import */ var _common_FourCC_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../common/FourCC.js */ \"(ssr)/./node_modules/music-metadata/lib/common/FourCC.js\");\n\n\n/**\n * Common AIFF chunk header\n */\nconst Header = {\n    len: 8,\n    get: (buf, off) => {\n        return {\n            // Chunk type ID\n            chunkID: _common_FourCC_js__WEBPACK_IMPORTED_MODULE_1__.FourCcToken.get(buf, off),\n            // Chunk size\n            chunkSize: Number(BigInt(token_types__WEBPACK_IMPORTED_MODULE_0__.UINT32_BE.get(buf, off + 4)))\n        };\n    }\n};\n//# sourceMappingURL=index.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbXVzaWMtbWV0YWRhdGEvbGliL2lmZi9pbmRleC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBcUM7QUFDYTtBQUNsRDtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCLDBEQUFXO0FBQ2hDO0FBQ0EscUNBQXFDLGtEQUFlO0FBQ3BEO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZGV2ZWxldmF0ZS8uL25vZGVfbW9kdWxlcy9tdXNpYy1tZXRhZGF0YS9saWIvaWZmL2luZGV4LmpzPzM2ZGQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICogYXMgVG9rZW4gZnJvbSAndG9rZW4tdHlwZXMnO1xuaW1wb3J0IHsgRm91ckNjVG9rZW4gfSBmcm9tICcuLi9jb21tb24vRm91ckNDLmpzJztcbi8qKlxuICogQ29tbW9uIEFJRkYgY2h1bmsgaGVhZGVyXG4gKi9cbmV4cG9ydCBjb25zdCBIZWFkZXIgPSB7XG4gICAgbGVuOiA4LFxuICAgIGdldDogKGJ1Ziwgb2ZmKSA9PiB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAvLyBDaHVuayB0eXBlIElEXG4gICAgICAgICAgICBjaHVua0lEOiBGb3VyQ2NUb2tlbi5nZXQoYnVmLCBvZmYpLFxuICAgICAgICAgICAgLy8gQ2h1bmsgc2l6ZVxuICAgICAgICAgICAgY2h1bmtTaXplOiBOdW1iZXIoQmlnSW50KFRva2VuLlVJTlQzMl9CRS5nZXQoYnVmLCBvZmYgKyA0KSkpXG4gICAgICAgIH07XG4gICAgfVxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/music-metadata/lib/iff/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/music-metadata/lib/index.js":
/*!**************************************************!*\
  !*** ./node_modules/music-metadata/lib/index.js ***!
  \**************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   LyricsContentType: () => (/* reexport safe */ _core_js__WEBPACK_IMPORTED_MODULE_2__.LyricsContentType),\n/* harmony export */   TimestampFormat: () => (/* reexport safe */ _core_js__WEBPACK_IMPORTED_MODULE_2__.TimestampFormat),\n/* harmony export */   orderTags: () => (/* reexport safe */ _core_js__WEBPACK_IMPORTED_MODULE_2__.orderTags),\n/* harmony export */   parseBlob: () => (/* reexport safe */ _core_js__WEBPACK_IMPORTED_MODULE_2__.parseBlob),\n/* harmony export */   parseBuffer: () => (/* reexport safe */ _core_js__WEBPACK_IMPORTED_MODULE_2__.parseBuffer),\n/* harmony export */   parseFile: () => (/* binding */ parseFile),\n/* harmony export */   parseFromTokenizer: () => (/* reexport safe */ _core_js__WEBPACK_IMPORTED_MODULE_2__.parseFromTokenizer),\n/* harmony export */   parseStream: () => (/* binding */ parseStream),\n/* harmony export */   parseWebStream: () => (/* reexport safe */ _core_js__WEBPACK_IMPORTED_MODULE_2__.parseWebStream),\n/* harmony export */   ratingToStars: () => (/* reexport safe */ _core_js__WEBPACK_IMPORTED_MODULE_2__.ratingToStars),\n/* harmony export */   scanAppendingHeaders: () => (/* reexport safe */ _core_js__WEBPACK_IMPORTED_MODULE_2__.scanAppendingHeaders),\n/* harmony export */   selectCover: () => (/* reexport safe */ _core_js__WEBPACK_IMPORTED_MODULE_2__.selectCover)\n/* harmony export */ });\n/* harmony import */ var strtok3__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! strtok3 */ \"(ssr)/./node_modules/strtok3/lib/index.js\");\n/* harmony import */ var debug__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! debug */ \"(ssr)/./node_modules/debug/src/index.js\");\n/* harmony import */ var _core_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./core.js */ \"(ssr)/./node_modules/music-metadata/lib/core.js\");\n/* harmony import */ var _ParserFactory_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./ParserFactory.js */ \"(ssr)/./node_modules/music-metadata/lib/ParserFactory.js\");\n/* harmony import */ var _common_RandomFileReader_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./common/RandomFileReader.js */ \"(ssr)/./node_modules/music-metadata/lib/common/RandomFileReader.js\");\n/**\n * Node.js specific entry point.\n */\n\n\n\n\n\n\nconst debug = debug__WEBPACK_IMPORTED_MODULE_1__('music-metadata:parser');\n/**\n * Parse audio from Node Stream.Readable\n * @param stream - Stream to read the audio track from\n * @param fileInfo - File information object or MIME-type, e.g.: 'audio/mpeg'\n * @param options - Parsing options\n * @returns Metadata\n */\nasync function parseStream(stream, fileInfo, options = {}) {\n    const tokenizer = await (0,strtok3__WEBPACK_IMPORTED_MODULE_0__.fromStream)(stream, { fileInfo: typeof fileInfo === 'string' ? { mimeType: fileInfo } : fileInfo });\n    return (0,_core_js__WEBPACK_IMPORTED_MODULE_2__.parseFromTokenizer)(tokenizer, options);\n}\n/**\n * Parse audio from Node file\n * @param filePath - Media file to read meta-data from\n * @param options - Parsing options\n * @returns Metadata\n */\nasync function parseFile(filePath, options = {}) {\n    debug(`parseFile: ${filePath}`);\n    const fileTokenizer = await (0,strtok3__WEBPACK_IMPORTED_MODULE_0__.fromFile)(filePath);\n    const fileReader = await _common_RandomFileReader_js__WEBPACK_IMPORTED_MODULE_4__.RandomFileReader.init(filePath, fileTokenizer.fileInfo.size);\n    try {\n        await (0,_core_js__WEBPACK_IMPORTED_MODULE_2__.scanAppendingHeaders)(fileReader, options);\n    }\n    finally {\n        await fileReader.close();\n    }\n    try {\n        const parserName = (0,_ParserFactory_js__WEBPACK_IMPORTED_MODULE_3__.getParserIdForExtension)(filePath);\n        if (!parserName)\n            debug(' Parser could not be determined by file extension');\n        return await (0,_ParserFactory_js__WEBPACK_IMPORTED_MODULE_3__.parse)(fileTokenizer, parserName, options);\n    }\n    finally {\n        await fileTokenizer.close();\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbXVzaWMtbWV0YWRhdGEvbGliL2luZGV4LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQytDO0FBQ2pCO0FBQ3VDO0FBQ0Q7QUFDSjtBQUN0QztBQUMxQixjQUFjLGtDQUFTO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ08seURBQXlEO0FBQ2hFLDRCQUE0QixtREFBVSxXQUFXLDJDQUEyQyxxQkFBcUIsWUFBWTtBQUM3SCxXQUFXLDREQUFrQjtBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPLCtDQUErQztBQUN0RCx3QkFBd0IsU0FBUztBQUNqQyxnQ0FBZ0MsaURBQVE7QUFDeEMsNkJBQTZCLHlFQUFnQjtBQUM3QztBQUNBLGNBQWMsOERBQW9CO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQkFBMkIsMEVBQXVCO0FBQ2xEO0FBQ0E7QUFDQSxxQkFBcUIsd0RBQUs7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2RldmVsZXZhdGUvLi9ub2RlX21vZHVsZXMvbXVzaWMtbWV0YWRhdGEvbGliL2luZGV4LmpzPzg5ZWUiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBOb2RlLmpzIHNwZWNpZmljIGVudHJ5IHBvaW50LlxuICovXG5pbXBvcnQgeyBmcm9tRmlsZSwgZnJvbVN0cmVhbSB9IGZyb20gJ3N0cnRvazMnO1xuaW1wb3J0IGluaXREZWJ1ZyBmcm9tICdkZWJ1Zyc7XG5pbXBvcnQgeyBwYXJzZUZyb21Ub2tlbml6ZXIsIHNjYW5BcHBlbmRpbmdIZWFkZXJzIH0gZnJvbSAnLi9jb3JlLmpzJztcbmltcG9ydCB7IGdldFBhcnNlcklkRm9yRXh0ZW5zaW9uLCBwYXJzZSB9IGZyb20gJy4vUGFyc2VyRmFjdG9yeS5qcyc7XG5pbXBvcnQgeyBSYW5kb21GaWxlUmVhZGVyIH0gZnJvbSAnLi9jb21tb24vUmFuZG9tRmlsZVJlYWRlci5qcyc7XG5leHBvcnQgKiBmcm9tICcuL2NvcmUuanMnO1xuY29uc3QgZGVidWcgPSBpbml0RGVidWcoJ211c2ljLW1ldGFkYXRhOnBhcnNlcicpO1xuLyoqXG4gKiBQYXJzZSBhdWRpbyBmcm9tIE5vZGUgU3RyZWFtLlJlYWRhYmxlXG4gKiBAcGFyYW0gc3RyZWFtIC0gU3RyZWFtIHRvIHJlYWQgdGhlIGF1ZGlvIHRyYWNrIGZyb21cbiAqIEBwYXJhbSBmaWxlSW5mbyAtIEZpbGUgaW5mb3JtYXRpb24gb2JqZWN0IG9yIE1JTUUtdHlwZSwgZS5nLjogJ2F1ZGlvL21wZWcnXG4gKiBAcGFyYW0gb3B0aW9ucyAtIFBhcnNpbmcgb3B0aW9uc1xuICogQHJldHVybnMgTWV0YWRhdGFcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHBhcnNlU3RyZWFtKHN0cmVhbSwgZmlsZUluZm8sIG9wdGlvbnMgPSB7fSkge1xuICAgIGNvbnN0IHRva2VuaXplciA9IGF3YWl0IGZyb21TdHJlYW0oc3RyZWFtLCB7IGZpbGVJbmZvOiB0eXBlb2YgZmlsZUluZm8gPT09ICdzdHJpbmcnID8geyBtaW1lVHlwZTogZmlsZUluZm8gfSA6IGZpbGVJbmZvIH0pO1xuICAgIHJldHVybiBwYXJzZUZyb21Ub2tlbml6ZXIodG9rZW5pemVyLCBvcHRpb25zKTtcbn1cbi8qKlxuICogUGFyc2UgYXVkaW8gZnJvbSBOb2RlIGZpbGVcbiAqIEBwYXJhbSBmaWxlUGF0aCAtIE1lZGlhIGZpbGUgdG8gcmVhZCBtZXRhLWRhdGEgZnJvbVxuICogQHBhcmFtIG9wdGlvbnMgLSBQYXJzaW5nIG9wdGlvbnNcbiAqIEByZXR1cm5zIE1ldGFkYXRhXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBwYXJzZUZpbGUoZmlsZVBhdGgsIG9wdGlvbnMgPSB7fSkge1xuICAgIGRlYnVnKGBwYXJzZUZpbGU6ICR7ZmlsZVBhdGh9YCk7XG4gICAgY29uc3QgZmlsZVRva2VuaXplciA9IGF3YWl0IGZyb21GaWxlKGZpbGVQYXRoKTtcbiAgICBjb25zdCBmaWxlUmVhZGVyID0gYXdhaXQgUmFuZG9tRmlsZVJlYWRlci5pbml0KGZpbGVQYXRoLCBmaWxlVG9rZW5pemVyLmZpbGVJbmZvLnNpemUpO1xuICAgIHRyeSB7XG4gICAgICAgIGF3YWl0IHNjYW5BcHBlbmRpbmdIZWFkZXJzKGZpbGVSZWFkZXIsIG9wdGlvbnMpO1xuICAgIH1cbiAgICBmaW5hbGx5IHtcbiAgICAgICAgYXdhaXQgZmlsZVJlYWRlci5jbG9zZSgpO1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgICBjb25zdCBwYXJzZXJOYW1lID0gZ2V0UGFyc2VySWRGb3JFeHRlbnNpb24oZmlsZVBhdGgpO1xuICAgICAgICBpZiAoIXBhcnNlck5hbWUpXG4gICAgICAgICAgICBkZWJ1ZygnIFBhcnNlciBjb3VsZCBub3QgYmUgZGV0ZXJtaW5lZCBieSBmaWxlIGV4dGVuc2lvbicpO1xuICAgICAgICByZXR1cm4gYXdhaXQgcGFyc2UoZmlsZVRva2VuaXplciwgcGFyc2VyTmFtZSwgb3B0aW9ucyk7XG4gICAgfVxuICAgIGZpbmFsbHkge1xuICAgICAgICBhd2FpdCBmaWxlVG9rZW5pemVyLmNsb3NlKCk7XG4gICAgfVxufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/music-metadata/lib/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/music-metadata/lib/lyrics3/Lyrics3.js":
/*!************************************************************!*\
  !*** ./node_modules/music-metadata/lib/lyrics3/Lyrics3.js ***!
  \************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   endTag2: () => (/* binding */ endTag2),\n/* harmony export */   getLyricsHeaderLength: () => (/* binding */ getLyricsHeaderLength)\n/* harmony export */ });\nconst endTag2 = 'LYRICS200';\nasync function getLyricsHeaderLength(reader) {\n    if (reader.fileSize >= 143) {\n        const buf = new Uint8Array(15);\n        await reader.randomRead(buf, 0, buf.length, reader.fileSize - 143);\n        const txt = new TextDecoder('latin1').decode(buf);\n        const tag = txt.slice(6);\n        if (tag === endTag2) {\n            return Number.parseInt(txt.slice(0, 6), 10) + 15;\n        }\n    }\n    return 0;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbXVzaWMtbWV0YWRhdGEvbGliL2x5cmljczMvTHlyaWNzMy5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUFPO0FBQ0E7QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZGV2ZWxldmF0ZS8uL25vZGVfbW9kdWxlcy9tdXNpYy1tZXRhZGF0YS9saWIvbHlyaWNzMy9MeXJpY3MzLmpzPzZmMzMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGNvbnN0IGVuZFRhZzIgPSAnTFlSSUNTMjAwJztcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRMeXJpY3NIZWFkZXJMZW5ndGgocmVhZGVyKSB7XG4gICAgaWYgKHJlYWRlci5maWxlU2l6ZSA+PSAxNDMpIHtcbiAgICAgICAgY29uc3QgYnVmID0gbmV3IFVpbnQ4QXJyYXkoMTUpO1xuICAgICAgICBhd2FpdCByZWFkZXIucmFuZG9tUmVhZChidWYsIDAsIGJ1Zi5sZW5ndGgsIHJlYWRlci5maWxlU2l6ZSAtIDE0Myk7XG4gICAgICAgIGNvbnN0IHR4dCA9IG5ldyBUZXh0RGVjb2RlcignbGF0aW4xJykuZGVjb2RlKGJ1Zik7XG4gICAgICAgIGNvbnN0IHRhZyA9IHR4dC5zbGljZSg2KTtcbiAgICAgICAgaWYgKHRhZyA9PT0gZW5kVGFnMikge1xuICAgICAgICAgICAgcmV0dXJuIE51bWJlci5wYXJzZUludCh0eHQuc2xpY2UoMCwgNiksIDEwKSArIDE1O1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiAwO1xufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/music-metadata/lib/lyrics3/Lyrics3.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/music-metadata/lib/matroska/MatroskaDtd.js":
/*!*****************************************************************!*\
  !*** ./node_modules/music-metadata/lib/matroska/MatroskaDtd.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   elements: () => (/* binding */ elements)\n/* harmony export */ });\n/* harmony import */ var _types_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./types.js */ \"(ssr)/./node_modules/music-metadata/lib/matroska/types.js\");\n\n/**\n * Elements of document type description\n * Derived from https://github.com/tungol/EBML/blob/master/doctypes/matroska.dtd\n * Extended with:\n * - https://www.matroska.org/technical/specs/index.html\n */\nconst elements = {\n    440786851: {\n        name: 'ebml',\n        container: {\n            17030: { name: 'ebmlVersion', value: _types_js__WEBPACK_IMPORTED_MODULE_0__.DataType.uint }, // 5.1.1\n            17143: { name: 'ebmlReadVersion', value: _types_js__WEBPACK_IMPORTED_MODULE_0__.DataType.uint }, // 5.1.2\n            17138: { name: 'ebmlMaxIDWidth', value: _types_js__WEBPACK_IMPORTED_MODULE_0__.DataType.uint }, // 5.1.3\n            17139: { name: 'ebmlMaxSizeWidth', value: _types_js__WEBPACK_IMPORTED_MODULE_0__.DataType.uint }, // 5.1.4\n            17026: { name: 'docType', value: _types_js__WEBPACK_IMPORTED_MODULE_0__.DataType.string }, // 5.1.5\n            17031: { name: 'docTypeVersion', value: _types_js__WEBPACK_IMPORTED_MODULE_0__.DataType.uint }, // 5.1.6\n            17029: { name: 'docTypeReadVersion', value: _types_js__WEBPACK_IMPORTED_MODULE_0__.DataType.uint } // 5.1.7\n        }\n    },\n    // Matroska segments\n    408125543: {\n        name: 'segment',\n        container: {\n            // Meta Seek Information\n            290298740: {\n                name: 'seekHead',\n                container: {\n                    19899: {\n                        name: 'seek',\n                        container: {\n                            21419: { name: 'seekId', value: _types_js__WEBPACK_IMPORTED_MODULE_0__.DataType.binary },\n                            21420: { name: 'seekPosition', value: _types_js__WEBPACK_IMPORTED_MODULE_0__.DataType.uint }\n                        }\n                    }\n                }\n            },\n            // Segment Information\n            357149030: {\n                name: 'info',\n                container: {\n                    29604: { name: 'uid', value: _types_js__WEBPACK_IMPORTED_MODULE_0__.DataType.uid },\n                    29572: { name: 'filename', value: _types_js__WEBPACK_IMPORTED_MODULE_0__.DataType.string },\n                    3979555: { name: 'prevUID', value: _types_js__WEBPACK_IMPORTED_MODULE_0__.DataType.uid },\n                    3965867: { name: 'prevFilename', value: _types_js__WEBPACK_IMPORTED_MODULE_0__.DataType.string },\n                    4110627: { name: 'nextUID', value: _types_js__WEBPACK_IMPORTED_MODULE_0__.DataType.uid },\n                    4096955: { name: 'nextFilename', value: _types_js__WEBPACK_IMPORTED_MODULE_0__.DataType.string },\n                    2807729: { name: 'timecodeScale', value: _types_js__WEBPACK_IMPORTED_MODULE_0__.DataType.uint },\n                    17545: { name: 'duration', value: _types_js__WEBPACK_IMPORTED_MODULE_0__.DataType.float },\n                    17505: { name: 'dateUTC', value: _types_js__WEBPACK_IMPORTED_MODULE_0__.DataType.uint },\n                    31657: { name: 'title', value: _types_js__WEBPACK_IMPORTED_MODULE_0__.DataType.string },\n                    19840: { name: 'muxingApp', value: _types_js__WEBPACK_IMPORTED_MODULE_0__.DataType.string },\n                    22337: { name: 'writingApp', value: _types_js__WEBPACK_IMPORTED_MODULE_0__.DataType.string }\n                }\n            },\n            // Cluster\n            524531317: {\n                name: 'cluster',\n                multiple: true,\n                container: {\n                    231: { name: 'timecode', value: _types_js__WEBPACK_IMPORTED_MODULE_0__.DataType.uid },\n                    163: { name: 'unknown', value: _types_js__WEBPACK_IMPORTED_MODULE_0__.DataType.binary },\n                    167: { name: 'position', value: _types_js__WEBPACK_IMPORTED_MODULE_0__.DataType.uid },\n                    171: { name: 'prevSize', value: _types_js__WEBPACK_IMPORTED_MODULE_0__.DataType.uid }\n                }\n            },\n            // Track\n            374648427: {\n                name: 'tracks',\n                container: {\n                    174: {\n                        name: 'entries',\n                        multiple: true,\n                        container: {\n                            215: { name: 'trackNumber', value: _types_js__WEBPACK_IMPORTED_MODULE_0__.DataType.uint },\n                            29637: { name: 'uid', value: _types_js__WEBPACK_IMPORTED_MODULE_0__.DataType.uid },\n                            131: { name: 'trackType', value: _types_js__WEBPACK_IMPORTED_MODULE_0__.DataType.uint },\n                            185: { name: 'flagEnabled', value: _types_js__WEBPACK_IMPORTED_MODULE_0__.DataType.bool },\n                            136: { name: 'flagDefault', value: _types_js__WEBPACK_IMPORTED_MODULE_0__.DataType.bool },\n                            21930: { name: 'flagForced', value: _types_js__WEBPACK_IMPORTED_MODULE_0__.DataType.bool }, // extended\n                            156: { name: 'flagLacing', value: _types_js__WEBPACK_IMPORTED_MODULE_0__.DataType.bool },\n                            28135: { name: 'minCache', value: _types_js__WEBPACK_IMPORTED_MODULE_0__.DataType.uint },\n                            28136: { name: 'maxCache', value: _types_js__WEBPACK_IMPORTED_MODULE_0__.DataType.uint },\n                            2352003: { name: 'defaultDuration', value: _types_js__WEBPACK_IMPORTED_MODULE_0__.DataType.uint },\n                            2306383: { name: 'timecodeScale', value: _types_js__WEBPACK_IMPORTED_MODULE_0__.DataType.float },\n                            21358: { name: 'name', value: _types_js__WEBPACK_IMPORTED_MODULE_0__.DataType.string },\n                            2274716: { name: 'language', value: _types_js__WEBPACK_IMPORTED_MODULE_0__.DataType.string },\n                            134: { name: 'codecID', value: _types_js__WEBPACK_IMPORTED_MODULE_0__.DataType.string },\n                            25506: { name: 'codecPrivate', value: _types_js__WEBPACK_IMPORTED_MODULE_0__.DataType.binary },\n                            2459272: { name: 'codecName', value: _types_js__WEBPACK_IMPORTED_MODULE_0__.DataType.string },\n                            3839639: { name: 'codecSettings', value: _types_js__WEBPACK_IMPORTED_MODULE_0__.DataType.string },\n                            3883072: { name: 'codecInfoUrl', value: _types_js__WEBPACK_IMPORTED_MODULE_0__.DataType.string },\n                            2536000: { name: 'codecDownloadUrl', value: _types_js__WEBPACK_IMPORTED_MODULE_0__.DataType.string },\n                            170: { name: 'codecDecodeAll', value: _types_js__WEBPACK_IMPORTED_MODULE_0__.DataType.bool },\n                            28587: { name: 'trackOverlay', value: _types_js__WEBPACK_IMPORTED_MODULE_0__.DataType.uint },\n                            // Video\n                            224: {\n                                name: 'video',\n                                container: {\n                                    154: { name: 'flagInterlaced', value: _types_js__WEBPACK_IMPORTED_MODULE_0__.DataType.bool },\n                                    21432: { name: 'stereoMode', value: _types_js__WEBPACK_IMPORTED_MODULE_0__.DataType.uint },\n                                    176: { name: 'pixelWidth', value: _types_js__WEBPACK_IMPORTED_MODULE_0__.DataType.uint },\n                                    186: { name: 'pixelHeight', value: _types_js__WEBPACK_IMPORTED_MODULE_0__.DataType.uint },\n                                    21680: { name: 'displayWidth', value: _types_js__WEBPACK_IMPORTED_MODULE_0__.DataType.uint },\n                                    21690: { name: 'displayHeight', value: _types_js__WEBPACK_IMPORTED_MODULE_0__.DataType.uint },\n                                    21683: { name: 'aspectRatioType', value: _types_js__WEBPACK_IMPORTED_MODULE_0__.DataType.uint },\n                                    3061028: { name: 'colourSpace', value: _types_js__WEBPACK_IMPORTED_MODULE_0__.DataType.uint },\n                                    3126563: { name: 'gammaValue', value: _types_js__WEBPACK_IMPORTED_MODULE_0__.DataType.float }\n                                }\n                            },\n                            // Audio\n                            225: {\n                                name: 'audio',\n                                container: {\n                                    181: { name: 'samplingFrequency', value: _types_js__WEBPACK_IMPORTED_MODULE_0__.DataType.float },\n                                    30901: { name: 'outputSamplingFrequency', value: _types_js__WEBPACK_IMPORTED_MODULE_0__.DataType.float },\n                                    159: { name: 'channels', value: _types_js__WEBPACK_IMPORTED_MODULE_0__.DataType.uint }, // https://www.matroska.org/technical/specs/index.html\n                                    148: { name: 'channels', value: _types_js__WEBPACK_IMPORTED_MODULE_0__.DataType.uint },\n                                    32123: { name: 'channelPositions', value: _types_js__WEBPACK_IMPORTED_MODULE_0__.DataType.binary },\n                                    25188: { name: 'bitDepth', value: _types_js__WEBPACK_IMPORTED_MODULE_0__.DataType.uint }\n                                }\n                            },\n                            // Content Encoding\n                            28032: {\n                                name: 'contentEncodings',\n                                container: {\n                                    25152: {\n                                        name: 'contentEncoding',\n                                        container: {\n                                            20529: { name: 'order', value: _types_js__WEBPACK_IMPORTED_MODULE_0__.DataType.uint },\n                                            20530: { name: 'scope', value: _types_js__WEBPACK_IMPORTED_MODULE_0__.DataType.bool },\n                                            20531: { name: 'type', value: _types_js__WEBPACK_IMPORTED_MODULE_0__.DataType.uint },\n                                            20532: {\n                                                name: 'contentEncoding',\n                                                container: {\n                                                    16980: { name: 'contentCompAlgo', value: _types_js__WEBPACK_IMPORTED_MODULE_0__.DataType.uint },\n                                                    16981: { name: 'contentCompSettings', value: _types_js__WEBPACK_IMPORTED_MODULE_0__.DataType.binary }\n                                                }\n                                            },\n                                            20533: {\n                                                name: 'contentEncoding',\n                                                container: {\n                                                    18401: { name: 'contentEncAlgo', value: _types_js__WEBPACK_IMPORTED_MODULE_0__.DataType.uint },\n                                                    18402: { name: 'contentEncKeyID', value: _types_js__WEBPACK_IMPORTED_MODULE_0__.DataType.binary },\n                                                    18403: { name: 'contentSignature ', value: _types_js__WEBPACK_IMPORTED_MODULE_0__.DataType.binary },\n                                                    18404: { name: 'ContentSigKeyID  ', value: _types_js__WEBPACK_IMPORTED_MODULE_0__.DataType.binary },\n                                                    18405: { name: 'contentSigAlgo ', value: _types_js__WEBPACK_IMPORTED_MODULE_0__.DataType.uint },\n                                                    18406: { name: 'contentSigHashAlgo ', value: _types_js__WEBPACK_IMPORTED_MODULE_0__.DataType.uint }\n                                                }\n                                            },\n                                            25188: { name: 'bitDepth', value: _types_js__WEBPACK_IMPORTED_MODULE_0__.DataType.uint }\n                                        }\n                                    }\n                                }\n                            }\n                        }\n                    }\n                }\n            },\n            // Cueing Data\n            475249515: {\n                name: 'cues',\n                container: {\n                    187: {\n                        name: 'cuePoint',\n                        container: {\n                            179: { name: 'cueTime', value: _types_js__WEBPACK_IMPORTED_MODULE_0__.DataType.uid },\n                            183: {\n                                name: 'positions',\n                                container: {\n                                    247: { name: 'track', value: _types_js__WEBPACK_IMPORTED_MODULE_0__.DataType.uint },\n                                    241: { name: 'clusterPosition', value: _types_js__WEBPACK_IMPORTED_MODULE_0__.DataType.uint },\n                                    21368: { name: 'blockNumber', value: _types_js__WEBPACK_IMPORTED_MODULE_0__.DataType.uint },\n                                    234: { name: 'codecState', value: _types_js__WEBPACK_IMPORTED_MODULE_0__.DataType.uint },\n                                    219: {\n                                        name: 'reference', container: {\n                                            150: { name: 'time', value: _types_js__WEBPACK_IMPORTED_MODULE_0__.DataType.uint },\n                                            151: { name: 'cluster', value: _types_js__WEBPACK_IMPORTED_MODULE_0__.DataType.uint },\n                                            21343: { name: 'number', value: _types_js__WEBPACK_IMPORTED_MODULE_0__.DataType.uint },\n                                            235: { name: 'codecState', value: _types_js__WEBPACK_IMPORTED_MODULE_0__.DataType.uint }\n                                        }\n                                    },\n                                    240: { name: 'relativePosition', value: _types_js__WEBPACK_IMPORTED_MODULE_0__.DataType.uint } // extended\n                                }\n                            }\n                        }\n                    }\n                }\n            },\n            // Attachment\n            423732329: {\n                name: 'attachments',\n                container: {\n                    24999: {\n                        name: 'attachedFiles',\n                        multiple: true,\n                        container: {\n                            18046: { name: 'description', value: _types_js__WEBPACK_IMPORTED_MODULE_0__.DataType.string },\n                            18030: { name: 'name', value: _types_js__WEBPACK_IMPORTED_MODULE_0__.DataType.string },\n                            18016: { name: 'mimeType', value: _types_js__WEBPACK_IMPORTED_MODULE_0__.DataType.string },\n                            18012: { name: 'data', value: _types_js__WEBPACK_IMPORTED_MODULE_0__.DataType.binary },\n                            18094: { name: 'uid', value: _types_js__WEBPACK_IMPORTED_MODULE_0__.DataType.uid }\n                        }\n                    }\n                }\n            },\n            // Chapters\n            272869232: {\n                name: 'chapters',\n                container: {\n                    17849: {\n                        name: 'editionEntry',\n                        container: {\n                            182: {\n                                name: 'chapterAtom',\n                                container: {\n                                    29636: { name: 'uid', value: _types_js__WEBPACK_IMPORTED_MODULE_0__.DataType.uid },\n                                    145: { name: 'timeStart', value: _types_js__WEBPACK_IMPORTED_MODULE_0__.DataType.uint },\n                                    146: { name: 'timeEnd', value: _types_js__WEBPACK_IMPORTED_MODULE_0__.DataType.uid },\n                                    152: { name: 'hidden', value: _types_js__WEBPACK_IMPORTED_MODULE_0__.DataType.bool },\n                                    17816: { name: 'enabled', value: _types_js__WEBPACK_IMPORTED_MODULE_0__.DataType.uid },\n                                    143: { name: 'track', container: {\n                                            137: { name: 'trackNumber', value: _types_js__WEBPACK_IMPORTED_MODULE_0__.DataType.uid },\n                                            128: {\n                                                name: 'display', container: {\n                                                    133: { name: 'string', value: _types_js__WEBPACK_IMPORTED_MODULE_0__.DataType.string },\n                                                    17276: { name: 'language ', value: _types_js__WEBPACK_IMPORTED_MODULE_0__.DataType.string },\n                                                    17278: { name: 'country ', value: _types_js__WEBPACK_IMPORTED_MODULE_0__.DataType.string }\n                                                }\n                                            }\n                                        }\n                                    }\n                                }\n                            }\n                        }\n                    }\n                }\n            },\n            // Tagging\n            307544935: {\n                name: 'tags',\n                container: {\n                    29555: {\n                        name: 'tag',\n                        multiple: true,\n                        container: {\n                            25536: {\n                                name: 'target',\n                                container: {\n                                    25541: { name: 'tagTrackUID', value: _types_js__WEBPACK_IMPORTED_MODULE_0__.DataType.uid },\n                                    25540: { name: 'tagChapterUID', value: _types_js__WEBPACK_IMPORTED_MODULE_0__.DataType.uint },\n                                    25542: { name: 'tagAttachmentUID', value: _types_js__WEBPACK_IMPORTED_MODULE_0__.DataType.uid },\n                                    25546: { name: 'targetType', value: _types_js__WEBPACK_IMPORTED_MODULE_0__.DataType.string }, // extended\n                                    26826: { name: 'targetTypeValue', value: _types_js__WEBPACK_IMPORTED_MODULE_0__.DataType.uint }, // extended\n                                    25545: { name: 'tagEditionUID', value: _types_js__WEBPACK_IMPORTED_MODULE_0__.DataType.uid } // extended\n                                }\n                            },\n                            26568: {\n                                name: 'simpleTags',\n                                multiple: true,\n                                container: {\n                                    17827: { name: 'name', value: _types_js__WEBPACK_IMPORTED_MODULE_0__.DataType.string },\n                                    17543: { name: 'string', value: _types_js__WEBPACK_IMPORTED_MODULE_0__.DataType.string },\n                                    17541: { name: 'binary', value: _types_js__WEBPACK_IMPORTED_MODULE_0__.DataType.binary },\n                                    17530: { name: 'language', value: _types_js__WEBPACK_IMPORTED_MODULE_0__.DataType.string }, // extended\n                                    17531: { name: 'languageIETF', value: _types_js__WEBPACK_IMPORTED_MODULE_0__.DataType.string }, // extended\n                                    17540: { name: 'default', value: _types_js__WEBPACK_IMPORTED_MODULE_0__.DataType.bool } // extended\n                                }\n                            }\n                        }\n                    }\n                }\n            }\n        }\n    }\n};\n//# sourceMappingURL=MatroskaDtd.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbXVzaWMtbWV0YWRhdGEvbGliL21hdHJvc2thL01hdHJvc2thRHRkLmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQXNDO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0EscUJBQXFCLDRCQUE0QiwrQ0FBUSxPQUFPO0FBQ2hFLHFCQUFxQixnQ0FBZ0MsK0NBQVEsT0FBTztBQUNwRSxxQkFBcUIsK0JBQStCLCtDQUFRLE9BQU87QUFDbkUscUJBQXFCLGlDQUFpQywrQ0FBUSxPQUFPO0FBQ3JFLHFCQUFxQix3QkFBd0IsK0NBQVEsU0FBUztBQUM5RCxxQkFBcUIsK0JBQStCLCtDQUFRLE9BQU87QUFDbkUscUJBQXFCLG1DQUFtQywrQ0FBUSxRQUFRO0FBQ3hFO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQ0FBcUMsdUJBQXVCLCtDQUFRLFNBQVM7QUFDN0UscUNBQXFDLDZCQUE2QiwrQ0FBUTtBQUMxRTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkIsb0JBQW9CLCtDQUFRLE1BQU07QUFDL0QsNkJBQTZCLHlCQUF5QiwrQ0FBUSxTQUFTO0FBQ3ZFLCtCQUErQix3QkFBd0IsK0NBQVEsTUFBTTtBQUNyRSwrQkFBK0IsNkJBQTZCLCtDQUFRLFNBQVM7QUFDN0UsK0JBQStCLHdCQUF3QiwrQ0FBUSxNQUFNO0FBQ3JFLCtCQUErQiw2QkFBNkIsK0NBQVEsU0FBUztBQUM3RSwrQkFBK0IsOEJBQThCLCtDQUFRLE9BQU87QUFDNUUsNkJBQTZCLHlCQUF5QiwrQ0FBUSxRQUFRO0FBQ3RFLDZCQUE2Qix3QkFBd0IsK0NBQVEsT0FBTztBQUNwRSw2QkFBNkIsc0JBQXNCLCtDQUFRLFNBQVM7QUFDcEUsNkJBQTZCLDBCQUEwQiwrQ0FBUSxTQUFTO0FBQ3hFLDZCQUE2QiwyQkFBMkIsK0NBQVE7QUFDaEU7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQix5QkFBeUIsK0NBQVEsTUFBTTtBQUNsRSwyQkFBMkIsd0JBQXdCLCtDQUFRLFNBQVM7QUFDcEUsMkJBQTJCLHlCQUF5QiwrQ0FBUSxNQUFNO0FBQ2xFLDJCQUEyQix5QkFBeUIsK0NBQVE7QUFDNUQ7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1DQUFtQyw0QkFBNEIsK0NBQVEsT0FBTztBQUM5RSxxQ0FBcUMsb0JBQW9CLCtDQUFRLE1BQU07QUFDdkUsbUNBQW1DLDBCQUEwQiwrQ0FBUSxPQUFPO0FBQzVFLG1DQUFtQyw0QkFBNEIsK0NBQVEsT0FBTztBQUM5RSxtQ0FBbUMsNEJBQTRCLCtDQUFRLE9BQU87QUFDOUUscUNBQXFDLDJCQUEyQiwrQ0FBUSxPQUFPO0FBQy9FLG1DQUFtQywyQkFBMkIsK0NBQVEsT0FBTztBQUM3RSxxQ0FBcUMseUJBQXlCLCtDQUFRLE9BQU87QUFDN0UscUNBQXFDLHlCQUF5QiwrQ0FBUSxPQUFPO0FBQzdFLHVDQUF1QyxnQ0FBZ0MsK0NBQVEsT0FBTztBQUN0Rix1Q0FBdUMsOEJBQThCLCtDQUFRLFFBQVE7QUFDckYscUNBQXFDLHFCQUFxQiwrQ0FBUSxTQUFTO0FBQzNFLHVDQUF1Qyx5QkFBeUIsK0NBQVEsU0FBUztBQUNqRixtQ0FBbUMsd0JBQXdCLCtDQUFRLFNBQVM7QUFDNUUscUNBQXFDLDZCQUE2QiwrQ0FBUSxTQUFTO0FBQ25GLHVDQUF1QywwQkFBMEIsK0NBQVEsU0FBUztBQUNsRix1Q0FBdUMsOEJBQThCLCtDQUFRLFNBQVM7QUFDdEYsdUNBQXVDLDZCQUE2QiwrQ0FBUSxTQUFTO0FBQ3JGLHVDQUF1QyxpQ0FBaUMsK0NBQVEsU0FBUztBQUN6RixtQ0FBbUMsK0JBQStCLCtDQUFRLE9BQU87QUFDakYscUNBQXFDLDZCQUE2QiwrQ0FBUSxPQUFPO0FBQ2pGO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkNBQTJDLCtCQUErQiwrQ0FBUSxPQUFPO0FBQ3pGLDZDQUE2QywyQkFBMkIsK0NBQVEsT0FBTztBQUN2RiwyQ0FBMkMsMkJBQTJCLCtDQUFRLE9BQU87QUFDckYsMkNBQTJDLDRCQUE0QiwrQ0FBUSxPQUFPO0FBQ3RGLDZDQUE2Qyw2QkFBNkIsK0NBQVEsT0FBTztBQUN6Riw2Q0FBNkMsOEJBQThCLCtDQUFRLE9BQU87QUFDMUYsNkNBQTZDLGdDQUFnQywrQ0FBUSxPQUFPO0FBQzVGLCtDQUErQyw0QkFBNEIsK0NBQVEsT0FBTztBQUMxRiwrQ0FBK0MsMkJBQTJCLCtDQUFRO0FBQ2xGO0FBQ0EsNkJBQTZCO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkNBQTJDLGtDQUFrQywrQ0FBUSxRQUFRO0FBQzdGLDZDQUE2Qyx3Q0FBd0MsK0NBQVEsUUFBUTtBQUNyRywyQ0FBMkMseUJBQXlCLCtDQUFRLE9BQU87QUFDbkYsMkNBQTJDLHlCQUF5QiwrQ0FBUSxPQUFPO0FBQ25GLDZDQUE2QyxpQ0FBaUMsK0NBQVEsU0FBUztBQUMvRiw2Q0FBNkMseUJBQXlCLCtDQUFRO0FBQzlFO0FBQ0EsNkJBQTZCO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscURBQXFELHNCQUFzQiwrQ0FBUSxPQUFPO0FBQzFGLHFEQUFxRCxzQkFBc0IsK0NBQVEsT0FBTztBQUMxRixxREFBcUQscUJBQXFCLCtDQUFRLE9BQU87QUFDekY7QUFDQTtBQUNBO0FBQ0EsNkRBQTZELGdDQUFnQywrQ0FBUSxPQUFPO0FBQzVHLDZEQUE2RCxvQ0FBb0MsK0NBQVE7QUFDekc7QUFDQSw2Q0FBNkM7QUFDN0M7QUFDQTtBQUNBO0FBQ0EsNkRBQTZELCtCQUErQiwrQ0FBUSxPQUFPO0FBQzNHLDZEQUE2RCxnQ0FBZ0MsK0NBQVEsU0FBUztBQUM5Ryw2REFBNkQsa0NBQWtDLCtDQUFRLFNBQVM7QUFDaEgsNkRBQTZELGtDQUFrQywrQ0FBUSxTQUFTO0FBQ2hILDZEQUE2RCxnQ0FBZ0MsK0NBQVEsT0FBTztBQUM1Ryw2REFBNkQsb0NBQW9DLCtDQUFRO0FBQ3pHO0FBQ0EsNkNBQTZDO0FBQzdDLHFEQUFxRCx5QkFBeUIsK0NBQVE7QUFDdEY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQ0FBbUMsd0JBQXdCLCtDQUFRLE1BQU07QUFDekU7QUFDQTtBQUNBO0FBQ0EsMkNBQTJDLHNCQUFzQiwrQ0FBUSxPQUFPO0FBQ2hGLDJDQUEyQyxnQ0FBZ0MsK0NBQVEsT0FBTztBQUMxRiw2Q0FBNkMsNEJBQTRCLCtDQUFRLE9BQU87QUFDeEYsMkNBQTJDLDJCQUEyQiwrQ0FBUSxPQUFPO0FBQ3JGO0FBQ0E7QUFDQSxtREFBbUQscUJBQXFCLCtDQUFRLE9BQU87QUFDdkYsbURBQW1ELHdCQUF3QiwrQ0FBUSxPQUFPO0FBQzFGLHFEQUFxRCx1QkFBdUIsK0NBQVEsT0FBTztBQUMzRixtREFBbUQsMkJBQTJCLCtDQUFRO0FBQ3RGO0FBQ0EscUNBQXFDO0FBQ3JDLDJDQUEyQyxpQ0FBaUMsK0NBQVEsUUFBUTtBQUM1RjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQ0FBcUMsNEJBQTRCLCtDQUFRLFNBQVM7QUFDbEYscUNBQXFDLHFCQUFxQiwrQ0FBUSxTQUFTO0FBQzNFLHFDQUFxQyx5QkFBeUIsK0NBQVEsU0FBUztBQUMvRSxxQ0FBcUMscUJBQXFCLCtDQUFRLFNBQVM7QUFDM0UscUNBQXFDLG9CQUFvQiwrQ0FBUTtBQUNqRTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2Q0FBNkMsb0JBQW9CLCtDQUFRLE1BQU07QUFDL0UsMkNBQTJDLDBCQUEwQiwrQ0FBUSxPQUFPO0FBQ3BGLDJDQUEyQyx3QkFBd0IsK0NBQVEsTUFBTTtBQUNqRiwyQ0FBMkMsdUJBQXVCLCtDQUFRLE9BQU87QUFDakYsNkNBQTZDLHdCQUF3QiwrQ0FBUSxNQUFNO0FBQ25GLDJDQUEyQztBQUMzQyxtREFBbUQsNEJBQTRCLCtDQUFRLE1BQU07QUFDN0Y7QUFDQTtBQUNBLDJEQUEyRCx1QkFBdUIsK0NBQVEsU0FBUztBQUNuRyw2REFBNkQsMEJBQTBCLCtDQUFRLFNBQVM7QUFDeEcsNkRBQTZELHlCQUF5QiwrQ0FBUTtBQUM5RjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZDQUE2Qyw0QkFBNEIsK0NBQVEsTUFBTTtBQUN2Riw2Q0FBNkMsOEJBQThCLCtDQUFRLE9BQU87QUFDMUYsNkNBQTZDLGlDQUFpQywrQ0FBUSxNQUFNO0FBQzVGLDZDQUE2QywyQkFBMkIsK0NBQVEsU0FBUztBQUN6Riw2Q0FBNkMsZ0NBQWdDLCtDQUFRLE9BQU87QUFDNUYsNkNBQTZDLDhCQUE4QiwrQ0FBUSxPQUFPO0FBQzFGO0FBQ0EsNkJBQTZCO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkNBQTZDLHFCQUFxQiwrQ0FBUSxTQUFTO0FBQ25GLDZDQUE2Qyx1QkFBdUIsK0NBQVEsU0FBUztBQUNyRiw2Q0FBNkMsdUJBQXVCLCtDQUFRLFNBQVM7QUFDckYsNkNBQTZDLHlCQUF5QiwrQ0FBUSxTQUFTO0FBQ3ZGLDZDQUE2Qyw2QkFBNkIsK0NBQVEsU0FBUztBQUMzRiw2Q0FBNkMsd0JBQXdCLCtDQUFRLFFBQVE7QUFDckY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9kZXZlbGV2YXRlLy4vbm9kZV9tb2R1bGVzL211c2ljLW1ldGFkYXRhL2xpYi9tYXRyb3NrYS9NYXRyb3NrYUR0ZC5qcz9lMDI1Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IERhdGFUeXBlIH0gZnJvbSAnLi90eXBlcy5qcyc7XG4vKipcbiAqIEVsZW1lbnRzIG9mIGRvY3VtZW50IHR5cGUgZGVzY3JpcHRpb25cbiAqIERlcml2ZWQgZnJvbSBodHRwczovL2dpdGh1Yi5jb20vdHVuZ29sL0VCTUwvYmxvYi9tYXN0ZXIvZG9jdHlwZXMvbWF0cm9za2EuZHRkXG4gKiBFeHRlbmRlZCB3aXRoOlxuICogLSBodHRwczovL3d3dy5tYXRyb3NrYS5vcmcvdGVjaG5pY2FsL3NwZWNzL2luZGV4Lmh0bWxcbiAqL1xuZXhwb3J0IGNvbnN0IGVsZW1lbnRzID0ge1xuICAgIDQ0MDc4Njg1MToge1xuICAgICAgICBuYW1lOiAnZWJtbCcsXG4gICAgICAgIGNvbnRhaW5lcjoge1xuICAgICAgICAgICAgMTcwMzA6IHsgbmFtZTogJ2VibWxWZXJzaW9uJywgdmFsdWU6IERhdGFUeXBlLnVpbnQgfSwgLy8gNS4xLjFcbiAgICAgICAgICAgIDE3MTQzOiB7IG5hbWU6ICdlYm1sUmVhZFZlcnNpb24nLCB2YWx1ZTogRGF0YVR5cGUudWludCB9LCAvLyA1LjEuMlxuICAgICAgICAgICAgMTcxMzg6IHsgbmFtZTogJ2VibWxNYXhJRFdpZHRoJywgdmFsdWU6IERhdGFUeXBlLnVpbnQgfSwgLy8gNS4xLjNcbiAgICAgICAgICAgIDE3MTM5OiB7IG5hbWU6ICdlYm1sTWF4U2l6ZVdpZHRoJywgdmFsdWU6IERhdGFUeXBlLnVpbnQgfSwgLy8gNS4xLjRcbiAgICAgICAgICAgIDE3MDI2OiB7IG5hbWU6ICdkb2NUeXBlJywgdmFsdWU6IERhdGFUeXBlLnN0cmluZyB9LCAvLyA1LjEuNVxuICAgICAgICAgICAgMTcwMzE6IHsgbmFtZTogJ2RvY1R5cGVWZXJzaW9uJywgdmFsdWU6IERhdGFUeXBlLnVpbnQgfSwgLy8gNS4xLjZcbiAgICAgICAgICAgIDE3MDI5OiB7IG5hbWU6ICdkb2NUeXBlUmVhZFZlcnNpb24nLCB2YWx1ZTogRGF0YVR5cGUudWludCB9IC8vIDUuMS43XG4gICAgICAgIH1cbiAgICB9LFxuICAgIC8vIE1hdHJvc2thIHNlZ21lbnRzXG4gICAgNDA4MTI1NTQzOiB7XG4gICAgICAgIG5hbWU6ICdzZWdtZW50JyxcbiAgICAgICAgY29udGFpbmVyOiB7XG4gICAgICAgICAgICAvLyBNZXRhIFNlZWsgSW5mb3JtYXRpb25cbiAgICAgICAgICAgIDI5MDI5ODc0MDoge1xuICAgICAgICAgICAgICAgIG5hbWU6ICdzZWVrSGVhZCcsXG4gICAgICAgICAgICAgICAgY29udGFpbmVyOiB7XG4gICAgICAgICAgICAgICAgICAgIDE5ODk5OiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiAnc2VlaycsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250YWluZXI6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAyMTQxOTogeyBuYW1lOiAnc2Vla0lkJywgdmFsdWU6IERhdGFUeXBlLmJpbmFyeSB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDIxNDIwOiB7IG5hbWU6ICdzZWVrUG9zaXRpb24nLCB2YWx1ZTogRGF0YVR5cGUudWludCB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgLy8gU2VnbWVudCBJbmZvcm1hdGlvblxuICAgICAgICAgICAgMzU3MTQ5MDMwOiB7XG4gICAgICAgICAgICAgICAgbmFtZTogJ2luZm8nLFxuICAgICAgICAgICAgICAgIGNvbnRhaW5lcjoge1xuICAgICAgICAgICAgICAgICAgICAyOTYwNDogeyBuYW1lOiAndWlkJywgdmFsdWU6IERhdGFUeXBlLnVpZCB9LFxuICAgICAgICAgICAgICAgICAgICAyOTU3MjogeyBuYW1lOiAnZmlsZW5hbWUnLCB2YWx1ZTogRGF0YVR5cGUuc3RyaW5nIH0sXG4gICAgICAgICAgICAgICAgICAgIDM5Nzk1NTU6IHsgbmFtZTogJ3ByZXZVSUQnLCB2YWx1ZTogRGF0YVR5cGUudWlkIH0sXG4gICAgICAgICAgICAgICAgICAgIDM5NjU4Njc6IHsgbmFtZTogJ3ByZXZGaWxlbmFtZScsIHZhbHVlOiBEYXRhVHlwZS5zdHJpbmcgfSxcbiAgICAgICAgICAgICAgICAgICAgNDExMDYyNzogeyBuYW1lOiAnbmV4dFVJRCcsIHZhbHVlOiBEYXRhVHlwZS51aWQgfSxcbiAgICAgICAgICAgICAgICAgICAgNDA5Njk1NTogeyBuYW1lOiAnbmV4dEZpbGVuYW1lJywgdmFsdWU6IERhdGFUeXBlLnN0cmluZyB9LFxuICAgICAgICAgICAgICAgICAgICAyODA3NzI5OiB7IG5hbWU6ICd0aW1lY29kZVNjYWxlJywgdmFsdWU6IERhdGFUeXBlLnVpbnQgfSxcbiAgICAgICAgICAgICAgICAgICAgMTc1NDU6IHsgbmFtZTogJ2R1cmF0aW9uJywgdmFsdWU6IERhdGFUeXBlLmZsb2F0IH0sXG4gICAgICAgICAgICAgICAgICAgIDE3NTA1OiB7IG5hbWU6ICdkYXRlVVRDJywgdmFsdWU6IERhdGFUeXBlLnVpbnQgfSxcbiAgICAgICAgICAgICAgICAgICAgMzE2NTc6IHsgbmFtZTogJ3RpdGxlJywgdmFsdWU6IERhdGFUeXBlLnN0cmluZyB9LFxuICAgICAgICAgICAgICAgICAgICAxOTg0MDogeyBuYW1lOiAnbXV4aW5nQXBwJywgdmFsdWU6IERhdGFUeXBlLnN0cmluZyB9LFxuICAgICAgICAgICAgICAgICAgICAyMjMzNzogeyBuYW1lOiAnd3JpdGluZ0FwcCcsIHZhbHVlOiBEYXRhVHlwZS5zdHJpbmcgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAvLyBDbHVzdGVyXG4gICAgICAgICAgICA1MjQ1MzEzMTc6IHtcbiAgICAgICAgICAgICAgICBuYW1lOiAnY2x1c3RlcicsXG4gICAgICAgICAgICAgICAgbXVsdGlwbGU6IHRydWUsXG4gICAgICAgICAgICAgICAgY29udGFpbmVyOiB7XG4gICAgICAgICAgICAgICAgICAgIDIzMTogeyBuYW1lOiAndGltZWNvZGUnLCB2YWx1ZTogRGF0YVR5cGUudWlkIH0sXG4gICAgICAgICAgICAgICAgICAgIDE2MzogeyBuYW1lOiAndW5rbm93bicsIHZhbHVlOiBEYXRhVHlwZS5iaW5hcnkgfSxcbiAgICAgICAgICAgICAgICAgICAgMTY3OiB7IG5hbWU6ICdwb3NpdGlvbicsIHZhbHVlOiBEYXRhVHlwZS51aWQgfSxcbiAgICAgICAgICAgICAgICAgICAgMTcxOiB7IG5hbWU6ICdwcmV2U2l6ZScsIHZhbHVlOiBEYXRhVHlwZS51aWQgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAvLyBUcmFja1xuICAgICAgICAgICAgMzc0NjQ4NDI3OiB7XG4gICAgICAgICAgICAgICAgbmFtZTogJ3RyYWNrcycsXG4gICAgICAgICAgICAgICAgY29udGFpbmVyOiB7XG4gICAgICAgICAgICAgICAgICAgIDE3NDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogJ2VudHJpZXMnLFxuICAgICAgICAgICAgICAgICAgICAgICAgbXVsdGlwbGU6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250YWluZXI6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAyMTU6IHsgbmFtZTogJ3RyYWNrTnVtYmVyJywgdmFsdWU6IERhdGFUeXBlLnVpbnQgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAyOTYzNzogeyBuYW1lOiAndWlkJywgdmFsdWU6IERhdGFUeXBlLnVpZCB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDEzMTogeyBuYW1lOiAndHJhY2tUeXBlJywgdmFsdWU6IERhdGFUeXBlLnVpbnQgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAxODU6IHsgbmFtZTogJ2ZsYWdFbmFibGVkJywgdmFsdWU6IERhdGFUeXBlLmJvb2wgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAxMzY6IHsgbmFtZTogJ2ZsYWdEZWZhdWx0JywgdmFsdWU6IERhdGFUeXBlLmJvb2wgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAyMTkzMDogeyBuYW1lOiAnZmxhZ0ZvcmNlZCcsIHZhbHVlOiBEYXRhVHlwZS5ib29sIH0sIC8vIGV4dGVuZGVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgMTU2OiB7IG5hbWU6ICdmbGFnTGFjaW5nJywgdmFsdWU6IERhdGFUeXBlLmJvb2wgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAyODEzNTogeyBuYW1lOiAnbWluQ2FjaGUnLCB2YWx1ZTogRGF0YVR5cGUudWludCB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDI4MTM2OiB7IG5hbWU6ICdtYXhDYWNoZScsIHZhbHVlOiBEYXRhVHlwZS51aW50IH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgMjM1MjAwMzogeyBuYW1lOiAnZGVmYXVsdER1cmF0aW9uJywgdmFsdWU6IERhdGFUeXBlLnVpbnQgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAyMzA2MzgzOiB7IG5hbWU6ICd0aW1lY29kZVNjYWxlJywgdmFsdWU6IERhdGFUeXBlLmZsb2F0IH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgMjEzNTg6IHsgbmFtZTogJ25hbWUnLCB2YWx1ZTogRGF0YVR5cGUuc3RyaW5nIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgMjI3NDcxNjogeyBuYW1lOiAnbGFuZ3VhZ2UnLCB2YWx1ZTogRGF0YVR5cGUuc3RyaW5nIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgMTM0OiB7IG5hbWU6ICdjb2RlY0lEJywgdmFsdWU6IERhdGFUeXBlLnN0cmluZyB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDI1NTA2OiB7IG5hbWU6ICdjb2RlY1ByaXZhdGUnLCB2YWx1ZTogRGF0YVR5cGUuYmluYXJ5IH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgMjQ1OTI3MjogeyBuYW1lOiAnY29kZWNOYW1lJywgdmFsdWU6IERhdGFUeXBlLnN0cmluZyB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDM4Mzk2Mzk6IHsgbmFtZTogJ2NvZGVjU2V0dGluZ3MnLCB2YWx1ZTogRGF0YVR5cGUuc3RyaW5nIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgMzg4MzA3MjogeyBuYW1lOiAnY29kZWNJbmZvVXJsJywgdmFsdWU6IERhdGFUeXBlLnN0cmluZyB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDI1MzYwMDA6IHsgbmFtZTogJ2NvZGVjRG93bmxvYWRVcmwnLCB2YWx1ZTogRGF0YVR5cGUuc3RyaW5nIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgMTcwOiB7IG5hbWU6ICdjb2RlY0RlY29kZUFsbCcsIHZhbHVlOiBEYXRhVHlwZS5ib29sIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgMjg1ODc6IHsgbmFtZTogJ3RyYWNrT3ZlcmxheScsIHZhbHVlOiBEYXRhVHlwZS51aW50IH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gVmlkZW9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAyMjQ6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogJ3ZpZGVvJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGFpbmVyOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAxNTQ6IHsgbmFtZTogJ2ZsYWdJbnRlcmxhY2VkJywgdmFsdWU6IERhdGFUeXBlLmJvb2wgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDIxNDMyOiB7IG5hbWU6ICdzdGVyZW9Nb2RlJywgdmFsdWU6IERhdGFUeXBlLnVpbnQgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDE3NjogeyBuYW1lOiAncGl4ZWxXaWR0aCcsIHZhbHVlOiBEYXRhVHlwZS51aW50IH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAxODY6IHsgbmFtZTogJ3BpeGVsSGVpZ2h0JywgdmFsdWU6IERhdGFUeXBlLnVpbnQgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDIxNjgwOiB7IG5hbWU6ICdkaXNwbGF5V2lkdGgnLCB2YWx1ZTogRGF0YVR5cGUudWludCB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgMjE2OTA6IHsgbmFtZTogJ2Rpc3BsYXlIZWlnaHQnLCB2YWx1ZTogRGF0YVR5cGUudWludCB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgMjE2ODM6IHsgbmFtZTogJ2FzcGVjdFJhdGlvVHlwZScsIHZhbHVlOiBEYXRhVHlwZS51aW50IH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAzMDYxMDI4OiB7IG5hbWU6ICdjb2xvdXJTcGFjZScsIHZhbHVlOiBEYXRhVHlwZS51aW50IH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAzMTI2NTYzOiB7IG5hbWU6ICdnYW1tYVZhbHVlJywgdmFsdWU6IERhdGFUeXBlLmZsb2F0IH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQXVkaW9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAyMjU6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogJ2F1ZGlvJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGFpbmVyOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAxODE6IHsgbmFtZTogJ3NhbXBsaW5nRnJlcXVlbmN5JywgdmFsdWU6IERhdGFUeXBlLmZsb2F0IH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAzMDkwMTogeyBuYW1lOiAnb3V0cHV0U2FtcGxpbmdGcmVxdWVuY3knLCB2YWx1ZTogRGF0YVR5cGUuZmxvYXQgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDE1OTogeyBuYW1lOiAnY2hhbm5lbHMnLCB2YWx1ZTogRGF0YVR5cGUudWludCB9LCAvLyBodHRwczovL3d3dy5tYXRyb3NrYS5vcmcvdGVjaG5pY2FsL3NwZWNzL2luZGV4Lmh0bWxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDE0ODogeyBuYW1lOiAnY2hhbm5lbHMnLCB2YWx1ZTogRGF0YVR5cGUudWludCB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgMzIxMjM6IHsgbmFtZTogJ2NoYW5uZWxQb3NpdGlvbnMnLCB2YWx1ZTogRGF0YVR5cGUuYmluYXJ5IH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAyNTE4ODogeyBuYW1lOiAnYml0RGVwdGgnLCB2YWx1ZTogRGF0YVR5cGUudWludCB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIENvbnRlbnQgRW5jb2RpbmdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAyODAzMjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiAnY29udGVudEVuY29kaW5ncycsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRhaW5lcjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgMjUxNTI6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiAnY29udGVudEVuY29kaW5nJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250YWluZXI6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgMjA1Mjk6IHsgbmFtZTogJ29yZGVyJywgdmFsdWU6IERhdGFUeXBlLnVpbnQgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgMjA1MzA6IHsgbmFtZTogJ3Njb3BlJywgdmFsdWU6IERhdGFUeXBlLmJvb2wgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgMjA1MzE6IHsgbmFtZTogJ3R5cGUnLCB2YWx1ZTogRGF0YVR5cGUudWludCB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAyMDUzMjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogJ2NvbnRlbnRFbmNvZGluZycsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250YWluZXI6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAxNjk4MDogeyBuYW1lOiAnY29udGVudENvbXBBbGdvJywgdmFsdWU6IERhdGFUeXBlLnVpbnQgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAxNjk4MTogeyBuYW1lOiAnY29udGVudENvbXBTZXR0aW5ncycsIHZhbHVlOiBEYXRhVHlwZS5iaW5hcnkgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAyMDUzMzoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogJ2NvbnRlbnRFbmNvZGluZycsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250YWluZXI6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAxODQwMTogeyBuYW1lOiAnY29udGVudEVuY0FsZ28nLCB2YWx1ZTogRGF0YVR5cGUudWludCB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDE4NDAyOiB7IG5hbWU6ICdjb250ZW50RW5jS2V5SUQnLCB2YWx1ZTogRGF0YVR5cGUuYmluYXJ5IH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgMTg0MDM6IHsgbmFtZTogJ2NvbnRlbnRTaWduYXR1cmUgJywgdmFsdWU6IERhdGFUeXBlLmJpbmFyeSB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDE4NDA0OiB7IG5hbWU6ICdDb250ZW50U2lnS2V5SUQgICcsIHZhbHVlOiBEYXRhVHlwZS5iaW5hcnkgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAxODQwNTogeyBuYW1lOiAnY29udGVudFNpZ0FsZ28gJywgdmFsdWU6IERhdGFUeXBlLnVpbnQgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAxODQwNjogeyBuYW1lOiAnY29udGVudFNpZ0hhc2hBbGdvICcsIHZhbHVlOiBEYXRhVHlwZS51aW50IH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgMjUxODg6IHsgbmFtZTogJ2JpdERlcHRoJywgdmFsdWU6IERhdGFUeXBlLnVpbnQgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAvLyBDdWVpbmcgRGF0YVxuICAgICAgICAgICAgNDc1MjQ5NTE1OiB7XG4gICAgICAgICAgICAgICAgbmFtZTogJ2N1ZXMnLFxuICAgICAgICAgICAgICAgIGNvbnRhaW5lcjoge1xuICAgICAgICAgICAgICAgICAgICAxODc6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6ICdjdWVQb2ludCcsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250YWluZXI6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAxNzk6IHsgbmFtZTogJ2N1ZVRpbWUnLCB2YWx1ZTogRGF0YVR5cGUudWlkIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgMTgzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6ICdwb3NpdGlvbnMnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250YWluZXI6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDI0NzogeyBuYW1lOiAndHJhY2snLCB2YWx1ZTogRGF0YVR5cGUudWludCB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgMjQxOiB7IG5hbWU6ICdjbHVzdGVyUG9zaXRpb24nLCB2YWx1ZTogRGF0YVR5cGUudWludCB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgMjEzNjg6IHsgbmFtZTogJ2Jsb2NrTnVtYmVyJywgdmFsdWU6IERhdGFUeXBlLnVpbnQgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDIzNDogeyBuYW1lOiAnY29kZWNTdGF0ZScsIHZhbHVlOiBEYXRhVHlwZS51aW50IH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAyMTk6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiAncmVmZXJlbmNlJywgY29udGFpbmVyOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDE1MDogeyBuYW1lOiAndGltZScsIHZhbHVlOiBEYXRhVHlwZS51aW50IH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDE1MTogeyBuYW1lOiAnY2x1c3RlcicsIHZhbHVlOiBEYXRhVHlwZS51aW50IH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDIxMzQzOiB7IG5hbWU6ICdudW1iZXInLCB2YWx1ZTogRGF0YVR5cGUudWludCB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAyMzU6IHsgbmFtZTogJ2NvZGVjU3RhdGUnLCB2YWx1ZTogRGF0YVR5cGUudWludCB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDI0MDogeyBuYW1lOiAncmVsYXRpdmVQb3NpdGlvbicsIHZhbHVlOiBEYXRhVHlwZS51aW50IH0gLy8gZXh0ZW5kZWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAvLyBBdHRhY2htZW50XG4gICAgICAgICAgICA0MjM3MzIzMjk6IHtcbiAgICAgICAgICAgICAgICBuYW1lOiAnYXR0YWNobWVudHMnLFxuICAgICAgICAgICAgICAgIGNvbnRhaW5lcjoge1xuICAgICAgICAgICAgICAgICAgICAyNDk5OToge1xuICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogJ2F0dGFjaGVkRmlsZXMnLFxuICAgICAgICAgICAgICAgICAgICAgICAgbXVsdGlwbGU6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250YWluZXI6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAxODA0NjogeyBuYW1lOiAnZGVzY3JpcHRpb24nLCB2YWx1ZTogRGF0YVR5cGUuc3RyaW5nIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgMTgwMzA6IHsgbmFtZTogJ25hbWUnLCB2YWx1ZTogRGF0YVR5cGUuc3RyaW5nIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgMTgwMTY6IHsgbmFtZTogJ21pbWVUeXBlJywgdmFsdWU6IERhdGFUeXBlLnN0cmluZyB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDE4MDEyOiB7IG5hbWU6ICdkYXRhJywgdmFsdWU6IERhdGFUeXBlLmJpbmFyeSB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDE4MDk0OiB7IG5hbWU6ICd1aWQnLCB2YWx1ZTogRGF0YVR5cGUudWlkIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAvLyBDaGFwdGVyc1xuICAgICAgICAgICAgMjcyODY5MjMyOiB7XG4gICAgICAgICAgICAgICAgbmFtZTogJ2NoYXB0ZXJzJyxcbiAgICAgICAgICAgICAgICBjb250YWluZXI6IHtcbiAgICAgICAgICAgICAgICAgICAgMTc4NDk6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6ICdlZGl0aW9uRW50cnknLFxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGFpbmVyOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgMTgyOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6ICdjaGFwdGVyQXRvbScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRhaW5lcjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgMjk2MzY6IHsgbmFtZTogJ3VpZCcsIHZhbHVlOiBEYXRhVHlwZS51aWQgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDE0NTogeyBuYW1lOiAndGltZVN0YXJ0JywgdmFsdWU6IERhdGFUeXBlLnVpbnQgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDE0NjogeyBuYW1lOiAndGltZUVuZCcsIHZhbHVlOiBEYXRhVHlwZS51aWQgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDE1MjogeyBuYW1lOiAnaGlkZGVuJywgdmFsdWU6IERhdGFUeXBlLmJvb2wgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDE3ODE2OiB7IG5hbWU6ICdlbmFibGVkJywgdmFsdWU6IERhdGFUeXBlLnVpZCB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgMTQzOiB7IG5hbWU6ICd0cmFjaycsIGNvbnRhaW5lcjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAxMzc6IHsgbmFtZTogJ3RyYWNrTnVtYmVyJywgdmFsdWU6IERhdGFUeXBlLnVpZCB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAxMjg6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6ICdkaXNwbGF5JywgY29udGFpbmVyOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgMTMzOiB7IG5hbWU6ICdzdHJpbmcnLCB2YWx1ZTogRGF0YVR5cGUuc3RyaW5nIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgMTcyNzY6IHsgbmFtZTogJ2xhbmd1YWdlICcsIHZhbHVlOiBEYXRhVHlwZS5zdHJpbmcgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAxNzI3ODogeyBuYW1lOiAnY291bnRyeSAnLCB2YWx1ZTogRGF0YVR5cGUuc3RyaW5nIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAvLyBUYWdnaW5nXG4gICAgICAgICAgICAzMDc1NDQ5MzU6IHtcbiAgICAgICAgICAgICAgICBuYW1lOiAndGFncycsXG4gICAgICAgICAgICAgICAgY29udGFpbmVyOiB7XG4gICAgICAgICAgICAgICAgICAgIDI5NTU1OiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiAndGFnJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG11bHRpcGxlOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGFpbmVyOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgMjU1MzY6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogJ3RhcmdldCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRhaW5lcjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgMjU1NDE6IHsgbmFtZTogJ3RhZ1RyYWNrVUlEJywgdmFsdWU6IERhdGFUeXBlLnVpZCB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgMjU1NDA6IHsgbmFtZTogJ3RhZ0NoYXB0ZXJVSUQnLCB2YWx1ZTogRGF0YVR5cGUudWludCB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgMjU1NDI6IHsgbmFtZTogJ3RhZ0F0dGFjaG1lbnRVSUQnLCB2YWx1ZTogRGF0YVR5cGUudWlkIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAyNTU0NjogeyBuYW1lOiAndGFyZ2V0VHlwZScsIHZhbHVlOiBEYXRhVHlwZS5zdHJpbmcgfSwgLy8gZXh0ZW5kZWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDI2ODI2OiB7IG5hbWU6ICd0YXJnZXRUeXBlVmFsdWUnLCB2YWx1ZTogRGF0YVR5cGUudWludCB9LCAvLyBleHRlbmRlZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgMjU1NDU6IHsgbmFtZTogJ3RhZ0VkaXRpb25VSUQnLCB2YWx1ZTogRGF0YVR5cGUudWlkIH0gLy8gZXh0ZW5kZWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgMjY1Njg6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogJ3NpbXBsZVRhZ3MnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtdWx0aXBsZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGFpbmVyOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAxNzgyNzogeyBuYW1lOiAnbmFtZScsIHZhbHVlOiBEYXRhVHlwZS5zdHJpbmcgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDE3NTQzOiB7IG5hbWU6ICdzdHJpbmcnLCB2YWx1ZTogRGF0YVR5cGUuc3RyaW5nIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAxNzU0MTogeyBuYW1lOiAnYmluYXJ5JywgdmFsdWU6IERhdGFUeXBlLmJpbmFyeSB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgMTc1MzA6IHsgbmFtZTogJ2xhbmd1YWdlJywgdmFsdWU6IERhdGFUeXBlLnN0cmluZyB9LCAvLyBleHRlbmRlZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgMTc1MzE6IHsgbmFtZTogJ2xhbmd1YWdlSUVURicsIHZhbHVlOiBEYXRhVHlwZS5zdHJpbmcgfSwgLy8gZXh0ZW5kZWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDE3NTQwOiB7IG5hbWU6ICdkZWZhdWx0JywgdmFsdWU6IERhdGFUeXBlLmJvb2wgfSAvLyBleHRlbmRlZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPU1hdHJvc2thRHRkLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/music-metadata/lib/matroska/MatroskaDtd.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/music-metadata/lib/matroska/MatroskaParser.js":
/*!********************************************************************!*\
  !*** ./node_modules/music-metadata/lib/matroska/MatroskaParser.js ***!
  \********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   MatroskaParser: () => (/* binding */ MatroskaParser)\n/* harmony export */ });\n/* harmony import */ var token_types__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! token-types */ \"(ssr)/./node_modules/token-types/lib/index.js\");\n/* harmony import */ var debug__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! debug */ \"(ssr)/./node_modules/debug/src/index.js\");\n/* harmony import */ var strtok3__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! strtok3 */ \"(ssr)/./node_modules/strtok3/lib/index.js\");\n/* harmony import */ var _common_BasicParser_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../common/BasicParser.js */ \"(ssr)/./node_modules/music-metadata/lib/common/BasicParser.js\");\n/* harmony import */ var _MatroskaDtd_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./MatroskaDtd.js */ \"(ssr)/./node_modules/music-metadata/lib/matroska/MatroskaDtd.js\");\n/* harmony import */ var _types_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./types.js */ \"(ssr)/./node_modules/music-metadata/lib/matroska/types.js\");\n\n\n\n\n\n\n\nconst debug = debug__WEBPACK_IMPORTED_MODULE_1__('music-metadata:parser:matroska');\n/**\n * Extensible Binary Meta Language (EBML) parser\n * https://en.wikipedia.org/wiki/Extensible_Binary_Meta_Language\n * http://matroska.sourceforge.net/technical/specs/rfc/index.html\n *\n * WEBM VP8 AUDIO FILE\n */\nclass MatroskaParser extends _common_BasicParser_js__WEBPACK_IMPORTED_MODULE_3__.BasicParser {\n    constructor() {\n        super();\n        this.padding = 0;\n        this.parserMap = new Map();\n        this.ebmlMaxIDLength = 4;\n        this.ebmlMaxSizeLength = 8;\n        this.parserMap.set(_types_js__WEBPACK_IMPORTED_MODULE_5__.DataType.uint, e => this.readUint(e));\n        this.parserMap.set(_types_js__WEBPACK_IMPORTED_MODULE_5__.DataType.string, e => this.readString(e));\n        this.parserMap.set(_types_js__WEBPACK_IMPORTED_MODULE_5__.DataType.binary, e => this.readBuffer(e));\n        this.parserMap.set(_types_js__WEBPACK_IMPORTED_MODULE_5__.DataType.uid, async (e) => this.readBuffer(e));\n        this.parserMap.set(_types_js__WEBPACK_IMPORTED_MODULE_5__.DataType.bool, e => this.readFlag(e));\n        this.parserMap.set(_types_js__WEBPACK_IMPORTED_MODULE_5__.DataType.float, e => this.readFloat(e));\n    }\n    /**\n     * Initialize parser with output (metadata), input (tokenizer) & parsing options (options).\n     * @param {INativeMetadataCollector} metadata Output\n     * @param {ITokenizer} tokenizer Input\n     * @param {IOptions} options Parsing options\n     */\n    init(metadata, tokenizer, options) {\n        super.init(metadata, tokenizer, options);\n        return this;\n    }\n    async parse() {\n        var _a;\n        const containerSize = (_a = this.tokenizer.fileInfo.size) !== null && _a !== void 0 ? _a : Number.MAX_SAFE_INTEGER;\n        const matroska = await this.parseContainer(_MatroskaDtd_js__WEBPACK_IMPORTED_MODULE_4__.elements, containerSize, []);\n        this.metadata.setFormat('container', `EBML/${matroska.ebml.docType}`);\n        if (matroska.segment) {\n            const info = matroska.segment.info;\n            if (info) {\n                const timecodeScale = info.timecodeScale ? info.timecodeScale : 1000000;\n                if (typeof info.duration === 'number') {\n                    const duration = info.duration * timecodeScale / 1000000000;\n                    await this.addTag('segment:title', info.title);\n                    this.metadata.setFormat('duration', Number(duration));\n                }\n            }\n            const audioTracks = matroska.segment.tracks;\n            if (audioTracks === null || audioTracks === void 0 ? void 0 : audioTracks.entries) {\n                audioTracks.entries.forEach(entry => {\n                    const stream = {\n                        codecName: entry.codecID.replace('A_', '').replace('V_', ''),\n                        codecSettings: entry.codecSettings,\n                        flagDefault: entry.flagDefault,\n                        flagLacing: entry.flagLacing,\n                        flagEnabled: entry.flagEnabled,\n                        language: entry.language,\n                        name: entry.name,\n                        type: entry.trackType,\n                        audio: entry.audio,\n                        video: entry.video\n                    };\n                    this.metadata.addStreamInfo(stream);\n                });\n                const audioTrack = audioTracks.entries\n                    .filter(entry => entry.trackType === _types_js__WEBPACK_IMPORTED_MODULE_5__.TrackType.audio)\n                    .reduce((acc, cur) => {\n                    if (!acc)\n                        return cur;\n                    if (cur.flagDefault && !acc.flagDefault)\n                        return cur;\n                    if (cur.trackNumber < acc.trackNumber)\n                        return cur;\n                    return acc;\n                }, null);\n                if (audioTrack) {\n                    this.metadata.setFormat('codec', audioTrack.codecID.replace('A_', ''));\n                    this.metadata.setFormat('sampleRate', audioTrack.audio.samplingFrequency);\n                    this.metadata.setFormat('numberOfChannels', audioTrack.audio.channels);\n                }\n                if (matroska.segment.tags) {\n                    await Promise.all(matroska.segment.tags.tag.map(async (tag) => {\n                        const target = tag.target;\n                        const targetType = (target === null || target === void 0 ? void 0 : target.targetTypeValue) ? _types_js__WEBPACK_IMPORTED_MODULE_5__.TargetType[target.targetTypeValue] : ((target === null || target === void 0 ? void 0 : target.targetType) ? target.targetType : 'track');\n                        await Promise.all(tag.simpleTags.map(async (simpleTag) => {\n                            const value = simpleTag.string ? simpleTag.string : simpleTag.binary;\n                            await this.addTag(`${targetType}:${simpleTag.name}`, value);\n                        }));\n                    }));\n                }\n                if (matroska.segment.attachments) {\n                    await Promise.all(matroska.segment.attachments.attachedFiles\n                        .filter(file => file.mimeType.startsWith('image/'))\n                        .map(file => this.addTag('picture', {\n                        data: file.data,\n                        format: file.mimeType,\n                        description: file.description,\n                        name: file.name\n                    })));\n                }\n            }\n        }\n    }\n    async parseContainer(container, posDone, path) {\n        const tree = {};\n        while (this.tokenizer.position < posDone) {\n            let element;\n            try {\n                element = await this.readElement();\n            }\n            catch (error) {\n                if (error instanceof strtok3__WEBPACK_IMPORTED_MODULE_2__.EndOfStreamError) {\n                    break;\n                }\n                throw error;\n            }\n            const type = container[element.id];\n            if (type) {\n                debug(`Element: name=${type.name}, container=${!!type.container}`);\n                if (type.container) {\n                    const res = await this.parseContainer(type.container, element.len >= 0 ? this.tokenizer.position + element.len : -1, path.concat([type.name]));\n                    if (type.multiple) {\n                        if (!tree[type.name]) {\n                            tree[type.name] = [];\n                        }\n                        tree[type.name].push(res);\n                    }\n                    else {\n                        tree[type.name] = res;\n                    }\n                }\n                else {\n                    const parser = this.parserMap.get(type.value);\n                    if (typeof parser === 'function') {\n                        tree[type.name] = await parser(element);\n                    }\n                }\n            }\n            else {\n                switch (element.id) {\n                    case 0xec: // void\n                        this.padding += element.len;\n                        await this.tokenizer.ignore(element.len);\n                        break;\n                    default:\n                        debug(`parseEbml: path=${path.join('/')}, unknown element: id=${element.id.toString(16)}`);\n                        this.padding += element.len;\n                        await this.tokenizer.ignore(element.len);\n                }\n            }\n        }\n        return tree;\n    }\n    async readVintData(maxLength) {\n        const msb = await this.tokenizer.peekNumber(token_types__WEBPACK_IMPORTED_MODULE_0__.UINT8);\n        let mask = 0x80;\n        let oc = 1;\n        // Calculate VINT_WIDTH\n        while ((msb & mask) === 0) {\n            if (oc > maxLength) {\n                throw new Error('VINT value exceeding maximum size');\n            }\n            ++oc;\n            mask >>= 1;\n        }\n        const id = new Uint8Array(oc);\n        await this.tokenizer.readBuffer(id);\n        return id;\n    }\n    async readElement() {\n        const id = await this.readVintData(this.ebmlMaxIDLength);\n        const lenField = await this.readVintData(this.ebmlMaxSizeLength);\n        lenField[0] ^= 0x80 >> (lenField.length - 1);\n        return {\n            id: MatroskaParser.readUIntBE(id, id.length),\n            len: MatroskaParser.readUIntBE(lenField, lenField.length)\n        };\n    }\n    async readFloat(e) {\n        switch (e.len) {\n            case 0:\n                return 0.0;\n            case 4:\n                return this.tokenizer.readNumber(token_types__WEBPACK_IMPORTED_MODULE_0__.Float32_BE);\n            case 8:\n                return this.tokenizer.readNumber(token_types__WEBPACK_IMPORTED_MODULE_0__.Float64_BE);\n            case 10:\n                return this.tokenizer.readNumber(token_types__WEBPACK_IMPORTED_MODULE_0__.Float64_BE);\n            default:\n                throw new Error(`Invalid IEEE-754 float length: ${e.len}`);\n        }\n    }\n    async readFlag(e) {\n        return (await this.readUint(e)) === 1;\n    }\n    async readUint(e) {\n        const buf = await this.readBuffer(e);\n        return MatroskaParser.readUIntBE(buf, e.len);\n    }\n    async readString(e) {\n        const rawString = await this.tokenizer.readToken(new token_types__WEBPACK_IMPORTED_MODULE_0__.StringType(e.len, 'utf-8'));\n        return rawString.replace(/\\x00.*$/g, '');\n    }\n    async readBuffer(e) {\n        const buf = new Uint8Array(e.len);\n        await this.tokenizer.readBuffer(buf);\n        return buf;\n    }\n    async addTag(tagId, value) {\n        await this.metadata.addTag('matroska', tagId, value);\n    }\n    static readUIntBE(buf, len) {\n        return Number(MatroskaParser.readUIntBeAsBigInt(buf, len));\n    }\n    /**\n     * Reeds an unsigned integer from a big endian buffer of length `len`\n     * @param buf Buffer to decode from\n     * @param len Number of bytes\n     * @private\n     */\n    static readUIntBeAsBigInt(buf, len) {\n        const normalizedNumber = new Uint8Array(8);\n        const cleanNumber = buf.subarray(0, len);\n        try {\n            normalizedNumber.set(cleanNumber, 8 - len);\n            return token_types__WEBPACK_IMPORTED_MODULE_0__.UINT64_BE.get(normalizedNumber, 0);\n        }\n        catch (error) {\n            return BigInt(-1);\n        }\n    }\n}\n//# sourceMappingURL=MatroskaParser.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbXVzaWMtbWV0YWRhdGEvbGliL21hdHJvc2thL01hdHJvc2thUGFyc2VyLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBd0U7QUFDMUM7QUFDYTtBQUNZO0FBQ1A7QUFDYTtBQUN4QjtBQUNyQyxjQUFjLGtDQUFTO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ08sNkJBQTZCLCtEQUFXO0FBQy9DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQiwrQ0FBUTtBQUNuQywyQkFBMkIsK0NBQVE7QUFDbkMsMkJBQTJCLCtDQUFRO0FBQ25DLDJCQUEyQiwrQ0FBUTtBQUNuQywyQkFBMkIsK0NBQVE7QUFDbkMsMkJBQTJCLCtDQUFRO0FBQ25DO0FBQ0E7QUFDQTtBQUNBLGVBQWUsMEJBQTBCO0FBQ3pDLGVBQWUsWUFBWTtBQUMzQixlQUFlLFVBQVU7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1EQUFtRCxxREFBb0I7QUFDdkUscURBQXFELHNCQUFzQjtBQUMzRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0EseURBQXlELGdEQUFTO0FBQ2xFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNIQUFzSCxpREFBVTtBQUNoSTtBQUNBO0FBQ0EsaURBQWlELFdBQVcsR0FBRyxlQUFlO0FBQzlFLHlCQUF5QjtBQUN6QixxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFDQUFxQyxxREFBZ0I7QUFDckQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUNBQXVDLFVBQVUsY0FBYyxpQkFBaUI7QUFDaEY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlEQUFpRCxlQUFlLHdCQUF3Qix3QkFBd0I7QUFDaEg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9EQUFvRCw4Q0FBSztBQUN6RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlEQUFpRCxtREFBVTtBQUMzRDtBQUNBLGlEQUFpRCxtREFBVTtBQUMzRDtBQUNBLGlEQUFpRCxtREFBVTtBQUMzRDtBQUNBLGtFQUFrRSxNQUFNO0FBQ3hFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkRBQTZELG1EQUFVO0FBQ3ZFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQixrREFBZTtBQUNsQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2RldmVsZXZhdGUvLi9ub2RlX21vZHVsZXMvbXVzaWMtbWV0YWRhdGEvbGliL21hdHJvc2thL01hdHJvc2thUGFyc2VyLmpzPzBhYzEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgRmxvYXQzMl9CRSwgRmxvYXQ2NF9CRSwgU3RyaW5nVHlwZSwgVUlOVDggfSBmcm9tICd0b2tlbi10eXBlcyc7XG5pbXBvcnQgaW5pdERlYnVnIGZyb20gJ2RlYnVnJztcbmltcG9ydCB7IEVuZE9mU3RyZWFtRXJyb3IgfSBmcm9tICdzdHJ0b2szJztcbmltcG9ydCB7IEJhc2ljUGFyc2VyIH0gZnJvbSAnLi4vY29tbW9uL0Jhc2ljUGFyc2VyLmpzJztcbmltcG9ydCAqIGFzIG1hdHJvc2thRHRkIGZyb20gJy4vTWF0cm9za2FEdGQuanMnO1xuaW1wb3J0IHsgRGF0YVR5cGUsIFRhcmdldFR5cGUsIFRyYWNrVHlwZSB9IGZyb20gJy4vdHlwZXMuanMnO1xuaW1wb3J0ICogYXMgVG9rZW4gZnJvbSAndG9rZW4tdHlwZXMnO1xuY29uc3QgZGVidWcgPSBpbml0RGVidWcoJ211c2ljLW1ldGFkYXRhOnBhcnNlcjptYXRyb3NrYScpO1xuLyoqXG4gKiBFeHRlbnNpYmxlIEJpbmFyeSBNZXRhIExhbmd1YWdlIChFQk1MKSBwYXJzZXJcbiAqIGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0V4dGVuc2libGVfQmluYXJ5X01ldGFfTGFuZ3VhZ2VcbiAqIGh0dHA6Ly9tYXRyb3NrYS5zb3VyY2Vmb3JnZS5uZXQvdGVjaG5pY2FsL3NwZWNzL3JmYy9pbmRleC5odG1sXG4gKlxuICogV0VCTSBWUDggQVVESU8gRklMRVxuICovXG5leHBvcnQgY2xhc3MgTWF0cm9za2FQYXJzZXIgZXh0ZW5kcyBCYXNpY1BhcnNlciB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMucGFkZGluZyA9IDA7XG4gICAgICAgIHRoaXMucGFyc2VyTWFwID0gbmV3IE1hcCgpO1xuICAgICAgICB0aGlzLmVibWxNYXhJRExlbmd0aCA9IDQ7XG4gICAgICAgIHRoaXMuZWJtbE1heFNpemVMZW5ndGggPSA4O1xuICAgICAgICB0aGlzLnBhcnNlck1hcC5zZXQoRGF0YVR5cGUudWludCwgZSA9PiB0aGlzLnJlYWRVaW50KGUpKTtcbiAgICAgICAgdGhpcy5wYXJzZXJNYXAuc2V0KERhdGFUeXBlLnN0cmluZywgZSA9PiB0aGlzLnJlYWRTdHJpbmcoZSkpO1xuICAgICAgICB0aGlzLnBhcnNlck1hcC5zZXQoRGF0YVR5cGUuYmluYXJ5LCBlID0+IHRoaXMucmVhZEJ1ZmZlcihlKSk7XG4gICAgICAgIHRoaXMucGFyc2VyTWFwLnNldChEYXRhVHlwZS51aWQsIGFzeW5jIChlKSA9PiB0aGlzLnJlYWRCdWZmZXIoZSkpO1xuICAgICAgICB0aGlzLnBhcnNlck1hcC5zZXQoRGF0YVR5cGUuYm9vbCwgZSA9PiB0aGlzLnJlYWRGbGFnKGUpKTtcbiAgICAgICAgdGhpcy5wYXJzZXJNYXAuc2V0KERhdGFUeXBlLmZsb2F0LCBlID0+IHRoaXMucmVhZEZsb2F0KGUpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogSW5pdGlhbGl6ZSBwYXJzZXIgd2l0aCBvdXRwdXQgKG1ldGFkYXRhKSwgaW5wdXQgKHRva2VuaXplcikgJiBwYXJzaW5nIG9wdGlvbnMgKG9wdGlvbnMpLlxuICAgICAqIEBwYXJhbSB7SU5hdGl2ZU1ldGFkYXRhQ29sbGVjdG9yfSBtZXRhZGF0YSBPdXRwdXRcbiAgICAgKiBAcGFyYW0ge0lUb2tlbml6ZXJ9IHRva2VuaXplciBJbnB1dFxuICAgICAqIEBwYXJhbSB7SU9wdGlvbnN9IG9wdGlvbnMgUGFyc2luZyBvcHRpb25zXG4gICAgICovXG4gICAgaW5pdChtZXRhZGF0YSwgdG9rZW5pemVyLCBvcHRpb25zKSB7XG4gICAgICAgIHN1cGVyLmluaXQobWV0YWRhdGEsIHRva2VuaXplciwgb3B0aW9ucyk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICBhc3luYyBwYXJzZSgpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBjb25zdCBjb250YWluZXJTaXplID0gKF9hID0gdGhpcy50b2tlbml6ZXIuZmlsZUluZm8uc2l6ZSkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogTnVtYmVyLk1BWF9TQUZFX0lOVEVHRVI7XG4gICAgICAgIGNvbnN0IG1hdHJvc2thID0gYXdhaXQgdGhpcy5wYXJzZUNvbnRhaW5lcihtYXRyb3NrYUR0ZC5lbGVtZW50cywgY29udGFpbmVyU2l6ZSwgW10pO1xuICAgICAgICB0aGlzLm1ldGFkYXRhLnNldEZvcm1hdCgnY29udGFpbmVyJywgYEVCTUwvJHttYXRyb3NrYS5lYm1sLmRvY1R5cGV9YCk7XG4gICAgICAgIGlmIChtYXRyb3NrYS5zZWdtZW50KSB7XG4gICAgICAgICAgICBjb25zdCBpbmZvID0gbWF0cm9za2Euc2VnbWVudC5pbmZvO1xuICAgICAgICAgICAgaWYgKGluZm8pIHtcbiAgICAgICAgICAgICAgICBjb25zdCB0aW1lY29kZVNjYWxlID0gaW5mby50aW1lY29kZVNjYWxlID8gaW5mby50aW1lY29kZVNjYWxlIDogMTAwMDAwMDtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGluZm8uZHVyYXRpb24gPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGR1cmF0aW9uID0gaW5mby5kdXJhdGlvbiAqIHRpbWVjb2RlU2NhbGUgLyAxMDAwMDAwMDAwO1xuICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLmFkZFRhZygnc2VnbWVudDp0aXRsZScsIGluZm8udGl0bGUpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm1ldGFkYXRhLnNldEZvcm1hdCgnZHVyYXRpb24nLCBOdW1iZXIoZHVyYXRpb24pKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBhdWRpb1RyYWNrcyA9IG1hdHJvc2thLnNlZ21lbnQudHJhY2tzO1xuICAgICAgICAgICAgaWYgKGF1ZGlvVHJhY2tzID09PSBudWxsIHx8IGF1ZGlvVHJhY2tzID09PSB2b2lkIDAgPyB2b2lkIDAgOiBhdWRpb1RyYWNrcy5lbnRyaWVzKSB7XG4gICAgICAgICAgICAgICAgYXVkaW9UcmFja3MuZW50cmllcy5mb3JFYWNoKGVudHJ5ID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc3RyZWFtID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29kZWNOYW1lOiBlbnRyeS5jb2RlY0lELnJlcGxhY2UoJ0FfJywgJycpLnJlcGxhY2UoJ1ZfJywgJycpLFxuICAgICAgICAgICAgICAgICAgICAgICAgY29kZWNTZXR0aW5nczogZW50cnkuY29kZWNTZXR0aW5ncyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGZsYWdEZWZhdWx0OiBlbnRyeS5mbGFnRGVmYXVsdCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGZsYWdMYWNpbmc6IGVudHJ5LmZsYWdMYWNpbmcsXG4gICAgICAgICAgICAgICAgICAgICAgICBmbGFnRW5hYmxlZDogZW50cnkuZmxhZ0VuYWJsZWQsXG4gICAgICAgICAgICAgICAgICAgICAgICBsYW5ndWFnZTogZW50cnkubGFuZ3VhZ2UsXG4gICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBlbnRyeS5uYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogZW50cnkudHJhY2tUeXBlLFxuICAgICAgICAgICAgICAgICAgICAgICAgYXVkaW86IGVudHJ5LmF1ZGlvLFxuICAgICAgICAgICAgICAgICAgICAgICAgdmlkZW86IGVudHJ5LnZpZGVvXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubWV0YWRhdGEuYWRkU3RyZWFtSW5mbyhzdHJlYW0pO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGNvbnN0IGF1ZGlvVHJhY2sgPSBhdWRpb1RyYWNrcy5lbnRyaWVzXG4gICAgICAgICAgICAgICAgICAgIC5maWx0ZXIoZW50cnkgPT4gZW50cnkudHJhY2tUeXBlID09PSBUcmFja1R5cGUuYXVkaW8pXG4gICAgICAgICAgICAgICAgICAgIC5yZWR1Y2UoKGFjYywgY3VyKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghYWNjKVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGN1cjtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGN1ci5mbGFnRGVmYXVsdCAmJiAhYWNjLmZsYWdEZWZhdWx0KVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGN1cjtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGN1ci50cmFja051bWJlciA8IGFjYy50cmFja051bWJlcilcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBjdXI7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBhY2M7XG4gICAgICAgICAgICAgICAgfSwgbnVsbCk7XG4gICAgICAgICAgICAgICAgaWYgKGF1ZGlvVHJhY2spIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tZXRhZGF0YS5zZXRGb3JtYXQoJ2NvZGVjJywgYXVkaW9UcmFjay5jb2RlY0lELnJlcGxhY2UoJ0FfJywgJycpKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tZXRhZGF0YS5zZXRGb3JtYXQoJ3NhbXBsZVJhdGUnLCBhdWRpb1RyYWNrLmF1ZGlvLnNhbXBsaW5nRnJlcXVlbmN5KTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tZXRhZGF0YS5zZXRGb3JtYXQoJ251bWJlck9mQ2hhbm5lbHMnLCBhdWRpb1RyYWNrLmF1ZGlvLmNoYW5uZWxzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKG1hdHJvc2thLnNlZ21lbnQudGFncykge1xuICAgICAgICAgICAgICAgICAgICBhd2FpdCBQcm9taXNlLmFsbChtYXRyb3NrYS5zZWdtZW50LnRhZ3MudGFnLm1hcChhc3luYyAodGFnKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0YXJnZXQgPSB0YWcudGFyZ2V0O1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGFyZ2V0VHlwZSA9ICh0YXJnZXQgPT09IG51bGwgfHwgdGFyZ2V0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiB0YXJnZXQudGFyZ2V0VHlwZVZhbHVlKSA/IFRhcmdldFR5cGVbdGFyZ2V0LnRhcmdldFR5cGVWYWx1ZV0gOiAoKHRhcmdldCA9PT0gbnVsbCB8fCB0YXJnZXQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHRhcmdldC50YXJnZXRUeXBlKSA/IHRhcmdldC50YXJnZXRUeXBlIDogJ3RyYWNrJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCBQcm9taXNlLmFsbCh0YWcuc2ltcGxlVGFncy5tYXAoYXN5bmMgKHNpbXBsZVRhZykgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gc2ltcGxlVGFnLnN0cmluZyA/IHNpbXBsZVRhZy5zdHJpbmcgOiBzaW1wbGVUYWcuYmluYXJ5O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuYWRkVGFnKGAke3RhcmdldFR5cGV9OiR7c2ltcGxlVGFnLm5hbWV9YCwgdmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChtYXRyb3NrYS5zZWdtZW50LmF0dGFjaG1lbnRzKSB7XG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IFByb21pc2UuYWxsKG1hdHJvc2thLnNlZ21lbnQuYXR0YWNobWVudHMuYXR0YWNoZWRGaWxlc1xuICAgICAgICAgICAgICAgICAgICAgICAgLmZpbHRlcihmaWxlID0+IGZpbGUubWltZVR5cGUuc3RhcnRzV2l0aCgnaW1hZ2UvJykpXG4gICAgICAgICAgICAgICAgICAgICAgICAubWFwKGZpbGUgPT4gdGhpcy5hZGRUYWcoJ3BpY3R1cmUnLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhOiBmaWxlLmRhdGEsXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3JtYXQ6IGZpbGUubWltZVR5cGUsXG4gICAgICAgICAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogZmlsZS5kZXNjcmlwdGlvbixcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IGZpbGUubmFtZVxuICAgICAgICAgICAgICAgICAgICB9KSkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBhc3luYyBwYXJzZUNvbnRhaW5lcihjb250YWluZXIsIHBvc0RvbmUsIHBhdGgpIHtcbiAgICAgICAgY29uc3QgdHJlZSA9IHt9O1xuICAgICAgICB3aGlsZSAodGhpcy50b2tlbml6ZXIucG9zaXRpb24gPCBwb3NEb25lKSB7XG4gICAgICAgICAgICBsZXQgZWxlbWVudDtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgZWxlbWVudCA9IGF3YWl0IHRoaXMucmVhZEVsZW1lbnQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgIGlmIChlcnJvciBpbnN0YW5jZW9mIEVuZE9mU3RyZWFtRXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgdHlwZSA9IGNvbnRhaW5lcltlbGVtZW50LmlkXTtcbiAgICAgICAgICAgIGlmICh0eXBlKSB7XG4gICAgICAgICAgICAgICAgZGVidWcoYEVsZW1lbnQ6IG5hbWU9JHt0eXBlLm5hbWV9LCBjb250YWluZXI9JHshIXR5cGUuY29udGFpbmVyfWApO1xuICAgICAgICAgICAgICAgIGlmICh0eXBlLmNvbnRhaW5lcikge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCByZXMgPSBhd2FpdCB0aGlzLnBhcnNlQ29udGFpbmVyKHR5cGUuY29udGFpbmVyLCBlbGVtZW50LmxlbiA+PSAwID8gdGhpcy50b2tlbml6ZXIucG9zaXRpb24gKyBlbGVtZW50LmxlbiA6IC0xLCBwYXRoLmNvbmNhdChbdHlwZS5uYW1lXSkpO1xuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZS5tdWx0aXBsZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCF0cmVlW3R5cGUubmFtZV0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cmVlW3R5cGUubmFtZV0gPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHRyZWVbdHlwZS5uYW1lXS5wdXNoKHJlcyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0cmVlW3R5cGUubmFtZV0gPSByZXM7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHBhcnNlciA9IHRoaXMucGFyc2VyTWFwLmdldCh0eXBlLnZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBwYXJzZXIgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyZWVbdHlwZS5uYW1lXSA9IGF3YWl0IHBhcnNlcihlbGVtZW50KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHN3aXRjaCAoZWxlbWVudC5pZCkge1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDB4ZWM6IC8vIHZvaWRcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGFkZGluZyArPSBlbGVtZW50LmxlbjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMudG9rZW5pemVyLmlnbm9yZShlbGVtZW50Lmxlbik7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlYnVnKGBwYXJzZUVibWw6IHBhdGg9JHtwYXRoLmpvaW4oJy8nKX0sIHVua25vd24gZWxlbWVudDogaWQ9JHtlbGVtZW50LmlkLnRvU3RyaW5nKDE2KX1gKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGFkZGluZyArPSBlbGVtZW50LmxlbjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMudG9rZW5pemVyLmlnbm9yZShlbGVtZW50Lmxlbik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cmVlO1xuICAgIH1cbiAgICBhc3luYyByZWFkVmludERhdGEobWF4TGVuZ3RoKSB7XG4gICAgICAgIGNvbnN0IG1zYiA9IGF3YWl0IHRoaXMudG9rZW5pemVyLnBlZWtOdW1iZXIoVUlOVDgpO1xuICAgICAgICBsZXQgbWFzayA9IDB4ODA7XG4gICAgICAgIGxldCBvYyA9IDE7XG4gICAgICAgIC8vIENhbGN1bGF0ZSBWSU5UX1dJRFRIXG4gICAgICAgIHdoaWxlICgobXNiICYgbWFzaykgPT09IDApIHtcbiAgICAgICAgICAgIGlmIChvYyA+IG1heExlbmd0aCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVklOVCB2YWx1ZSBleGNlZWRpbmcgbWF4aW11bSBzaXplJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICArK29jO1xuICAgICAgICAgICAgbWFzayA+Pj0gMTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBpZCA9IG5ldyBVaW50OEFycmF5KG9jKTtcbiAgICAgICAgYXdhaXQgdGhpcy50b2tlbml6ZXIucmVhZEJ1ZmZlcihpZCk7XG4gICAgICAgIHJldHVybiBpZDtcbiAgICB9XG4gICAgYXN5bmMgcmVhZEVsZW1lbnQoKSB7XG4gICAgICAgIGNvbnN0IGlkID0gYXdhaXQgdGhpcy5yZWFkVmludERhdGEodGhpcy5lYm1sTWF4SURMZW5ndGgpO1xuICAgICAgICBjb25zdCBsZW5GaWVsZCA9IGF3YWl0IHRoaXMucmVhZFZpbnREYXRhKHRoaXMuZWJtbE1heFNpemVMZW5ndGgpO1xuICAgICAgICBsZW5GaWVsZFswXSBePSAweDgwID4+IChsZW5GaWVsZC5sZW5ndGggLSAxKTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGlkOiBNYXRyb3NrYVBhcnNlci5yZWFkVUludEJFKGlkLCBpZC5sZW5ndGgpLFxuICAgICAgICAgICAgbGVuOiBNYXRyb3NrYVBhcnNlci5yZWFkVUludEJFKGxlbkZpZWxkLCBsZW5GaWVsZC5sZW5ndGgpXG4gICAgICAgIH07XG4gICAgfVxuICAgIGFzeW5jIHJlYWRGbG9hdChlKSB7XG4gICAgICAgIHN3aXRjaCAoZS5sZW4pIHtcbiAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICByZXR1cm4gMC4wO1xuICAgICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnRva2VuaXplci5yZWFkTnVtYmVyKEZsb2F0MzJfQkUpO1xuICAgICAgICAgICAgY2FzZSA4OlxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnRva2VuaXplci5yZWFkTnVtYmVyKEZsb2F0NjRfQkUpO1xuICAgICAgICAgICAgY2FzZSAxMDpcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy50b2tlbml6ZXIucmVhZE51bWJlcihGbG9hdDY0X0JFKTtcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBJbnZhbGlkIElFRUUtNzU0IGZsb2F0IGxlbmd0aDogJHtlLmxlbn1gKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBhc3luYyByZWFkRmxhZyhlKSB7XG4gICAgICAgIHJldHVybiAoYXdhaXQgdGhpcy5yZWFkVWludChlKSkgPT09IDE7XG4gICAgfVxuICAgIGFzeW5jIHJlYWRVaW50KGUpIHtcbiAgICAgICAgY29uc3QgYnVmID0gYXdhaXQgdGhpcy5yZWFkQnVmZmVyKGUpO1xuICAgICAgICByZXR1cm4gTWF0cm9za2FQYXJzZXIucmVhZFVJbnRCRShidWYsIGUubGVuKTtcbiAgICB9XG4gICAgYXN5bmMgcmVhZFN0cmluZyhlKSB7XG4gICAgICAgIGNvbnN0IHJhd1N0cmluZyA9IGF3YWl0IHRoaXMudG9rZW5pemVyLnJlYWRUb2tlbihuZXcgU3RyaW5nVHlwZShlLmxlbiwgJ3V0Zi04JykpO1xuICAgICAgICByZXR1cm4gcmF3U3RyaW5nLnJlcGxhY2UoL1xceDAwLiokL2csICcnKTtcbiAgICB9XG4gICAgYXN5bmMgcmVhZEJ1ZmZlcihlKSB7XG4gICAgICAgIGNvbnN0IGJ1ZiA9IG5ldyBVaW50OEFycmF5KGUubGVuKTtcbiAgICAgICAgYXdhaXQgdGhpcy50b2tlbml6ZXIucmVhZEJ1ZmZlcihidWYpO1xuICAgICAgICByZXR1cm4gYnVmO1xuICAgIH1cbiAgICBhc3luYyBhZGRUYWcodGFnSWQsIHZhbHVlKSB7XG4gICAgICAgIGF3YWl0IHRoaXMubWV0YWRhdGEuYWRkVGFnKCdtYXRyb3NrYScsIHRhZ0lkLCB2YWx1ZSk7XG4gICAgfVxuICAgIHN0YXRpYyByZWFkVUludEJFKGJ1ZiwgbGVuKSB7XG4gICAgICAgIHJldHVybiBOdW1iZXIoTWF0cm9za2FQYXJzZXIucmVhZFVJbnRCZUFzQmlnSW50KGJ1ZiwgbGVuKSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlZWRzIGFuIHVuc2lnbmVkIGludGVnZXIgZnJvbSBhIGJpZyBlbmRpYW4gYnVmZmVyIG9mIGxlbmd0aCBgbGVuYFxuICAgICAqIEBwYXJhbSBidWYgQnVmZmVyIHRvIGRlY29kZSBmcm9tXG4gICAgICogQHBhcmFtIGxlbiBOdW1iZXIgb2YgYnl0ZXNcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHN0YXRpYyByZWFkVUludEJlQXNCaWdJbnQoYnVmLCBsZW4pIHtcbiAgICAgICAgY29uc3Qgbm9ybWFsaXplZE51bWJlciA9IG5ldyBVaW50OEFycmF5KDgpO1xuICAgICAgICBjb25zdCBjbGVhbk51bWJlciA9IGJ1Zi5zdWJhcnJheSgwLCBsZW4pO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgbm9ybWFsaXplZE51bWJlci5zZXQoY2xlYW5OdW1iZXIsIDggLSBsZW4pO1xuICAgICAgICAgICAgcmV0dXJuIFRva2VuLlVJTlQ2NF9CRS5nZXQobm9ybWFsaXplZE51bWJlciwgMCk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICByZXR1cm4gQmlnSW50KC0xKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPU1hdHJvc2thUGFyc2VyLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/music-metadata/lib/matroska/MatroskaParser.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/music-metadata/lib/matroska/MatroskaTagMapper.js":
/*!***********************************************************************!*\
  !*** ./node_modules/music-metadata/lib/matroska/MatroskaTagMapper.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   MatroskaTagMapper: () => (/* binding */ MatroskaTagMapper)\n/* harmony export */ });\n/* harmony import */ var _common_CaseInsensitiveTagMap_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../common/CaseInsensitiveTagMap.js */ \"(ssr)/./node_modules/music-metadata/lib/common/CaseInsensitiveTagMap.js\");\n\n/**\n * EBML Tag map\n */\nconst ebmlTagMap = {\n    'segment:title': 'title',\n    'album:ARTIST': 'albumartist',\n    'album:ARTISTSORT': 'albumartistsort',\n    'album:TITLE': 'album',\n    'album:DATE_RECORDED': 'originaldate',\n    'album:DATE_RELEASED': 'releasedate',\n    'album:PART_NUMBER': 'disk',\n    'album:TOTAL_PARTS': 'totaltracks',\n    'track:ARTIST': 'artist',\n    'track:ARTISTSORT': 'artistsort',\n    'track:TITLE': 'title',\n    'track:PART_NUMBER': 'track',\n    'track:MUSICBRAINZ_TRACKID': 'musicbrainz_recordingid',\n    'track:MUSICBRAINZ_ALBUMID': 'musicbrainz_albumid',\n    'track:MUSICBRAINZ_ARTISTID': 'musicbrainz_artistid',\n    'track:PUBLISHER': 'label',\n    'track:GENRE': 'genre',\n    'track:ENCODER': 'encodedby',\n    'track:ENCODER_OPTIONS': 'encodersettings',\n    'edition:TOTAL_PARTS': 'totaldiscs',\n    picture: 'picture'\n};\nclass MatroskaTagMapper extends _common_CaseInsensitiveTagMap_js__WEBPACK_IMPORTED_MODULE_0__.CaseInsensitiveTagMap {\n    constructor() {\n        super(['matroska'], ebmlTagMap);\n    }\n}\n//# sourceMappingURL=MatroskaTagMapper.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbXVzaWMtbWV0YWRhdGEvbGliL21hdHJvc2thL01hdHJvc2thVGFnTWFwcGVyLmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQTJFO0FBQzNFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTyxnQ0FBZ0MsbUZBQXFCO0FBQzVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9kZXZlbGV2YXRlLy4vbm9kZV9tb2R1bGVzL211c2ljLW1ldGFkYXRhL2xpYi9tYXRyb3NrYS9NYXRyb3NrYVRhZ01hcHBlci5qcz85YWFmIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IENhc2VJbnNlbnNpdGl2ZVRhZ01hcCB9IGZyb20gJy4uL2NvbW1vbi9DYXNlSW5zZW5zaXRpdmVUYWdNYXAuanMnO1xuLyoqXG4gKiBFQk1MIFRhZyBtYXBcbiAqL1xuY29uc3QgZWJtbFRhZ01hcCA9IHtcbiAgICAnc2VnbWVudDp0aXRsZSc6ICd0aXRsZScsXG4gICAgJ2FsYnVtOkFSVElTVCc6ICdhbGJ1bWFydGlzdCcsXG4gICAgJ2FsYnVtOkFSVElTVFNPUlQnOiAnYWxidW1hcnRpc3Rzb3J0JyxcbiAgICAnYWxidW06VElUTEUnOiAnYWxidW0nLFxuICAgICdhbGJ1bTpEQVRFX1JFQ09SREVEJzogJ29yaWdpbmFsZGF0ZScsXG4gICAgJ2FsYnVtOkRBVEVfUkVMRUFTRUQnOiAncmVsZWFzZWRhdGUnLFxuICAgICdhbGJ1bTpQQVJUX05VTUJFUic6ICdkaXNrJyxcbiAgICAnYWxidW06VE9UQUxfUEFSVFMnOiAndG90YWx0cmFja3MnLFxuICAgICd0cmFjazpBUlRJU1QnOiAnYXJ0aXN0JyxcbiAgICAndHJhY2s6QVJUSVNUU09SVCc6ICdhcnRpc3Rzb3J0JyxcbiAgICAndHJhY2s6VElUTEUnOiAndGl0bGUnLFxuICAgICd0cmFjazpQQVJUX05VTUJFUic6ICd0cmFjaycsXG4gICAgJ3RyYWNrOk1VU0lDQlJBSU5aX1RSQUNLSUQnOiAnbXVzaWNicmFpbnpfcmVjb3JkaW5naWQnLFxuICAgICd0cmFjazpNVVNJQ0JSQUlOWl9BTEJVTUlEJzogJ211c2ljYnJhaW56X2FsYnVtaWQnLFxuICAgICd0cmFjazpNVVNJQ0JSQUlOWl9BUlRJU1RJRCc6ICdtdXNpY2JyYWluel9hcnRpc3RpZCcsXG4gICAgJ3RyYWNrOlBVQkxJU0hFUic6ICdsYWJlbCcsXG4gICAgJ3RyYWNrOkdFTlJFJzogJ2dlbnJlJyxcbiAgICAndHJhY2s6RU5DT0RFUic6ICdlbmNvZGVkYnknLFxuICAgICd0cmFjazpFTkNPREVSX09QVElPTlMnOiAnZW5jb2RlcnNldHRpbmdzJyxcbiAgICAnZWRpdGlvbjpUT1RBTF9QQVJUUyc6ICd0b3RhbGRpc2NzJyxcbiAgICBwaWN0dXJlOiAncGljdHVyZSdcbn07XG5leHBvcnQgY2xhc3MgTWF0cm9za2FUYWdNYXBwZXIgZXh0ZW5kcyBDYXNlSW5zZW5zaXRpdmVUYWdNYXAge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcihbJ21hdHJvc2thJ10sIGVibWxUYWdNYXApO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPU1hdHJvc2thVGFnTWFwcGVyLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/music-metadata/lib/matroska/MatroskaTagMapper.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/music-metadata/lib/matroska/types.js":
/*!***********************************************************!*\
  !*** ./node_modules/music-metadata/lib/matroska/types.js ***!
  \***********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DataType: () => (/* binding */ DataType),\n/* harmony export */   TargetType: () => (/* binding */ TargetType),\n/* harmony export */   TrackType: () => (/* binding */ TrackType)\n/* harmony export */ });\nvar DataType;\n(function (DataType) {\n    DataType[DataType[\"string\"] = 0] = \"string\";\n    DataType[DataType[\"uint\"] = 1] = \"uint\";\n    DataType[DataType[\"uid\"] = 2] = \"uid\";\n    DataType[DataType[\"bool\"] = 3] = \"bool\";\n    DataType[DataType[\"binary\"] = 4] = \"binary\";\n    DataType[DataType[\"float\"] = 5] = \"float\";\n})(DataType || (DataType = {}));\nvar TargetType;\n(function (TargetType) {\n    TargetType[TargetType[\"shot\"] = 10] = \"shot\";\n    TargetType[TargetType[\"scene\"] = 20] = \"scene\";\n    TargetType[TargetType[\"track\"] = 30] = \"track\";\n    TargetType[TargetType[\"part\"] = 40] = \"part\";\n    TargetType[TargetType[\"album\"] = 50] = \"album\";\n    TargetType[TargetType[\"edition\"] = 60] = \"edition\";\n    TargetType[TargetType[\"collection\"] = 70] = \"collection\";\n})(TargetType || (TargetType = {}));\nvar TrackType;\n(function (TrackType) {\n    TrackType[TrackType[\"video\"] = 1] = \"video\";\n    TrackType[TrackType[\"audio\"] = 2] = \"audio\";\n    TrackType[TrackType[\"complex\"] = 3] = \"complex\";\n    TrackType[TrackType[\"logo\"] = 4] = \"logo\";\n    TrackType[TrackType[\"subtitle\"] = 17] = \"subtitle\";\n    TrackType[TrackType[\"button\"] = 18] = \"button\";\n    TrackType[TrackType[\"control\"] = 32] = \"control\";\n})(TrackType || (TrackType = {}));\n//# sourceMappingURL=types.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbXVzaWMtbWV0YWRhdGEvbGliL21hdHJvc2thL3R5cGVzLmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLDRCQUE0QjtBQUN0QjtBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLGdDQUFnQztBQUMxQjtBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLDhCQUE4QjtBQUMvQiIsInNvdXJjZXMiOlsid2VicGFjazovL2RldmVsZXZhdGUvLi9ub2RlX21vZHVsZXMvbXVzaWMtbWV0YWRhdGEvbGliL21hdHJvc2thL3R5cGVzLmpzP2QzZTYiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IHZhciBEYXRhVHlwZTtcbihmdW5jdGlvbiAoRGF0YVR5cGUpIHtcbiAgICBEYXRhVHlwZVtEYXRhVHlwZVtcInN0cmluZ1wiXSA9IDBdID0gXCJzdHJpbmdcIjtcbiAgICBEYXRhVHlwZVtEYXRhVHlwZVtcInVpbnRcIl0gPSAxXSA9IFwidWludFwiO1xuICAgIERhdGFUeXBlW0RhdGFUeXBlW1widWlkXCJdID0gMl0gPSBcInVpZFwiO1xuICAgIERhdGFUeXBlW0RhdGFUeXBlW1wiYm9vbFwiXSA9IDNdID0gXCJib29sXCI7XG4gICAgRGF0YVR5cGVbRGF0YVR5cGVbXCJiaW5hcnlcIl0gPSA0XSA9IFwiYmluYXJ5XCI7XG4gICAgRGF0YVR5cGVbRGF0YVR5cGVbXCJmbG9hdFwiXSA9IDVdID0gXCJmbG9hdFwiO1xufSkoRGF0YVR5cGUgfHwgKERhdGFUeXBlID0ge30pKTtcbmV4cG9ydCB2YXIgVGFyZ2V0VHlwZTtcbihmdW5jdGlvbiAoVGFyZ2V0VHlwZSkge1xuICAgIFRhcmdldFR5cGVbVGFyZ2V0VHlwZVtcInNob3RcIl0gPSAxMF0gPSBcInNob3RcIjtcbiAgICBUYXJnZXRUeXBlW1RhcmdldFR5cGVbXCJzY2VuZVwiXSA9IDIwXSA9IFwic2NlbmVcIjtcbiAgICBUYXJnZXRUeXBlW1RhcmdldFR5cGVbXCJ0cmFja1wiXSA9IDMwXSA9IFwidHJhY2tcIjtcbiAgICBUYXJnZXRUeXBlW1RhcmdldFR5cGVbXCJwYXJ0XCJdID0gNDBdID0gXCJwYXJ0XCI7XG4gICAgVGFyZ2V0VHlwZVtUYXJnZXRUeXBlW1wiYWxidW1cIl0gPSA1MF0gPSBcImFsYnVtXCI7XG4gICAgVGFyZ2V0VHlwZVtUYXJnZXRUeXBlW1wiZWRpdGlvblwiXSA9IDYwXSA9IFwiZWRpdGlvblwiO1xuICAgIFRhcmdldFR5cGVbVGFyZ2V0VHlwZVtcImNvbGxlY3Rpb25cIl0gPSA3MF0gPSBcImNvbGxlY3Rpb25cIjtcbn0pKFRhcmdldFR5cGUgfHwgKFRhcmdldFR5cGUgPSB7fSkpO1xuZXhwb3J0IHZhciBUcmFja1R5cGU7XG4oZnVuY3Rpb24gKFRyYWNrVHlwZSkge1xuICAgIFRyYWNrVHlwZVtUcmFja1R5cGVbXCJ2aWRlb1wiXSA9IDFdID0gXCJ2aWRlb1wiO1xuICAgIFRyYWNrVHlwZVtUcmFja1R5cGVbXCJhdWRpb1wiXSA9IDJdID0gXCJhdWRpb1wiO1xuICAgIFRyYWNrVHlwZVtUcmFja1R5cGVbXCJjb21wbGV4XCJdID0gM10gPSBcImNvbXBsZXhcIjtcbiAgICBUcmFja1R5cGVbVHJhY2tUeXBlW1wibG9nb1wiXSA9IDRdID0gXCJsb2dvXCI7XG4gICAgVHJhY2tUeXBlW1RyYWNrVHlwZVtcInN1YnRpdGxlXCJdID0gMTddID0gXCJzdWJ0aXRsZVwiO1xuICAgIFRyYWNrVHlwZVtUcmFja1R5cGVbXCJidXR0b25cIl0gPSAxOF0gPSBcImJ1dHRvblwiO1xuICAgIFRyYWNrVHlwZVtUcmFja1R5cGVbXCJjb250cm9sXCJdID0gMzJdID0gXCJjb250cm9sXCI7XG59KShUcmFja1R5cGUgfHwgKFRyYWNrVHlwZSA9IHt9KSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD10eXBlcy5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/music-metadata/lib/matroska/types.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/music-metadata/lib/mp4/Atom.js":
/*!*****************************************************!*\
  !*** ./node_modules/music-metadata/lib/mp4/Atom.js ***!
  \*****************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Atom: () => (/* binding */ Atom)\n/* harmony export */ });\n/* harmony import */ var debug__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! debug */ \"(ssr)/./node_modules/debug/src/index.js\");\n/* harmony import */ var _AtomToken_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./AtomToken.js */ \"(ssr)/./node_modules/music-metadata/lib/mp4/AtomToken.js\");\n\n\n\nconst debug = debug__WEBPACK_IMPORTED_MODULE_0__('music-metadata:parser:MP4:Atom');\nclass Atom {\n    static async readAtom(tokenizer, dataHandler, parent, remaining) {\n        // Parse atom header\n        const offset = tokenizer.position;\n        // debug(`Reading next token on offset=${offset}...`); //  buf.toString('ascii')\n        const header = await tokenizer.readToken(_AtomToken_js__WEBPACK_IMPORTED_MODULE_1__.Header);\n        const extended = header.length === BigInt(1);\n        if (extended) {\n            header.length = await tokenizer.readToken(_AtomToken_js__WEBPACK_IMPORTED_MODULE_1__.ExtendedSize);\n        }\n        const atomBean = new Atom(header, header.length === BigInt(1), parent);\n        const payloadLength = atomBean.getPayloadLength(remaining);\n        debug(`parse atom name=${atomBean.atomPath}, extended=${atomBean.extended}, offset=${offset}, len=${atomBean.header.length}`); //  buf.toString('ascii')\n        await atomBean.readData(tokenizer, dataHandler, payloadLength);\n        return atomBean;\n    }\n    constructor(header, extended, parent) {\n        this.header = header;\n        this.extended = extended;\n        this.parent = parent;\n        this.children = [];\n        this.atomPath = (this.parent ? `${this.parent.atomPath}.` : '') + this.header.name;\n    }\n    getHeaderLength() {\n        return this.extended ? 16 : 8;\n    }\n    getPayloadLength(remaining) {\n        return (this.header.length === BigInt(0) ? remaining : Number(this.header.length)) - this.getHeaderLength();\n    }\n    async readAtoms(tokenizer, dataHandler, size) {\n        while (size > 0) {\n            const atomBean = await Atom.readAtom(tokenizer, dataHandler, this, size);\n            this.children.push(atomBean);\n            size -= atomBean.header.length === BigInt(0) ? size : Number(atomBean.header.length);\n        }\n    }\n    async readData(tokenizer, dataHandler, remaining) {\n        switch (this.header.name) {\n            // \"Container\" atoms, contains nested atoms\n            case 'moov': // The Movie Atom: contains other atoms\n            case 'udta': // User defined atom\n            case 'trak':\n            case 'mdia': // Media atom\n            case 'minf': // Media Information Atom\n            case 'stbl': // The Sample Table Atom\n            case '<id>':\n            case 'ilst':\n            case 'tref':\n                return this.readAtoms(tokenizer, dataHandler, this.getPayloadLength(remaining));\n            case 'meta': { // Metadata Atom, ref: https://developer.apple.com/library/content/documentation/QuickTime/QTFF/Metadata/Metadata.html#//apple_ref/doc/uid/TP40000939-CH1-SW8\n                // meta has 4 bytes of padding, ignore\n                const peekHeader = await tokenizer.peekToken(_AtomToken_js__WEBPACK_IMPORTED_MODULE_1__.Header);\n                const paddingLength = peekHeader.name === 'hdlr' ? 0 : 4;\n                await tokenizer.ignore(paddingLength);\n                return this.readAtoms(tokenizer, dataHandler, this.getPayloadLength(remaining) - paddingLength);\n            }\n            default:\n                return dataHandler(this, remaining);\n        }\n    }\n}\n//# sourceMappingURL=Atom.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbXVzaWMtbWV0YWRhdGEvbGliL21wNC9BdG9tLmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUE4QjtBQUNjO0FBQ0o7QUFDeEMsY0FBYyxrQ0FBUztBQUNoQjtBQUNQO0FBQ0E7QUFDQTtBQUNBLGlEQUFpRCxPQUFPLE9BQU87QUFDL0QsaURBQWlELGlEQUFnQjtBQUNqRTtBQUNBO0FBQ0Esc0RBQXNELHVEQUFzQjtBQUM1RTtBQUNBO0FBQ0E7QUFDQSxpQ0FBaUMsa0JBQWtCLGFBQWEsa0JBQWtCLFdBQVcsT0FBTyxRQUFRLHVCQUF1QixJQUFJO0FBQ3ZJO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQ0FBMEMscUJBQXFCO0FBQy9EO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQjtBQUMzQjtBQUNBLDZEQUE2RCxpREFBTTtBQUNuRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2RldmVsZXZhdGUvLi9ub2RlX21vZHVsZXMvbXVzaWMtbWV0YWRhdGEvbGliL21wNC9BdG9tLmpzPzZiYTEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGluaXREZWJ1ZyBmcm9tICdkZWJ1Zyc7XG5pbXBvcnQgKiBhcyBBdG9tVG9rZW4gZnJvbSAnLi9BdG9tVG9rZW4uanMnO1xuaW1wb3J0IHsgSGVhZGVyIH0gZnJvbSAnLi9BdG9tVG9rZW4uanMnO1xuY29uc3QgZGVidWcgPSBpbml0RGVidWcoJ211c2ljLW1ldGFkYXRhOnBhcnNlcjpNUDQ6QXRvbScpO1xuZXhwb3J0IGNsYXNzIEF0b20ge1xuICAgIHN0YXRpYyBhc3luYyByZWFkQXRvbSh0b2tlbml6ZXIsIGRhdGFIYW5kbGVyLCBwYXJlbnQsIHJlbWFpbmluZykge1xuICAgICAgICAvLyBQYXJzZSBhdG9tIGhlYWRlclxuICAgICAgICBjb25zdCBvZmZzZXQgPSB0b2tlbml6ZXIucG9zaXRpb247XG4gICAgICAgIC8vIGRlYnVnKGBSZWFkaW5nIG5leHQgdG9rZW4gb24gb2Zmc2V0PSR7b2Zmc2V0fS4uLmApOyAvLyAgYnVmLnRvU3RyaW5nKCdhc2NpaScpXG4gICAgICAgIGNvbnN0IGhlYWRlciA9IGF3YWl0IHRva2VuaXplci5yZWFkVG9rZW4oQXRvbVRva2VuLkhlYWRlcik7XG4gICAgICAgIGNvbnN0IGV4dGVuZGVkID0gaGVhZGVyLmxlbmd0aCA9PT0gQmlnSW50KDEpO1xuICAgICAgICBpZiAoZXh0ZW5kZWQpIHtcbiAgICAgICAgICAgIGhlYWRlci5sZW5ndGggPSBhd2FpdCB0b2tlbml6ZXIucmVhZFRva2VuKEF0b21Ub2tlbi5FeHRlbmRlZFNpemUpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGF0b21CZWFuID0gbmV3IEF0b20oaGVhZGVyLCBoZWFkZXIubGVuZ3RoID09PSBCaWdJbnQoMSksIHBhcmVudCk7XG4gICAgICAgIGNvbnN0IHBheWxvYWRMZW5ndGggPSBhdG9tQmVhbi5nZXRQYXlsb2FkTGVuZ3RoKHJlbWFpbmluZyk7XG4gICAgICAgIGRlYnVnKGBwYXJzZSBhdG9tIG5hbWU9JHthdG9tQmVhbi5hdG9tUGF0aH0sIGV4dGVuZGVkPSR7YXRvbUJlYW4uZXh0ZW5kZWR9LCBvZmZzZXQ9JHtvZmZzZXR9LCBsZW49JHthdG9tQmVhbi5oZWFkZXIubGVuZ3RofWApOyAvLyAgYnVmLnRvU3RyaW5nKCdhc2NpaScpXG4gICAgICAgIGF3YWl0IGF0b21CZWFuLnJlYWREYXRhKHRva2VuaXplciwgZGF0YUhhbmRsZXIsIHBheWxvYWRMZW5ndGgpO1xuICAgICAgICByZXR1cm4gYXRvbUJlYW47XG4gICAgfVxuICAgIGNvbnN0cnVjdG9yKGhlYWRlciwgZXh0ZW5kZWQsIHBhcmVudCkge1xuICAgICAgICB0aGlzLmhlYWRlciA9IGhlYWRlcjtcbiAgICAgICAgdGhpcy5leHRlbmRlZCA9IGV4dGVuZGVkO1xuICAgICAgICB0aGlzLnBhcmVudCA9IHBhcmVudDtcbiAgICAgICAgdGhpcy5jaGlsZHJlbiA9IFtdO1xuICAgICAgICB0aGlzLmF0b21QYXRoID0gKHRoaXMucGFyZW50ID8gYCR7dGhpcy5wYXJlbnQuYXRvbVBhdGh9LmAgOiAnJykgKyB0aGlzLmhlYWRlci5uYW1lO1xuICAgIH1cbiAgICBnZXRIZWFkZXJMZW5ndGgoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmV4dGVuZGVkID8gMTYgOiA4O1xuICAgIH1cbiAgICBnZXRQYXlsb2FkTGVuZ3RoKHJlbWFpbmluZykge1xuICAgICAgICByZXR1cm4gKHRoaXMuaGVhZGVyLmxlbmd0aCA9PT0gQmlnSW50KDApID8gcmVtYWluaW5nIDogTnVtYmVyKHRoaXMuaGVhZGVyLmxlbmd0aCkpIC0gdGhpcy5nZXRIZWFkZXJMZW5ndGgoKTtcbiAgICB9XG4gICAgYXN5bmMgcmVhZEF0b21zKHRva2VuaXplciwgZGF0YUhhbmRsZXIsIHNpemUpIHtcbiAgICAgICAgd2hpbGUgKHNpemUgPiAwKSB7XG4gICAgICAgICAgICBjb25zdCBhdG9tQmVhbiA9IGF3YWl0IEF0b20ucmVhZEF0b20odG9rZW5pemVyLCBkYXRhSGFuZGxlciwgdGhpcywgc2l6ZSk7XG4gICAgICAgICAgICB0aGlzLmNoaWxkcmVuLnB1c2goYXRvbUJlYW4pO1xuICAgICAgICAgICAgc2l6ZSAtPSBhdG9tQmVhbi5oZWFkZXIubGVuZ3RoID09PSBCaWdJbnQoMCkgPyBzaXplIDogTnVtYmVyKGF0b21CZWFuLmhlYWRlci5sZW5ndGgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGFzeW5jIHJlYWREYXRhKHRva2VuaXplciwgZGF0YUhhbmRsZXIsIHJlbWFpbmluZykge1xuICAgICAgICBzd2l0Y2ggKHRoaXMuaGVhZGVyLm5hbWUpIHtcbiAgICAgICAgICAgIC8vIFwiQ29udGFpbmVyXCIgYXRvbXMsIGNvbnRhaW5zIG5lc3RlZCBhdG9tc1xuICAgICAgICAgICAgY2FzZSAnbW9vdic6IC8vIFRoZSBNb3ZpZSBBdG9tOiBjb250YWlucyBvdGhlciBhdG9tc1xuICAgICAgICAgICAgY2FzZSAndWR0YSc6IC8vIFVzZXIgZGVmaW5lZCBhdG9tXG4gICAgICAgICAgICBjYXNlICd0cmFrJzpcbiAgICAgICAgICAgIGNhc2UgJ21kaWEnOiAvLyBNZWRpYSBhdG9tXG4gICAgICAgICAgICBjYXNlICdtaW5mJzogLy8gTWVkaWEgSW5mb3JtYXRpb24gQXRvbVxuICAgICAgICAgICAgY2FzZSAnc3RibCc6IC8vIFRoZSBTYW1wbGUgVGFibGUgQXRvbVxuICAgICAgICAgICAgY2FzZSAnPGlkPic6XG4gICAgICAgICAgICBjYXNlICdpbHN0JzpcbiAgICAgICAgICAgIGNhc2UgJ3RyZWYnOlxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnJlYWRBdG9tcyh0b2tlbml6ZXIsIGRhdGFIYW5kbGVyLCB0aGlzLmdldFBheWxvYWRMZW5ndGgocmVtYWluaW5nKSk7XG4gICAgICAgICAgICBjYXNlICdtZXRhJzogeyAvLyBNZXRhZGF0YSBBdG9tLCByZWY6IGh0dHBzOi8vZGV2ZWxvcGVyLmFwcGxlLmNvbS9saWJyYXJ5L2NvbnRlbnQvZG9jdW1lbnRhdGlvbi9RdWlja1RpbWUvUVRGRi9NZXRhZGF0YS9NZXRhZGF0YS5odG1sIy8vYXBwbGVfcmVmL2RvYy91aWQvVFA0MDAwMDkzOS1DSDEtU1c4XG4gICAgICAgICAgICAgICAgLy8gbWV0YSBoYXMgNCBieXRlcyBvZiBwYWRkaW5nLCBpZ25vcmVcbiAgICAgICAgICAgICAgICBjb25zdCBwZWVrSGVhZGVyID0gYXdhaXQgdG9rZW5pemVyLnBlZWtUb2tlbihIZWFkZXIpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHBhZGRpbmdMZW5ndGggPSBwZWVrSGVhZGVyLm5hbWUgPT09ICdoZGxyJyA/IDAgOiA0O1xuICAgICAgICAgICAgICAgIGF3YWl0IHRva2VuaXplci5pZ25vcmUocGFkZGluZ0xlbmd0aCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMucmVhZEF0b21zKHRva2VuaXplciwgZGF0YUhhbmRsZXIsIHRoaXMuZ2V0UGF5bG9hZExlbmd0aChyZW1haW5pbmcpIC0gcGFkZGluZ0xlbmd0aCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHJldHVybiBkYXRhSGFuZGxlcih0aGlzLCByZW1haW5pbmcpO1xuICAgICAgICB9XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9QXRvbS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/music-metadata/lib/mp4/Atom.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/music-metadata/lib/mp4/AtomToken.js":
/*!**********************************************************!*\
  !*** ./node_modules/music-metadata/lib/mp4/AtomToken.js ***!
  \**********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ChapterText: () => (/* binding */ ChapterText),\n/* harmony export */   DataAtom: () => (/* binding */ DataAtom),\n/* harmony export */   ExtendedSize: () => (/* binding */ ExtendedSize),\n/* harmony export */   FixedLengthAtom: () => (/* binding */ FixedLengthAtom),\n/* harmony export */   Header: () => (/* binding */ Header),\n/* harmony export */   MdhdAtom: () => (/* binding */ MdhdAtom),\n/* harmony export */   MvhdAtom: () => (/* binding */ MvhdAtom),\n/* harmony export */   NameAtom: () => (/* binding */ NameAtom),\n/* harmony export */   SampleToChunkToken: () => (/* binding */ SampleToChunkToken),\n/* harmony export */   SoundSampleDescriptionV0: () => (/* binding */ SoundSampleDescriptionV0),\n/* harmony export */   SoundSampleDescriptionVersion: () => (/* binding */ SoundSampleDescriptionVersion),\n/* harmony export */   StcoAtom: () => (/* binding */ StcoAtom),\n/* harmony export */   StscAtom: () => (/* binding */ StscAtom),\n/* harmony export */   StsdAtom: () => (/* binding */ StsdAtom),\n/* harmony export */   StszAtom: () => (/* binding */ StszAtom),\n/* harmony export */   SttsAtom: () => (/* binding */ SttsAtom),\n/* harmony export */   TimeToSampleToken: () => (/* binding */ TimeToSampleToken),\n/* harmony export */   TrackHeaderAtom: () => (/* binding */ TrackHeaderAtom),\n/* harmony export */   ftyp: () => (/* binding */ ftyp),\n/* harmony export */   mhdr: () => (/* binding */ mhdr),\n/* harmony export */   tkhd: () => (/* binding */ tkhd)\n/* harmony export */ });\n/* harmony import */ var token_types__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! token-types */ \"(ssr)/./node_modules/token-types/lib/index.js\");\n/* harmony import */ var debug__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! debug */ \"(ssr)/./node_modules/debug/src/index.js\");\n/* harmony import */ var _common_FourCC_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../common/FourCC.js */ \"(ssr)/./node_modules/music-metadata/lib/common/FourCC.js\");\n\n\n\nconst debug = debug__WEBPACK_IMPORTED_MODULE_1__('music-metadata:parser:MP4:atom');\nconst Header = {\n    len: 8,\n    get: (buf, off) => {\n        const length = token_types__WEBPACK_IMPORTED_MODULE_0__.UINT32_BE.get(buf, off);\n        if (length < 0)\n            throw new Error('Invalid atom header length');\n        return {\n            length: BigInt(length),\n            name: new token_types__WEBPACK_IMPORTED_MODULE_0__.StringType(4, 'latin1').get(buf, off + 4)\n        };\n    },\n    put: (buf, off, hdr) => {\n        token_types__WEBPACK_IMPORTED_MODULE_0__.UINT32_BE.put(buf, off, Number(hdr.length));\n        return _common_FourCC_js__WEBPACK_IMPORTED_MODULE_2__.FourCcToken.put(buf, off + 4, hdr.name);\n    }\n};\n/**\n * Ref: https://developer.apple.com/library/archive/documentation/QuickTime/QTFF/QTFFChap1/qtff1.html#//apple_ref/doc/uid/TP40000939-CH203-38190\n */\nconst ExtendedSize = token_types__WEBPACK_IMPORTED_MODULE_0__.UINT64_BE;\nconst ftyp = {\n    len: 4,\n    get: (buf, off) => {\n        return {\n            type: new token_types__WEBPACK_IMPORTED_MODULE_0__.StringType(4, 'ascii').get(buf, off)\n        };\n    }\n};\nconst tkhd = {\n    len: 4,\n    get: (buf, off) => {\n        return {\n            type: new token_types__WEBPACK_IMPORTED_MODULE_0__.StringType(4, 'ascii').get(buf, off)\n        };\n    }\n};\n/**\n * Token: Movie Header Atom\n */\nconst mhdr = {\n    len: 8,\n    get: (buf, off) => {\n        return {\n            version: token_types__WEBPACK_IMPORTED_MODULE_0__.UINT8.get(buf, off),\n            flags: token_types__WEBPACK_IMPORTED_MODULE_0__.UINT24_BE.get(buf, off + 1),\n            nextItemID: token_types__WEBPACK_IMPORTED_MODULE_0__.UINT32_BE.get(buf, off + 4)\n        };\n    }\n};\n/**\n * Base class for 'fixed' length atoms.\n * In some cases these atoms are longer then the sum of the described fields.\n * Issue: https://github.com/Borewit/music-metadata/issues/120\n */\nclass FixedLengthAtom {\n    /**\n     *\n     * @param {number} len Length as specified in the size field\n     * @param {number} expLen Total length of sum of specified fields in the standard\n     * @param atomId Atom ID\n     */\n    constructor(len, expLen, atomId) {\n        this.len = len;\n        if (len < expLen) {\n            throw new Error(`Atom ${atomId} expected to be ${expLen}, but specifies ${len} bytes long.`);\n        }\n        if (len > expLen) {\n            debug(`Warning: atom ${atomId} expected to be ${expLen}, but was actually ${len} bytes long.`);\n        }\n    }\n}\n/**\n * Timestamp stored in seconds since Mac Epoch (1 January 1904)\n */\nconst SecondsSinceMacEpoch = {\n    len: 4,\n    get: (buf, off) => {\n        const secondsSinceUnixEpoch = token_types__WEBPACK_IMPORTED_MODULE_0__.UINT32_BE.get(buf, off) - 2082844800;\n        return new Date(secondsSinceUnixEpoch * 1000);\n    }\n};\n/**\n * Token: Media Header Atom\n * Ref:\n * - https://developer.apple.com/library/archive/documentation/QuickTime/QTFF/QTFFChap2/qtff2.html#//apple_ref/doc/uid/TP40000939-CH204-SW34\n * - https://wiki.multimedia.cx/index.php/QuickTime_container#mdhd\n */\nclass MdhdAtom extends FixedLengthAtom {\n    constructor(len) {\n        super(len, 24, 'mdhd');\n        this.len = len;\n    }\n    get(buf, off) {\n        return {\n            version: token_types__WEBPACK_IMPORTED_MODULE_0__.UINT8.get(buf, off + 0),\n            flags: token_types__WEBPACK_IMPORTED_MODULE_0__.UINT24_BE.get(buf, off + 1),\n            creationTime: SecondsSinceMacEpoch.get(buf, off + 4),\n            modificationTime: SecondsSinceMacEpoch.get(buf, off + 8),\n            timeScale: token_types__WEBPACK_IMPORTED_MODULE_0__.UINT32_BE.get(buf, off + 12),\n            duration: token_types__WEBPACK_IMPORTED_MODULE_0__.UINT32_BE.get(buf, off + 16),\n            language: token_types__WEBPACK_IMPORTED_MODULE_0__.UINT16_BE.get(buf, off + 20),\n            quality: token_types__WEBPACK_IMPORTED_MODULE_0__.UINT16_BE.get(buf, off + 22)\n        };\n    }\n}\n/**\n * Token: Movie Header Atom\n */\nclass MvhdAtom extends FixedLengthAtom {\n    constructor(len) {\n        super(len, 100, 'mvhd');\n        this.len = len;\n    }\n    get(buf, off) {\n        return {\n            version: token_types__WEBPACK_IMPORTED_MODULE_0__.UINT8.get(buf, off),\n            flags: token_types__WEBPACK_IMPORTED_MODULE_0__.UINT24_BE.get(buf, off + 1),\n            creationTime: SecondsSinceMacEpoch.get(buf, off + 4),\n            modificationTime: SecondsSinceMacEpoch.get(buf, off + 8),\n            timeScale: token_types__WEBPACK_IMPORTED_MODULE_0__.UINT32_BE.get(buf, off + 12),\n            duration: token_types__WEBPACK_IMPORTED_MODULE_0__.UINT32_BE.get(buf, off + 16),\n            preferredRate: token_types__WEBPACK_IMPORTED_MODULE_0__.UINT32_BE.get(buf, off + 20),\n            preferredVolume: token_types__WEBPACK_IMPORTED_MODULE_0__.UINT16_BE.get(buf, off + 24),\n            // ignore reserver: 10 bytes\n            // ignore matrix structure: 36 bytes\n            previewTime: token_types__WEBPACK_IMPORTED_MODULE_0__.UINT32_BE.get(buf, off + 72),\n            previewDuration: token_types__WEBPACK_IMPORTED_MODULE_0__.UINT32_BE.get(buf, off + 76),\n            posterTime: token_types__WEBPACK_IMPORTED_MODULE_0__.UINT32_BE.get(buf, off + 80),\n            selectionTime: token_types__WEBPACK_IMPORTED_MODULE_0__.UINT32_BE.get(buf, off + 84),\n            selectionDuration: token_types__WEBPACK_IMPORTED_MODULE_0__.UINT32_BE.get(buf, off + 88),\n            currentTime: token_types__WEBPACK_IMPORTED_MODULE_0__.UINT32_BE.get(buf, off + 92),\n            nextTrackID: token_types__WEBPACK_IMPORTED_MODULE_0__.UINT32_BE.get(buf, off + 96)\n        };\n    }\n}\n/**\n * Data Atom Structure\n */\nclass DataAtom {\n    constructor(len) {\n        this.len = len;\n    }\n    get(buf, off) {\n        return {\n            type: {\n                set: token_types__WEBPACK_IMPORTED_MODULE_0__.UINT8.get(buf, off + 0),\n                type: token_types__WEBPACK_IMPORTED_MODULE_0__.UINT24_BE.get(buf, off + 1)\n            },\n            locale: token_types__WEBPACK_IMPORTED_MODULE_0__.UINT24_BE.get(buf, off + 4),\n            value: new token_types__WEBPACK_IMPORTED_MODULE_0__.Uint8ArrayType(this.len - 8).get(buf, off + 8)\n        };\n    }\n}\n/**\n * Data Atom Structure\n * Ref: https://developer.apple.com/library/content/documentation/QuickTime/QTFF/Metadata/Metadata.html#//apple_ref/doc/uid/TP40000939-CH1-SW31\n */\nclass NameAtom {\n    constructor(len) {\n        this.len = len;\n    }\n    get(buf, off) {\n        return {\n            version: token_types__WEBPACK_IMPORTED_MODULE_0__.UINT8.get(buf, off),\n            flags: token_types__WEBPACK_IMPORTED_MODULE_0__.UINT24_BE.get(buf, off + 1),\n            name: new token_types__WEBPACK_IMPORTED_MODULE_0__.StringType(this.len - 4, 'utf-8').get(buf, off + 4)\n        };\n    }\n}\n/**\n * Track Header Atoms structure\n * Ref: https://developer.apple.com/library/content/documentation/QuickTime/QTFF/QTFFChap2/qtff2.html#//apple_ref/doc/uid/TP40000939-CH204-25550\n */\nclass TrackHeaderAtom {\n    constructor(len) {\n        this.len = len;\n    }\n    get(buf, off) {\n        return {\n            version: token_types__WEBPACK_IMPORTED_MODULE_0__.UINT8.get(buf, off),\n            flags: token_types__WEBPACK_IMPORTED_MODULE_0__.UINT24_BE.get(buf, off + 1),\n            creationTime: SecondsSinceMacEpoch.get(buf, off + 4),\n            modificationTime: SecondsSinceMacEpoch.get(buf, off + 8),\n            trackId: token_types__WEBPACK_IMPORTED_MODULE_0__.UINT32_BE.get(buf, off + 12),\n            // reserved 4 bytes\n            duration: token_types__WEBPACK_IMPORTED_MODULE_0__.UINT32_BE.get(buf, off + 20),\n            layer: token_types__WEBPACK_IMPORTED_MODULE_0__.UINT16_BE.get(buf, off + 24),\n            alternateGroup: token_types__WEBPACK_IMPORTED_MODULE_0__.UINT16_BE.get(buf, off + 26),\n            volume: token_types__WEBPACK_IMPORTED_MODULE_0__.UINT16_BE.get(buf, off + 28) // ToDo: fixed point\n            // ToDo: add remaining fields\n        };\n    }\n}\n/**\n * Atom: Sample Description Atom ('stsd')\n * Ref: https://developer.apple.com/library/archive/documentation/QuickTime/QTFF/QTFFChap2/qtff2.html#//apple_ref/doc/uid/TP40000939-CH204-25691\n */\nconst stsdHeader = {\n    len: 8,\n    get: (buf, off) => {\n        return {\n            version: token_types__WEBPACK_IMPORTED_MODULE_0__.UINT8.get(buf, off),\n            flags: token_types__WEBPACK_IMPORTED_MODULE_0__.UINT24_BE.get(buf, off + 1),\n            numberOfEntries: token_types__WEBPACK_IMPORTED_MODULE_0__.UINT32_BE.get(buf, off + 4)\n        };\n    }\n};\n/**\n * Atom: Sample Description Atom ('stsd')\n * Ref: https://developer.apple.com/library/archive/documentation/QuickTime/QTFF/QTFFChap2/qtff2.html#//apple_ref/doc/uid/TP40000939-CH204-25691\n */\nclass SampleDescriptionTable {\n    constructor(len) {\n        this.len = len;\n    }\n    get(buf, off) {\n        return {\n            dataFormat: _common_FourCC_js__WEBPACK_IMPORTED_MODULE_2__.FourCcToken.get(buf, off),\n            dataReferenceIndex: token_types__WEBPACK_IMPORTED_MODULE_0__.UINT16_BE.get(buf, off + 10),\n            description: new token_types__WEBPACK_IMPORTED_MODULE_0__.Uint8ArrayType(this.len - 12).get(buf, off + 12)\n        };\n    }\n}\n/**\n * Atom: Sample-description Atom ('stsd')\n * Ref: https://developer.apple.com/library/archive/documentation/QuickTime/QTFF/QTFFChap2/qtff2.html#//apple_ref/doc/uid/TP40000939-CH204-25691\n */\nclass StsdAtom {\n    constructor(len) {\n        this.len = len;\n    }\n    get(buf, off) {\n        const header = stsdHeader.get(buf, off);\n        off += stsdHeader.len;\n        const table = [];\n        for (let n = 0; n < header.numberOfEntries; ++n) {\n            const size = token_types__WEBPACK_IMPORTED_MODULE_0__.UINT32_BE.get(buf, off); // Sample description size\n            off += token_types__WEBPACK_IMPORTED_MODULE_0__.UINT32_BE.len;\n            table.push(new SampleDescriptionTable(size).get(buf, off));\n            off += size;\n        }\n        return {\n            header,\n            table\n        };\n    }\n}\n/**\n * Common Sound Sample Description (version & revision)\n * Ref: https://developer.apple.com/library/archive/documentation/QuickTime/QTFF/QTFFChap3/qtff3.html#//apple_ref/doc/uid/TP40000939-CH205-57317\n */\nconst SoundSampleDescriptionVersion = {\n    len: 8,\n    get(buf, off) {\n        return {\n            version: token_types__WEBPACK_IMPORTED_MODULE_0__.INT16_BE.get(buf, off),\n            revision: token_types__WEBPACK_IMPORTED_MODULE_0__.INT16_BE.get(buf, off + 2),\n            vendor: token_types__WEBPACK_IMPORTED_MODULE_0__.INT32_BE.get(buf, off + 4)\n        };\n    }\n};\n/**\n * Sound Sample Description (Version 0)\n * Ref: https://developer.apple.com/library/archive/documentation/QuickTime/QTFF/QTFFChap3/qtff3.html#//apple_ref/doc/uid/TP40000939-CH205-130736\n */\nconst SoundSampleDescriptionV0 = {\n    len: 12,\n    get(buf, off) {\n        return {\n            numAudioChannels: token_types__WEBPACK_IMPORTED_MODULE_0__.INT16_BE.get(buf, off + 0),\n            sampleSize: token_types__WEBPACK_IMPORTED_MODULE_0__.INT16_BE.get(buf, off + 2),\n            compressionId: token_types__WEBPACK_IMPORTED_MODULE_0__.INT16_BE.get(buf, off + 4),\n            packetSize: token_types__WEBPACK_IMPORTED_MODULE_0__.INT16_BE.get(buf, off + 6),\n            sampleRate: token_types__WEBPACK_IMPORTED_MODULE_0__.UINT16_BE.get(buf, off + 8) + token_types__WEBPACK_IMPORTED_MODULE_0__.UINT16_BE.get(buf, off + 10) / 10000\n        };\n    }\n};\nclass SimpleTableAtom {\n    constructor(len, token) {\n        this.len = len;\n        this.token = token;\n    }\n    get(buf, off) {\n        const nrOfEntries = token_types__WEBPACK_IMPORTED_MODULE_0__.INT32_BE.get(buf, off + 4);\n        return {\n            version: token_types__WEBPACK_IMPORTED_MODULE_0__.INT8.get(buf, off + 0),\n            flags: token_types__WEBPACK_IMPORTED_MODULE_0__.INT24_BE.get(buf, off + 1),\n            numberOfEntries: nrOfEntries,\n            entries: readTokenTable(buf, this.token, off + 8, this.len - 8, nrOfEntries)\n        };\n    }\n}\nconst TimeToSampleToken = {\n    len: 8,\n    get(buf, off) {\n        return {\n            count: token_types__WEBPACK_IMPORTED_MODULE_0__.INT32_BE.get(buf, off + 0),\n            duration: token_types__WEBPACK_IMPORTED_MODULE_0__.INT32_BE.get(buf, off + 4)\n        };\n    }\n};\n/**\n * Time-to-sample('stts') atom.\n * Store duration information for a media’s samples.\n * Ref: https://developer.apple.com/library/archive/documentation/QuickTime/QTFF/QTFFChap2/qtff2.html#//apple_ref/doc/uid/TP40000939-CH204-25696\n */\nclass SttsAtom extends SimpleTableAtom {\n    constructor(len) {\n        super(len, TimeToSampleToken);\n        this.len = len;\n    }\n}\nconst SampleToChunkToken = {\n    len: 12,\n    get(buf, off) {\n        return {\n            firstChunk: token_types__WEBPACK_IMPORTED_MODULE_0__.INT32_BE.get(buf, off),\n            samplesPerChunk: token_types__WEBPACK_IMPORTED_MODULE_0__.INT32_BE.get(buf, off + 4),\n            sampleDescriptionId: token_types__WEBPACK_IMPORTED_MODULE_0__.INT32_BE.get(buf, off + 8)\n        };\n    }\n};\n/**\n * Sample-to-Chunk ('stsc') atom interface\n * Ref: https://developer.apple.com/library/archive/documentation/QuickTime/QTFF/QTFFChap2/qtff2.html#//apple_ref/doc/uid/TP40000939-CH204-25706\n */\nclass StscAtom extends SimpleTableAtom {\n    constructor(len) {\n        super(len, SampleToChunkToken);\n        this.len = len;\n    }\n}\n/**\n * Sample-size ('stsz') atom\n * Ref: https://developer.apple.com/library/archive/documentation/QuickTime/QTFF/QTFFChap2/qtff2.html#//apple_ref/doc/uid/TP40000939-CH204-25710\n */\nclass StszAtom {\n    constructor(len) {\n        this.len = len;\n    }\n    get(buf, off) {\n        const nrOfEntries = token_types__WEBPACK_IMPORTED_MODULE_0__.INT32_BE.get(buf, off + 8);\n        return {\n            version: token_types__WEBPACK_IMPORTED_MODULE_0__.INT8.get(buf, off),\n            flags: token_types__WEBPACK_IMPORTED_MODULE_0__.INT24_BE.get(buf, off + 1),\n            sampleSize: token_types__WEBPACK_IMPORTED_MODULE_0__.INT32_BE.get(buf, off + 4),\n            numberOfEntries: nrOfEntries,\n            entries: readTokenTable(buf, token_types__WEBPACK_IMPORTED_MODULE_0__.INT32_BE, off + 12, this.len - 12, nrOfEntries)\n        };\n    }\n}\n/**\n * Chunk offset atom, 'stco'\n * Ref: https://developer.apple.com/library/archive/documentation/QuickTime/QTFF/QTFFChap2/qtff2.html#//apple_ref/doc/uid/TP40000939-CH204-25715\n */\nclass StcoAtom extends SimpleTableAtom {\n    constructor(len) {\n        super(len, token_types__WEBPACK_IMPORTED_MODULE_0__.INT32_BE);\n        this.len = len;\n    }\n}\n/**\n * Token used to decode text-track from 'mdat' atom (raw data stream)\n */\nclass ChapterText {\n    constructor(len) {\n        this.len = len;\n    }\n    get(buf, off) {\n        const titleLen = token_types__WEBPACK_IMPORTED_MODULE_0__.INT16_BE.get(buf, off + 0);\n        const str = new token_types__WEBPACK_IMPORTED_MODULE_0__.StringType(titleLen, 'utf-8');\n        return str.get(buf, off + 2);\n    }\n}\nfunction readTokenTable(buf, token, off, remainingLen, numberOfEntries) {\n    debug(`remainingLen=${remainingLen}, numberOfEntries=${numberOfEntries} * token-len=${token.len}`);\n    if (remainingLen === 0)\n        return [];\n    if (remainingLen !== numberOfEntries * token.len)\n        throw new Error('mismatch number-of-entries with remaining atom-length');\n    const entries = [];\n    // parse offset-table\n    for (let n = 0; n < numberOfEntries; ++n) {\n        entries.push(token.get(buf, off));\n        off += token.len;\n    }\n    return entries;\n}\n//# sourceMappingURL=AtomToken.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbXVzaWMtbWV0YWRhdGEvbGliL21wNC9BdG9tVG9rZW4uanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQXFDO0FBQ1A7QUFDb0I7QUFDbEQsY0FBYyxrQ0FBUztBQUNoQjtBQUNQO0FBQ0E7QUFDQSx1QkFBdUIsa0RBQWU7QUFDdEM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0IsbURBQWdCO0FBQ3RDO0FBQ0EsS0FBSztBQUNMO0FBQ0EsUUFBUSxrREFBZTtBQUN2QixlQUFlLDBEQUFXO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTyxxQkFBcUIsa0RBQWU7QUFDcEM7QUFDUDtBQUNBO0FBQ0E7QUFDQSxzQkFBc0IsbURBQWdCO0FBQ3RDO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCLG1EQUFnQjtBQUN0QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQiw4Q0FBVztBQUNoQyxtQkFBbUIsa0RBQWU7QUFDbEMsd0JBQXdCLGtEQUFlO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQSxlQUFlLFFBQVE7QUFDdkIsZUFBZSxRQUFRO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQ0FBb0MsUUFBUSxpQkFBaUIsT0FBTyxrQkFBa0IsS0FBSztBQUMzRjtBQUNBO0FBQ0EsbUNBQW1DLFFBQVEsaUJBQWlCLE9BQU8scUJBQXFCLEtBQUs7QUFDN0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0NBQXNDLGtEQUFlO0FBQ3JEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCLDhDQUFXO0FBQ2hDLG1CQUFtQixrREFBZTtBQUNsQztBQUNBO0FBQ0EsdUJBQXVCLGtEQUFlO0FBQ3RDLHNCQUFzQixrREFBZTtBQUNyQyxzQkFBc0Isa0RBQWU7QUFDckMscUJBQXFCLGtEQUFlO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCLDhDQUFXO0FBQ2hDLG1CQUFtQixrREFBZTtBQUNsQztBQUNBO0FBQ0EsdUJBQXVCLGtEQUFlO0FBQ3RDLHNCQUFzQixrREFBZTtBQUNyQywyQkFBMkIsa0RBQWU7QUFDMUMsNkJBQTZCLGtEQUFlO0FBQzVDO0FBQ0E7QUFDQSx5QkFBeUIsa0RBQWU7QUFDeEMsNkJBQTZCLGtEQUFlO0FBQzVDLHdCQUF3QixrREFBZTtBQUN2QywyQkFBMkIsa0RBQWU7QUFDMUMsK0JBQStCLGtEQUFlO0FBQzlDLHlCQUF5QixrREFBZTtBQUN4Qyx5QkFBeUIsa0RBQWU7QUFDeEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUIsOENBQVc7QUFDaEMsc0JBQXNCLGtEQUFlO0FBQ3JDLGFBQWE7QUFDYixvQkFBb0Isa0RBQWU7QUFDbkMsdUJBQXVCLHVEQUFvQjtBQUMzQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQiw4Q0FBVztBQUNoQyxtQkFBbUIsa0RBQWU7QUFDbEMsc0JBQXNCLG1EQUFnQjtBQUN0QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQiw4Q0FBVztBQUNoQyxtQkFBbUIsa0RBQWU7QUFDbEM7QUFDQTtBQUNBLHFCQUFxQixrREFBZTtBQUNwQztBQUNBLHNCQUFzQixrREFBZTtBQUNyQyxtQkFBbUIsa0RBQWU7QUFDbEMsNEJBQTRCLGtEQUFlO0FBQzNDLG9CQUFvQixrREFBZTtBQUNuQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUIsOENBQVc7QUFDaEMsbUJBQW1CLGtEQUFlO0FBQ2xDLDZCQUE2QixrREFBZTtBQUM1QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QiwwREFBVztBQUNuQyxnQ0FBZ0Msa0RBQWU7QUFDL0MsNkJBQTZCLHVEQUFvQjtBQUNqRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsNEJBQTRCO0FBQ3BELHlCQUF5QixrREFBZSxnQkFBZ0I7QUFDeEQsbUJBQW1CLGtEQUFlO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQSxxQkFBcUIsaURBQWM7QUFDbkMsc0JBQXNCLGlEQUFjO0FBQ3BDLG9CQUFvQixpREFBYztBQUNsQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0EsOEJBQThCLGlEQUFjO0FBQzVDLHdCQUF3QixpREFBYztBQUN0QywyQkFBMkIsaURBQWM7QUFDekMsd0JBQXdCLGlEQUFjO0FBQ3RDLHdCQUF3QixrREFBZSxxQkFBcUIsa0RBQWU7QUFDM0U7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLGlEQUFjO0FBQzFDO0FBQ0EscUJBQXFCLDZDQUFVO0FBQy9CLG1CQUFtQixpREFBYztBQUNqQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIsaURBQWM7QUFDakMsc0JBQXNCLGlEQUFjO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixpREFBYztBQUN0Qyw2QkFBNkIsaURBQWM7QUFDM0MsaUNBQWlDLGlEQUFjO0FBQy9DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLGlEQUFjO0FBQzFDO0FBQ0EscUJBQXFCLDZDQUFVO0FBQy9CLG1CQUFtQixpREFBYztBQUNqQyx3QkFBd0IsaURBQWM7QUFDdEM7QUFDQSx5Q0FBeUMsaURBQWM7QUFDdkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0EsbUJBQW1CLGlEQUFjO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUIsaURBQWM7QUFDdkMsd0JBQXdCLG1EQUFnQjtBQUN4QztBQUNBO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQixhQUFhLG9CQUFvQixpQkFBaUIsY0FBYyxVQUFVO0FBQ3BHO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixxQkFBcUI7QUFDekM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZGV2ZWxldmF0ZS8uL25vZGVfbW9kdWxlcy9tdXNpYy1tZXRhZGF0YS9saWIvbXA0L0F0b21Ub2tlbi5qcz8wOGZiIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAqIGFzIFRva2VuIGZyb20gJ3Rva2VuLXR5cGVzJztcbmltcG9ydCBpbml0RGVidWcgZnJvbSAnZGVidWcnO1xuaW1wb3J0IHsgRm91ckNjVG9rZW4gfSBmcm9tICcuLi9jb21tb24vRm91ckNDLmpzJztcbmNvbnN0IGRlYnVnID0gaW5pdERlYnVnKCdtdXNpYy1tZXRhZGF0YTpwYXJzZXI6TVA0OmF0b20nKTtcbmV4cG9ydCBjb25zdCBIZWFkZXIgPSB7XG4gICAgbGVuOiA4LFxuICAgIGdldDogKGJ1Ziwgb2ZmKSA9PiB7XG4gICAgICAgIGNvbnN0IGxlbmd0aCA9IFRva2VuLlVJTlQzMl9CRS5nZXQoYnVmLCBvZmYpO1xuICAgICAgICBpZiAobGVuZ3RoIDwgMClcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBhdG9tIGhlYWRlciBsZW5ndGgnKTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGxlbmd0aDogQmlnSW50KGxlbmd0aCksXG4gICAgICAgICAgICBuYW1lOiBuZXcgVG9rZW4uU3RyaW5nVHlwZSg0LCAnbGF0aW4xJykuZ2V0KGJ1Ziwgb2ZmICsgNClcbiAgICAgICAgfTtcbiAgICB9LFxuICAgIHB1dDogKGJ1Ziwgb2ZmLCBoZHIpID0+IHtcbiAgICAgICAgVG9rZW4uVUlOVDMyX0JFLnB1dChidWYsIG9mZiwgTnVtYmVyKGhkci5sZW5ndGgpKTtcbiAgICAgICAgcmV0dXJuIEZvdXJDY1Rva2VuLnB1dChidWYsIG9mZiArIDQsIGhkci5uYW1lKTtcbiAgICB9XG59O1xuLyoqXG4gKiBSZWY6IGh0dHBzOi8vZGV2ZWxvcGVyLmFwcGxlLmNvbS9saWJyYXJ5L2FyY2hpdmUvZG9jdW1lbnRhdGlvbi9RdWlja1RpbWUvUVRGRi9RVEZGQ2hhcDEvcXRmZjEuaHRtbCMvL2FwcGxlX3JlZi9kb2MvdWlkL1RQNDAwMDA5MzktQ0gyMDMtMzgxOTBcbiAqL1xuZXhwb3J0IGNvbnN0IEV4dGVuZGVkU2l6ZSA9IFRva2VuLlVJTlQ2NF9CRTtcbmV4cG9ydCBjb25zdCBmdHlwID0ge1xuICAgIGxlbjogNCxcbiAgICBnZXQ6IChidWYsIG9mZikgPT4ge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdHlwZTogbmV3IFRva2VuLlN0cmluZ1R5cGUoNCwgJ2FzY2lpJykuZ2V0KGJ1Ziwgb2ZmKVxuICAgICAgICB9O1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgdGtoZCA9IHtcbiAgICBsZW46IDQsXG4gICAgZ2V0OiAoYnVmLCBvZmYpID0+IHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHR5cGU6IG5ldyBUb2tlbi5TdHJpbmdUeXBlKDQsICdhc2NpaScpLmdldChidWYsIG9mZilcbiAgICAgICAgfTtcbiAgICB9XG59O1xuLyoqXG4gKiBUb2tlbjogTW92aWUgSGVhZGVyIEF0b21cbiAqL1xuZXhwb3J0IGNvbnN0IG1oZHIgPSB7XG4gICAgbGVuOiA4LFxuICAgIGdldDogKGJ1Ziwgb2ZmKSA9PiB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB2ZXJzaW9uOiBUb2tlbi5VSU5UOC5nZXQoYnVmLCBvZmYpLFxuICAgICAgICAgICAgZmxhZ3M6IFRva2VuLlVJTlQyNF9CRS5nZXQoYnVmLCBvZmYgKyAxKSxcbiAgICAgICAgICAgIG5leHRJdGVtSUQ6IFRva2VuLlVJTlQzMl9CRS5nZXQoYnVmLCBvZmYgKyA0KVxuICAgICAgICB9O1xuICAgIH1cbn07XG4vKipcbiAqIEJhc2UgY2xhc3MgZm9yICdmaXhlZCcgbGVuZ3RoIGF0b21zLlxuICogSW4gc29tZSBjYXNlcyB0aGVzZSBhdG9tcyBhcmUgbG9uZ2VyIHRoZW4gdGhlIHN1bSBvZiB0aGUgZGVzY3JpYmVkIGZpZWxkcy5cbiAqIElzc3VlOiBodHRwczovL2dpdGh1Yi5jb20vQm9yZXdpdC9tdXNpYy1tZXRhZGF0YS9pc3N1ZXMvMTIwXG4gKi9cbmV4cG9ydCBjbGFzcyBGaXhlZExlbmd0aEF0b20ge1xuICAgIC8qKlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGxlbiBMZW5ndGggYXMgc3BlY2lmaWVkIGluIHRoZSBzaXplIGZpZWxkXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGV4cExlbiBUb3RhbCBsZW5ndGggb2Ygc3VtIG9mIHNwZWNpZmllZCBmaWVsZHMgaW4gdGhlIHN0YW5kYXJkXG4gICAgICogQHBhcmFtIGF0b21JZCBBdG9tIElEXG4gICAgICovXG4gICAgY29uc3RydWN0b3IobGVuLCBleHBMZW4sIGF0b21JZCkge1xuICAgICAgICB0aGlzLmxlbiA9IGxlbjtcbiAgICAgICAgaWYgKGxlbiA8IGV4cExlbikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBBdG9tICR7YXRvbUlkfSBleHBlY3RlZCB0byBiZSAke2V4cExlbn0sIGJ1dCBzcGVjaWZpZXMgJHtsZW59IGJ5dGVzIGxvbmcuYCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGxlbiA+IGV4cExlbikge1xuICAgICAgICAgICAgZGVidWcoYFdhcm5pbmc6IGF0b20gJHthdG9tSWR9IGV4cGVjdGVkIHRvIGJlICR7ZXhwTGVufSwgYnV0IHdhcyBhY3R1YWxseSAke2xlbn0gYnl0ZXMgbG9uZy5gKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbi8qKlxuICogVGltZXN0YW1wIHN0b3JlZCBpbiBzZWNvbmRzIHNpbmNlIE1hYyBFcG9jaCAoMSBKYW51YXJ5IDE5MDQpXG4gKi9cbmNvbnN0IFNlY29uZHNTaW5jZU1hY0Vwb2NoID0ge1xuICAgIGxlbjogNCxcbiAgICBnZXQ6IChidWYsIG9mZikgPT4ge1xuICAgICAgICBjb25zdCBzZWNvbmRzU2luY2VVbml4RXBvY2ggPSBUb2tlbi5VSU5UMzJfQkUuZ2V0KGJ1Ziwgb2ZmKSAtIDIwODI4NDQ4MDA7XG4gICAgICAgIHJldHVybiBuZXcgRGF0ZShzZWNvbmRzU2luY2VVbml4RXBvY2ggKiAxMDAwKTtcbiAgICB9XG59O1xuLyoqXG4gKiBUb2tlbjogTWVkaWEgSGVhZGVyIEF0b21cbiAqIFJlZjpcbiAqIC0gaHR0cHM6Ly9kZXZlbG9wZXIuYXBwbGUuY29tL2xpYnJhcnkvYXJjaGl2ZS9kb2N1bWVudGF0aW9uL1F1aWNrVGltZS9RVEZGL1FURkZDaGFwMi9xdGZmMi5odG1sIy8vYXBwbGVfcmVmL2RvYy91aWQvVFA0MDAwMDkzOS1DSDIwNC1TVzM0XG4gKiAtIGh0dHBzOi8vd2lraS5tdWx0aW1lZGlhLmN4L2luZGV4LnBocC9RdWlja1RpbWVfY29udGFpbmVyI21kaGRcbiAqL1xuZXhwb3J0IGNsYXNzIE1kaGRBdG9tIGV4dGVuZHMgRml4ZWRMZW5ndGhBdG9tIHtcbiAgICBjb25zdHJ1Y3RvcihsZW4pIHtcbiAgICAgICAgc3VwZXIobGVuLCAyNCwgJ21kaGQnKTtcbiAgICAgICAgdGhpcy5sZW4gPSBsZW47XG4gICAgfVxuICAgIGdldChidWYsIG9mZikge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdmVyc2lvbjogVG9rZW4uVUlOVDguZ2V0KGJ1Ziwgb2ZmICsgMCksXG4gICAgICAgICAgICBmbGFnczogVG9rZW4uVUlOVDI0X0JFLmdldChidWYsIG9mZiArIDEpLFxuICAgICAgICAgICAgY3JlYXRpb25UaW1lOiBTZWNvbmRzU2luY2VNYWNFcG9jaC5nZXQoYnVmLCBvZmYgKyA0KSxcbiAgICAgICAgICAgIG1vZGlmaWNhdGlvblRpbWU6IFNlY29uZHNTaW5jZU1hY0Vwb2NoLmdldChidWYsIG9mZiArIDgpLFxuICAgICAgICAgICAgdGltZVNjYWxlOiBUb2tlbi5VSU5UMzJfQkUuZ2V0KGJ1Ziwgb2ZmICsgMTIpLFxuICAgICAgICAgICAgZHVyYXRpb246IFRva2VuLlVJTlQzMl9CRS5nZXQoYnVmLCBvZmYgKyAxNiksXG4gICAgICAgICAgICBsYW5ndWFnZTogVG9rZW4uVUlOVDE2X0JFLmdldChidWYsIG9mZiArIDIwKSxcbiAgICAgICAgICAgIHF1YWxpdHk6IFRva2VuLlVJTlQxNl9CRS5nZXQoYnVmLCBvZmYgKyAyMilcbiAgICAgICAgfTtcbiAgICB9XG59XG4vKipcbiAqIFRva2VuOiBNb3ZpZSBIZWFkZXIgQXRvbVxuICovXG5leHBvcnQgY2xhc3MgTXZoZEF0b20gZXh0ZW5kcyBGaXhlZExlbmd0aEF0b20ge1xuICAgIGNvbnN0cnVjdG9yKGxlbikge1xuICAgICAgICBzdXBlcihsZW4sIDEwMCwgJ212aGQnKTtcbiAgICAgICAgdGhpcy5sZW4gPSBsZW47XG4gICAgfVxuICAgIGdldChidWYsIG9mZikge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdmVyc2lvbjogVG9rZW4uVUlOVDguZ2V0KGJ1Ziwgb2ZmKSxcbiAgICAgICAgICAgIGZsYWdzOiBUb2tlbi5VSU5UMjRfQkUuZ2V0KGJ1Ziwgb2ZmICsgMSksXG4gICAgICAgICAgICBjcmVhdGlvblRpbWU6IFNlY29uZHNTaW5jZU1hY0Vwb2NoLmdldChidWYsIG9mZiArIDQpLFxuICAgICAgICAgICAgbW9kaWZpY2F0aW9uVGltZTogU2Vjb25kc1NpbmNlTWFjRXBvY2guZ2V0KGJ1Ziwgb2ZmICsgOCksXG4gICAgICAgICAgICB0aW1lU2NhbGU6IFRva2VuLlVJTlQzMl9CRS5nZXQoYnVmLCBvZmYgKyAxMiksXG4gICAgICAgICAgICBkdXJhdGlvbjogVG9rZW4uVUlOVDMyX0JFLmdldChidWYsIG9mZiArIDE2KSxcbiAgICAgICAgICAgIHByZWZlcnJlZFJhdGU6IFRva2VuLlVJTlQzMl9CRS5nZXQoYnVmLCBvZmYgKyAyMCksXG4gICAgICAgICAgICBwcmVmZXJyZWRWb2x1bWU6IFRva2VuLlVJTlQxNl9CRS5nZXQoYnVmLCBvZmYgKyAyNCksXG4gICAgICAgICAgICAvLyBpZ25vcmUgcmVzZXJ2ZXI6IDEwIGJ5dGVzXG4gICAgICAgICAgICAvLyBpZ25vcmUgbWF0cml4IHN0cnVjdHVyZTogMzYgYnl0ZXNcbiAgICAgICAgICAgIHByZXZpZXdUaW1lOiBUb2tlbi5VSU5UMzJfQkUuZ2V0KGJ1Ziwgb2ZmICsgNzIpLFxuICAgICAgICAgICAgcHJldmlld0R1cmF0aW9uOiBUb2tlbi5VSU5UMzJfQkUuZ2V0KGJ1Ziwgb2ZmICsgNzYpLFxuICAgICAgICAgICAgcG9zdGVyVGltZTogVG9rZW4uVUlOVDMyX0JFLmdldChidWYsIG9mZiArIDgwKSxcbiAgICAgICAgICAgIHNlbGVjdGlvblRpbWU6IFRva2VuLlVJTlQzMl9CRS5nZXQoYnVmLCBvZmYgKyA4NCksXG4gICAgICAgICAgICBzZWxlY3Rpb25EdXJhdGlvbjogVG9rZW4uVUlOVDMyX0JFLmdldChidWYsIG9mZiArIDg4KSxcbiAgICAgICAgICAgIGN1cnJlbnRUaW1lOiBUb2tlbi5VSU5UMzJfQkUuZ2V0KGJ1Ziwgb2ZmICsgOTIpLFxuICAgICAgICAgICAgbmV4dFRyYWNrSUQ6IFRva2VuLlVJTlQzMl9CRS5nZXQoYnVmLCBvZmYgKyA5NilcbiAgICAgICAgfTtcbiAgICB9XG59XG4vKipcbiAqIERhdGEgQXRvbSBTdHJ1Y3R1cmVcbiAqL1xuZXhwb3J0IGNsYXNzIERhdGFBdG9tIHtcbiAgICBjb25zdHJ1Y3RvcihsZW4pIHtcbiAgICAgICAgdGhpcy5sZW4gPSBsZW47XG4gICAgfVxuICAgIGdldChidWYsIG9mZikge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdHlwZToge1xuICAgICAgICAgICAgICAgIHNldDogVG9rZW4uVUlOVDguZ2V0KGJ1Ziwgb2ZmICsgMCksXG4gICAgICAgICAgICAgICAgdHlwZTogVG9rZW4uVUlOVDI0X0JFLmdldChidWYsIG9mZiArIDEpXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgbG9jYWxlOiBUb2tlbi5VSU5UMjRfQkUuZ2V0KGJ1Ziwgb2ZmICsgNCksXG4gICAgICAgICAgICB2YWx1ZTogbmV3IFRva2VuLlVpbnQ4QXJyYXlUeXBlKHRoaXMubGVuIC0gOCkuZ2V0KGJ1Ziwgb2ZmICsgOClcbiAgICAgICAgfTtcbiAgICB9XG59XG4vKipcbiAqIERhdGEgQXRvbSBTdHJ1Y3R1cmVcbiAqIFJlZjogaHR0cHM6Ly9kZXZlbG9wZXIuYXBwbGUuY29tL2xpYnJhcnkvY29udGVudC9kb2N1bWVudGF0aW9uL1F1aWNrVGltZS9RVEZGL01ldGFkYXRhL01ldGFkYXRhLmh0bWwjLy9hcHBsZV9yZWYvZG9jL3VpZC9UUDQwMDAwOTM5LUNIMS1TVzMxXG4gKi9cbmV4cG9ydCBjbGFzcyBOYW1lQXRvbSB7XG4gICAgY29uc3RydWN0b3IobGVuKSB7XG4gICAgICAgIHRoaXMubGVuID0gbGVuO1xuICAgIH1cbiAgICBnZXQoYnVmLCBvZmYpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHZlcnNpb246IFRva2VuLlVJTlQ4LmdldChidWYsIG9mZiksXG4gICAgICAgICAgICBmbGFnczogVG9rZW4uVUlOVDI0X0JFLmdldChidWYsIG9mZiArIDEpLFxuICAgICAgICAgICAgbmFtZTogbmV3IFRva2VuLlN0cmluZ1R5cGUodGhpcy5sZW4gLSA0LCAndXRmLTgnKS5nZXQoYnVmLCBvZmYgKyA0KVxuICAgICAgICB9O1xuICAgIH1cbn1cbi8qKlxuICogVHJhY2sgSGVhZGVyIEF0b21zIHN0cnVjdHVyZVxuICogUmVmOiBodHRwczovL2RldmVsb3Blci5hcHBsZS5jb20vbGlicmFyeS9jb250ZW50L2RvY3VtZW50YXRpb24vUXVpY2tUaW1lL1FURkYvUVRGRkNoYXAyL3F0ZmYyLmh0bWwjLy9hcHBsZV9yZWYvZG9jL3VpZC9UUDQwMDAwOTM5LUNIMjA0LTI1NTUwXG4gKi9cbmV4cG9ydCBjbGFzcyBUcmFja0hlYWRlckF0b20ge1xuICAgIGNvbnN0cnVjdG9yKGxlbikge1xuICAgICAgICB0aGlzLmxlbiA9IGxlbjtcbiAgICB9XG4gICAgZ2V0KGJ1Ziwgb2ZmKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB2ZXJzaW9uOiBUb2tlbi5VSU5UOC5nZXQoYnVmLCBvZmYpLFxuICAgICAgICAgICAgZmxhZ3M6IFRva2VuLlVJTlQyNF9CRS5nZXQoYnVmLCBvZmYgKyAxKSxcbiAgICAgICAgICAgIGNyZWF0aW9uVGltZTogU2Vjb25kc1NpbmNlTWFjRXBvY2guZ2V0KGJ1Ziwgb2ZmICsgNCksXG4gICAgICAgICAgICBtb2RpZmljYXRpb25UaW1lOiBTZWNvbmRzU2luY2VNYWNFcG9jaC5nZXQoYnVmLCBvZmYgKyA4KSxcbiAgICAgICAgICAgIHRyYWNrSWQ6IFRva2VuLlVJTlQzMl9CRS5nZXQoYnVmLCBvZmYgKyAxMiksXG4gICAgICAgICAgICAvLyByZXNlcnZlZCA0IGJ5dGVzXG4gICAgICAgICAgICBkdXJhdGlvbjogVG9rZW4uVUlOVDMyX0JFLmdldChidWYsIG9mZiArIDIwKSxcbiAgICAgICAgICAgIGxheWVyOiBUb2tlbi5VSU5UMTZfQkUuZ2V0KGJ1Ziwgb2ZmICsgMjQpLFxuICAgICAgICAgICAgYWx0ZXJuYXRlR3JvdXA6IFRva2VuLlVJTlQxNl9CRS5nZXQoYnVmLCBvZmYgKyAyNiksXG4gICAgICAgICAgICB2b2x1bWU6IFRva2VuLlVJTlQxNl9CRS5nZXQoYnVmLCBvZmYgKyAyOCkgLy8gVG9EbzogZml4ZWQgcG9pbnRcbiAgICAgICAgICAgIC8vIFRvRG86IGFkZCByZW1haW5pbmcgZmllbGRzXG4gICAgICAgIH07XG4gICAgfVxufVxuLyoqXG4gKiBBdG9tOiBTYW1wbGUgRGVzY3JpcHRpb24gQXRvbSAoJ3N0c2QnKVxuICogUmVmOiBodHRwczovL2RldmVsb3Blci5hcHBsZS5jb20vbGlicmFyeS9hcmNoaXZlL2RvY3VtZW50YXRpb24vUXVpY2tUaW1lL1FURkYvUVRGRkNoYXAyL3F0ZmYyLmh0bWwjLy9hcHBsZV9yZWYvZG9jL3VpZC9UUDQwMDAwOTM5LUNIMjA0LTI1NjkxXG4gKi9cbmNvbnN0IHN0c2RIZWFkZXIgPSB7XG4gICAgbGVuOiA4LFxuICAgIGdldDogKGJ1Ziwgb2ZmKSA9PiB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB2ZXJzaW9uOiBUb2tlbi5VSU5UOC5nZXQoYnVmLCBvZmYpLFxuICAgICAgICAgICAgZmxhZ3M6IFRva2VuLlVJTlQyNF9CRS5nZXQoYnVmLCBvZmYgKyAxKSxcbiAgICAgICAgICAgIG51bWJlck9mRW50cmllczogVG9rZW4uVUlOVDMyX0JFLmdldChidWYsIG9mZiArIDQpXG4gICAgICAgIH07XG4gICAgfVxufTtcbi8qKlxuICogQXRvbTogU2FtcGxlIERlc2NyaXB0aW9uIEF0b20gKCdzdHNkJylcbiAqIFJlZjogaHR0cHM6Ly9kZXZlbG9wZXIuYXBwbGUuY29tL2xpYnJhcnkvYXJjaGl2ZS9kb2N1bWVudGF0aW9uL1F1aWNrVGltZS9RVEZGL1FURkZDaGFwMi9xdGZmMi5odG1sIy8vYXBwbGVfcmVmL2RvYy91aWQvVFA0MDAwMDkzOS1DSDIwNC0yNTY5MVxuICovXG5jbGFzcyBTYW1wbGVEZXNjcmlwdGlvblRhYmxlIHtcbiAgICBjb25zdHJ1Y3RvcihsZW4pIHtcbiAgICAgICAgdGhpcy5sZW4gPSBsZW47XG4gICAgfVxuICAgIGdldChidWYsIG9mZikge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgZGF0YUZvcm1hdDogRm91ckNjVG9rZW4uZ2V0KGJ1Ziwgb2ZmKSxcbiAgICAgICAgICAgIGRhdGFSZWZlcmVuY2VJbmRleDogVG9rZW4uVUlOVDE2X0JFLmdldChidWYsIG9mZiArIDEwKSxcbiAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBuZXcgVG9rZW4uVWludDhBcnJheVR5cGUodGhpcy5sZW4gLSAxMikuZ2V0KGJ1Ziwgb2ZmICsgMTIpXG4gICAgICAgIH07XG4gICAgfVxufVxuLyoqXG4gKiBBdG9tOiBTYW1wbGUtZGVzY3JpcHRpb24gQXRvbSAoJ3N0c2QnKVxuICogUmVmOiBodHRwczovL2RldmVsb3Blci5hcHBsZS5jb20vbGlicmFyeS9hcmNoaXZlL2RvY3VtZW50YXRpb24vUXVpY2tUaW1lL1FURkYvUVRGRkNoYXAyL3F0ZmYyLmh0bWwjLy9hcHBsZV9yZWYvZG9jL3VpZC9UUDQwMDAwOTM5LUNIMjA0LTI1NjkxXG4gKi9cbmV4cG9ydCBjbGFzcyBTdHNkQXRvbSB7XG4gICAgY29uc3RydWN0b3IobGVuKSB7XG4gICAgICAgIHRoaXMubGVuID0gbGVuO1xuICAgIH1cbiAgICBnZXQoYnVmLCBvZmYpIHtcbiAgICAgICAgY29uc3QgaGVhZGVyID0gc3RzZEhlYWRlci5nZXQoYnVmLCBvZmYpO1xuICAgICAgICBvZmYgKz0gc3RzZEhlYWRlci5sZW47XG4gICAgICAgIGNvbnN0IHRhYmxlID0gW107XG4gICAgICAgIGZvciAobGV0IG4gPSAwOyBuIDwgaGVhZGVyLm51bWJlck9mRW50cmllczsgKytuKSB7XG4gICAgICAgICAgICBjb25zdCBzaXplID0gVG9rZW4uVUlOVDMyX0JFLmdldChidWYsIG9mZik7IC8vIFNhbXBsZSBkZXNjcmlwdGlvbiBzaXplXG4gICAgICAgICAgICBvZmYgKz0gVG9rZW4uVUlOVDMyX0JFLmxlbjtcbiAgICAgICAgICAgIHRhYmxlLnB1c2gobmV3IFNhbXBsZURlc2NyaXB0aW9uVGFibGUoc2l6ZSkuZ2V0KGJ1Ziwgb2ZmKSk7XG4gICAgICAgICAgICBvZmYgKz0gc2l6ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgaGVhZGVyLFxuICAgICAgICAgICAgdGFibGVcbiAgICAgICAgfTtcbiAgICB9XG59XG4vKipcbiAqIENvbW1vbiBTb3VuZCBTYW1wbGUgRGVzY3JpcHRpb24gKHZlcnNpb24gJiByZXZpc2lvbilcbiAqIFJlZjogaHR0cHM6Ly9kZXZlbG9wZXIuYXBwbGUuY29tL2xpYnJhcnkvYXJjaGl2ZS9kb2N1bWVudGF0aW9uL1F1aWNrVGltZS9RVEZGL1FURkZDaGFwMy9xdGZmMy5odG1sIy8vYXBwbGVfcmVmL2RvYy91aWQvVFA0MDAwMDkzOS1DSDIwNS01NzMxN1xuICovXG5leHBvcnQgY29uc3QgU291bmRTYW1wbGVEZXNjcmlwdGlvblZlcnNpb24gPSB7XG4gICAgbGVuOiA4LFxuICAgIGdldChidWYsIG9mZikge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdmVyc2lvbjogVG9rZW4uSU5UMTZfQkUuZ2V0KGJ1Ziwgb2ZmKSxcbiAgICAgICAgICAgIHJldmlzaW9uOiBUb2tlbi5JTlQxNl9CRS5nZXQoYnVmLCBvZmYgKyAyKSxcbiAgICAgICAgICAgIHZlbmRvcjogVG9rZW4uSU5UMzJfQkUuZ2V0KGJ1Ziwgb2ZmICsgNClcbiAgICAgICAgfTtcbiAgICB9XG59O1xuLyoqXG4gKiBTb3VuZCBTYW1wbGUgRGVzY3JpcHRpb24gKFZlcnNpb24gMClcbiAqIFJlZjogaHR0cHM6Ly9kZXZlbG9wZXIuYXBwbGUuY29tL2xpYnJhcnkvYXJjaGl2ZS9kb2N1bWVudGF0aW9uL1F1aWNrVGltZS9RVEZGL1FURkZDaGFwMy9xdGZmMy5odG1sIy8vYXBwbGVfcmVmL2RvYy91aWQvVFA0MDAwMDkzOS1DSDIwNS0xMzA3MzZcbiAqL1xuZXhwb3J0IGNvbnN0IFNvdW5kU2FtcGxlRGVzY3JpcHRpb25WMCA9IHtcbiAgICBsZW46IDEyLFxuICAgIGdldChidWYsIG9mZikge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgbnVtQXVkaW9DaGFubmVsczogVG9rZW4uSU5UMTZfQkUuZ2V0KGJ1Ziwgb2ZmICsgMCksXG4gICAgICAgICAgICBzYW1wbGVTaXplOiBUb2tlbi5JTlQxNl9CRS5nZXQoYnVmLCBvZmYgKyAyKSxcbiAgICAgICAgICAgIGNvbXByZXNzaW9uSWQ6IFRva2VuLklOVDE2X0JFLmdldChidWYsIG9mZiArIDQpLFxuICAgICAgICAgICAgcGFja2V0U2l6ZTogVG9rZW4uSU5UMTZfQkUuZ2V0KGJ1Ziwgb2ZmICsgNiksXG4gICAgICAgICAgICBzYW1wbGVSYXRlOiBUb2tlbi5VSU5UMTZfQkUuZ2V0KGJ1Ziwgb2ZmICsgOCkgKyBUb2tlbi5VSU5UMTZfQkUuZ2V0KGJ1Ziwgb2ZmICsgMTApIC8gMTAwMDBcbiAgICAgICAgfTtcbiAgICB9XG59O1xuY2xhc3MgU2ltcGxlVGFibGVBdG9tIHtcbiAgICBjb25zdHJ1Y3RvcihsZW4sIHRva2VuKSB7XG4gICAgICAgIHRoaXMubGVuID0gbGVuO1xuICAgICAgICB0aGlzLnRva2VuID0gdG9rZW47XG4gICAgfVxuICAgIGdldChidWYsIG9mZikge1xuICAgICAgICBjb25zdCBuck9mRW50cmllcyA9IFRva2VuLklOVDMyX0JFLmdldChidWYsIG9mZiArIDQpO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdmVyc2lvbjogVG9rZW4uSU5UOC5nZXQoYnVmLCBvZmYgKyAwKSxcbiAgICAgICAgICAgIGZsYWdzOiBUb2tlbi5JTlQyNF9CRS5nZXQoYnVmLCBvZmYgKyAxKSxcbiAgICAgICAgICAgIG51bWJlck9mRW50cmllczogbnJPZkVudHJpZXMsXG4gICAgICAgICAgICBlbnRyaWVzOiByZWFkVG9rZW5UYWJsZShidWYsIHRoaXMudG9rZW4sIG9mZiArIDgsIHRoaXMubGVuIC0gOCwgbnJPZkVudHJpZXMpXG4gICAgICAgIH07XG4gICAgfVxufVxuZXhwb3J0IGNvbnN0IFRpbWVUb1NhbXBsZVRva2VuID0ge1xuICAgIGxlbjogOCxcbiAgICBnZXQoYnVmLCBvZmYpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGNvdW50OiBUb2tlbi5JTlQzMl9CRS5nZXQoYnVmLCBvZmYgKyAwKSxcbiAgICAgICAgICAgIGR1cmF0aW9uOiBUb2tlbi5JTlQzMl9CRS5nZXQoYnVmLCBvZmYgKyA0KVxuICAgICAgICB9O1xuICAgIH1cbn07XG4vKipcbiAqIFRpbWUtdG8tc2FtcGxlKCdzdHRzJykgYXRvbS5cbiAqIFN0b3JlIGR1cmF0aW9uIGluZm9ybWF0aW9uIGZvciBhIG1lZGlh4oCZcyBzYW1wbGVzLlxuICogUmVmOiBodHRwczovL2RldmVsb3Blci5hcHBsZS5jb20vbGlicmFyeS9hcmNoaXZlL2RvY3VtZW50YXRpb24vUXVpY2tUaW1lL1FURkYvUVRGRkNoYXAyL3F0ZmYyLmh0bWwjLy9hcHBsZV9yZWYvZG9jL3VpZC9UUDQwMDAwOTM5LUNIMjA0LTI1Njk2XG4gKi9cbmV4cG9ydCBjbGFzcyBTdHRzQXRvbSBleHRlbmRzIFNpbXBsZVRhYmxlQXRvbSB7XG4gICAgY29uc3RydWN0b3IobGVuKSB7XG4gICAgICAgIHN1cGVyKGxlbiwgVGltZVRvU2FtcGxlVG9rZW4pO1xuICAgICAgICB0aGlzLmxlbiA9IGxlbjtcbiAgICB9XG59XG5leHBvcnQgY29uc3QgU2FtcGxlVG9DaHVua1Rva2VuID0ge1xuICAgIGxlbjogMTIsXG4gICAgZ2V0KGJ1Ziwgb2ZmKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBmaXJzdENodW5rOiBUb2tlbi5JTlQzMl9CRS5nZXQoYnVmLCBvZmYpLFxuICAgICAgICAgICAgc2FtcGxlc1BlckNodW5rOiBUb2tlbi5JTlQzMl9CRS5nZXQoYnVmLCBvZmYgKyA0KSxcbiAgICAgICAgICAgIHNhbXBsZURlc2NyaXB0aW9uSWQ6IFRva2VuLklOVDMyX0JFLmdldChidWYsIG9mZiArIDgpXG4gICAgICAgIH07XG4gICAgfVxufTtcbi8qKlxuICogU2FtcGxlLXRvLUNodW5rICgnc3RzYycpIGF0b20gaW50ZXJmYWNlXG4gKiBSZWY6IGh0dHBzOi8vZGV2ZWxvcGVyLmFwcGxlLmNvbS9saWJyYXJ5L2FyY2hpdmUvZG9jdW1lbnRhdGlvbi9RdWlja1RpbWUvUVRGRi9RVEZGQ2hhcDIvcXRmZjIuaHRtbCMvL2FwcGxlX3JlZi9kb2MvdWlkL1RQNDAwMDA5MzktQ0gyMDQtMjU3MDZcbiAqL1xuZXhwb3J0IGNsYXNzIFN0c2NBdG9tIGV4dGVuZHMgU2ltcGxlVGFibGVBdG9tIHtcbiAgICBjb25zdHJ1Y3RvcihsZW4pIHtcbiAgICAgICAgc3VwZXIobGVuLCBTYW1wbGVUb0NodW5rVG9rZW4pO1xuICAgICAgICB0aGlzLmxlbiA9IGxlbjtcbiAgICB9XG59XG4vKipcbiAqIFNhbXBsZS1zaXplICgnc3RzeicpIGF0b21cbiAqIFJlZjogaHR0cHM6Ly9kZXZlbG9wZXIuYXBwbGUuY29tL2xpYnJhcnkvYXJjaGl2ZS9kb2N1bWVudGF0aW9uL1F1aWNrVGltZS9RVEZGL1FURkZDaGFwMi9xdGZmMi5odG1sIy8vYXBwbGVfcmVmL2RvYy91aWQvVFA0MDAwMDkzOS1DSDIwNC0yNTcxMFxuICovXG5leHBvcnQgY2xhc3MgU3RzekF0b20ge1xuICAgIGNvbnN0cnVjdG9yKGxlbikge1xuICAgICAgICB0aGlzLmxlbiA9IGxlbjtcbiAgICB9XG4gICAgZ2V0KGJ1Ziwgb2ZmKSB7XG4gICAgICAgIGNvbnN0IG5yT2ZFbnRyaWVzID0gVG9rZW4uSU5UMzJfQkUuZ2V0KGJ1Ziwgb2ZmICsgOCk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB2ZXJzaW9uOiBUb2tlbi5JTlQ4LmdldChidWYsIG9mZiksXG4gICAgICAgICAgICBmbGFnczogVG9rZW4uSU5UMjRfQkUuZ2V0KGJ1Ziwgb2ZmICsgMSksXG4gICAgICAgICAgICBzYW1wbGVTaXplOiBUb2tlbi5JTlQzMl9CRS5nZXQoYnVmLCBvZmYgKyA0KSxcbiAgICAgICAgICAgIG51bWJlck9mRW50cmllczogbnJPZkVudHJpZXMsXG4gICAgICAgICAgICBlbnRyaWVzOiByZWFkVG9rZW5UYWJsZShidWYsIFRva2VuLklOVDMyX0JFLCBvZmYgKyAxMiwgdGhpcy5sZW4gLSAxMiwgbnJPZkVudHJpZXMpXG4gICAgICAgIH07XG4gICAgfVxufVxuLyoqXG4gKiBDaHVuayBvZmZzZXQgYXRvbSwgJ3N0Y28nXG4gKiBSZWY6IGh0dHBzOi8vZGV2ZWxvcGVyLmFwcGxlLmNvbS9saWJyYXJ5L2FyY2hpdmUvZG9jdW1lbnRhdGlvbi9RdWlja1RpbWUvUVRGRi9RVEZGQ2hhcDIvcXRmZjIuaHRtbCMvL2FwcGxlX3JlZi9kb2MvdWlkL1RQNDAwMDA5MzktQ0gyMDQtMjU3MTVcbiAqL1xuZXhwb3J0IGNsYXNzIFN0Y29BdG9tIGV4dGVuZHMgU2ltcGxlVGFibGVBdG9tIHtcbiAgICBjb25zdHJ1Y3RvcihsZW4pIHtcbiAgICAgICAgc3VwZXIobGVuLCBUb2tlbi5JTlQzMl9CRSk7XG4gICAgICAgIHRoaXMubGVuID0gbGVuO1xuICAgIH1cbn1cbi8qKlxuICogVG9rZW4gdXNlZCB0byBkZWNvZGUgdGV4dC10cmFjayBmcm9tICdtZGF0JyBhdG9tIChyYXcgZGF0YSBzdHJlYW0pXG4gKi9cbmV4cG9ydCBjbGFzcyBDaGFwdGVyVGV4dCB7XG4gICAgY29uc3RydWN0b3IobGVuKSB7XG4gICAgICAgIHRoaXMubGVuID0gbGVuO1xuICAgIH1cbiAgICBnZXQoYnVmLCBvZmYpIHtcbiAgICAgICAgY29uc3QgdGl0bGVMZW4gPSBUb2tlbi5JTlQxNl9CRS5nZXQoYnVmLCBvZmYgKyAwKTtcbiAgICAgICAgY29uc3Qgc3RyID0gbmV3IFRva2VuLlN0cmluZ1R5cGUodGl0bGVMZW4sICd1dGYtOCcpO1xuICAgICAgICByZXR1cm4gc3RyLmdldChidWYsIG9mZiArIDIpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIHJlYWRUb2tlblRhYmxlKGJ1ZiwgdG9rZW4sIG9mZiwgcmVtYWluaW5nTGVuLCBudW1iZXJPZkVudHJpZXMpIHtcbiAgICBkZWJ1ZyhgcmVtYWluaW5nTGVuPSR7cmVtYWluaW5nTGVufSwgbnVtYmVyT2ZFbnRyaWVzPSR7bnVtYmVyT2ZFbnRyaWVzfSAqIHRva2VuLWxlbj0ke3Rva2VuLmxlbn1gKTtcbiAgICBpZiAocmVtYWluaW5nTGVuID09PSAwKVxuICAgICAgICByZXR1cm4gW107XG4gICAgaWYgKHJlbWFpbmluZ0xlbiAhPT0gbnVtYmVyT2ZFbnRyaWVzICogdG9rZW4ubGVuKVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ21pc21hdGNoIG51bWJlci1vZi1lbnRyaWVzIHdpdGggcmVtYWluaW5nIGF0b20tbGVuZ3RoJyk7XG4gICAgY29uc3QgZW50cmllcyA9IFtdO1xuICAgIC8vIHBhcnNlIG9mZnNldC10YWJsZVxuICAgIGZvciAobGV0IG4gPSAwOyBuIDwgbnVtYmVyT2ZFbnRyaWVzOyArK24pIHtcbiAgICAgICAgZW50cmllcy5wdXNoKHRva2VuLmdldChidWYsIG9mZikpO1xuICAgICAgICBvZmYgKz0gdG9rZW4ubGVuO1xuICAgIH1cbiAgICByZXR1cm4gZW50cmllcztcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUF0b21Ub2tlbi5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/music-metadata/lib/mp4/AtomToken.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/music-metadata/lib/mp4/MP4Parser.js":
/*!**********************************************************!*\
  !*** ./node_modules/music-metadata/lib/mp4/MP4Parser.js ***!
  \**********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   MP4Parser: () => (/* binding */ MP4Parser)\n/* harmony export */ });\n/* harmony import */ var debug__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! debug */ \"(ssr)/./node_modules/debug/src/index.js\");\n/* harmony import */ var token_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! token-types */ \"(ssr)/./node_modules/token-types/lib/index.js\");\n/* harmony import */ var _common_BasicParser_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../common/BasicParser.js */ \"(ssr)/./node_modules/music-metadata/lib/common/BasicParser.js\");\n/* harmony import */ var _id3v1_ID3v1Parser_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../id3v1/ID3v1Parser.js */ \"(ssr)/./node_modules/music-metadata/lib/id3v1/ID3v1Parser.js\");\n/* harmony import */ var _Atom_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./Atom.js */ \"(ssr)/./node_modules/music-metadata/lib/mp4/Atom.js\");\n/* harmony import */ var _AtomToken_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./AtomToken.js */ \"(ssr)/./node_modules/music-metadata/lib/mp4/AtomToken.js\");\n/* harmony import */ var _type_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../type.js */ \"(ssr)/./node_modules/music-metadata/lib/type.js\");\n/* harmony import */ var uint8array_extras__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! uint8array-extras */ \"(ssr)/./node_modules/uint8array-extras/index.js\");\n\n\n\n\n\n\n\n\nconst debug = debug__WEBPACK_IMPORTED_MODULE_0__('music-metadata:parser:MP4');\nconst tagFormat = 'iTunes';\nconst encoderDict = {\n    raw: {\n        lossy: false,\n        format: 'raw'\n    },\n    MAC3: {\n        lossy: true,\n        format: 'MACE 3:1'\n    },\n    MAC6: {\n        lossy: true,\n        format: 'MACE 6:1'\n    },\n    ima4: {\n        lossy: true,\n        format: 'IMA 4:1'\n    },\n    ulaw: {\n        lossy: true,\n        format: 'uLaw 2:1'\n    },\n    alaw: {\n        lossy: true,\n        format: 'uLaw 2:1'\n    },\n    Qclp: {\n        lossy: true,\n        format: 'QUALCOMM PureVoice'\n    },\n    '.mp3': {\n        lossy: true,\n        format: 'MPEG-1 layer 3'\n    },\n    alac: {\n        lossy: false,\n        format: 'ALAC'\n    },\n    'ac-3': {\n        lossy: true,\n        format: 'AC-3'\n    },\n    mp4a: {\n        lossy: true,\n        format: 'MPEG-4/AAC'\n    },\n    mp4s: {\n        lossy: true,\n        format: 'MP4S'\n    },\n    // Closed Captioning Media, https://developer.apple.com/library/archive/documentation/QuickTime/QTFF/QTFFChap3/qtff3.html#//apple_ref/doc/uid/TP40000939-CH205-SW87\n    c608: {\n        lossy: true,\n        format: 'CEA-608'\n    },\n    c708: {\n        lossy: true,\n        format: 'CEA-708'\n    }\n};\nfunction distinct(value, index, self) {\n    return self.indexOf(value) === index;\n}\n/*\n * Parser for the MP4 (MPEG-4 Part 14) container format\n * Standard: ISO/IEC 14496-14\n * supporting:\n * - QuickTime container\n * - MP4 File Format\n * - 3GPP file format\n * - 3GPP2 file format\n *\n * MPEG-4 Audio / Part 3 (.m4a)& MPEG 4 Video (m4v, mp4) extension.\n * Support for Apple iTunes tags as found in a M4A/M4V files.\n * Ref:\n *   https://en.wikipedia.org/wiki/ISO_base_media_file_format\n *   https://developer.apple.com/library/archive/documentation/QuickTime/QTFF/Metadata/Metadata.html\n *   http://atomicparsley.sourceforge.net/mpeg-4files.html\n *   https://github.com/sergiomb2/libmp4v2/wiki/iTunesMetadata\n *   https://wiki.multimedia.cx/index.php/QuickTime_container\n */\nclass MP4Parser extends _common_BasicParser_js__WEBPACK_IMPORTED_MODULE_2__.BasicParser {\n    constructor() {\n        super(...arguments);\n        this.tracks = [];\n        this.atomParsers = {\n            /**\n             * Parse movie header (mvhd) atom\n             * Ref: https://developer.apple.com/library/archive/documentation/QuickTime/QTFF/QTFFChap2/qtff2.html#//apple_ref/doc/uid/TP40000939-CH204-56313\n             */\n            mvhd: async (len) => {\n                const mvhd = await this.tokenizer.readToken(new _AtomToken_js__WEBPACK_IMPORTED_MODULE_5__.MvhdAtom(len));\n                this.metadata.setFormat('creationTime', mvhd.creationTime);\n                this.metadata.setFormat('modificationTime', mvhd.modificationTime);\n            },\n            /**\n             * Parse media header (mdhd) atom\n             * Ref: https://developer.apple.com/library/archive/documentation/QuickTime/QTFF/QTFFChap2/qtff2.html#//apple_ref/doc/uid/TP40000939-CH204-25615\n             */\n            mdhd: async (len) => {\n                const mdhd_data = await this.tokenizer.readToken(new _AtomToken_js__WEBPACK_IMPORTED_MODULE_5__.MdhdAtom(len));\n                // this.parse_mxhd(mdhd_data, this.currentTrack);\n                const td = this.getTrackDescription();\n                td.creationTime = mdhd_data.creationTime;\n                td.modificationTime = mdhd_data.modificationTime;\n                td.timeScale = mdhd_data.timeScale;\n                td.duration = mdhd_data.duration;\n            },\n            chap: async (len) => {\n                const td = this.getTrackDescription();\n                const trackIds = [];\n                while (len >= token_types__WEBPACK_IMPORTED_MODULE_1__.UINT32_BE.len) {\n                    trackIds.push(await this.tokenizer.readNumber(token_types__WEBPACK_IMPORTED_MODULE_1__.UINT32_BE));\n                    len -= token_types__WEBPACK_IMPORTED_MODULE_1__.UINT32_BE.len;\n                }\n                td.chapterList = trackIds;\n            },\n            tkhd: async (len) => {\n                const track = (await this.tokenizer.readToken(new _AtomToken_js__WEBPACK_IMPORTED_MODULE_5__.TrackHeaderAtom(len)));\n                this.tracks.push(track);\n            },\n            /**\n             * Parse mdat atom.\n             * Will scan for chapters\n             */\n            mdat: async (len) => {\n                this.audioLengthInBytes = len;\n                this.calculateBitRate();\n                if (this.options.includeChapters) {\n                    const trackWithChapters = this.tracks.filter(track => track.chapterList);\n                    if (trackWithChapters.length === 1) {\n                        const chapterTrackIds = trackWithChapters[0].chapterList;\n                        const chapterTracks = this.tracks.filter(track => chapterTrackIds.indexOf(track.trackId) !== -1);\n                        if (chapterTracks.length === 1) {\n                            return this.parseChapterTrack(chapterTracks[0], trackWithChapters[0], len);\n                        }\n                    }\n                }\n                await this.tokenizer.ignore(len);\n            },\n            ftyp: async (len) => {\n                const types = [];\n                while (len > 0) {\n                    const ftype = await this.tokenizer.readToken(_AtomToken_js__WEBPACK_IMPORTED_MODULE_5__.ftyp);\n                    len -= _AtomToken_js__WEBPACK_IMPORTED_MODULE_5__.ftyp.len;\n                    const value = ftype.type.replace(/\\W/g, '');\n                    if (value.length > 0) {\n                        types.push(value); // unshift for backward compatibility\n                    }\n                }\n                debug(`ftyp: ${types.join('/')}`);\n                const x = types.filter(distinct).join('/');\n                this.metadata.setFormat('container', x);\n            },\n            /**\n             * Parse sample description atom\n             */\n            stsd: async (len) => {\n                const stsd = await this.tokenizer.readToken(new _AtomToken_js__WEBPACK_IMPORTED_MODULE_5__.StsdAtom(len));\n                const trackDescription = this.getTrackDescription();\n                trackDescription.soundSampleDescription = stsd.table.map(dfEntry => this.parseSoundSampleDescription(dfEntry));\n            },\n            /**\n             * sample-to-Chunk Atoms\n             */\n            stsc: async (len) => {\n                const stsc = await this.tokenizer.readToken(new _AtomToken_js__WEBPACK_IMPORTED_MODULE_5__.StscAtom(len));\n                this.getTrackDescription().sampleToChunkTable = stsc.entries;\n            },\n            /**\n             * time-to-sample table\n             */\n            stts: async (len) => {\n                const stts = await this.tokenizer.readToken(new _AtomToken_js__WEBPACK_IMPORTED_MODULE_5__.SttsAtom(len));\n                this.getTrackDescription().timeToSampleTable = stts.entries;\n            },\n            /**\n             * Parse sample-sizes atom ('stsz')\n             */\n            stsz: async (len) => {\n                const stsz = await this.tokenizer.readToken(new _AtomToken_js__WEBPACK_IMPORTED_MODULE_5__.StszAtom(len));\n                const td = this.getTrackDescription();\n                td.sampleSize = stsz.sampleSize;\n                td.sampleSizeTable = stsz.entries;\n            },\n            /**\n             * Parse chunk-offset atom ('stco')\n             */\n            stco: async (len) => {\n                const stco = await this.tokenizer.readToken(new _AtomToken_js__WEBPACK_IMPORTED_MODULE_5__.StcoAtom(len));\n                this.getTrackDescription().chunkOffsetTable = stco.entries; // remember chunk offsets\n            },\n            date: async (len) => {\n                const date = await this.tokenizer.readToken(new token_types__WEBPACK_IMPORTED_MODULE_1__.StringType(len, 'utf-8'));\n                await this.addTag('date', date);\n            }\n        };\n    }\n    static read_BE_Integer(array, signed) {\n        const integerType = (signed ? 'INT' : 'UINT') + array.length * 8 + (array.length > 1 ? '_BE' : '');\n        const token = token_types__WEBPACK_IMPORTED_MODULE_1__[integerType];\n        if (!token) {\n            throw new Error(`Token for integer type not found: \"${integerType}\"`);\n        }\n        return Number(token.get(array, 0));\n    }\n    async parse() {\n        this.tracks = [];\n        let remainingFileSize = this.tokenizer.fileInfo.size || 0;\n        while (!this.tokenizer.fileInfo.size || remainingFileSize > 0) {\n            try {\n                const token = await this.tokenizer.peekToken(_AtomToken_js__WEBPACK_IMPORTED_MODULE_5__.Header);\n                if (token.name === '\\0\\0\\0\\0') {\n                    const errMsg = `Error at offset=${this.tokenizer.position}: box.id=0`;\n                    debug(errMsg);\n                    this.addWarning(errMsg);\n                    break;\n                }\n            }\n            catch (error) {\n                if (error instanceof Error) {\n                    const errMsg = `Error at offset=${this.tokenizer.position}: ${error.message}`;\n                    debug(errMsg);\n                    this.addWarning(errMsg);\n                }\n                else\n                    throw error;\n                break;\n            }\n            const rootAtom = await _Atom_js__WEBPACK_IMPORTED_MODULE_4__.Atom.readAtom(this.tokenizer, (atom, remaining) => this.handleAtom(atom, remaining), null, remainingFileSize);\n            remainingFileSize -= rootAtom.header.length === BigInt(0) ? remainingFileSize : Number(rootAtom.header.length);\n        }\n        // Post process metadata\n        const formatList = [];\n        this.tracks.forEach(track => {\n            const trackFormats = [];\n            track.soundSampleDescription.forEach(ssd => {\n                const streamInfo = {};\n                const encoderInfo = encoderDict[ssd.dataFormat];\n                if (encoderInfo) {\n                    trackFormats.push(encoderInfo.format);\n                    streamInfo.codecName = encoderInfo.format;\n                }\n                else {\n                    streamInfo.codecName = `<${ssd.dataFormat}>`;\n                }\n                if (ssd.description) {\n                    const { description } = ssd;\n                    if (description.sampleRate > 0) {\n                        streamInfo.type = _type_js__WEBPACK_IMPORTED_MODULE_6__.TrackType.audio;\n                        streamInfo.audio = {\n                            samplingFrequency: description.sampleRate,\n                            bitDepth: description.sampleSize,\n                            channels: description.numAudioChannels\n                        };\n                    }\n                }\n                this.metadata.addStreamInfo(streamInfo);\n            });\n            if (trackFormats.length >= 1) {\n                formatList.push(trackFormats.join('/'));\n            }\n        });\n        if (formatList.length > 0) {\n            this.metadata.setFormat('codec', formatList.filter(distinct).join('+'));\n        }\n        const audioTracks = this.tracks.filter(track => {\n            return track.soundSampleDescription.length >= 1 && track.soundSampleDescription[0].description && track.soundSampleDescription[0].description.numAudioChannels > 0;\n        });\n        if (audioTracks.length >= 1) {\n            const audioTrack = audioTracks[0];\n            if (audioTrack.timeScale > 0) {\n                const duration = audioTrack.duration / audioTrack.timeScale; // calculate duration in seconds\n                this.metadata.setFormat('duration', duration);\n            }\n            const ssd = audioTrack.soundSampleDescription[0];\n            if (ssd.description) {\n                this.metadata.setFormat('sampleRate', ssd.description.sampleRate);\n                this.metadata.setFormat('bitsPerSample', ssd.description.sampleSize);\n                this.metadata.setFormat('numberOfChannels', ssd.description.numAudioChannels);\n                if (audioTrack.timeScale === 0 && audioTrack.timeToSampleTable.length > 0) {\n                    const totalSampleSize = audioTrack.timeToSampleTable\n                        .map(ttstEntry => ttstEntry.count * ttstEntry.duration)\n                        .reduce((total, sampleSize) => total + sampleSize);\n                    const duration = totalSampleSize / ssd.description.sampleRate;\n                    this.metadata.setFormat('duration', duration);\n                }\n            }\n            const encoderInfo = encoderDict[ssd.dataFormat];\n            if (encoderInfo) {\n                this.metadata.setFormat('lossless', !encoderInfo.lossy);\n            }\n            this.calculateBitRate();\n        }\n    }\n    async handleAtom(atom, remaining) {\n        if (atom.parent) {\n            switch (atom.parent.header.name) {\n                case 'ilst':\n                case '<id>':\n                    return this.parseMetadataItemData(atom);\n            }\n        }\n        // const payloadLength = atom.getPayloadLength(remaining);\n        if (this.atomParsers[atom.header.name]) {\n            return this.atomParsers[atom.header.name](remaining);\n        }\n        debug(`No parser for atom path=${atom.atomPath}, payload-len=${remaining}, ignoring atom`);\n        await this.tokenizer.ignore(remaining);\n    }\n    getTrackDescription() {\n        return this.tracks[this.tracks.length - 1];\n    }\n    calculateBitRate() {\n        if (this.audioLengthInBytes && this.metadata.format.duration) {\n            this.metadata.setFormat('bitrate', 8 * this.audioLengthInBytes / this.metadata.format.duration);\n        }\n    }\n    async addTag(id, value) {\n        await this.metadata.addTag(tagFormat, id, value);\n    }\n    addWarning(message) {\n        debug(`Warning: ${message}`);\n        this.metadata.addWarning(message);\n    }\n    /**\n     * Parse data of Meta-item-list-atom (item of 'ilst' atom)\n     * @param metaAtom\n     * Ref: https://developer.apple.com/library/content/documentation/QuickTime/QTFF/Metadata/Metadata.html#//apple_ref/doc/uid/TP40000939-CH1-SW8\n     */\n    parseMetadataItemData(metaAtom) {\n        let tagKey = metaAtom.header.name;\n        return metaAtom.readAtoms(this.tokenizer, async (child, remaining) => {\n            const payLoadLength = child.getPayloadLength(remaining);\n            switch (child.header.name) {\n                case 'data': // value atom\n                    return this.parseValueAtom(tagKey, child);\n                case 'name': // name atom (optional)\n                case 'mean':\n                case 'rate': {\n                    const name = await this.tokenizer.readToken(new _AtomToken_js__WEBPACK_IMPORTED_MODULE_5__.NameAtom(payLoadLength));\n                    tagKey += `:${name.name}`;\n                    break;\n                }\n                default: {\n                    const uint8Array = await this.tokenizer.readToken(new token_types__WEBPACK_IMPORTED_MODULE_1__.Uint8ArrayType(payLoadLength));\n                    this.addWarning(`Unsupported meta-item: ${tagKey}[${child.header.name}] => value=${(0,uint8array_extras__WEBPACK_IMPORTED_MODULE_7__.uint8ArrayToHex)(uint8Array)} ascii=${(0,uint8array_extras__WEBPACK_IMPORTED_MODULE_7__.uint8ArrayToString)(uint8Array, 'ascii')}`);\n                }\n            }\n        }, metaAtom.getPayloadLength(0));\n    }\n    async parseValueAtom(tagKey, metaAtom) {\n        const dataAtom = await this.tokenizer.readToken(new _AtomToken_js__WEBPACK_IMPORTED_MODULE_5__.DataAtom(Number(metaAtom.header.length) - _AtomToken_js__WEBPACK_IMPORTED_MODULE_5__.Header.len));\n        if (dataAtom.type.set !== 0) {\n            throw new Error(`Unsupported type-set != 0: ${dataAtom.type.set}`);\n        }\n        // Use well-known-type table\n        // Ref: https://developer.apple.com/library/content/documentation/QuickTime/QTFF/Metadata/Metadata.html#//apple_ref/doc/uid/TP40000939-CH1-SW35\n        switch (dataAtom.type.type) {\n            case 0: // reserved: Reserved for use where no type needs to be indicated\n                switch (tagKey) {\n                    case 'trkn':\n                    case 'disk': {\n                        const num = token_types__WEBPACK_IMPORTED_MODULE_1__.UINT8.get(dataAtom.value, 3);\n                        const of = token_types__WEBPACK_IMPORTED_MODULE_1__.UINT8.get(dataAtom.value, 5);\n                        // console.log(\"  %s[data] = %s/%s\", tagKey, num, of);\n                        await this.addTag(tagKey, `${num}/${of}`);\n                        break;\n                    }\n                    case 'gnre': {\n                        const genreInt = token_types__WEBPACK_IMPORTED_MODULE_1__.UINT8.get(dataAtom.value, 1);\n                        const genreStr = _id3v1_ID3v1Parser_js__WEBPACK_IMPORTED_MODULE_3__.Genres[genreInt - 1];\n                        // console.log(\"  %s[data] = %s\", tagKey, genreStr);\n                        await this.addTag(tagKey, genreStr);\n                        break;\n                    }\n                    case 'rate': {\n                        const rate = new TextDecoder('ascii').decode(dataAtom.value);\n                        await this.addTag(tagKey, rate);\n                        break;\n                    }\n                    default:\n                        debug(`unknown proprietary value type for: ${metaAtom.atomPath}`);\n                }\n                break;\n            case 1: // UTF-8: Without any count or NULL terminator\n            case 18: // Unknown: Found in m4b in combination with a '©gen' tag\n                await this.addTag(tagKey, new TextDecoder('utf-8').decode(dataAtom.value));\n                break;\n            case 13: // JPEG\n                if (this.options.skipCovers)\n                    break;\n                await this.addTag(tagKey, {\n                    format: 'image/jpeg',\n                    data: Uint8Array.from(dataAtom.value)\n                });\n                break;\n            case 14: // PNG\n                if (this.options.skipCovers)\n                    break;\n                await this.addTag(tagKey, {\n                    format: 'image/png',\n                    data: Uint8Array.from(dataAtom.value)\n                });\n                break;\n            case 21: // BE Signed Integer\n                await this.addTag(tagKey, MP4Parser.read_BE_Integer(dataAtom.value, true));\n                break;\n            case 22: // BE Unsigned Integer\n                await this.addTag(tagKey, MP4Parser.read_BE_Integer(dataAtom.value, false));\n                break;\n            case 65: // An 8-bit signed integer\n                await this.addTag(tagKey, token_types__WEBPACK_IMPORTED_MODULE_1__.UINT8.get(dataAtom.value, 0));\n                break;\n            case 66: // A big-endian 16-bit signed integer\n                await this.addTag(tagKey, token_types__WEBPACK_IMPORTED_MODULE_1__.UINT16_BE.get(dataAtom.value, 0));\n                break;\n            case 67: // A big-endian 32-bit signed integer\n                await this.addTag(tagKey, token_types__WEBPACK_IMPORTED_MODULE_1__.UINT32_BE.get(dataAtom.value, 0));\n                break;\n            default:\n                this.addWarning(`atom key=${tagKey}, has unknown well-known-type (data-type): ${dataAtom.type.type}`);\n        }\n    }\n    /**\n     * @param sampleDescription\n     * Ref: https://developer.apple.com/library/archive/documentation/QuickTime/QTFF/QTFFChap3/qtff3.html#//apple_ref/doc/uid/TP40000939-CH205-128916\n     */\n    parseSoundSampleDescription(sampleDescription) {\n        const ssd = {\n            dataFormat: sampleDescription.dataFormat,\n            dataReferenceIndex: sampleDescription.dataReferenceIndex\n        };\n        let offset = 0;\n        const version = _AtomToken_js__WEBPACK_IMPORTED_MODULE_5__.SoundSampleDescriptionVersion.get(sampleDescription.description, offset);\n        offset += _AtomToken_js__WEBPACK_IMPORTED_MODULE_5__.SoundSampleDescriptionVersion.len;\n        if (version.version === 0 || version.version === 1) {\n            // Sound Sample Description (Version 0)\n            ssd.description = _AtomToken_js__WEBPACK_IMPORTED_MODULE_5__.SoundSampleDescriptionV0.get(sampleDescription.description, offset);\n        }\n        else {\n            debug(`Warning: sound-sample-description ${version} not implemented`);\n        }\n        return ssd;\n    }\n    async parseChapterTrack(chapterTrack, track, len) {\n        if (!chapterTrack.sampleSize) {\n            if (chapterTrack.chunkOffsetTable.length !== chapterTrack.sampleSizeTable.length)\n                throw new Error('Expected equal chunk-offset-table & sample-size-table length.');\n        }\n        const chapters = [];\n        for (let i = 0; i < chapterTrack.chunkOffsetTable.length && len > 0; ++i) {\n            const chunkOffset = chapterTrack.chunkOffsetTable[i];\n            const nextChunkLen = chunkOffset - this.tokenizer.position;\n            const sampleSize = chapterTrack.sampleSize > 0 ? chapterTrack.sampleSize : chapterTrack.sampleSizeTable[i];\n            len -= nextChunkLen + sampleSize;\n            if (len < 0)\n                throw new Error('Chapter chunk exceeding token length');\n            await this.tokenizer.ignore(nextChunkLen);\n            const title = await this.tokenizer.readToken(new _AtomToken_js__WEBPACK_IMPORTED_MODULE_5__.ChapterText(sampleSize));\n            debug(`Chapter ${i + 1}: ${title}`);\n            const chapter = {\n                title,\n                sampleOffset: this.findSampleOffset(track, this.tokenizer.position)\n            };\n            debug(`Chapter title=${chapter.title}, offset=${chapter.sampleOffset}/${this.tracks[0].duration}`);\n            chapters.push(chapter);\n        }\n        this.metadata.setFormat('chapters', chapters);\n        await this.tokenizer.ignore(len);\n    }\n    findSampleOffset(track, chapterOffset) {\n        let totalDuration = 0;\n        track.timeToSampleTable.forEach(e => {\n            totalDuration += e.count * e.duration;\n        });\n        debug(`Total duration=${totalDuration}`);\n        let chunkIndex = 0;\n        while (chunkIndex < track.chunkOffsetTable.length && track.chunkOffsetTable[chunkIndex] < chapterOffset) {\n            ++chunkIndex;\n        }\n        return this.getChunkDuration(chunkIndex + 1, track);\n    }\n    getChunkDuration(chunkId, track) {\n        let ttsi = 0;\n        let ttsc = track.timeToSampleTable[ttsi].count;\n        let ttsd = track.timeToSampleTable[ttsi].duration;\n        let curChunkId = 1;\n        let samplesPerChunk = this.getSamplesPerChunk(curChunkId, track.sampleToChunkTable);\n        let totalDuration = 0;\n        while (curChunkId < chunkId) {\n            const nrOfSamples = Math.min(ttsc, samplesPerChunk);\n            totalDuration += nrOfSamples * ttsd;\n            ttsc -= nrOfSamples;\n            samplesPerChunk -= nrOfSamples;\n            if (samplesPerChunk === 0) {\n                ++curChunkId;\n                samplesPerChunk = this.getSamplesPerChunk(curChunkId, track.sampleToChunkTable);\n            }\n            else {\n                ++ttsi;\n                ttsc = track.timeToSampleTable[ttsi].count;\n                ttsd = track.timeToSampleTable[ttsi].duration;\n            }\n        }\n        return totalDuration;\n    }\n    getSamplesPerChunk(chunkId, stcTable) {\n        for (let i = 0; i < stcTable.length - 1; ++i) {\n            if (chunkId >= stcTable[i].firstChunk && chunkId < stcTable[i + 1].firstChunk) {\n                return stcTable[i].samplesPerChunk;\n            }\n        }\n        return stcTable[stcTable.length - 1].samplesPerChunk;\n    }\n}\n//# sourceMappingURL=MP4Parser.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbXVzaWMtbWV0YWRhdGEvbGliL21wNC9NUDRQYXJzZXIuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7O0FBQThCO0FBQ087QUFDa0I7QUFDTjtBQUNoQjtBQUNXO0FBQ0w7QUFDaUM7QUFDeEUsY0FBYyxrQ0FBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPLHdCQUF3QiwrREFBVztBQUMxQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnRUFBZ0UsbURBQWtCO0FBQ2xGO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFFQUFxRSxtREFBa0I7QUFDdkY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBLDhCQUE4QixrREFBZTtBQUM3QyxrRUFBa0Usa0RBQWU7QUFDakYsMkJBQTJCLGtEQUFlO0FBQzFDO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQSxrRUFBa0UsMERBQXlCO0FBQzNGO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQSxpRUFBaUUsK0NBQWM7QUFDL0UsMkJBQTJCLCtDQUFjO0FBQ3pDO0FBQ0E7QUFDQSwyQ0FBMkM7QUFDM0M7QUFDQTtBQUNBLCtCQUErQixnQkFBZ0I7QUFDL0M7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdFQUFnRSxtREFBa0I7QUFDbEY7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdFQUFnRSxtREFBa0I7QUFDbEY7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnRUFBZ0UsbURBQWtCO0FBQ2xGO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0VBQWdFLG1EQUFrQjtBQUNsRjtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnRUFBZ0UsbURBQWtCO0FBQ2xGLDRFQUE0RTtBQUM1RSxhQUFhO0FBQ2I7QUFDQSxnRUFBZ0UsbURBQWdCO0FBQ2hGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQix3Q0FBSztBQUMzQjtBQUNBLGtFQUFrRSxZQUFZO0FBQzlFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2REFBNkQsaURBQWdCO0FBQzdFO0FBQ0Esc0RBQXNELHdCQUF3QjtBQUM5RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNEQUFzRCx3QkFBd0IsSUFBSSxjQUFjO0FBQ2hHO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUNBQW1DLDBDQUFJO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQ0FBK0MsZUFBZTtBQUM5RDtBQUNBO0FBQ0EsNEJBQTRCLGNBQWM7QUFDMUM7QUFDQSwwQ0FBMEMsK0NBQVM7QUFDbkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSw2RUFBNkU7QUFDN0U7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5Q0FBeUMsY0FBYyxnQkFBZ0IsVUFBVTtBQUNqRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCLFFBQVE7QUFDbEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9FQUFvRSxtREFBa0I7QUFDdEYsa0NBQWtDLFVBQVU7QUFDNUM7QUFDQTtBQUNBO0FBQ0EsMEVBQTBFLHVEQUFvQjtBQUM5Riw4REFBOEQsT0FBTyxHQUFHLGtCQUFrQixhQUFhLGtFQUFlLGNBQWMsUUFBUSxxRUFBa0Isc0JBQXNCO0FBQ3BMO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLDREQUE0RCxtREFBa0Isa0NBQWtDLGlEQUFnQjtBQUNoSTtBQUNBLDBEQUEwRCxrQkFBa0I7QUFDNUU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9DQUFvQyw4Q0FBVztBQUMvQyxtQ0FBbUMsOENBQVc7QUFDOUM7QUFDQSxxREFBcUQsSUFBSSxHQUFHLEdBQUc7QUFDL0Q7QUFDQTtBQUNBO0FBQ0EseUNBQXlDLDhDQUFXO0FBQ3BELHlDQUF5Qyx5REFBTTtBQUMvQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFFQUFxRSxrQkFBa0I7QUFDdkY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQ0FBMEMsOENBQVc7QUFDckQ7QUFDQTtBQUNBLDBDQUEwQyxrREFBZTtBQUN6RDtBQUNBO0FBQ0EsMENBQTBDLGtEQUFlO0FBQ3pEO0FBQ0E7QUFDQSw0Q0FBNEMsT0FBTyw2Q0FBNkMsbUJBQW1CO0FBQ25IO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3Qix3RUFBdUM7QUFDL0Qsa0JBQWtCLHdFQUF1QztBQUN6RDtBQUNBO0FBQ0EsOEJBQThCLG1FQUFrQztBQUNoRTtBQUNBO0FBQ0EsdURBQXVELFNBQVM7QUFDaEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLHFEQUFxRDtBQUM3RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZEQUE2RCxzREFBcUI7QUFDbEYsNkJBQTZCLE1BQU0sSUFBSSxNQUFNO0FBQzdDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUNBQW1DLGNBQWMsV0FBVyxxQkFBcUIsR0FBRyx3QkFBd0I7QUFDNUc7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULGdDQUFnQyxjQUFjO0FBQzlDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLHlCQUF5QjtBQUNqRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZGV2ZWxldmF0ZS8uL25vZGVfbW9kdWxlcy9tdXNpYy1tZXRhZGF0YS9saWIvbXA0L01QNFBhcnNlci5qcz80ODEyIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBpbml0RGVidWcgZnJvbSAnZGVidWcnO1xuaW1wb3J0ICogYXMgVG9rZW4gZnJvbSAndG9rZW4tdHlwZXMnO1xuaW1wb3J0IHsgQmFzaWNQYXJzZXIgfSBmcm9tICcuLi9jb21tb24vQmFzaWNQYXJzZXIuanMnO1xuaW1wb3J0IHsgR2VucmVzIH0gZnJvbSAnLi4vaWQzdjEvSUQzdjFQYXJzZXIuanMnO1xuaW1wb3J0IHsgQXRvbSB9IGZyb20gJy4vQXRvbS5qcyc7XG5pbXBvcnQgKiBhcyBBdG9tVG9rZW4gZnJvbSAnLi9BdG9tVG9rZW4uanMnO1xuaW1wb3J0IHsgVHJhY2tUeXBlIH0gZnJvbSAnLi4vdHlwZS5qcyc7XG5pbXBvcnQgeyB1aW50OEFycmF5VG9IZXgsIHVpbnQ4QXJyYXlUb1N0cmluZyB9IGZyb20gJ3VpbnQ4YXJyYXktZXh0cmFzJztcbmNvbnN0IGRlYnVnID0gaW5pdERlYnVnKCdtdXNpYy1tZXRhZGF0YTpwYXJzZXI6TVA0Jyk7XG5jb25zdCB0YWdGb3JtYXQgPSAnaVR1bmVzJztcbmNvbnN0IGVuY29kZXJEaWN0ID0ge1xuICAgIHJhdzoge1xuICAgICAgICBsb3NzeTogZmFsc2UsXG4gICAgICAgIGZvcm1hdDogJ3JhdydcbiAgICB9LFxuICAgIE1BQzM6IHtcbiAgICAgICAgbG9zc3k6IHRydWUsXG4gICAgICAgIGZvcm1hdDogJ01BQ0UgMzoxJ1xuICAgIH0sXG4gICAgTUFDNjoge1xuICAgICAgICBsb3NzeTogdHJ1ZSxcbiAgICAgICAgZm9ybWF0OiAnTUFDRSA2OjEnXG4gICAgfSxcbiAgICBpbWE0OiB7XG4gICAgICAgIGxvc3N5OiB0cnVlLFxuICAgICAgICBmb3JtYXQ6ICdJTUEgNDoxJ1xuICAgIH0sXG4gICAgdWxhdzoge1xuICAgICAgICBsb3NzeTogdHJ1ZSxcbiAgICAgICAgZm9ybWF0OiAndUxhdyAyOjEnXG4gICAgfSxcbiAgICBhbGF3OiB7XG4gICAgICAgIGxvc3N5OiB0cnVlLFxuICAgICAgICBmb3JtYXQ6ICd1TGF3IDI6MSdcbiAgICB9LFxuICAgIFFjbHA6IHtcbiAgICAgICAgbG9zc3k6IHRydWUsXG4gICAgICAgIGZvcm1hdDogJ1FVQUxDT01NIFB1cmVWb2ljZSdcbiAgICB9LFxuICAgICcubXAzJzoge1xuICAgICAgICBsb3NzeTogdHJ1ZSxcbiAgICAgICAgZm9ybWF0OiAnTVBFRy0xIGxheWVyIDMnXG4gICAgfSxcbiAgICBhbGFjOiB7XG4gICAgICAgIGxvc3N5OiBmYWxzZSxcbiAgICAgICAgZm9ybWF0OiAnQUxBQydcbiAgICB9LFxuICAgICdhYy0zJzoge1xuICAgICAgICBsb3NzeTogdHJ1ZSxcbiAgICAgICAgZm9ybWF0OiAnQUMtMydcbiAgICB9LFxuICAgIG1wNGE6IHtcbiAgICAgICAgbG9zc3k6IHRydWUsXG4gICAgICAgIGZvcm1hdDogJ01QRUctNC9BQUMnXG4gICAgfSxcbiAgICBtcDRzOiB7XG4gICAgICAgIGxvc3N5OiB0cnVlLFxuICAgICAgICBmb3JtYXQ6ICdNUDRTJ1xuICAgIH0sXG4gICAgLy8gQ2xvc2VkIENhcHRpb25pbmcgTWVkaWEsIGh0dHBzOi8vZGV2ZWxvcGVyLmFwcGxlLmNvbS9saWJyYXJ5L2FyY2hpdmUvZG9jdW1lbnRhdGlvbi9RdWlja1RpbWUvUVRGRi9RVEZGQ2hhcDMvcXRmZjMuaHRtbCMvL2FwcGxlX3JlZi9kb2MvdWlkL1RQNDAwMDA5MzktQ0gyMDUtU1c4N1xuICAgIGM2MDg6IHtcbiAgICAgICAgbG9zc3k6IHRydWUsXG4gICAgICAgIGZvcm1hdDogJ0NFQS02MDgnXG4gICAgfSxcbiAgICBjNzA4OiB7XG4gICAgICAgIGxvc3N5OiB0cnVlLFxuICAgICAgICBmb3JtYXQ6ICdDRUEtNzA4J1xuICAgIH1cbn07XG5mdW5jdGlvbiBkaXN0aW5jdCh2YWx1ZSwgaW5kZXgsIHNlbGYpIHtcbiAgICByZXR1cm4gc2VsZi5pbmRleE9mKHZhbHVlKSA9PT0gaW5kZXg7XG59XG4vKlxuICogUGFyc2VyIGZvciB0aGUgTVA0IChNUEVHLTQgUGFydCAxNCkgY29udGFpbmVyIGZvcm1hdFxuICogU3RhbmRhcmQ6IElTTy9JRUMgMTQ0OTYtMTRcbiAqIHN1cHBvcnRpbmc6XG4gKiAtIFF1aWNrVGltZSBjb250YWluZXJcbiAqIC0gTVA0IEZpbGUgRm9ybWF0XG4gKiAtIDNHUFAgZmlsZSBmb3JtYXRcbiAqIC0gM0dQUDIgZmlsZSBmb3JtYXRcbiAqXG4gKiBNUEVHLTQgQXVkaW8gLyBQYXJ0IDMgKC5tNGEpJiBNUEVHIDQgVmlkZW8gKG00diwgbXA0KSBleHRlbnNpb24uXG4gKiBTdXBwb3J0IGZvciBBcHBsZSBpVHVuZXMgdGFncyBhcyBmb3VuZCBpbiBhIE00QS9NNFYgZmlsZXMuXG4gKiBSZWY6XG4gKiAgIGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0lTT19iYXNlX21lZGlhX2ZpbGVfZm9ybWF0XG4gKiAgIGh0dHBzOi8vZGV2ZWxvcGVyLmFwcGxlLmNvbS9saWJyYXJ5L2FyY2hpdmUvZG9jdW1lbnRhdGlvbi9RdWlja1RpbWUvUVRGRi9NZXRhZGF0YS9NZXRhZGF0YS5odG1sXG4gKiAgIGh0dHA6Ly9hdG9taWNwYXJzbGV5LnNvdXJjZWZvcmdlLm5ldC9tcGVnLTRmaWxlcy5odG1sXG4gKiAgIGh0dHBzOi8vZ2l0aHViLmNvbS9zZXJnaW9tYjIvbGlibXA0djIvd2lraS9pVHVuZXNNZXRhZGF0YVxuICogICBodHRwczovL3dpa2kubXVsdGltZWRpYS5jeC9pbmRleC5waHAvUXVpY2tUaW1lX2NvbnRhaW5lclxuICovXG5leHBvcnQgY2xhc3MgTVA0UGFyc2VyIGV4dGVuZHMgQmFzaWNQYXJzZXIge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlciguLi5hcmd1bWVudHMpO1xuICAgICAgICB0aGlzLnRyYWNrcyA9IFtdO1xuICAgICAgICB0aGlzLmF0b21QYXJzZXJzID0ge1xuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBQYXJzZSBtb3ZpZSBoZWFkZXIgKG12aGQpIGF0b21cbiAgICAgICAgICAgICAqIFJlZjogaHR0cHM6Ly9kZXZlbG9wZXIuYXBwbGUuY29tL2xpYnJhcnkvYXJjaGl2ZS9kb2N1bWVudGF0aW9uL1F1aWNrVGltZS9RVEZGL1FURkZDaGFwMi9xdGZmMi5odG1sIy8vYXBwbGVfcmVmL2RvYy91aWQvVFA0MDAwMDkzOS1DSDIwNC01NjMxM1xuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBtdmhkOiBhc3luYyAobGVuKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgbXZoZCA9IGF3YWl0IHRoaXMudG9rZW5pemVyLnJlYWRUb2tlbihuZXcgQXRvbVRva2VuLk12aGRBdG9tKGxlbikpO1xuICAgICAgICAgICAgICAgIHRoaXMubWV0YWRhdGEuc2V0Rm9ybWF0KCdjcmVhdGlvblRpbWUnLCBtdmhkLmNyZWF0aW9uVGltZSk7XG4gICAgICAgICAgICAgICAgdGhpcy5tZXRhZGF0YS5zZXRGb3JtYXQoJ21vZGlmaWNhdGlvblRpbWUnLCBtdmhkLm1vZGlmaWNhdGlvblRpbWUpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogUGFyc2UgbWVkaWEgaGVhZGVyIChtZGhkKSBhdG9tXG4gICAgICAgICAgICAgKiBSZWY6IGh0dHBzOi8vZGV2ZWxvcGVyLmFwcGxlLmNvbS9saWJyYXJ5L2FyY2hpdmUvZG9jdW1lbnRhdGlvbi9RdWlja1RpbWUvUVRGRi9RVEZGQ2hhcDIvcXRmZjIuaHRtbCMvL2FwcGxlX3JlZi9kb2MvdWlkL1RQNDAwMDA5MzktQ0gyMDQtMjU2MTVcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgbWRoZDogYXN5bmMgKGxlbikgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IG1kaGRfZGF0YSA9IGF3YWl0IHRoaXMudG9rZW5pemVyLnJlYWRUb2tlbihuZXcgQXRvbVRva2VuLk1kaGRBdG9tKGxlbikpO1xuICAgICAgICAgICAgICAgIC8vIHRoaXMucGFyc2VfbXhoZChtZGhkX2RhdGEsIHRoaXMuY3VycmVudFRyYWNrKTtcbiAgICAgICAgICAgICAgICBjb25zdCB0ZCA9IHRoaXMuZ2V0VHJhY2tEZXNjcmlwdGlvbigpO1xuICAgICAgICAgICAgICAgIHRkLmNyZWF0aW9uVGltZSA9IG1kaGRfZGF0YS5jcmVhdGlvblRpbWU7XG4gICAgICAgICAgICAgICAgdGQubW9kaWZpY2F0aW9uVGltZSA9IG1kaGRfZGF0YS5tb2RpZmljYXRpb25UaW1lO1xuICAgICAgICAgICAgICAgIHRkLnRpbWVTY2FsZSA9IG1kaGRfZGF0YS50aW1lU2NhbGU7XG4gICAgICAgICAgICAgICAgdGQuZHVyYXRpb24gPSBtZGhkX2RhdGEuZHVyYXRpb247XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgY2hhcDogYXN5bmMgKGxlbikgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IHRkID0gdGhpcy5nZXRUcmFja0Rlc2NyaXB0aW9uKCk7XG4gICAgICAgICAgICAgICAgY29uc3QgdHJhY2tJZHMgPSBbXTtcbiAgICAgICAgICAgICAgICB3aGlsZSAobGVuID49IFRva2VuLlVJTlQzMl9CRS5sZW4pIHtcbiAgICAgICAgICAgICAgICAgICAgdHJhY2tJZHMucHVzaChhd2FpdCB0aGlzLnRva2VuaXplci5yZWFkTnVtYmVyKFRva2VuLlVJTlQzMl9CRSkpO1xuICAgICAgICAgICAgICAgICAgICBsZW4gLT0gVG9rZW4uVUlOVDMyX0JFLmxlbjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGQuY2hhcHRlckxpc3QgPSB0cmFja0lkcztcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB0a2hkOiBhc3luYyAobGVuKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgdHJhY2sgPSAoYXdhaXQgdGhpcy50b2tlbml6ZXIucmVhZFRva2VuKG5ldyBBdG9tVG9rZW4uVHJhY2tIZWFkZXJBdG9tKGxlbikpKTtcbiAgICAgICAgICAgICAgICB0aGlzLnRyYWNrcy5wdXNoKHRyYWNrKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIFBhcnNlIG1kYXQgYXRvbS5cbiAgICAgICAgICAgICAqIFdpbGwgc2NhbiBmb3IgY2hhcHRlcnNcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgbWRhdDogYXN5bmMgKGxlbikgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuYXVkaW9MZW5ndGhJbkJ5dGVzID0gbGVuO1xuICAgICAgICAgICAgICAgIHRoaXMuY2FsY3VsYXRlQml0UmF0ZSgpO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLm9wdGlvbnMuaW5jbHVkZUNoYXB0ZXJzKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHRyYWNrV2l0aENoYXB0ZXJzID0gdGhpcy50cmFja3MuZmlsdGVyKHRyYWNrID0+IHRyYWNrLmNoYXB0ZXJMaXN0KTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRyYWNrV2l0aENoYXB0ZXJzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY2hhcHRlclRyYWNrSWRzID0gdHJhY2tXaXRoQ2hhcHRlcnNbMF0uY2hhcHRlckxpc3Q7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjaGFwdGVyVHJhY2tzID0gdGhpcy50cmFja3MuZmlsdGVyKHRyYWNrID0+IGNoYXB0ZXJUcmFja0lkcy5pbmRleE9mKHRyYWNrLnRyYWNrSWQpICE9PSAtMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY2hhcHRlclRyYWNrcy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5wYXJzZUNoYXB0ZXJUcmFjayhjaGFwdGVyVHJhY2tzWzBdLCB0cmFja1dpdGhDaGFwdGVyc1swXSwgbGVuKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnRva2VuaXplci5pZ25vcmUobGVuKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBmdHlwOiBhc3luYyAobGVuKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgdHlwZXMgPSBbXTtcbiAgICAgICAgICAgICAgICB3aGlsZSAobGVuID4gMCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBmdHlwZSA9IGF3YWl0IHRoaXMudG9rZW5pemVyLnJlYWRUb2tlbihBdG9tVG9rZW4uZnR5cCk7XG4gICAgICAgICAgICAgICAgICAgIGxlbiAtPSBBdG9tVG9rZW4uZnR5cC5sZW47XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gZnR5cGUudHlwZS5yZXBsYWNlKC9cXFcvZywgJycpO1xuICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZXMucHVzaCh2YWx1ZSk7IC8vIHVuc2hpZnQgZm9yIGJhY2t3YXJkIGNvbXBhdGliaWxpdHlcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBkZWJ1ZyhgZnR5cDogJHt0eXBlcy5qb2luKCcvJyl9YCk7XG4gICAgICAgICAgICAgICAgY29uc3QgeCA9IHR5cGVzLmZpbHRlcihkaXN0aW5jdCkuam9pbignLycpO1xuICAgICAgICAgICAgICAgIHRoaXMubWV0YWRhdGEuc2V0Rm9ybWF0KCdjb250YWluZXInLCB4KTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIFBhcnNlIHNhbXBsZSBkZXNjcmlwdGlvbiBhdG9tXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIHN0c2Q6IGFzeW5jIChsZW4pID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBzdHNkID0gYXdhaXQgdGhpcy50b2tlbml6ZXIucmVhZFRva2VuKG5ldyBBdG9tVG9rZW4uU3RzZEF0b20obGVuKSk7XG4gICAgICAgICAgICAgICAgY29uc3QgdHJhY2tEZXNjcmlwdGlvbiA9IHRoaXMuZ2V0VHJhY2tEZXNjcmlwdGlvbigpO1xuICAgICAgICAgICAgICAgIHRyYWNrRGVzY3JpcHRpb24uc291bmRTYW1wbGVEZXNjcmlwdGlvbiA9IHN0c2QudGFibGUubWFwKGRmRW50cnkgPT4gdGhpcy5wYXJzZVNvdW5kU2FtcGxlRGVzY3JpcHRpb24oZGZFbnRyeSkpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogc2FtcGxlLXRvLUNodW5rIEF0b21zXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIHN0c2M6IGFzeW5jIChsZW4pID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBzdHNjID0gYXdhaXQgdGhpcy50b2tlbml6ZXIucmVhZFRva2VuKG5ldyBBdG9tVG9rZW4uU3RzY0F0b20obGVuKSk7XG4gICAgICAgICAgICAgICAgdGhpcy5nZXRUcmFja0Rlc2NyaXB0aW9uKCkuc2FtcGxlVG9DaHVua1RhYmxlID0gc3RzYy5lbnRyaWVzO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogdGltZS10by1zYW1wbGUgdGFibGVcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgc3R0czogYXN5bmMgKGxlbikgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IHN0dHMgPSBhd2FpdCB0aGlzLnRva2VuaXplci5yZWFkVG9rZW4obmV3IEF0b21Ub2tlbi5TdHRzQXRvbShsZW4pKTtcbiAgICAgICAgICAgICAgICB0aGlzLmdldFRyYWNrRGVzY3JpcHRpb24oKS50aW1lVG9TYW1wbGVUYWJsZSA9IHN0dHMuZW50cmllcztcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIFBhcnNlIHNhbXBsZS1zaXplcyBhdG9tICgnc3RzeicpXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIHN0c3o6IGFzeW5jIChsZW4pID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBzdHN6ID0gYXdhaXQgdGhpcy50b2tlbml6ZXIucmVhZFRva2VuKG5ldyBBdG9tVG9rZW4uU3RzekF0b20obGVuKSk7XG4gICAgICAgICAgICAgICAgY29uc3QgdGQgPSB0aGlzLmdldFRyYWNrRGVzY3JpcHRpb24oKTtcbiAgICAgICAgICAgICAgICB0ZC5zYW1wbGVTaXplID0gc3Rzei5zYW1wbGVTaXplO1xuICAgICAgICAgICAgICAgIHRkLnNhbXBsZVNpemVUYWJsZSA9IHN0c3ouZW50cmllcztcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIFBhcnNlIGNodW5rLW9mZnNldCBhdG9tICgnc3RjbycpXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIHN0Y286IGFzeW5jIChsZW4pID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBzdGNvID0gYXdhaXQgdGhpcy50b2tlbml6ZXIucmVhZFRva2VuKG5ldyBBdG9tVG9rZW4uU3Rjb0F0b20obGVuKSk7XG4gICAgICAgICAgICAgICAgdGhpcy5nZXRUcmFja0Rlc2NyaXB0aW9uKCkuY2h1bmtPZmZzZXRUYWJsZSA9IHN0Y28uZW50cmllczsgLy8gcmVtZW1iZXIgY2h1bmsgb2Zmc2V0c1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGRhdGU6IGFzeW5jIChsZW4pID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBkYXRlID0gYXdhaXQgdGhpcy50b2tlbml6ZXIucmVhZFRva2VuKG5ldyBUb2tlbi5TdHJpbmdUeXBlKGxlbiwgJ3V0Zi04JykpO1xuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuYWRkVGFnKCdkYXRlJywgZGF0ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfVxuICAgIHN0YXRpYyByZWFkX0JFX0ludGVnZXIoYXJyYXksIHNpZ25lZCkge1xuICAgICAgICBjb25zdCBpbnRlZ2VyVHlwZSA9IChzaWduZWQgPyAnSU5UJyA6ICdVSU5UJykgKyBhcnJheS5sZW5ndGggKiA4ICsgKGFycmF5Lmxlbmd0aCA+IDEgPyAnX0JFJyA6ICcnKTtcbiAgICAgICAgY29uc3QgdG9rZW4gPSBUb2tlbltpbnRlZ2VyVHlwZV07XG4gICAgICAgIGlmICghdG9rZW4pIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgVG9rZW4gZm9yIGludGVnZXIgdHlwZSBub3QgZm91bmQ6IFwiJHtpbnRlZ2VyVHlwZX1cImApO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBOdW1iZXIodG9rZW4uZ2V0KGFycmF5LCAwKSk7XG4gICAgfVxuICAgIGFzeW5jIHBhcnNlKCkge1xuICAgICAgICB0aGlzLnRyYWNrcyA9IFtdO1xuICAgICAgICBsZXQgcmVtYWluaW5nRmlsZVNpemUgPSB0aGlzLnRva2VuaXplci5maWxlSW5mby5zaXplIHx8IDA7XG4gICAgICAgIHdoaWxlICghdGhpcy50b2tlbml6ZXIuZmlsZUluZm8uc2l6ZSB8fCByZW1haW5pbmdGaWxlU2l6ZSA+IDApIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdG9rZW4gPSBhd2FpdCB0aGlzLnRva2VuaXplci5wZWVrVG9rZW4oQXRvbVRva2VuLkhlYWRlcik7XG4gICAgICAgICAgICAgICAgaWYgKHRva2VuLm5hbWUgPT09ICdcXDBcXDBcXDBcXDAnKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGVyck1zZyA9IGBFcnJvciBhdCBvZmZzZXQ9JHt0aGlzLnRva2VuaXplci5wb3NpdGlvbn06IGJveC5pZD0wYDtcbiAgICAgICAgICAgICAgICAgICAgZGVidWcoZXJyTXNnKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hZGRXYXJuaW5nKGVyck1zZyk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgIGlmIChlcnJvciBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGVyck1zZyA9IGBFcnJvciBhdCBvZmZzZXQ9JHt0aGlzLnRva2VuaXplci5wb3NpdGlvbn06ICR7ZXJyb3IubWVzc2FnZX1gO1xuICAgICAgICAgICAgICAgICAgICBkZWJ1ZyhlcnJNc2cpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmFkZFdhcm5pbmcoZXJyTXNnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHJvb3RBdG9tID0gYXdhaXQgQXRvbS5yZWFkQXRvbSh0aGlzLnRva2VuaXplciwgKGF0b20sIHJlbWFpbmluZykgPT4gdGhpcy5oYW5kbGVBdG9tKGF0b20sIHJlbWFpbmluZyksIG51bGwsIHJlbWFpbmluZ0ZpbGVTaXplKTtcbiAgICAgICAgICAgIHJlbWFpbmluZ0ZpbGVTaXplIC09IHJvb3RBdG9tLmhlYWRlci5sZW5ndGggPT09IEJpZ0ludCgwKSA/IHJlbWFpbmluZ0ZpbGVTaXplIDogTnVtYmVyKHJvb3RBdG9tLmhlYWRlci5sZW5ndGgpO1xuICAgICAgICB9XG4gICAgICAgIC8vIFBvc3QgcHJvY2VzcyBtZXRhZGF0YVxuICAgICAgICBjb25zdCBmb3JtYXRMaXN0ID0gW107XG4gICAgICAgIHRoaXMudHJhY2tzLmZvckVhY2godHJhY2sgPT4ge1xuICAgICAgICAgICAgY29uc3QgdHJhY2tGb3JtYXRzID0gW107XG4gICAgICAgICAgICB0cmFjay5zb3VuZFNhbXBsZURlc2NyaXB0aW9uLmZvckVhY2goc3NkID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBzdHJlYW1JbmZvID0ge307XG4gICAgICAgICAgICAgICAgY29uc3QgZW5jb2RlckluZm8gPSBlbmNvZGVyRGljdFtzc2QuZGF0YUZvcm1hdF07XG4gICAgICAgICAgICAgICAgaWYgKGVuY29kZXJJbmZvKSB7XG4gICAgICAgICAgICAgICAgICAgIHRyYWNrRm9ybWF0cy5wdXNoKGVuY29kZXJJbmZvLmZvcm1hdCk7XG4gICAgICAgICAgICAgICAgICAgIHN0cmVhbUluZm8uY29kZWNOYW1lID0gZW5jb2RlckluZm8uZm9ybWF0O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgc3RyZWFtSW5mby5jb2RlY05hbWUgPSBgPCR7c3NkLmRhdGFGb3JtYXR9PmA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChzc2QuZGVzY3JpcHRpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgeyBkZXNjcmlwdGlvbiB9ID0gc3NkO1xuICAgICAgICAgICAgICAgICAgICBpZiAoZGVzY3JpcHRpb24uc2FtcGxlUmF0ZSA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0cmVhbUluZm8udHlwZSA9IFRyYWNrVHlwZS5hdWRpbztcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0cmVhbUluZm8uYXVkaW8gPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2FtcGxpbmdGcmVxdWVuY3k6IGRlc2NyaXB0aW9uLnNhbXBsZVJhdGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYml0RGVwdGg6IGRlc2NyaXB0aW9uLnNhbXBsZVNpemUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hhbm5lbHM6IGRlc2NyaXB0aW9uLm51bUF1ZGlvQ2hhbm5lbHNcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5tZXRhZGF0YS5hZGRTdHJlYW1JbmZvKHN0cmVhbUluZm8pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBpZiAodHJhY2tGb3JtYXRzLmxlbmd0aCA+PSAxKSB7XG4gICAgICAgICAgICAgICAgZm9ybWF0TGlzdC5wdXNoKHRyYWNrRm9ybWF0cy5qb2luKCcvJykpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKGZvcm1hdExpc3QubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgdGhpcy5tZXRhZGF0YS5zZXRGb3JtYXQoJ2NvZGVjJywgZm9ybWF0TGlzdC5maWx0ZXIoZGlzdGluY3QpLmpvaW4oJysnKSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgYXVkaW9UcmFja3MgPSB0aGlzLnRyYWNrcy5maWx0ZXIodHJhY2sgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIHRyYWNrLnNvdW5kU2FtcGxlRGVzY3JpcHRpb24ubGVuZ3RoID49IDEgJiYgdHJhY2suc291bmRTYW1wbGVEZXNjcmlwdGlvblswXS5kZXNjcmlwdGlvbiAmJiB0cmFjay5zb3VuZFNhbXBsZURlc2NyaXB0aW9uWzBdLmRlc2NyaXB0aW9uLm51bUF1ZGlvQ2hhbm5lbHMgPiAwO1xuICAgICAgICB9KTtcbiAgICAgICAgaWYgKGF1ZGlvVHJhY2tzLmxlbmd0aCA+PSAxKSB7XG4gICAgICAgICAgICBjb25zdCBhdWRpb1RyYWNrID0gYXVkaW9UcmFja3NbMF07XG4gICAgICAgICAgICBpZiAoYXVkaW9UcmFjay50aW1lU2NhbGUgPiAwKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZHVyYXRpb24gPSBhdWRpb1RyYWNrLmR1cmF0aW9uIC8gYXVkaW9UcmFjay50aW1lU2NhbGU7IC8vIGNhbGN1bGF0ZSBkdXJhdGlvbiBpbiBzZWNvbmRzXG4gICAgICAgICAgICAgICAgdGhpcy5tZXRhZGF0YS5zZXRGb3JtYXQoJ2R1cmF0aW9uJywgZHVyYXRpb24pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3Qgc3NkID0gYXVkaW9UcmFjay5zb3VuZFNhbXBsZURlc2NyaXB0aW9uWzBdO1xuICAgICAgICAgICAgaWYgKHNzZC5kZXNjcmlwdGlvbikge1xuICAgICAgICAgICAgICAgIHRoaXMubWV0YWRhdGEuc2V0Rm9ybWF0KCdzYW1wbGVSYXRlJywgc3NkLmRlc2NyaXB0aW9uLnNhbXBsZVJhdGUpO1xuICAgICAgICAgICAgICAgIHRoaXMubWV0YWRhdGEuc2V0Rm9ybWF0KCdiaXRzUGVyU2FtcGxlJywgc3NkLmRlc2NyaXB0aW9uLnNhbXBsZVNpemUpO1xuICAgICAgICAgICAgICAgIHRoaXMubWV0YWRhdGEuc2V0Rm9ybWF0KCdudW1iZXJPZkNoYW5uZWxzJywgc3NkLmRlc2NyaXB0aW9uLm51bUF1ZGlvQ2hhbm5lbHMpO1xuICAgICAgICAgICAgICAgIGlmIChhdWRpb1RyYWNrLnRpbWVTY2FsZSA9PT0gMCAmJiBhdWRpb1RyYWNrLnRpbWVUb1NhbXBsZVRhYmxlLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdG90YWxTYW1wbGVTaXplID0gYXVkaW9UcmFjay50aW1lVG9TYW1wbGVUYWJsZVxuICAgICAgICAgICAgICAgICAgICAgICAgLm1hcCh0dHN0RW50cnkgPT4gdHRzdEVudHJ5LmNvdW50ICogdHRzdEVudHJ5LmR1cmF0aW9uKVxuICAgICAgICAgICAgICAgICAgICAgICAgLnJlZHVjZSgodG90YWwsIHNhbXBsZVNpemUpID0+IHRvdGFsICsgc2FtcGxlU2l6ZSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGR1cmF0aW9uID0gdG90YWxTYW1wbGVTaXplIC8gc3NkLmRlc2NyaXB0aW9uLnNhbXBsZVJhdGU7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubWV0YWRhdGEuc2V0Rm9ybWF0KCdkdXJhdGlvbicsIGR1cmF0aW9uKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBlbmNvZGVySW5mbyA9IGVuY29kZXJEaWN0W3NzZC5kYXRhRm9ybWF0XTtcbiAgICAgICAgICAgIGlmIChlbmNvZGVySW5mbykge1xuICAgICAgICAgICAgICAgIHRoaXMubWV0YWRhdGEuc2V0Rm9ybWF0KCdsb3NzbGVzcycsICFlbmNvZGVySW5mby5sb3NzeSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmNhbGN1bGF0ZUJpdFJhdGUoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBhc3luYyBoYW5kbGVBdG9tKGF0b20sIHJlbWFpbmluZykge1xuICAgICAgICBpZiAoYXRvbS5wYXJlbnQpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoYXRvbS5wYXJlbnQuaGVhZGVyLm5hbWUpIHtcbiAgICAgICAgICAgICAgICBjYXNlICdpbHN0JzpcbiAgICAgICAgICAgICAgICBjYXNlICc8aWQ+JzpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMucGFyc2VNZXRhZGF0YUl0ZW1EYXRhKGF0b20pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIGNvbnN0IHBheWxvYWRMZW5ndGggPSBhdG9tLmdldFBheWxvYWRMZW5ndGgocmVtYWluaW5nKTtcbiAgICAgICAgaWYgKHRoaXMuYXRvbVBhcnNlcnNbYXRvbS5oZWFkZXIubmFtZV0pIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmF0b21QYXJzZXJzW2F0b20uaGVhZGVyLm5hbWVdKHJlbWFpbmluZyk7XG4gICAgICAgIH1cbiAgICAgICAgZGVidWcoYE5vIHBhcnNlciBmb3IgYXRvbSBwYXRoPSR7YXRvbS5hdG9tUGF0aH0sIHBheWxvYWQtbGVuPSR7cmVtYWluaW5nfSwgaWdub3JpbmcgYXRvbWApO1xuICAgICAgICBhd2FpdCB0aGlzLnRva2VuaXplci5pZ25vcmUocmVtYWluaW5nKTtcbiAgICB9XG4gICAgZ2V0VHJhY2tEZXNjcmlwdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudHJhY2tzW3RoaXMudHJhY2tzLmxlbmd0aCAtIDFdO1xuICAgIH1cbiAgICBjYWxjdWxhdGVCaXRSYXRlKCkge1xuICAgICAgICBpZiAodGhpcy5hdWRpb0xlbmd0aEluQnl0ZXMgJiYgdGhpcy5tZXRhZGF0YS5mb3JtYXQuZHVyYXRpb24pIHtcbiAgICAgICAgICAgIHRoaXMubWV0YWRhdGEuc2V0Rm9ybWF0KCdiaXRyYXRlJywgOCAqIHRoaXMuYXVkaW9MZW5ndGhJbkJ5dGVzIC8gdGhpcy5tZXRhZGF0YS5mb3JtYXQuZHVyYXRpb24pO1xuICAgICAgICB9XG4gICAgfVxuICAgIGFzeW5jIGFkZFRhZyhpZCwgdmFsdWUpIHtcbiAgICAgICAgYXdhaXQgdGhpcy5tZXRhZGF0YS5hZGRUYWcodGFnRm9ybWF0LCBpZCwgdmFsdWUpO1xuICAgIH1cbiAgICBhZGRXYXJuaW5nKG1lc3NhZ2UpIHtcbiAgICAgICAgZGVidWcoYFdhcm5pbmc6ICR7bWVzc2FnZX1gKTtcbiAgICAgICAgdGhpcy5tZXRhZGF0YS5hZGRXYXJuaW5nKG1lc3NhZ2UpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBQYXJzZSBkYXRhIG9mIE1ldGEtaXRlbS1saXN0LWF0b20gKGl0ZW0gb2YgJ2lsc3QnIGF0b20pXG4gICAgICogQHBhcmFtIG1ldGFBdG9tXG4gICAgICogUmVmOiBodHRwczovL2RldmVsb3Blci5hcHBsZS5jb20vbGlicmFyeS9jb250ZW50L2RvY3VtZW50YXRpb24vUXVpY2tUaW1lL1FURkYvTWV0YWRhdGEvTWV0YWRhdGEuaHRtbCMvL2FwcGxlX3JlZi9kb2MvdWlkL1RQNDAwMDA5MzktQ0gxLVNXOFxuICAgICAqL1xuICAgIHBhcnNlTWV0YWRhdGFJdGVtRGF0YShtZXRhQXRvbSkge1xuICAgICAgICBsZXQgdGFnS2V5ID0gbWV0YUF0b20uaGVhZGVyLm5hbWU7XG4gICAgICAgIHJldHVybiBtZXRhQXRvbS5yZWFkQXRvbXModGhpcy50b2tlbml6ZXIsIGFzeW5jIChjaGlsZCwgcmVtYWluaW5nKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBwYXlMb2FkTGVuZ3RoID0gY2hpbGQuZ2V0UGF5bG9hZExlbmd0aChyZW1haW5pbmcpO1xuICAgICAgICAgICAgc3dpdGNoIChjaGlsZC5oZWFkZXIubmFtZSkge1xuICAgICAgICAgICAgICAgIGNhc2UgJ2RhdGEnOiAvLyB2YWx1ZSBhdG9tXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnBhcnNlVmFsdWVBdG9tKHRhZ0tleSwgY2hpbGQpO1xuICAgICAgICAgICAgICAgIGNhc2UgJ25hbWUnOiAvLyBuYW1lIGF0b20gKG9wdGlvbmFsKVxuICAgICAgICAgICAgICAgIGNhc2UgJ21lYW4nOlxuICAgICAgICAgICAgICAgIGNhc2UgJ3JhdGUnOiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG5hbWUgPSBhd2FpdCB0aGlzLnRva2VuaXplci5yZWFkVG9rZW4obmV3IEF0b21Ub2tlbi5OYW1lQXRvbShwYXlMb2FkTGVuZ3RoKSk7XG4gICAgICAgICAgICAgICAgICAgIHRhZ0tleSArPSBgOiR7bmFtZS5uYW1lfWA7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBkZWZhdWx0OiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHVpbnQ4QXJyYXkgPSBhd2FpdCB0aGlzLnRva2VuaXplci5yZWFkVG9rZW4obmV3IFRva2VuLlVpbnQ4QXJyYXlUeXBlKHBheUxvYWRMZW5ndGgpKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hZGRXYXJuaW5nKGBVbnN1cHBvcnRlZCBtZXRhLWl0ZW06ICR7dGFnS2V5fVske2NoaWxkLmhlYWRlci5uYW1lfV0gPT4gdmFsdWU9JHt1aW50OEFycmF5VG9IZXgodWludDhBcnJheSl9IGFzY2lpPSR7dWludDhBcnJheVRvU3RyaW5nKHVpbnQ4QXJyYXksICdhc2NpaScpfWApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwgbWV0YUF0b20uZ2V0UGF5bG9hZExlbmd0aCgwKSk7XG4gICAgfVxuICAgIGFzeW5jIHBhcnNlVmFsdWVBdG9tKHRhZ0tleSwgbWV0YUF0b20pIHtcbiAgICAgICAgY29uc3QgZGF0YUF0b20gPSBhd2FpdCB0aGlzLnRva2VuaXplci5yZWFkVG9rZW4obmV3IEF0b21Ub2tlbi5EYXRhQXRvbShOdW1iZXIobWV0YUF0b20uaGVhZGVyLmxlbmd0aCkgLSBBdG9tVG9rZW4uSGVhZGVyLmxlbikpO1xuICAgICAgICBpZiAoZGF0YUF0b20udHlwZS5zZXQgIT09IDApIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgVW5zdXBwb3J0ZWQgdHlwZS1zZXQgIT0gMDogJHtkYXRhQXRvbS50eXBlLnNldH1gKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBVc2Ugd2VsbC1rbm93bi10eXBlIHRhYmxlXG4gICAgICAgIC8vIFJlZjogaHR0cHM6Ly9kZXZlbG9wZXIuYXBwbGUuY29tL2xpYnJhcnkvY29udGVudC9kb2N1bWVudGF0aW9uL1F1aWNrVGltZS9RVEZGL01ldGFkYXRhL01ldGFkYXRhLmh0bWwjLy9hcHBsZV9yZWYvZG9jL3VpZC9UUDQwMDAwOTM5LUNIMS1TVzM1XG4gICAgICAgIHN3aXRjaCAoZGF0YUF0b20udHlwZS50eXBlKSB7XG4gICAgICAgICAgICBjYXNlIDA6IC8vIHJlc2VydmVkOiBSZXNlcnZlZCBmb3IgdXNlIHdoZXJlIG5vIHR5cGUgbmVlZHMgdG8gYmUgaW5kaWNhdGVkXG4gICAgICAgICAgICAgICAgc3dpdGNoICh0YWdLZXkpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAndHJrbic6XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ2Rpc2snOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBudW0gPSBUb2tlbi5VSU5UOC5nZXQoZGF0YUF0b20udmFsdWUsIDMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgb2YgPSBUb2tlbi5VSU5UOC5nZXQoZGF0YUF0b20udmFsdWUsIDUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coXCIgICVzW2RhdGFdID0gJXMvJXNcIiwgdGFnS2V5LCBudW0sIG9mKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuYWRkVGFnKHRhZ0tleSwgYCR7bnVtfS8ke29mfWApO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnZ25yZSc6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGdlbnJlSW50ID0gVG9rZW4uVUlOVDguZ2V0KGRhdGFBdG9tLnZhbHVlLCAxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGdlbnJlU3RyID0gR2VucmVzW2dlbnJlSW50IC0gMV07XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhcIiAgJXNbZGF0YV0gPSAlc1wiLCB0YWdLZXksIGdlbnJlU3RyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuYWRkVGFnKHRhZ0tleSwgZ2VucmVTdHIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY2FzZSAncmF0ZSc6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHJhdGUgPSBuZXcgVGV4dERlY29kZXIoJ2FzY2lpJykuZGVjb2RlKGRhdGFBdG9tLnZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuYWRkVGFnKHRhZ0tleSwgcmF0ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICAgICAgZGVidWcoYHVua25vd24gcHJvcHJpZXRhcnkgdmFsdWUgdHlwZSBmb3I6ICR7bWV0YUF0b20uYXRvbVBhdGh9YCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAxOiAvLyBVVEYtODogV2l0aG91dCBhbnkgY291bnQgb3IgTlVMTCB0ZXJtaW5hdG9yXG4gICAgICAgICAgICBjYXNlIDE4OiAvLyBVbmtub3duOiBGb3VuZCBpbiBtNGIgaW4gY29tYmluYXRpb24gd2l0aCBhICfCqWdlbicgdGFnXG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5hZGRUYWcodGFnS2V5LCBuZXcgVGV4dERlY29kZXIoJ3V0Zi04JykuZGVjb2RlKGRhdGFBdG9tLnZhbHVlKSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDEzOiAvLyBKUEVHXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5za2lwQ292ZXJzKVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLmFkZFRhZyh0YWdLZXksIHtcbiAgICAgICAgICAgICAgICAgICAgZm9ybWF0OiAnaW1hZ2UvanBlZycsXG4gICAgICAgICAgICAgICAgICAgIGRhdGE6IFVpbnQ4QXJyYXkuZnJvbShkYXRhQXRvbS52YWx1ZSlcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgMTQ6IC8vIFBOR1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLm9wdGlvbnMuc2tpcENvdmVycylcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5hZGRUYWcodGFnS2V5LCB7XG4gICAgICAgICAgICAgICAgICAgIGZvcm1hdDogJ2ltYWdlL3BuZycsXG4gICAgICAgICAgICAgICAgICAgIGRhdGE6IFVpbnQ4QXJyYXkuZnJvbShkYXRhQXRvbS52YWx1ZSlcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgMjE6IC8vIEJFIFNpZ25lZCBJbnRlZ2VyXG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5hZGRUYWcodGFnS2V5LCBNUDRQYXJzZXIucmVhZF9CRV9JbnRlZ2VyKGRhdGFBdG9tLnZhbHVlLCB0cnVlKSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDIyOiAvLyBCRSBVbnNpZ25lZCBJbnRlZ2VyXG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5hZGRUYWcodGFnS2V5LCBNUDRQYXJzZXIucmVhZF9CRV9JbnRlZ2VyKGRhdGFBdG9tLnZhbHVlLCBmYWxzZSkpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSA2NTogLy8gQW4gOC1iaXQgc2lnbmVkIGludGVnZXJcbiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLmFkZFRhZyh0YWdLZXksIFRva2VuLlVJTlQ4LmdldChkYXRhQXRvbS52YWx1ZSwgMCkpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSA2NjogLy8gQSBiaWctZW5kaWFuIDE2LWJpdCBzaWduZWQgaW50ZWdlclxuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuYWRkVGFnKHRhZ0tleSwgVG9rZW4uVUlOVDE2X0JFLmdldChkYXRhQXRvbS52YWx1ZSwgMCkpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSA2NzogLy8gQSBiaWctZW5kaWFuIDMyLWJpdCBzaWduZWQgaW50ZWdlclxuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuYWRkVGFnKHRhZ0tleSwgVG9rZW4uVUlOVDMyX0JFLmdldChkYXRhQXRvbS52YWx1ZSwgMCkpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICB0aGlzLmFkZFdhcm5pbmcoYGF0b20ga2V5PSR7dGFnS2V5fSwgaGFzIHVua25vd24gd2VsbC1rbm93bi10eXBlIChkYXRhLXR5cGUpOiAke2RhdGFBdG9tLnR5cGUudHlwZX1gKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBAcGFyYW0gc2FtcGxlRGVzY3JpcHRpb25cbiAgICAgKiBSZWY6IGh0dHBzOi8vZGV2ZWxvcGVyLmFwcGxlLmNvbS9saWJyYXJ5L2FyY2hpdmUvZG9jdW1lbnRhdGlvbi9RdWlja1RpbWUvUVRGRi9RVEZGQ2hhcDMvcXRmZjMuaHRtbCMvL2FwcGxlX3JlZi9kb2MvdWlkL1RQNDAwMDA5MzktQ0gyMDUtMTI4OTE2XG4gICAgICovXG4gICAgcGFyc2VTb3VuZFNhbXBsZURlc2NyaXB0aW9uKHNhbXBsZURlc2NyaXB0aW9uKSB7XG4gICAgICAgIGNvbnN0IHNzZCA9IHtcbiAgICAgICAgICAgIGRhdGFGb3JtYXQ6IHNhbXBsZURlc2NyaXB0aW9uLmRhdGFGb3JtYXQsXG4gICAgICAgICAgICBkYXRhUmVmZXJlbmNlSW5kZXg6IHNhbXBsZURlc2NyaXB0aW9uLmRhdGFSZWZlcmVuY2VJbmRleFxuICAgICAgICB9O1xuICAgICAgICBsZXQgb2Zmc2V0ID0gMDtcbiAgICAgICAgY29uc3QgdmVyc2lvbiA9IEF0b21Ub2tlbi5Tb3VuZFNhbXBsZURlc2NyaXB0aW9uVmVyc2lvbi5nZXQoc2FtcGxlRGVzY3JpcHRpb24uZGVzY3JpcHRpb24sIG9mZnNldCk7XG4gICAgICAgIG9mZnNldCArPSBBdG9tVG9rZW4uU291bmRTYW1wbGVEZXNjcmlwdGlvblZlcnNpb24ubGVuO1xuICAgICAgICBpZiAodmVyc2lvbi52ZXJzaW9uID09PSAwIHx8IHZlcnNpb24udmVyc2lvbiA9PT0gMSkge1xuICAgICAgICAgICAgLy8gU291bmQgU2FtcGxlIERlc2NyaXB0aW9uIChWZXJzaW9uIDApXG4gICAgICAgICAgICBzc2QuZGVzY3JpcHRpb24gPSBBdG9tVG9rZW4uU291bmRTYW1wbGVEZXNjcmlwdGlvblYwLmdldChzYW1wbGVEZXNjcmlwdGlvbi5kZXNjcmlwdGlvbiwgb2Zmc2V0KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGRlYnVnKGBXYXJuaW5nOiBzb3VuZC1zYW1wbGUtZGVzY3JpcHRpb24gJHt2ZXJzaW9ufSBub3QgaW1wbGVtZW50ZWRgKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc3NkO1xuICAgIH1cbiAgICBhc3luYyBwYXJzZUNoYXB0ZXJUcmFjayhjaGFwdGVyVHJhY2ssIHRyYWNrLCBsZW4pIHtcbiAgICAgICAgaWYgKCFjaGFwdGVyVHJhY2suc2FtcGxlU2l6ZSkge1xuICAgICAgICAgICAgaWYgKGNoYXB0ZXJUcmFjay5jaHVua09mZnNldFRhYmxlLmxlbmd0aCAhPT0gY2hhcHRlclRyYWNrLnNhbXBsZVNpemVUYWJsZS5sZW5ndGgpXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdFeHBlY3RlZCBlcXVhbCBjaHVuay1vZmZzZXQtdGFibGUgJiBzYW1wbGUtc2l6ZS10YWJsZSBsZW5ndGguJyk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgY2hhcHRlcnMgPSBbXTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjaGFwdGVyVHJhY2suY2h1bmtPZmZzZXRUYWJsZS5sZW5ndGggJiYgbGVuID4gMDsgKytpKSB7XG4gICAgICAgICAgICBjb25zdCBjaHVua09mZnNldCA9IGNoYXB0ZXJUcmFjay5jaHVua09mZnNldFRhYmxlW2ldO1xuICAgICAgICAgICAgY29uc3QgbmV4dENodW5rTGVuID0gY2h1bmtPZmZzZXQgLSB0aGlzLnRva2VuaXplci5wb3NpdGlvbjtcbiAgICAgICAgICAgIGNvbnN0IHNhbXBsZVNpemUgPSBjaGFwdGVyVHJhY2suc2FtcGxlU2l6ZSA+IDAgPyBjaGFwdGVyVHJhY2suc2FtcGxlU2l6ZSA6IGNoYXB0ZXJUcmFjay5zYW1wbGVTaXplVGFibGVbaV07XG4gICAgICAgICAgICBsZW4gLT0gbmV4dENodW5rTGVuICsgc2FtcGxlU2l6ZTtcbiAgICAgICAgICAgIGlmIChsZW4gPCAwKVxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignQ2hhcHRlciBjaHVuayBleGNlZWRpbmcgdG9rZW4gbGVuZ3RoJyk7XG4gICAgICAgICAgICBhd2FpdCB0aGlzLnRva2VuaXplci5pZ25vcmUobmV4dENodW5rTGVuKTtcbiAgICAgICAgICAgIGNvbnN0IHRpdGxlID0gYXdhaXQgdGhpcy50b2tlbml6ZXIucmVhZFRva2VuKG5ldyBBdG9tVG9rZW4uQ2hhcHRlclRleHQoc2FtcGxlU2l6ZSkpO1xuICAgICAgICAgICAgZGVidWcoYENoYXB0ZXIgJHtpICsgMX06ICR7dGl0bGV9YCk7XG4gICAgICAgICAgICBjb25zdCBjaGFwdGVyID0ge1xuICAgICAgICAgICAgICAgIHRpdGxlLFxuICAgICAgICAgICAgICAgIHNhbXBsZU9mZnNldDogdGhpcy5maW5kU2FtcGxlT2Zmc2V0KHRyYWNrLCB0aGlzLnRva2VuaXplci5wb3NpdGlvbilcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBkZWJ1ZyhgQ2hhcHRlciB0aXRsZT0ke2NoYXB0ZXIudGl0bGV9LCBvZmZzZXQ9JHtjaGFwdGVyLnNhbXBsZU9mZnNldH0vJHt0aGlzLnRyYWNrc1swXS5kdXJhdGlvbn1gKTtcbiAgICAgICAgICAgIGNoYXB0ZXJzLnB1c2goY2hhcHRlcik7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5tZXRhZGF0YS5zZXRGb3JtYXQoJ2NoYXB0ZXJzJywgY2hhcHRlcnMpO1xuICAgICAgICBhd2FpdCB0aGlzLnRva2VuaXplci5pZ25vcmUobGVuKTtcbiAgICB9XG4gICAgZmluZFNhbXBsZU9mZnNldCh0cmFjaywgY2hhcHRlck9mZnNldCkge1xuICAgICAgICBsZXQgdG90YWxEdXJhdGlvbiA9IDA7XG4gICAgICAgIHRyYWNrLnRpbWVUb1NhbXBsZVRhYmxlLmZvckVhY2goZSA9PiB7XG4gICAgICAgICAgICB0b3RhbER1cmF0aW9uICs9IGUuY291bnQgKiBlLmR1cmF0aW9uO1xuICAgICAgICB9KTtcbiAgICAgICAgZGVidWcoYFRvdGFsIGR1cmF0aW9uPSR7dG90YWxEdXJhdGlvbn1gKTtcbiAgICAgICAgbGV0IGNodW5rSW5kZXggPSAwO1xuICAgICAgICB3aGlsZSAoY2h1bmtJbmRleCA8IHRyYWNrLmNodW5rT2Zmc2V0VGFibGUubGVuZ3RoICYmIHRyYWNrLmNodW5rT2Zmc2V0VGFibGVbY2h1bmtJbmRleF0gPCBjaGFwdGVyT2Zmc2V0KSB7XG4gICAgICAgICAgICArK2NodW5rSW5kZXg7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0Q2h1bmtEdXJhdGlvbihjaHVua0luZGV4ICsgMSwgdHJhY2spO1xuICAgIH1cbiAgICBnZXRDaHVua0R1cmF0aW9uKGNodW5rSWQsIHRyYWNrKSB7XG4gICAgICAgIGxldCB0dHNpID0gMDtcbiAgICAgICAgbGV0IHR0c2MgPSB0cmFjay50aW1lVG9TYW1wbGVUYWJsZVt0dHNpXS5jb3VudDtcbiAgICAgICAgbGV0IHR0c2QgPSB0cmFjay50aW1lVG9TYW1wbGVUYWJsZVt0dHNpXS5kdXJhdGlvbjtcbiAgICAgICAgbGV0IGN1ckNodW5rSWQgPSAxO1xuICAgICAgICBsZXQgc2FtcGxlc1BlckNodW5rID0gdGhpcy5nZXRTYW1wbGVzUGVyQ2h1bmsoY3VyQ2h1bmtJZCwgdHJhY2suc2FtcGxlVG9DaHVua1RhYmxlKTtcbiAgICAgICAgbGV0IHRvdGFsRHVyYXRpb24gPSAwO1xuICAgICAgICB3aGlsZSAoY3VyQ2h1bmtJZCA8IGNodW5rSWQpIHtcbiAgICAgICAgICAgIGNvbnN0IG5yT2ZTYW1wbGVzID0gTWF0aC5taW4odHRzYywgc2FtcGxlc1BlckNodW5rKTtcbiAgICAgICAgICAgIHRvdGFsRHVyYXRpb24gKz0gbnJPZlNhbXBsZXMgKiB0dHNkO1xuICAgICAgICAgICAgdHRzYyAtPSBuck9mU2FtcGxlcztcbiAgICAgICAgICAgIHNhbXBsZXNQZXJDaHVuayAtPSBuck9mU2FtcGxlcztcbiAgICAgICAgICAgIGlmIChzYW1wbGVzUGVyQ2h1bmsgPT09IDApIHtcbiAgICAgICAgICAgICAgICArK2N1ckNodW5rSWQ7XG4gICAgICAgICAgICAgICAgc2FtcGxlc1BlckNodW5rID0gdGhpcy5nZXRTYW1wbGVzUGVyQ2h1bmsoY3VyQ2h1bmtJZCwgdHJhY2suc2FtcGxlVG9DaHVua1RhYmxlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICsrdHRzaTtcbiAgICAgICAgICAgICAgICB0dHNjID0gdHJhY2sudGltZVRvU2FtcGxlVGFibGVbdHRzaV0uY291bnQ7XG4gICAgICAgICAgICAgICAgdHRzZCA9IHRyYWNrLnRpbWVUb1NhbXBsZVRhYmxlW3R0c2ldLmR1cmF0aW9uO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0b3RhbER1cmF0aW9uO1xuICAgIH1cbiAgICBnZXRTYW1wbGVzUGVyQ2h1bmsoY2h1bmtJZCwgc3RjVGFibGUpIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzdGNUYWJsZS5sZW5ndGggLSAxOyArK2kpIHtcbiAgICAgICAgICAgIGlmIChjaHVua0lkID49IHN0Y1RhYmxlW2ldLmZpcnN0Q2h1bmsgJiYgY2h1bmtJZCA8IHN0Y1RhYmxlW2kgKyAxXS5maXJzdENodW5rKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHN0Y1RhYmxlW2ldLnNhbXBsZXNQZXJDaHVuaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc3RjVGFibGVbc3RjVGFibGUubGVuZ3RoIC0gMV0uc2FtcGxlc1BlckNodW5rO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPU1QNFBhcnNlci5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/music-metadata/lib/mp4/MP4Parser.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/music-metadata/lib/mp4/MP4TagMapper.js":
/*!*************************************************************!*\
  !*** ./node_modules/music-metadata/lib/mp4/MP4TagMapper.js ***!
  \*************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   MP4TagMapper: () => (/* binding */ MP4TagMapper),\n/* harmony export */   tagType: () => (/* binding */ tagType)\n/* harmony export */ });\n/* harmony import */ var _common_CaseInsensitiveTagMap_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../common/CaseInsensitiveTagMap.js */ \"(ssr)/./node_modules/music-metadata/lib/common/CaseInsensitiveTagMap.js\");\n\n/**\n * Ref: https://github.com/sergiomb2/libmp4v2/wiki/iTunesMetadata\n */\nconst mp4TagMap = {\n    '©nam': 'title',\n    '©ART': 'artist',\n    aART: 'albumartist',\n    /**\n     * ToDo: Album artist seems to be stored here while Picard documentation says: aART\n     */\n    '----:com.apple.iTunes:Band': 'albumartist',\n    '©alb': 'album',\n    '©day': 'date',\n    '©cmt': 'comment',\n    '©com': 'comment',\n    trkn: 'track',\n    disk: 'disk',\n    '©gen': 'genre',\n    covr: 'picture',\n    '©wrt': 'composer',\n    '©lyr': 'lyrics',\n    soal: 'albumsort',\n    sonm: 'titlesort',\n    soar: 'artistsort',\n    soaa: 'albumartistsort',\n    soco: 'composersort',\n    '----:com.apple.iTunes:LYRICIST': 'lyricist',\n    '----:com.apple.iTunes:CONDUCTOR': 'conductor',\n    '----:com.apple.iTunes:REMIXER': 'remixer',\n    '----:com.apple.iTunes:ENGINEER': 'engineer',\n    '----:com.apple.iTunes:PRODUCER': 'producer',\n    '----:com.apple.iTunes:DJMIXER': 'djmixer',\n    '----:com.apple.iTunes:MIXER': 'mixer',\n    '----:com.apple.iTunes:LABEL': 'label',\n    '©grp': 'grouping',\n    '----:com.apple.iTunes:SUBTITLE': 'subtitle',\n    '----:com.apple.iTunes:DISCSUBTITLE': 'discsubtitle',\n    cpil: 'compilation',\n    tmpo: 'bpm',\n    '----:com.apple.iTunes:MOOD': 'mood',\n    '----:com.apple.iTunes:MEDIA': 'media',\n    '----:com.apple.iTunes:CATALOGNUMBER': 'catalognumber',\n    tvsh: 'tvShow',\n    tvsn: 'tvSeason',\n    tves: 'tvEpisode',\n    sosn: 'tvShowSort',\n    tven: 'tvEpisodeId',\n    tvnn: 'tvNetwork',\n    pcst: 'podcast',\n    purl: 'podcasturl',\n    '----:com.apple.iTunes:MusicBrainz Album Status': 'releasestatus',\n    '----:com.apple.iTunes:MusicBrainz Album Type': 'releasetype',\n    '----:com.apple.iTunes:MusicBrainz Album Release Country': 'releasecountry',\n    '----:com.apple.iTunes:SCRIPT': 'script',\n    '----:com.apple.iTunes:LANGUAGE': 'language',\n    cprt: 'copyright',\n    '©cpy': 'copyright',\n    '----:com.apple.iTunes:LICENSE': 'license',\n    '©too': 'encodedby',\n    pgap: 'gapless',\n    '----:com.apple.iTunes:BARCODE': 'barcode',\n    '----:com.apple.iTunes:ISRC': 'isrc',\n    '----:com.apple.iTunes:ASIN': 'asin',\n    '----:com.apple.iTunes:NOTES': 'comment',\n    '----:com.apple.iTunes:MusicBrainz Track Id': 'musicbrainz_recordingid',\n    '----:com.apple.iTunes:MusicBrainz Release Track Id': 'musicbrainz_trackid',\n    '----:com.apple.iTunes:MusicBrainz Album Id': 'musicbrainz_albumid',\n    '----:com.apple.iTunes:MusicBrainz Artist Id': 'musicbrainz_artistid',\n    '----:com.apple.iTunes:MusicBrainz Album Artist Id': 'musicbrainz_albumartistid',\n    '----:com.apple.iTunes:MusicBrainz Release Group Id': 'musicbrainz_releasegroupid',\n    '----:com.apple.iTunes:MusicBrainz Work Id': 'musicbrainz_workid',\n    '----:com.apple.iTunes:MusicBrainz TRM Id': 'musicbrainz_trmid',\n    '----:com.apple.iTunes:MusicBrainz Disc Id': 'musicbrainz_discid',\n    '----:com.apple.iTunes:Acoustid Id': 'acoustid_id',\n    '----:com.apple.iTunes:Acoustid Fingerprint': 'acoustid_fingerprint',\n    '----:com.apple.iTunes:MusicIP PUID': 'musicip_puid',\n    '----:com.apple.iTunes:fingerprint': 'musicip_fingerprint',\n    '----:com.apple.iTunes:replaygain_track_gain': 'replaygain_track_gain',\n    '----:com.apple.iTunes:replaygain_track_peak': 'replaygain_track_peak',\n    '----:com.apple.iTunes:replaygain_album_gain': 'replaygain_album_gain',\n    '----:com.apple.iTunes:replaygain_album_peak': 'replaygain_album_peak',\n    '----:com.apple.iTunes:replaygain_track_minmax': 'replaygain_track_minmax',\n    '----:com.apple.iTunes:replaygain_album_minmax': 'replaygain_album_minmax',\n    '----:com.apple.iTunes:replaygain_undo': 'replaygain_undo',\n    // Additional mappings:\n    gnre: 'genre', // ToDo: check mapping\n    '----:com.apple.iTunes:ALBUMARTISTSORT': 'albumartistsort',\n    '----:com.apple.iTunes:ARTISTS': 'artists',\n    '----:com.apple.iTunes:ORIGINALDATE': 'originaldate',\n    '----:com.apple.iTunes:ORIGINALYEAR': 'originalyear',\n    '----:com.apple.iTunes:RELEASEDATE': 'releasedate',\n    // '----:com.apple.iTunes:PERFORMER': 'performer'\n    desc: 'description',\n    ldes: 'longDescription',\n    '©mvn': 'movement',\n    '©mvi': 'movementIndex',\n    '©mvc': 'movementTotal',\n    '©wrk': 'work',\n    catg: 'category',\n    egid: 'podcastId',\n    hdvd: 'hdVideo',\n    keyw: 'keywords',\n    shwm: 'showMovement',\n    stik: 'stik',\n    rate: 'rating'\n};\nconst tagType = 'iTunes';\nclass MP4TagMapper extends _common_CaseInsensitiveTagMap_js__WEBPACK_IMPORTED_MODULE_0__.CaseInsensitiveTagMap {\n    constructor() {\n        super([tagType], mp4TagMap);\n    }\n    postMap(tag, warnings) {\n        switch (tag.id) {\n            case 'rate':\n                tag.value = {\n                    source: undefined,\n                    rating: Number.parseFloat(tag.value) / 100\n                };\n                break;\n        }\n    }\n}\n//# sourceMappingURL=MP4TagMapper.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbXVzaWMtbWV0YWRhdGEvbGliL21wNC9NUDRUYWdNYXBwZXIuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQTJFO0FBQzNFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDQSwyQkFBMkIsbUZBQXFCO0FBQ3ZEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2RldmVsZXZhdGUvLi9ub2RlX21vZHVsZXMvbXVzaWMtbWV0YWRhdGEvbGliL21wNC9NUDRUYWdNYXBwZXIuanM/NGQ4MSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBDYXNlSW5zZW5zaXRpdmVUYWdNYXAgfSBmcm9tICcuLi9jb21tb24vQ2FzZUluc2Vuc2l0aXZlVGFnTWFwLmpzJztcbi8qKlxuICogUmVmOiBodHRwczovL2dpdGh1Yi5jb20vc2VyZ2lvbWIyL2xpYm1wNHYyL3dpa2kvaVR1bmVzTWV0YWRhdGFcbiAqL1xuY29uc3QgbXA0VGFnTWFwID0ge1xuICAgICfCqW5hbSc6ICd0aXRsZScsXG4gICAgJ8KpQVJUJzogJ2FydGlzdCcsXG4gICAgYUFSVDogJ2FsYnVtYXJ0aXN0JyxcbiAgICAvKipcbiAgICAgKiBUb0RvOiBBbGJ1bSBhcnRpc3Qgc2VlbXMgdG8gYmUgc3RvcmVkIGhlcmUgd2hpbGUgUGljYXJkIGRvY3VtZW50YXRpb24gc2F5czogYUFSVFxuICAgICAqL1xuICAgICctLS0tOmNvbS5hcHBsZS5pVHVuZXM6QmFuZCc6ICdhbGJ1bWFydGlzdCcsXG4gICAgJ8KpYWxiJzogJ2FsYnVtJyxcbiAgICAnwqlkYXknOiAnZGF0ZScsXG4gICAgJ8KpY210JzogJ2NvbW1lbnQnLFxuICAgICfCqWNvbSc6ICdjb21tZW50JyxcbiAgICB0cmtuOiAndHJhY2snLFxuICAgIGRpc2s6ICdkaXNrJyxcbiAgICAnwqlnZW4nOiAnZ2VucmUnLFxuICAgIGNvdnI6ICdwaWN0dXJlJyxcbiAgICAnwql3cnQnOiAnY29tcG9zZXInLFxuICAgICfCqWx5cic6ICdseXJpY3MnLFxuICAgIHNvYWw6ICdhbGJ1bXNvcnQnLFxuICAgIHNvbm06ICd0aXRsZXNvcnQnLFxuICAgIHNvYXI6ICdhcnRpc3Rzb3J0JyxcbiAgICBzb2FhOiAnYWxidW1hcnRpc3Rzb3J0JyxcbiAgICBzb2NvOiAnY29tcG9zZXJzb3J0JyxcbiAgICAnLS0tLTpjb20uYXBwbGUuaVR1bmVzOkxZUklDSVNUJzogJ2x5cmljaXN0JyxcbiAgICAnLS0tLTpjb20uYXBwbGUuaVR1bmVzOkNPTkRVQ1RPUic6ICdjb25kdWN0b3InLFxuICAgICctLS0tOmNvbS5hcHBsZS5pVHVuZXM6UkVNSVhFUic6ICdyZW1peGVyJyxcbiAgICAnLS0tLTpjb20uYXBwbGUuaVR1bmVzOkVOR0lORUVSJzogJ2VuZ2luZWVyJyxcbiAgICAnLS0tLTpjb20uYXBwbGUuaVR1bmVzOlBST0RVQ0VSJzogJ3Byb2R1Y2VyJyxcbiAgICAnLS0tLTpjb20uYXBwbGUuaVR1bmVzOkRKTUlYRVInOiAnZGptaXhlcicsXG4gICAgJy0tLS06Y29tLmFwcGxlLmlUdW5lczpNSVhFUic6ICdtaXhlcicsXG4gICAgJy0tLS06Y29tLmFwcGxlLmlUdW5lczpMQUJFTCc6ICdsYWJlbCcsXG4gICAgJ8KpZ3JwJzogJ2dyb3VwaW5nJyxcbiAgICAnLS0tLTpjb20uYXBwbGUuaVR1bmVzOlNVQlRJVExFJzogJ3N1YnRpdGxlJyxcbiAgICAnLS0tLTpjb20uYXBwbGUuaVR1bmVzOkRJU0NTVUJUSVRMRSc6ICdkaXNjc3VidGl0bGUnLFxuICAgIGNwaWw6ICdjb21waWxhdGlvbicsXG4gICAgdG1wbzogJ2JwbScsXG4gICAgJy0tLS06Y29tLmFwcGxlLmlUdW5lczpNT09EJzogJ21vb2QnLFxuICAgICctLS0tOmNvbS5hcHBsZS5pVHVuZXM6TUVESUEnOiAnbWVkaWEnLFxuICAgICctLS0tOmNvbS5hcHBsZS5pVHVuZXM6Q0FUQUxPR05VTUJFUic6ICdjYXRhbG9nbnVtYmVyJyxcbiAgICB0dnNoOiAndHZTaG93JyxcbiAgICB0dnNuOiAndHZTZWFzb24nLFxuICAgIHR2ZXM6ICd0dkVwaXNvZGUnLFxuICAgIHNvc246ICd0dlNob3dTb3J0JyxcbiAgICB0dmVuOiAndHZFcGlzb2RlSWQnLFxuICAgIHR2bm46ICd0dk5ldHdvcmsnLFxuICAgIHBjc3Q6ICdwb2RjYXN0JyxcbiAgICBwdXJsOiAncG9kY2FzdHVybCcsXG4gICAgJy0tLS06Y29tLmFwcGxlLmlUdW5lczpNdXNpY0JyYWlueiBBbGJ1bSBTdGF0dXMnOiAncmVsZWFzZXN0YXR1cycsXG4gICAgJy0tLS06Y29tLmFwcGxlLmlUdW5lczpNdXNpY0JyYWlueiBBbGJ1bSBUeXBlJzogJ3JlbGVhc2V0eXBlJyxcbiAgICAnLS0tLTpjb20uYXBwbGUuaVR1bmVzOk11c2ljQnJhaW56IEFsYnVtIFJlbGVhc2UgQ291bnRyeSc6ICdyZWxlYXNlY291bnRyeScsXG4gICAgJy0tLS06Y29tLmFwcGxlLmlUdW5lczpTQ1JJUFQnOiAnc2NyaXB0JyxcbiAgICAnLS0tLTpjb20uYXBwbGUuaVR1bmVzOkxBTkdVQUdFJzogJ2xhbmd1YWdlJyxcbiAgICBjcHJ0OiAnY29weXJpZ2h0JyxcbiAgICAnwqljcHknOiAnY29weXJpZ2h0JyxcbiAgICAnLS0tLTpjb20uYXBwbGUuaVR1bmVzOkxJQ0VOU0UnOiAnbGljZW5zZScsXG4gICAgJ8KpdG9vJzogJ2VuY29kZWRieScsXG4gICAgcGdhcDogJ2dhcGxlc3MnLFxuICAgICctLS0tOmNvbS5hcHBsZS5pVHVuZXM6QkFSQ09ERSc6ICdiYXJjb2RlJyxcbiAgICAnLS0tLTpjb20uYXBwbGUuaVR1bmVzOklTUkMnOiAnaXNyYycsXG4gICAgJy0tLS06Y29tLmFwcGxlLmlUdW5lczpBU0lOJzogJ2FzaW4nLFxuICAgICctLS0tOmNvbS5hcHBsZS5pVHVuZXM6Tk9URVMnOiAnY29tbWVudCcsXG4gICAgJy0tLS06Y29tLmFwcGxlLmlUdW5lczpNdXNpY0JyYWlueiBUcmFjayBJZCc6ICdtdXNpY2JyYWluel9yZWNvcmRpbmdpZCcsXG4gICAgJy0tLS06Y29tLmFwcGxlLmlUdW5lczpNdXNpY0JyYWlueiBSZWxlYXNlIFRyYWNrIElkJzogJ211c2ljYnJhaW56X3RyYWNraWQnLFxuICAgICctLS0tOmNvbS5hcHBsZS5pVHVuZXM6TXVzaWNCcmFpbnogQWxidW0gSWQnOiAnbXVzaWNicmFpbnpfYWxidW1pZCcsXG4gICAgJy0tLS06Y29tLmFwcGxlLmlUdW5lczpNdXNpY0JyYWlueiBBcnRpc3QgSWQnOiAnbXVzaWNicmFpbnpfYXJ0aXN0aWQnLFxuICAgICctLS0tOmNvbS5hcHBsZS5pVHVuZXM6TXVzaWNCcmFpbnogQWxidW0gQXJ0aXN0IElkJzogJ211c2ljYnJhaW56X2FsYnVtYXJ0aXN0aWQnLFxuICAgICctLS0tOmNvbS5hcHBsZS5pVHVuZXM6TXVzaWNCcmFpbnogUmVsZWFzZSBHcm91cCBJZCc6ICdtdXNpY2JyYWluel9yZWxlYXNlZ3JvdXBpZCcsXG4gICAgJy0tLS06Y29tLmFwcGxlLmlUdW5lczpNdXNpY0JyYWlueiBXb3JrIElkJzogJ211c2ljYnJhaW56X3dvcmtpZCcsXG4gICAgJy0tLS06Y29tLmFwcGxlLmlUdW5lczpNdXNpY0JyYWlueiBUUk0gSWQnOiAnbXVzaWNicmFpbnpfdHJtaWQnLFxuICAgICctLS0tOmNvbS5hcHBsZS5pVHVuZXM6TXVzaWNCcmFpbnogRGlzYyBJZCc6ICdtdXNpY2JyYWluel9kaXNjaWQnLFxuICAgICctLS0tOmNvbS5hcHBsZS5pVHVuZXM6QWNvdXN0aWQgSWQnOiAnYWNvdXN0aWRfaWQnLFxuICAgICctLS0tOmNvbS5hcHBsZS5pVHVuZXM6QWNvdXN0aWQgRmluZ2VycHJpbnQnOiAnYWNvdXN0aWRfZmluZ2VycHJpbnQnLFxuICAgICctLS0tOmNvbS5hcHBsZS5pVHVuZXM6TXVzaWNJUCBQVUlEJzogJ211c2ljaXBfcHVpZCcsXG4gICAgJy0tLS06Y29tLmFwcGxlLmlUdW5lczpmaW5nZXJwcmludCc6ICdtdXNpY2lwX2ZpbmdlcnByaW50JyxcbiAgICAnLS0tLTpjb20uYXBwbGUuaVR1bmVzOnJlcGxheWdhaW5fdHJhY2tfZ2Fpbic6ICdyZXBsYXlnYWluX3RyYWNrX2dhaW4nLFxuICAgICctLS0tOmNvbS5hcHBsZS5pVHVuZXM6cmVwbGF5Z2Fpbl90cmFja19wZWFrJzogJ3JlcGxheWdhaW5fdHJhY2tfcGVhaycsXG4gICAgJy0tLS06Y29tLmFwcGxlLmlUdW5lczpyZXBsYXlnYWluX2FsYnVtX2dhaW4nOiAncmVwbGF5Z2Fpbl9hbGJ1bV9nYWluJyxcbiAgICAnLS0tLTpjb20uYXBwbGUuaVR1bmVzOnJlcGxheWdhaW5fYWxidW1fcGVhayc6ICdyZXBsYXlnYWluX2FsYnVtX3BlYWsnLFxuICAgICctLS0tOmNvbS5hcHBsZS5pVHVuZXM6cmVwbGF5Z2Fpbl90cmFja19taW5tYXgnOiAncmVwbGF5Z2Fpbl90cmFja19taW5tYXgnLFxuICAgICctLS0tOmNvbS5hcHBsZS5pVHVuZXM6cmVwbGF5Z2Fpbl9hbGJ1bV9taW5tYXgnOiAncmVwbGF5Z2Fpbl9hbGJ1bV9taW5tYXgnLFxuICAgICctLS0tOmNvbS5hcHBsZS5pVHVuZXM6cmVwbGF5Z2Fpbl91bmRvJzogJ3JlcGxheWdhaW5fdW5kbycsXG4gICAgLy8gQWRkaXRpb25hbCBtYXBwaW5nczpcbiAgICBnbnJlOiAnZ2VucmUnLCAvLyBUb0RvOiBjaGVjayBtYXBwaW5nXG4gICAgJy0tLS06Y29tLmFwcGxlLmlUdW5lczpBTEJVTUFSVElTVFNPUlQnOiAnYWxidW1hcnRpc3Rzb3J0JyxcbiAgICAnLS0tLTpjb20uYXBwbGUuaVR1bmVzOkFSVElTVFMnOiAnYXJ0aXN0cycsXG4gICAgJy0tLS06Y29tLmFwcGxlLmlUdW5lczpPUklHSU5BTERBVEUnOiAnb3JpZ2luYWxkYXRlJyxcbiAgICAnLS0tLTpjb20uYXBwbGUuaVR1bmVzOk9SSUdJTkFMWUVBUic6ICdvcmlnaW5hbHllYXInLFxuICAgICctLS0tOmNvbS5hcHBsZS5pVHVuZXM6UkVMRUFTRURBVEUnOiAncmVsZWFzZWRhdGUnLFxuICAgIC8vICctLS0tOmNvbS5hcHBsZS5pVHVuZXM6UEVSRk9STUVSJzogJ3BlcmZvcm1lcidcbiAgICBkZXNjOiAnZGVzY3JpcHRpb24nLFxuICAgIGxkZXM6ICdsb25nRGVzY3JpcHRpb24nLFxuICAgICfCqW12bic6ICdtb3ZlbWVudCcsXG4gICAgJ8KpbXZpJzogJ21vdmVtZW50SW5kZXgnLFxuICAgICfCqW12Yyc6ICdtb3ZlbWVudFRvdGFsJyxcbiAgICAnwql3cmsnOiAnd29yaycsXG4gICAgY2F0ZzogJ2NhdGVnb3J5JyxcbiAgICBlZ2lkOiAncG9kY2FzdElkJyxcbiAgICBoZHZkOiAnaGRWaWRlbycsXG4gICAga2V5dzogJ2tleXdvcmRzJyxcbiAgICBzaHdtOiAnc2hvd01vdmVtZW50JyxcbiAgICBzdGlrOiAnc3RpaycsXG4gICAgcmF0ZTogJ3JhdGluZydcbn07XG5leHBvcnQgY29uc3QgdGFnVHlwZSA9ICdpVHVuZXMnO1xuZXhwb3J0IGNsYXNzIE1QNFRhZ01hcHBlciBleHRlbmRzIENhc2VJbnNlbnNpdGl2ZVRhZ01hcCB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKFt0YWdUeXBlXSwgbXA0VGFnTWFwKTtcbiAgICB9XG4gICAgcG9zdE1hcCh0YWcsIHdhcm5pbmdzKSB7XG4gICAgICAgIHN3aXRjaCAodGFnLmlkKSB7XG4gICAgICAgICAgICBjYXNlICdyYXRlJzpcbiAgICAgICAgICAgICAgICB0YWcudmFsdWUgPSB7XG4gICAgICAgICAgICAgICAgICAgIHNvdXJjZTogdW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgICAgICByYXRpbmc6IE51bWJlci5wYXJzZUZsb2F0KHRhZy52YWx1ZSkgLyAxMDBcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9TVA0VGFnTWFwcGVyLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/music-metadata/lib/mp4/MP4TagMapper.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/music-metadata/lib/mpeg/ExtendedLameHeader.js":
/*!********************************************************************!*\
  !*** ./node_modules/music-metadata/lib/mpeg/ExtendedLameHeader.js ***!
  \********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ExtendedLameHeader: () => (/* binding */ ExtendedLameHeader)\n/* harmony export */ });\n/* harmony import */ var token_types__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! token-types */ \"(ssr)/./node_modules/token-types/lib/index.js\");\n/* harmony import */ var _common_Util_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../common/Util.js */ \"(ssr)/./node_modules/music-metadata/lib/common/Util.js\");\n/* harmony import */ var _ReplayGainDataFormat_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./ReplayGainDataFormat.js */ \"(ssr)/./node_modules/music-metadata/lib/mpeg/ReplayGainDataFormat.js\");\n/**\n * Extended Lame Header\n */\n\n\n\n/**\n * Info Tag\n * @link http://gabriel.mp3-tech.org/mp3infotag.html\n * @link https://github.com/quodlibet/mutagen/blob/abd58ee58772224334a18817c3fb31103572f70e/mutagen/mp3/_util.py#L112\n */\nconst ExtendedLameHeader = {\n    len: 27,\n    get: (buf, off) => {\n        const track_peak = token_types__WEBPACK_IMPORTED_MODULE_0__.UINT32_BE.get(buf, off + 2);\n        return {\n            revision: _common_Util_js__WEBPACK_IMPORTED_MODULE_1__.getBitAllignedNumber(buf, off, 0, 4),\n            vbr_method: _common_Util_js__WEBPACK_IMPORTED_MODULE_1__.getBitAllignedNumber(buf, off, 4, 4),\n            lowpass_filter: 100 * token_types__WEBPACK_IMPORTED_MODULE_0__.UINT8.get(buf, off + 1),\n            track_peak: track_peak === 0 ? null : track_peak / 2 ** 23,\n            track_gain: _ReplayGainDataFormat_js__WEBPACK_IMPORTED_MODULE_2__.ReplayGain.get(buf, 6),\n            album_gain: _ReplayGainDataFormat_js__WEBPACK_IMPORTED_MODULE_2__.ReplayGain.get(buf, 8),\n            music_length: token_types__WEBPACK_IMPORTED_MODULE_0__.UINT32_BE.get(buf, off + 20),\n            music_crc: token_types__WEBPACK_IMPORTED_MODULE_0__.UINT8.get(buf, off + 24),\n            header_crc: token_types__WEBPACK_IMPORTED_MODULE_0__.UINT16_BE.get(buf, off + 24)\n        };\n    }\n};\n//# sourceMappingURL=ExtendedLameHeader.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbXVzaWMtbWV0YWRhdGEvbGliL21wZWcvRXh0ZW5kZWRMYW1lSGVhZGVyLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDcUM7QUFDTztBQUNXO0FBQ3ZEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQSwyQkFBMkIsa0RBQWU7QUFDMUM7QUFDQSxzQkFBc0IsaUVBQTJCO0FBQ2pELHdCQUF3QixpRUFBMkI7QUFDbkQsa0NBQWtDLDhDQUFXO0FBQzdDO0FBQ0Esd0JBQXdCLGdFQUFVO0FBQ2xDLHdCQUF3QixnRUFBVTtBQUNsQywwQkFBMEIsa0RBQWU7QUFDekMsdUJBQXVCLDhDQUFXO0FBQ2xDLHdCQUF3QixrREFBZTtBQUN2QztBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2RldmVsZXZhdGUvLi9ub2RlX21vZHVsZXMvbXVzaWMtbWV0YWRhdGEvbGliL21wZWcvRXh0ZW5kZWRMYW1lSGVhZGVyLmpzPzVmZDgiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBFeHRlbmRlZCBMYW1lIEhlYWRlclxuICovXG5pbXBvcnQgKiBhcyBUb2tlbiBmcm9tICd0b2tlbi10eXBlcyc7XG5pbXBvcnQgKiBhcyBjb21tb24gZnJvbSAnLi4vY29tbW9uL1V0aWwuanMnO1xuaW1wb3J0IHsgUmVwbGF5R2FpbiB9IGZyb20gJy4vUmVwbGF5R2FpbkRhdGFGb3JtYXQuanMnO1xuLyoqXG4gKiBJbmZvIFRhZ1xuICogQGxpbmsgaHR0cDovL2dhYnJpZWwubXAzLXRlY2gub3JnL21wM2luZm90YWcuaHRtbFxuICogQGxpbmsgaHR0cHM6Ly9naXRodWIuY29tL3F1b2RsaWJldC9tdXRhZ2VuL2Jsb2IvYWJkNThlZTU4NzcyMjI0MzM0YTE4ODE3YzNmYjMxMTAzNTcyZjcwZS9tdXRhZ2VuL21wMy9fdXRpbC5weSNMMTEyXG4gKi9cbmV4cG9ydCBjb25zdCBFeHRlbmRlZExhbWVIZWFkZXIgPSB7XG4gICAgbGVuOiAyNyxcbiAgICBnZXQ6IChidWYsIG9mZikgPT4ge1xuICAgICAgICBjb25zdCB0cmFja19wZWFrID0gVG9rZW4uVUlOVDMyX0JFLmdldChidWYsIG9mZiArIDIpO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgcmV2aXNpb246IGNvbW1vbi5nZXRCaXRBbGxpZ25lZE51bWJlcihidWYsIG9mZiwgMCwgNCksXG4gICAgICAgICAgICB2YnJfbWV0aG9kOiBjb21tb24uZ2V0Qml0QWxsaWduZWROdW1iZXIoYnVmLCBvZmYsIDQsIDQpLFxuICAgICAgICAgICAgbG93cGFzc19maWx0ZXI6IDEwMCAqIFRva2VuLlVJTlQ4LmdldChidWYsIG9mZiArIDEpLFxuICAgICAgICAgICAgdHJhY2tfcGVhazogdHJhY2tfcGVhayA9PT0gMCA/IG51bGwgOiB0cmFja19wZWFrIC8gMiAqKiAyMyxcbiAgICAgICAgICAgIHRyYWNrX2dhaW46IFJlcGxheUdhaW4uZ2V0KGJ1ZiwgNiksXG4gICAgICAgICAgICBhbGJ1bV9nYWluOiBSZXBsYXlHYWluLmdldChidWYsIDgpLFxuICAgICAgICAgICAgbXVzaWNfbGVuZ3RoOiBUb2tlbi5VSU5UMzJfQkUuZ2V0KGJ1Ziwgb2ZmICsgMjApLFxuICAgICAgICAgICAgbXVzaWNfY3JjOiBUb2tlbi5VSU5UOC5nZXQoYnVmLCBvZmYgKyAyNCksXG4gICAgICAgICAgICBoZWFkZXJfY3JjOiBUb2tlbi5VSU5UMTZfQkUuZ2V0KGJ1Ziwgb2ZmICsgMjQpXG4gICAgICAgIH07XG4gICAgfVxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUV4dGVuZGVkTGFtZUhlYWRlci5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/music-metadata/lib/mpeg/ExtendedLameHeader.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/music-metadata/lib/mpeg/MpegParser.js":
/*!************************************************************!*\
  !*** ./node_modules/music-metadata/lib/mpeg/MpegParser.js ***!
  \************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   MpegParser: () => (/* binding */ MpegParser)\n/* harmony export */ });\n/* harmony import */ var token_types__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! token-types */ \"(ssr)/./node_modules/token-types/lib/index.js\");\n/* harmony import */ var strtok3__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! strtok3 */ \"(ssr)/./node_modules/strtok3/lib/index.js\");\n/* harmony import */ var debug__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! debug */ \"(ssr)/./node_modules/debug/src/index.js\");\n/* harmony import */ var _common_Util_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../common/Util.js */ \"(ssr)/./node_modules/music-metadata/lib/common/Util.js\");\n/* harmony import */ var _id3v2_AbstractID3Parser_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../id3v2/AbstractID3Parser.js */ \"(ssr)/./node_modules/music-metadata/lib/id3v2/AbstractID3Parser.js\");\n/* harmony import */ var _XingTag_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./XingTag.js */ \"(ssr)/./node_modules/music-metadata/lib/mpeg/XingTag.js\");\n\n\n\n\n\n\nconst debug = debug__WEBPACK_IMPORTED_MODULE_2__('music-metadata:parser:mpeg');\n/**\n * Cache buffer size used for searching synchronization preabmle\n */\nconst maxPeekLen = 1024;\n/**\n * MPEG-4 Audio definitions\n * Ref:  https://wiki.multimedia.cx/index.php/MPEG-4_Audio\n */\nconst MPEG4 = {\n    /**\n     * Audio Object Types\n     */\n    AudioObjectTypes: [\n        'AAC Main',\n        'AAC LC', // Low Complexity\n        'AAC SSR', // Scalable Sample Rate\n        'AAC LTP' // Long Term Prediction\n    ],\n    /**\n     * Sampling Frequencies\n     * https://wiki.multimedia.cx/index.php/MPEG-4_Audio#Sampling_Frequencies\n     */\n    SamplingFrequencies: [\n        96000, 88200, 64000, 48000, 44100, 32000, 24000, 22050, 16000, 12000, 11025, 8000, 7350, null, null, -1\n    ]\n    /**\n     * Channel Configurations\n     */\n};\nconst MPEG4_ChannelConfigurations = [\n    undefined,\n    ['front-center'],\n    ['front-left', 'front-right'],\n    ['front-center', 'front-left', 'front-right'],\n    ['front-center', 'front-left', 'front-right', 'back-center'],\n    ['front-center', 'front-left', 'front-right', 'back-left', 'back-right'],\n    ['front-center', 'front-left', 'front-right', 'back-left', 'back-right', 'LFE-channel'],\n    ['front-center', 'front-left', 'front-right', 'side-left', 'side-right', 'back-left', 'back-right', 'LFE-channel']\n];\n/**\n * MPEG Audio Layer I/II/III frame header\n * Ref: https://www.mp3-tech.org/programmer/frame_header.html\n * Bit layout: AAAAAAAA AAABBCCD EEEEFFGH IIJJKLMM\n * Ref: https://wiki.multimedia.cx/index.php/ADTS\n */\nclass MpegFrameHeader {\n    constructor(buf, off) {\n        // E(15,12): Bitrate index\n        this.bitrateIndex = null;\n        // F(11,10): Sampling rate frequency index\n        this.sampRateFreqIndex = null;\n        // G(9): Padding bit\n        this.padding = null;\n        // H(8): Private bit\n        this.privateBit = null;\n        // I(7,6): Channel Mode\n        this.channelModeIndex = null;\n        // J(5,4): Mode extension (Only used in Joint stereo)\n        this.modeExtension = null;\n        // L(2): Original\n        this.isOriginalMedia = null;\n        this.version = null;\n        this.bitrate = null;\n        this.samplingRate = null;\n        this.frameLength = 0;\n        // B(20,19): MPEG Audio versionIndex ID\n        this.versionIndex = _common_Util_js__WEBPACK_IMPORTED_MODULE_3__.getBitAllignedNumber(buf, off + 1, 3, 2);\n        // C(18,17): Layer description\n        this.layer = MpegFrameHeader.LayerDescription[_common_Util_js__WEBPACK_IMPORTED_MODULE_3__.getBitAllignedNumber(buf, off + 1, 5, 2)];\n        if (this.versionIndex > 1 && this.layer === 0) {\n            this.parseAdtsHeader(buf, off); // Audio Data Transport Stream (ADTS)\n        }\n        else {\n            this.parseMpegHeader(buf, off); // Conventional MPEG header\n        }\n        // D(16): Protection bit (if true 16-bit CRC follows header)\n        this.isProtectedByCRC = !_common_Util_js__WEBPACK_IMPORTED_MODULE_3__.isBitSet(buf, off + 1, 7);\n    }\n    calcDuration(numFrames) {\n        return this.samplingRate == null ? null : (numFrames * this.calcSamplesPerFrame() / this.samplingRate);\n    }\n    calcSamplesPerFrame() {\n        return MpegFrameHeader.samplesInFrameTable[this.version === 1 ? 0 : 1][this.layer];\n    }\n    calculateSideInfoLength() {\n        if (this.layer !== 3)\n            return 2;\n        if (this.channelModeIndex === 3) {\n            // mono\n            if (this.version === 1) {\n                return 17;\n            }\n            if (this.version === 2 || this.version === 2.5) {\n                return 9;\n            }\n        }\n        else {\n            if (this.version === 1) {\n                return 32;\n            }\n            if (this.version === 2 || this.version === 2.5) {\n                return 17;\n            }\n        }\n        return null;\n    }\n    calcSlotSize() {\n        return [null, 4, 1, 1][this.layer];\n    }\n    parseMpegHeader(buf, off) {\n        this.container = 'MPEG';\n        // E(15,12): Bitrate index\n        this.bitrateIndex = _common_Util_js__WEBPACK_IMPORTED_MODULE_3__.getBitAllignedNumber(buf, off + 2, 0, 4);\n        // F(11,10): Sampling rate frequency index\n        this.sampRateFreqIndex = _common_Util_js__WEBPACK_IMPORTED_MODULE_3__.getBitAllignedNumber(buf, off + 2, 4, 2);\n        // G(9): Padding bit\n        this.padding = _common_Util_js__WEBPACK_IMPORTED_MODULE_3__.isBitSet(buf, off + 2, 6);\n        // H(8): Private bit\n        this.privateBit = _common_Util_js__WEBPACK_IMPORTED_MODULE_3__.isBitSet(buf, off + 2, 7);\n        // I(7,6): Channel Mode\n        this.channelModeIndex = _common_Util_js__WEBPACK_IMPORTED_MODULE_3__.getBitAllignedNumber(buf, off + 3, 0, 2);\n        // J(5,4): Mode extension (Only used in Joint stereo)\n        this.modeExtension = _common_Util_js__WEBPACK_IMPORTED_MODULE_3__.getBitAllignedNumber(buf, off + 3, 2, 2);\n        // K(3): Copyright\n        this.isCopyrighted = _common_Util_js__WEBPACK_IMPORTED_MODULE_3__.isBitSet(buf, off + 3, 4);\n        // L(2): Original\n        this.isOriginalMedia = _common_Util_js__WEBPACK_IMPORTED_MODULE_3__.isBitSet(buf, off + 3, 5);\n        // M(3): The original bit indicates, if it is set, that the frame is located on its original media.\n        this.emphasis = _common_Util_js__WEBPACK_IMPORTED_MODULE_3__.getBitAllignedNumber(buf, off + 3, 7, 2);\n        this.version = MpegFrameHeader.VersionID[this.versionIndex];\n        this.channelMode = MpegFrameHeader.ChannelMode[this.channelModeIndex];\n        this.codec = `MPEG ${this.version} Layer ${this.layer}`;\n        // Calculate bitrate\n        const bitrateInKbps = this.calcBitrate();\n        if (!bitrateInKbps) {\n            throw new Error('Cannot determine bit-rate');\n        }\n        this.bitrate = bitrateInKbps * 1000;\n        // Calculate sampling rate\n        this.samplingRate = this.calcSamplingRate();\n        if (this.samplingRate == null) {\n            throw new Error('Cannot determine sampling-rate');\n        }\n    }\n    parseAdtsHeader(buf, off) {\n        debug(\"layer=0 => ADTS\");\n        this.version = this.versionIndex === 2 ? 4 : 2;\n        this.container = `ADTS/MPEG-${this.version}`;\n        const profileIndex = _common_Util_js__WEBPACK_IMPORTED_MODULE_3__.getBitAllignedNumber(buf, off + 2, 0, 2);\n        this.codec = 'AAC';\n        this.codecProfile = MPEG4.AudioObjectTypes[profileIndex];\n        debug(`MPEG-4 audio-codec=${this.codec}`);\n        const samplingFrequencyIndex = _common_Util_js__WEBPACK_IMPORTED_MODULE_3__.getBitAllignedNumber(buf, off + 2, 2, 4);\n        this.samplingRate = MPEG4.SamplingFrequencies[samplingFrequencyIndex];\n        debug(`sampling-rate=${this.samplingRate}`);\n        const channelIndex = _common_Util_js__WEBPACK_IMPORTED_MODULE_3__.getBitAllignedNumber(buf, off + 2, 7, 3);\n        this.mp4ChannelConfig = MPEG4_ChannelConfigurations[channelIndex];\n        debug(`channel-config=${this.mp4ChannelConfig ? this.mp4ChannelConfig.join('+') : '?'}`);\n        this.frameLength = _common_Util_js__WEBPACK_IMPORTED_MODULE_3__.getBitAllignedNumber(buf, off + 3, 6, 2) << 11;\n    }\n    calcBitrate() {\n        if (this.bitrateIndex === 0x00 || // free\n            this.bitrateIndex === 0x0F) { // reserved\n            return null;\n        }\n        if (this.version && this.bitrateIndex) {\n            const codecIndex = 10 * Math.floor(this.version) + this.layer;\n            return MpegFrameHeader.bitrate_index[this.bitrateIndex][codecIndex];\n        }\n        return null;\n    }\n    calcSamplingRate() {\n        if (this.sampRateFreqIndex === 0x03 || this.version === null || this.sampRateFreqIndex == null)\n            return null; // 'reserved'\n        return MpegFrameHeader.sampling_rate_freq_index[this.version][this.sampRateFreqIndex];\n    }\n}\nMpegFrameHeader.SyncByte1 = 0xFF;\nMpegFrameHeader.SyncByte2 = 0xE0;\nMpegFrameHeader.VersionID = [2.5, null, 2, 1];\nMpegFrameHeader.LayerDescription = [0, 3, 2, 1];\nMpegFrameHeader.ChannelMode = ['stereo', 'joint_stereo', 'dual_channel', 'mono'];\nMpegFrameHeader.bitrate_index = {\n    1: { 11: 32, 12: 32, 13: 32, 21: 32, 22: 8, 23: 8 },\n    2: { 11: 64, 12: 48, 13: 40, 21: 48, 22: 16, 23: 16 },\n    3: { 11: 96, 12: 56, 13: 48, 21: 56, 22: 24, 23: 24 },\n    4: { 11: 128, 12: 64, 13: 56, 21: 64, 22: 32, 23: 32 },\n    5: { 11: 160, 12: 80, 13: 64, 21: 80, 22: 40, 23: 40 },\n    6: { 11: 192, 12: 96, 13: 80, 21: 96, 22: 48, 23: 48 },\n    7: { 11: 224, 12: 112, 13: 96, 21: 112, 22: 56, 23: 56 },\n    8: { 11: 256, 12: 128, 13: 112, 21: 128, 22: 64, 23: 64 },\n    9: { 11: 288, 12: 160, 13: 128, 21: 144, 22: 80, 23: 80 },\n    10: { 11: 320, 12: 192, 13: 160, 21: 160, 22: 96, 23: 96 },\n    11: { 11: 352, 12: 224, 13: 192, 21: 176, 22: 112, 23: 112 },\n    12: { 11: 384, 12: 256, 13: 224, 21: 192, 22: 128, 23: 128 },\n    13: { 11: 416, 12: 320, 13: 256, 21: 224, 22: 144, 23: 144 },\n    14: { 11: 448, 12: 384, 13: 320, 21: 256, 22: 160, 23: 160 }\n};\nMpegFrameHeader.sampling_rate_freq_index = {\n    1: { 0: 44100, 1: 48000, 2: 32000 },\n    2: { 0: 22050, 1: 24000, 2: 16000 },\n    2.5: { 0: 11025, 1: 12000, 2: 8000 }\n};\nMpegFrameHeader.samplesInFrameTable = [\n    /* Layer   I    II   III */\n    [0, 384, 1152, 1152], // MPEG-1\n    [0, 384, 1152, 576] // MPEG-2(.5\n];\n/**\n * MPEG Audio Layer I/II/III\n */\nconst FrameHeader = {\n    len: 4,\n    get: (buf, off) => {\n        return new MpegFrameHeader(buf, off);\n    }\n};\nfunction getVbrCodecProfile(vbrScale) {\n    return `V${Math.floor((100 - vbrScale) / 10)}`;\n}\nclass MpegParser extends _id3v2_AbstractID3Parser_js__WEBPACK_IMPORTED_MODULE_4__.AbstractID3Parser {\n    constructor() {\n        super(...arguments);\n        this.frameCount = 0;\n        this.syncFrameCount = -1;\n        this.countSkipFrameData = 0;\n        this.totalDataLength = 0;\n        this.bitrates = [];\n        this.offset = 0;\n        this.frame_size = 0;\n        this.crc = null;\n        this.calculateEofDuration = false;\n        this.samplesPerFrame = null;\n        this.buf_frame_header = new Uint8Array(4);\n        /**\n         * Number of bytes already parsed since beginning of stream / file\n         */\n        this.mpegOffset = null;\n        this.syncPeek = {\n            buf: new Uint8Array(maxPeekLen),\n            len: 0\n        };\n    }\n    /**\n     * Called after ID3 headers have been parsed\n     */\n    async postId3v2Parse() {\n        this.metadata.setFormat('lossless', false);\n        try {\n            let quit = false;\n            while (!quit) {\n                await this.sync();\n                quit = await this.parseCommonMpegHeader();\n            }\n        }\n        catch (err) {\n            if (err instanceof strtok3__WEBPACK_IMPORTED_MODULE_1__.EndOfStreamError) {\n                debug(\"End-of-stream\");\n                if (this.calculateEofDuration) {\n                    if (this.samplesPerFrame !== null) {\n                        const numberOfSamples = this.frameCount * this.samplesPerFrame;\n                        this.metadata.setFormat('numberOfSamples', numberOfSamples);\n                        if (this.metadata.format.sampleRate) {\n                            const duration = numberOfSamples / this.metadata.format.sampleRate;\n                            debug(`Calculate duration at EOF: ${duration} sec.`, duration);\n                            this.metadata.setFormat('duration', duration);\n                        }\n                    }\n                }\n            }\n            else {\n                throw err;\n            }\n        }\n    }\n    /**\n     * Called after file has been fully parsed, this allows, if present, to exclude the ID3v1.1 header length\n     */\n    finalize() {\n        const format = this.metadata.format;\n        const hasID3v1 = !!this.metadata.native.ID3v1;\n        if (this.mpegOffset !== null) {\n            if (format.duration && this.tokenizer.fileInfo.size) {\n                const mpegSize = this.tokenizer.fileInfo.size - this.mpegOffset - (hasID3v1 ? 128 : 0);\n                if (format.codecProfile && format.codecProfile[0] === 'V') {\n                    this.metadata.setFormat('bitrate', mpegSize * 8 / format.duration);\n                }\n            }\n            else if (this.tokenizer.fileInfo.size && format.codecProfile === 'CBR') {\n                const mpegSize = this.tokenizer.fileInfo.size - this.mpegOffset - (hasID3v1 ? 128 : 0);\n                if (this.frame_size !== null && this.samplesPerFrame !== null) {\n                    const numberOfSamples = Math.round(mpegSize / this.frame_size) * this.samplesPerFrame;\n                    this.metadata.setFormat('numberOfSamples', numberOfSamples);\n                    if (format.sampleRate) {\n                        const duration = numberOfSamples / format.sampleRate;\n                        debug(\"Calculate CBR duration based on file size: %s\", duration);\n                        this.metadata.setFormat('duration', duration);\n                    }\n                }\n            }\n        }\n    }\n    async sync() {\n        let gotFirstSync = false;\n        while (true) {\n            let bo = 0;\n            this.syncPeek.len = await this.tokenizer.peekBuffer(this.syncPeek.buf, { length: maxPeekLen, mayBeLess: true });\n            if (this.syncPeek.len <= 163) {\n                throw new strtok3__WEBPACK_IMPORTED_MODULE_1__.EndOfStreamError();\n            }\n            while (true) {\n                if (gotFirstSync && (this.syncPeek.buf[bo] & 0xE0) === 0xE0) {\n                    this.buf_frame_header[0] = MpegFrameHeader.SyncByte1;\n                    this.buf_frame_header[1] = this.syncPeek.buf[bo];\n                    await this.tokenizer.ignore(bo);\n                    debug(`Sync at offset=${this.tokenizer.position - 1}, frameCount=${this.frameCount}`);\n                    if (this.syncFrameCount === this.frameCount) {\n                        debug(`Re-synced MPEG stream, frameCount=${this.frameCount}`);\n                        this.frameCount = 0;\n                        this.frame_size = 0;\n                    }\n                    this.syncFrameCount = this.frameCount;\n                    return; // sync\n                }\n                gotFirstSync = false;\n                bo = this.syncPeek.buf.indexOf(MpegFrameHeader.SyncByte1, bo);\n                if (bo === -1) {\n                    if (this.syncPeek.len < this.syncPeek.buf.length) {\n                        throw new strtok3__WEBPACK_IMPORTED_MODULE_1__.EndOfStreamError();\n                    }\n                    await this.tokenizer.ignore(this.syncPeek.len);\n                    break; // continue with next buffer\n                }\n                ++bo;\n                gotFirstSync = true;\n            }\n        }\n    }\n    /**\n     * Combined ADTS & MPEG (MP2 & MP3) header handling\n     * @return {Promise<boolean>} true if parser should quit\n     */\n    async parseCommonMpegHeader() {\n        if (this.frameCount === 0) {\n            this.mpegOffset = this.tokenizer.position - 1;\n        }\n        await this.tokenizer.peekBuffer(this.buf_frame_header, { offset: 1, length: 3 });\n        let header;\n        try {\n            header = FrameHeader.get(this.buf_frame_header, 0);\n        }\n        catch (err) {\n            await this.tokenizer.ignore(1);\n            if (err instanceof Error) {\n                this.metadata.addWarning(`Parse error: ${err.message}`);\n                return false; // sync\n            }\n            throw err;\n        }\n        await this.tokenizer.ignore(3);\n        this.metadata.setFormat('container', header.container);\n        this.metadata.setFormat('codec', header.codec);\n        this.metadata.setFormat('lossless', false);\n        this.metadata.setFormat('sampleRate', header.samplingRate);\n        this.frameCount++;\n        return header.version !== null && header.version >= 2 && header.layer === 0 ? this.parseAdts(header) : this.parseAudioFrameHeader(header);\n    }\n    /**\n     * @return {Promise<boolean>} true if parser should quit\n     */\n    async parseAudioFrameHeader(header) {\n        this.metadata.setFormat('numberOfChannels', header.channelMode === 'mono' ? 1 : 2);\n        this.metadata.setFormat('bitrate', header.bitrate);\n        if (this.frameCount < 20 * 10000) {\n            debug('offset=%s MP%s bitrate=%s sample-rate=%s', this.tokenizer.position - 4, header.layer, header.bitrate, header.samplingRate);\n        }\n        const slot_size = header.calcSlotSize();\n        if (slot_size === null) {\n            throw new Error('invalid slot_size');\n        }\n        const samples_per_frame = header.calcSamplesPerFrame();\n        debug(`samples_per_frame=${samples_per_frame}`);\n        const bps = samples_per_frame / 8.0;\n        if (header.bitrate !== null && header.samplingRate != null) {\n            const fsize = (bps * header.bitrate / header.samplingRate) + ((header.padding) ? slot_size : 0);\n            this.frame_size = Math.floor(fsize);\n        }\n        this.audioFrameHeader = header;\n        if (header.bitrate !== null) {\n            this.bitrates.push(header.bitrate);\n        }\n        // xtra header only exists in first frame\n        if (this.frameCount === 1) {\n            this.offset = FrameHeader.len;\n            await this.skipSideInformation();\n            return false;\n        }\n        if (this.frameCount === 3) {\n            // the stream is CBR if the first 3 frame bitrates are the same\n            if (this.areAllSame(this.bitrates)) {\n                // Actual calculation will be done in finalize\n                this.samplesPerFrame = samples_per_frame;\n                this.metadata.setFormat('codecProfile', 'CBR');\n                if (this.tokenizer.fileInfo.size)\n                    return true; // Will calculate duration based on the file size\n            }\n            else if (this.metadata.format.duration) {\n                return true; // We already got the duration, stop processing MPEG stream any further\n            }\n            if (!this.options.duration) {\n                return true; // Enforce duration not enabled, stop processing entire stream\n            }\n        }\n        // once we know the file is VBR attach listener to end of\n        // stream so we can do the duration calculation when we\n        // have counted all the frames\n        if (this.options.duration && this.frameCount === 4) {\n            this.samplesPerFrame = samples_per_frame;\n            this.calculateEofDuration = true;\n        }\n        this.offset = 4;\n        if (header.isProtectedByCRC) {\n            await this.parseCrc();\n            return false;\n        }\n        await this.skipSideInformation();\n        return false;\n    }\n    async parseAdts(header) {\n        const buf = new Uint8Array(3);\n        await this.tokenizer.readBuffer(buf);\n        header.frameLength += _common_Util_js__WEBPACK_IMPORTED_MODULE_3__.getBitAllignedNumber(buf, 0, 0, 11);\n        this.totalDataLength += header.frameLength;\n        this.samplesPerFrame = 1024;\n        if (header.samplingRate !== null) {\n            const framesPerSec = header.samplingRate / this.samplesPerFrame;\n            const bytesPerFrame = this.frameCount === 0 ? 0 : this.totalDataLength / this.frameCount;\n            const bitrate = 8 * bytesPerFrame * framesPerSec + 0.5;\n            this.metadata.setFormat('bitrate', bitrate);\n            debug(`frame-count=${this.frameCount}, size=${header.frameLength} bytes, bit-rate=${bitrate}`);\n        }\n        await this.tokenizer.ignore(header.frameLength > 7 ? header.frameLength - 7 : 1);\n        // Consume remaining header and frame data\n        if (this.frameCount === 3) {\n            this.metadata.setFormat('codecProfile', header.codecProfile);\n            if (header.mp4ChannelConfig) {\n                this.metadata.setFormat('numberOfChannels', header.mp4ChannelConfig.length);\n            }\n            if (this.options.duration) {\n                this.calculateEofDuration = true;\n            }\n            else {\n                return true; // Stop parsing after the third frame\n            }\n        }\n        return false;\n    }\n    async parseCrc() {\n        this.crc = await this.tokenizer.readNumber(token_types__WEBPACK_IMPORTED_MODULE_0__.INT16_BE);\n        this.offset += 2;\n        return this.skipSideInformation();\n    }\n    async skipSideInformation() {\n        if (this.audioFrameHeader) {\n            const sideinfo_length = this.audioFrameHeader.calculateSideInfoLength();\n            if (sideinfo_length !== null) {\n                await this.tokenizer.readToken(new token_types__WEBPACK_IMPORTED_MODULE_0__.Uint8ArrayType(sideinfo_length));\n                // side information\n                this.offset += sideinfo_length;\n                await this.readXtraInfoHeader();\n                return;\n            }\n        }\n    }\n    async readXtraInfoHeader() {\n        const headerTag = await this.tokenizer.readToken(_XingTag_js__WEBPACK_IMPORTED_MODULE_5__.InfoTagHeaderTag);\n        this.offset += _XingTag_js__WEBPACK_IMPORTED_MODULE_5__.InfoTagHeaderTag.len; // 12\n        switch (headerTag) {\n            case 'Info':\n                this.metadata.setFormat('codecProfile', 'CBR');\n                return this.readXingInfoHeader();\n            case 'Xing': {\n                const infoTag = await this.readXingInfoHeader();\n                if (infoTag.vbrScale !== null) {\n                    const codecProfile = getVbrCodecProfile(infoTag.vbrScale);\n                    this.metadata.setFormat('codecProfile', codecProfile);\n                }\n                return null;\n            }\n            case 'Xtra':\n                // ToDo: ???\n                break;\n            case 'LAME': {\n                const version = await this.tokenizer.readToken(_XingTag_js__WEBPACK_IMPORTED_MODULE_5__.LameEncoderVersion);\n                if (this.frame_size !== null && this.frame_size >= this.offset + _XingTag_js__WEBPACK_IMPORTED_MODULE_5__.LameEncoderVersion.len) {\n                    this.offset += _XingTag_js__WEBPACK_IMPORTED_MODULE_5__.LameEncoderVersion.len;\n                    this.metadata.setFormat('tool', `LAME ${version}`);\n                    await this.skipFrameData(this.frame_size - this.offset);\n                    return null;\n                }\n                this.metadata.addWarning('Corrupt LAME header');\n                break;\n            }\n            // ToDo: ???\n        }\n        // ToDo: promise duration???\n        const frameDataLeft = this.frame_size - this.offset;\n        if (frameDataLeft < 0) {\n            this.metadata.addWarning(`Frame ${this.frameCount}corrupt: negative frameDataLeft`);\n        }\n        else {\n            await this.skipFrameData(frameDataLeft);\n        }\n        return null;\n    }\n    /**\n     * Ref: http://gabriel.mp3-tech.org/mp3infotag.html\n     * @returns {Promise<string>}\n     */\n    async readXingInfoHeader() {\n        const offset = this.tokenizer.position;\n        const infoTag = await (0,_XingTag_js__WEBPACK_IMPORTED_MODULE_5__.readXingHeader)(this.tokenizer);\n        this.offset += this.tokenizer.position - offset;\n        if (infoTag.lame) {\n            this.metadata.setFormat('tool', `LAME ${_common_Util_js__WEBPACK_IMPORTED_MODULE_3__.stripNulls(infoTag.lame.version)}`);\n            if (infoTag.lame.extended) {\n                // this.metadata.setFormat('trackGain', infoTag.lame.extended.track_gain);\n                this.metadata.setFormat('trackPeakLevel', infoTag.lame.extended.track_peak);\n                if (infoTag.lame.extended.track_gain) {\n                    this.metadata.setFormat('trackGain', infoTag.lame.extended.track_gain.adjustment);\n                }\n                if (infoTag.lame.extended.album_gain) {\n                    this.metadata.setFormat('albumGain', infoTag.lame.extended.album_gain.adjustment);\n                }\n                this.metadata.setFormat('duration', infoTag.lame.extended.music_length / 1000);\n            }\n        }\n        if (infoTag.streamSize && this.audioFrameHeader && infoTag.numFrames !== null) {\n            const duration = this.audioFrameHeader.calcDuration(infoTag.numFrames);\n            this.metadata.setFormat('duration', duration);\n            debug('Get duration from Xing header: %s', this.metadata.format.duration);\n            return infoTag;\n        }\n        // frames field is not present\n        const frameDataLeft = this.frame_size - this.offset;\n        await this.skipFrameData(frameDataLeft);\n        return infoTag;\n    }\n    async skipFrameData(frameDataLeft) {\n        if (frameDataLeft < 0)\n            throw new Error('frame-data-left cannot be negative');\n        await this.tokenizer.ignore(frameDataLeft);\n        this.countSkipFrameData += frameDataLeft;\n    }\n    areAllSame(array) {\n        const first = array[0];\n        return array.every(element => {\n            return element === first;\n        });\n    }\n}\n//# sourceMappingURL=MpegParser.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbXVzaWMtbWV0YWRhdGEvbGliL21wZWcvTXBlZ1BhcnNlci5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQXFDO0FBQ007QUFDYjtBQUNjO0FBQ3NCO0FBQ2tCO0FBQ3BGLGNBQWMsa0NBQVM7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLGlFQUEyQjtBQUN2RDtBQUNBLHNEQUFzRCxpRUFBMkI7QUFDakY7QUFDQSw0Q0FBNEM7QUFDNUM7QUFDQTtBQUNBLDRDQUE0QztBQUM1QztBQUNBO0FBQ0EsaUNBQWlDLHFEQUFlO0FBQ2hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIsaUVBQTJCO0FBQ3ZEO0FBQ0EsaUNBQWlDLGlFQUEyQjtBQUM1RDtBQUNBLHVCQUF1QixxREFBZTtBQUN0QztBQUNBLDBCQUEwQixxREFBZTtBQUN6QztBQUNBLGdDQUFnQyxpRUFBMkI7QUFDM0Q7QUFDQSw2QkFBNkIsaUVBQTJCO0FBQ3hEO0FBQ0EsNkJBQTZCLHFEQUFlO0FBQzVDO0FBQ0EsK0JBQStCLHFEQUFlO0FBQzlDO0FBQ0Esd0JBQXdCLGlFQUEyQjtBQUNuRDtBQUNBO0FBQ0EsNkJBQTZCLGNBQWMsUUFBUSxXQUFXO0FBQzlEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNDQUFzQyxhQUFhO0FBQ25ELDZCQUE2QixpRUFBMkI7QUFDeEQ7QUFDQTtBQUNBLG9DQUFvQyxXQUFXO0FBQy9DLHVDQUF1QyxpRUFBMkI7QUFDbEU7QUFDQSwrQkFBK0Isa0JBQWtCO0FBQ2pELDZCQUE2QixpRUFBMkI7QUFDeEQ7QUFDQSxnQ0FBZ0MsOERBQThEO0FBQzlGLDJCQUEyQixpRUFBMkI7QUFDdEQ7QUFDQTtBQUNBO0FBQ0EsMENBQTBDO0FBQzFDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVMsOENBQThDO0FBQ3ZELFNBQVMsZ0RBQWdEO0FBQ3pELFNBQVMsZ0RBQWdEO0FBQ3pELFNBQVMsaURBQWlEO0FBQzFELFNBQVMsaURBQWlEO0FBQzFELFNBQVMsaURBQWlEO0FBQzFELFNBQVMsbURBQW1EO0FBQzVELFNBQVMsb0RBQW9EO0FBQzdELFNBQVMsb0RBQW9EO0FBQzdELFVBQVUsb0RBQW9EO0FBQzlELFVBQVUsc0RBQXNEO0FBQ2hFLFVBQVUsc0RBQXNEO0FBQ2hFLFVBQVUsc0RBQXNEO0FBQ2hFLFVBQVU7QUFDVjtBQUNBO0FBQ0EsU0FBUyw4QkFBOEI7QUFDdkMsU0FBUyw4QkFBOEI7QUFDdkMsV0FBVztBQUNYO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxrQ0FBa0M7QUFDakQ7QUFDTyx5QkFBeUIsMEVBQWlCO0FBQ2pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQkFBK0IscURBQWdCO0FBQy9DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0VBQWdFLFVBQVU7QUFDMUU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFGQUFxRixxQ0FBcUM7QUFDMUg7QUFDQSwwQkFBMEIscURBQWdCO0FBQzFDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRDQUE0Qyw0QkFBNEIsZUFBZSxnQkFBZ0I7QUFDdkc7QUFDQSxtRUFBbUUsZ0JBQWdCO0FBQ25GO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCO0FBQzVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQ0FBa0MscURBQWdCO0FBQ2xEO0FBQ0E7QUFDQSwyQkFBMkI7QUFDM0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixrQkFBa0I7QUFDbEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlFQUFpRSxzQkFBc0I7QUFDdkY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5REFBeUQsWUFBWTtBQUNyRSw4QkFBOEI7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLGtCQUFrQjtBQUNsQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQ0FBbUMsa0JBQWtCO0FBQ3JEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUNBQWlDO0FBQ2pDO0FBQ0E7QUFDQSw2QkFBNkI7QUFDN0I7QUFDQTtBQUNBLDZCQUE2QjtBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOEJBQThCLGlFQUEyQjtBQUN6RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlDQUFpQyxnQkFBZ0IsU0FBUyxvQkFBb0Isa0JBQWtCLFFBQVE7QUFDeEc7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtREFBbUQsaURBQWM7QUFDakU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtREFBbUQsdURBQW9CO0FBQ3ZFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5REFBeUQseURBQWdCO0FBQ3pFLHVCQUF1Qix5REFBZ0IsTUFBTTtBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtEQUErRCwyREFBa0I7QUFDakYsaUZBQWlGLDJEQUFrQjtBQUNuRyxtQ0FBbUMsMkRBQWtCO0FBQ3JELDREQUE0RCxRQUFRO0FBQ3BFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4Q0FBOEMsZ0JBQWdCO0FBQzlEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0EsOEJBQThCLDJEQUFjO0FBQzVDO0FBQ0E7QUFDQSxvREFBb0QsdURBQWlCLHVCQUF1QjtBQUM1RjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZGV2ZWxldmF0ZS8uL25vZGVfbW9kdWxlcy9tdXNpYy1tZXRhZGF0YS9saWIvbXBlZy9NcGVnUGFyc2VyLmpzP2NhNjUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICogYXMgVG9rZW4gZnJvbSAndG9rZW4tdHlwZXMnO1xuaW1wb3J0IHsgRW5kT2ZTdHJlYW1FcnJvciB9IGZyb20gJ3N0cnRvazMnO1xuaW1wb3J0IGluaXREZWJ1ZyBmcm9tICdkZWJ1Zyc7XG5pbXBvcnQgKiBhcyBjb21tb24gZnJvbSAnLi4vY29tbW9uL1V0aWwuanMnO1xuaW1wb3J0IHsgQWJzdHJhY3RJRDNQYXJzZXIgfSBmcm9tICcuLi9pZDN2Mi9BYnN0cmFjdElEM1BhcnNlci5qcyc7XG5pbXBvcnQgeyBJbmZvVGFnSGVhZGVyVGFnLCBMYW1lRW5jb2RlclZlcnNpb24sIHJlYWRYaW5nSGVhZGVyIH0gZnJvbSAnLi9YaW5nVGFnLmpzJztcbmNvbnN0IGRlYnVnID0gaW5pdERlYnVnKCdtdXNpYy1tZXRhZGF0YTpwYXJzZXI6bXBlZycpO1xuLyoqXG4gKiBDYWNoZSBidWZmZXIgc2l6ZSB1c2VkIGZvciBzZWFyY2hpbmcgc3luY2hyb25pemF0aW9uIHByZWFibWxlXG4gKi9cbmNvbnN0IG1heFBlZWtMZW4gPSAxMDI0O1xuLyoqXG4gKiBNUEVHLTQgQXVkaW8gZGVmaW5pdGlvbnNcbiAqIFJlZjogIGh0dHBzOi8vd2lraS5tdWx0aW1lZGlhLmN4L2luZGV4LnBocC9NUEVHLTRfQXVkaW9cbiAqL1xuY29uc3QgTVBFRzQgPSB7XG4gICAgLyoqXG4gICAgICogQXVkaW8gT2JqZWN0IFR5cGVzXG4gICAgICovXG4gICAgQXVkaW9PYmplY3RUeXBlczogW1xuICAgICAgICAnQUFDIE1haW4nLFxuICAgICAgICAnQUFDIExDJywgLy8gTG93IENvbXBsZXhpdHlcbiAgICAgICAgJ0FBQyBTU1InLCAvLyBTY2FsYWJsZSBTYW1wbGUgUmF0ZVxuICAgICAgICAnQUFDIExUUCcgLy8gTG9uZyBUZXJtIFByZWRpY3Rpb25cbiAgICBdLFxuICAgIC8qKlxuICAgICAqIFNhbXBsaW5nIEZyZXF1ZW5jaWVzXG4gICAgICogaHR0cHM6Ly93aWtpLm11bHRpbWVkaWEuY3gvaW5kZXgucGhwL01QRUctNF9BdWRpbyNTYW1wbGluZ19GcmVxdWVuY2llc1xuICAgICAqL1xuICAgIFNhbXBsaW5nRnJlcXVlbmNpZXM6IFtcbiAgICAgICAgOTYwMDAsIDg4MjAwLCA2NDAwMCwgNDgwMDAsIDQ0MTAwLCAzMjAwMCwgMjQwMDAsIDIyMDUwLCAxNjAwMCwgMTIwMDAsIDExMDI1LCA4MDAwLCA3MzUwLCBudWxsLCBudWxsLCAtMVxuICAgIF1cbiAgICAvKipcbiAgICAgKiBDaGFubmVsIENvbmZpZ3VyYXRpb25zXG4gICAgICovXG59O1xuY29uc3QgTVBFRzRfQ2hhbm5lbENvbmZpZ3VyYXRpb25zID0gW1xuICAgIHVuZGVmaW5lZCxcbiAgICBbJ2Zyb250LWNlbnRlciddLFxuICAgIFsnZnJvbnQtbGVmdCcsICdmcm9udC1yaWdodCddLFxuICAgIFsnZnJvbnQtY2VudGVyJywgJ2Zyb250LWxlZnQnLCAnZnJvbnQtcmlnaHQnXSxcbiAgICBbJ2Zyb250LWNlbnRlcicsICdmcm9udC1sZWZ0JywgJ2Zyb250LXJpZ2h0JywgJ2JhY2stY2VudGVyJ10sXG4gICAgWydmcm9udC1jZW50ZXInLCAnZnJvbnQtbGVmdCcsICdmcm9udC1yaWdodCcsICdiYWNrLWxlZnQnLCAnYmFjay1yaWdodCddLFxuICAgIFsnZnJvbnQtY2VudGVyJywgJ2Zyb250LWxlZnQnLCAnZnJvbnQtcmlnaHQnLCAnYmFjay1sZWZ0JywgJ2JhY2stcmlnaHQnLCAnTEZFLWNoYW5uZWwnXSxcbiAgICBbJ2Zyb250LWNlbnRlcicsICdmcm9udC1sZWZ0JywgJ2Zyb250LXJpZ2h0JywgJ3NpZGUtbGVmdCcsICdzaWRlLXJpZ2h0JywgJ2JhY2stbGVmdCcsICdiYWNrLXJpZ2h0JywgJ0xGRS1jaGFubmVsJ11cbl07XG4vKipcbiAqIE1QRUcgQXVkaW8gTGF5ZXIgSS9JSS9JSUkgZnJhbWUgaGVhZGVyXG4gKiBSZWY6IGh0dHBzOi8vd3d3Lm1wMy10ZWNoLm9yZy9wcm9ncmFtbWVyL2ZyYW1lX2hlYWRlci5odG1sXG4gKiBCaXQgbGF5b3V0OiBBQUFBQUFBQSBBQUFCQkNDRCBFRUVFRkZHSCBJSUpKS0xNTVxuICogUmVmOiBodHRwczovL3dpa2kubXVsdGltZWRpYS5jeC9pbmRleC5waHAvQURUU1xuICovXG5jbGFzcyBNcGVnRnJhbWVIZWFkZXIge1xuICAgIGNvbnN0cnVjdG9yKGJ1Ziwgb2ZmKSB7XG4gICAgICAgIC8vIEUoMTUsMTIpOiBCaXRyYXRlIGluZGV4XG4gICAgICAgIHRoaXMuYml0cmF0ZUluZGV4ID0gbnVsbDtcbiAgICAgICAgLy8gRigxMSwxMCk6IFNhbXBsaW5nIHJhdGUgZnJlcXVlbmN5IGluZGV4XG4gICAgICAgIHRoaXMuc2FtcFJhdGVGcmVxSW5kZXggPSBudWxsO1xuICAgICAgICAvLyBHKDkpOiBQYWRkaW5nIGJpdFxuICAgICAgICB0aGlzLnBhZGRpbmcgPSBudWxsO1xuICAgICAgICAvLyBIKDgpOiBQcml2YXRlIGJpdFxuICAgICAgICB0aGlzLnByaXZhdGVCaXQgPSBudWxsO1xuICAgICAgICAvLyBJKDcsNik6IENoYW5uZWwgTW9kZVxuICAgICAgICB0aGlzLmNoYW5uZWxNb2RlSW5kZXggPSBudWxsO1xuICAgICAgICAvLyBKKDUsNCk6IE1vZGUgZXh0ZW5zaW9uIChPbmx5IHVzZWQgaW4gSm9pbnQgc3RlcmVvKVxuICAgICAgICB0aGlzLm1vZGVFeHRlbnNpb24gPSBudWxsO1xuICAgICAgICAvLyBMKDIpOiBPcmlnaW5hbFxuICAgICAgICB0aGlzLmlzT3JpZ2luYWxNZWRpYSA9IG51bGw7XG4gICAgICAgIHRoaXMudmVyc2lvbiA9IG51bGw7XG4gICAgICAgIHRoaXMuYml0cmF0ZSA9IG51bGw7XG4gICAgICAgIHRoaXMuc2FtcGxpbmdSYXRlID0gbnVsbDtcbiAgICAgICAgdGhpcy5mcmFtZUxlbmd0aCA9IDA7XG4gICAgICAgIC8vIEIoMjAsMTkpOiBNUEVHIEF1ZGlvIHZlcnNpb25JbmRleCBJRFxuICAgICAgICB0aGlzLnZlcnNpb25JbmRleCA9IGNvbW1vbi5nZXRCaXRBbGxpZ25lZE51bWJlcihidWYsIG9mZiArIDEsIDMsIDIpO1xuICAgICAgICAvLyBDKDE4LDE3KTogTGF5ZXIgZGVzY3JpcHRpb25cbiAgICAgICAgdGhpcy5sYXllciA9IE1wZWdGcmFtZUhlYWRlci5MYXllckRlc2NyaXB0aW9uW2NvbW1vbi5nZXRCaXRBbGxpZ25lZE51bWJlcihidWYsIG9mZiArIDEsIDUsIDIpXTtcbiAgICAgICAgaWYgKHRoaXMudmVyc2lvbkluZGV4ID4gMSAmJiB0aGlzLmxheWVyID09PSAwKSB7XG4gICAgICAgICAgICB0aGlzLnBhcnNlQWR0c0hlYWRlcihidWYsIG9mZik7IC8vIEF1ZGlvIERhdGEgVHJhbnNwb3J0IFN0cmVhbSAoQURUUylcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMucGFyc2VNcGVnSGVhZGVyKGJ1Ziwgb2ZmKTsgLy8gQ29udmVudGlvbmFsIE1QRUcgaGVhZGVyXG4gICAgICAgIH1cbiAgICAgICAgLy8gRCgxNik6IFByb3RlY3Rpb24gYml0IChpZiB0cnVlIDE2LWJpdCBDUkMgZm9sbG93cyBoZWFkZXIpXG4gICAgICAgIHRoaXMuaXNQcm90ZWN0ZWRCeUNSQyA9ICFjb21tb24uaXNCaXRTZXQoYnVmLCBvZmYgKyAxLCA3KTtcbiAgICB9XG4gICAgY2FsY0R1cmF0aW9uKG51bUZyYW1lcykge1xuICAgICAgICByZXR1cm4gdGhpcy5zYW1wbGluZ1JhdGUgPT0gbnVsbCA/IG51bGwgOiAobnVtRnJhbWVzICogdGhpcy5jYWxjU2FtcGxlc1BlckZyYW1lKCkgLyB0aGlzLnNhbXBsaW5nUmF0ZSk7XG4gICAgfVxuICAgIGNhbGNTYW1wbGVzUGVyRnJhbWUoKSB7XG4gICAgICAgIHJldHVybiBNcGVnRnJhbWVIZWFkZXIuc2FtcGxlc0luRnJhbWVUYWJsZVt0aGlzLnZlcnNpb24gPT09IDEgPyAwIDogMV1bdGhpcy5sYXllcl07XG4gICAgfVxuICAgIGNhbGN1bGF0ZVNpZGVJbmZvTGVuZ3RoKCkge1xuICAgICAgICBpZiAodGhpcy5sYXllciAhPT0gMylcbiAgICAgICAgICAgIHJldHVybiAyO1xuICAgICAgICBpZiAodGhpcy5jaGFubmVsTW9kZUluZGV4ID09PSAzKSB7XG4gICAgICAgICAgICAvLyBtb25vXG4gICAgICAgICAgICBpZiAodGhpcy52ZXJzaW9uID09PSAxKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIDE3O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMudmVyc2lvbiA9PT0gMiB8fCB0aGlzLnZlcnNpb24gPT09IDIuNSkge1xuICAgICAgICAgICAgICAgIHJldHVybiA5O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaWYgKHRoaXMudmVyc2lvbiA9PT0gMSkge1xuICAgICAgICAgICAgICAgIHJldHVybiAzMjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLnZlcnNpb24gPT09IDIgfHwgdGhpcy52ZXJzaW9uID09PSAyLjUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gMTc7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGNhbGNTbG90U2l6ZSgpIHtcbiAgICAgICAgcmV0dXJuIFtudWxsLCA0LCAxLCAxXVt0aGlzLmxheWVyXTtcbiAgICB9XG4gICAgcGFyc2VNcGVnSGVhZGVyKGJ1Ziwgb2ZmKSB7XG4gICAgICAgIHRoaXMuY29udGFpbmVyID0gJ01QRUcnO1xuICAgICAgICAvLyBFKDE1LDEyKTogQml0cmF0ZSBpbmRleFxuICAgICAgICB0aGlzLmJpdHJhdGVJbmRleCA9IGNvbW1vbi5nZXRCaXRBbGxpZ25lZE51bWJlcihidWYsIG9mZiArIDIsIDAsIDQpO1xuICAgICAgICAvLyBGKDExLDEwKTogU2FtcGxpbmcgcmF0ZSBmcmVxdWVuY3kgaW5kZXhcbiAgICAgICAgdGhpcy5zYW1wUmF0ZUZyZXFJbmRleCA9IGNvbW1vbi5nZXRCaXRBbGxpZ25lZE51bWJlcihidWYsIG9mZiArIDIsIDQsIDIpO1xuICAgICAgICAvLyBHKDkpOiBQYWRkaW5nIGJpdFxuICAgICAgICB0aGlzLnBhZGRpbmcgPSBjb21tb24uaXNCaXRTZXQoYnVmLCBvZmYgKyAyLCA2KTtcbiAgICAgICAgLy8gSCg4KTogUHJpdmF0ZSBiaXRcbiAgICAgICAgdGhpcy5wcml2YXRlQml0ID0gY29tbW9uLmlzQml0U2V0KGJ1Ziwgb2ZmICsgMiwgNyk7XG4gICAgICAgIC8vIEkoNyw2KTogQ2hhbm5lbCBNb2RlXG4gICAgICAgIHRoaXMuY2hhbm5lbE1vZGVJbmRleCA9IGNvbW1vbi5nZXRCaXRBbGxpZ25lZE51bWJlcihidWYsIG9mZiArIDMsIDAsIDIpO1xuICAgICAgICAvLyBKKDUsNCk6IE1vZGUgZXh0ZW5zaW9uIChPbmx5IHVzZWQgaW4gSm9pbnQgc3RlcmVvKVxuICAgICAgICB0aGlzLm1vZGVFeHRlbnNpb24gPSBjb21tb24uZ2V0Qml0QWxsaWduZWROdW1iZXIoYnVmLCBvZmYgKyAzLCAyLCAyKTtcbiAgICAgICAgLy8gSygzKTogQ29weXJpZ2h0XG4gICAgICAgIHRoaXMuaXNDb3B5cmlnaHRlZCA9IGNvbW1vbi5pc0JpdFNldChidWYsIG9mZiArIDMsIDQpO1xuICAgICAgICAvLyBMKDIpOiBPcmlnaW5hbFxuICAgICAgICB0aGlzLmlzT3JpZ2luYWxNZWRpYSA9IGNvbW1vbi5pc0JpdFNldChidWYsIG9mZiArIDMsIDUpO1xuICAgICAgICAvLyBNKDMpOiBUaGUgb3JpZ2luYWwgYml0IGluZGljYXRlcywgaWYgaXQgaXMgc2V0LCB0aGF0IHRoZSBmcmFtZSBpcyBsb2NhdGVkIG9uIGl0cyBvcmlnaW5hbCBtZWRpYS5cbiAgICAgICAgdGhpcy5lbXBoYXNpcyA9IGNvbW1vbi5nZXRCaXRBbGxpZ25lZE51bWJlcihidWYsIG9mZiArIDMsIDcsIDIpO1xuICAgICAgICB0aGlzLnZlcnNpb24gPSBNcGVnRnJhbWVIZWFkZXIuVmVyc2lvbklEW3RoaXMudmVyc2lvbkluZGV4XTtcbiAgICAgICAgdGhpcy5jaGFubmVsTW9kZSA9IE1wZWdGcmFtZUhlYWRlci5DaGFubmVsTW9kZVt0aGlzLmNoYW5uZWxNb2RlSW5kZXhdO1xuICAgICAgICB0aGlzLmNvZGVjID0gYE1QRUcgJHt0aGlzLnZlcnNpb259IExheWVyICR7dGhpcy5sYXllcn1gO1xuICAgICAgICAvLyBDYWxjdWxhdGUgYml0cmF0ZVxuICAgICAgICBjb25zdCBiaXRyYXRlSW5LYnBzID0gdGhpcy5jYWxjQml0cmF0ZSgpO1xuICAgICAgICBpZiAoIWJpdHJhdGVJbkticHMpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignQ2Fubm90IGRldGVybWluZSBiaXQtcmF0ZScpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuYml0cmF0ZSA9IGJpdHJhdGVJbkticHMgKiAxMDAwO1xuICAgICAgICAvLyBDYWxjdWxhdGUgc2FtcGxpbmcgcmF0ZVxuICAgICAgICB0aGlzLnNhbXBsaW5nUmF0ZSA9IHRoaXMuY2FsY1NhbXBsaW5nUmF0ZSgpO1xuICAgICAgICBpZiAodGhpcy5zYW1wbGluZ1JhdGUgPT0gbnVsbCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDYW5ub3QgZGV0ZXJtaW5lIHNhbXBsaW5nLXJhdGUnKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBwYXJzZUFkdHNIZWFkZXIoYnVmLCBvZmYpIHtcbiAgICAgICAgZGVidWcoXCJsYXllcj0wID0+IEFEVFNcIik7XG4gICAgICAgIHRoaXMudmVyc2lvbiA9IHRoaXMudmVyc2lvbkluZGV4ID09PSAyID8gNCA6IDI7XG4gICAgICAgIHRoaXMuY29udGFpbmVyID0gYEFEVFMvTVBFRy0ke3RoaXMudmVyc2lvbn1gO1xuICAgICAgICBjb25zdCBwcm9maWxlSW5kZXggPSBjb21tb24uZ2V0Qml0QWxsaWduZWROdW1iZXIoYnVmLCBvZmYgKyAyLCAwLCAyKTtcbiAgICAgICAgdGhpcy5jb2RlYyA9ICdBQUMnO1xuICAgICAgICB0aGlzLmNvZGVjUHJvZmlsZSA9IE1QRUc0LkF1ZGlvT2JqZWN0VHlwZXNbcHJvZmlsZUluZGV4XTtcbiAgICAgICAgZGVidWcoYE1QRUctNCBhdWRpby1jb2RlYz0ke3RoaXMuY29kZWN9YCk7XG4gICAgICAgIGNvbnN0IHNhbXBsaW5nRnJlcXVlbmN5SW5kZXggPSBjb21tb24uZ2V0Qml0QWxsaWduZWROdW1iZXIoYnVmLCBvZmYgKyAyLCAyLCA0KTtcbiAgICAgICAgdGhpcy5zYW1wbGluZ1JhdGUgPSBNUEVHNC5TYW1wbGluZ0ZyZXF1ZW5jaWVzW3NhbXBsaW5nRnJlcXVlbmN5SW5kZXhdO1xuICAgICAgICBkZWJ1Zyhgc2FtcGxpbmctcmF0ZT0ke3RoaXMuc2FtcGxpbmdSYXRlfWApO1xuICAgICAgICBjb25zdCBjaGFubmVsSW5kZXggPSBjb21tb24uZ2V0Qml0QWxsaWduZWROdW1iZXIoYnVmLCBvZmYgKyAyLCA3LCAzKTtcbiAgICAgICAgdGhpcy5tcDRDaGFubmVsQ29uZmlnID0gTVBFRzRfQ2hhbm5lbENvbmZpZ3VyYXRpb25zW2NoYW5uZWxJbmRleF07XG4gICAgICAgIGRlYnVnKGBjaGFubmVsLWNvbmZpZz0ke3RoaXMubXA0Q2hhbm5lbENvbmZpZyA/IHRoaXMubXA0Q2hhbm5lbENvbmZpZy5qb2luKCcrJykgOiAnPyd9YCk7XG4gICAgICAgIHRoaXMuZnJhbWVMZW5ndGggPSBjb21tb24uZ2V0Qml0QWxsaWduZWROdW1iZXIoYnVmLCBvZmYgKyAzLCA2LCAyKSA8PCAxMTtcbiAgICB9XG4gICAgY2FsY0JpdHJhdGUoKSB7XG4gICAgICAgIGlmICh0aGlzLmJpdHJhdGVJbmRleCA9PT0gMHgwMCB8fCAvLyBmcmVlXG4gICAgICAgICAgICB0aGlzLmJpdHJhdGVJbmRleCA9PT0gMHgwRikgeyAvLyByZXNlcnZlZFxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMudmVyc2lvbiAmJiB0aGlzLmJpdHJhdGVJbmRleCkge1xuICAgICAgICAgICAgY29uc3QgY29kZWNJbmRleCA9IDEwICogTWF0aC5mbG9vcih0aGlzLnZlcnNpb24pICsgdGhpcy5sYXllcjtcbiAgICAgICAgICAgIHJldHVybiBNcGVnRnJhbWVIZWFkZXIuYml0cmF0ZV9pbmRleFt0aGlzLmJpdHJhdGVJbmRleF1bY29kZWNJbmRleF07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGNhbGNTYW1wbGluZ1JhdGUoKSB7XG4gICAgICAgIGlmICh0aGlzLnNhbXBSYXRlRnJlcUluZGV4ID09PSAweDAzIHx8IHRoaXMudmVyc2lvbiA9PT0gbnVsbCB8fCB0aGlzLnNhbXBSYXRlRnJlcUluZGV4ID09IG51bGwpXG4gICAgICAgICAgICByZXR1cm4gbnVsbDsgLy8gJ3Jlc2VydmVkJ1xuICAgICAgICByZXR1cm4gTXBlZ0ZyYW1lSGVhZGVyLnNhbXBsaW5nX3JhdGVfZnJlcV9pbmRleFt0aGlzLnZlcnNpb25dW3RoaXMuc2FtcFJhdGVGcmVxSW5kZXhdO1xuICAgIH1cbn1cbk1wZWdGcmFtZUhlYWRlci5TeW5jQnl0ZTEgPSAweEZGO1xuTXBlZ0ZyYW1lSGVhZGVyLlN5bmNCeXRlMiA9IDB4RTA7XG5NcGVnRnJhbWVIZWFkZXIuVmVyc2lvbklEID0gWzIuNSwgbnVsbCwgMiwgMV07XG5NcGVnRnJhbWVIZWFkZXIuTGF5ZXJEZXNjcmlwdGlvbiA9IFswLCAzLCAyLCAxXTtcbk1wZWdGcmFtZUhlYWRlci5DaGFubmVsTW9kZSA9IFsnc3RlcmVvJywgJ2pvaW50X3N0ZXJlbycsICdkdWFsX2NoYW5uZWwnLCAnbW9ubyddO1xuTXBlZ0ZyYW1lSGVhZGVyLmJpdHJhdGVfaW5kZXggPSB7XG4gICAgMTogeyAxMTogMzIsIDEyOiAzMiwgMTM6IDMyLCAyMTogMzIsIDIyOiA4LCAyMzogOCB9LFxuICAgIDI6IHsgMTE6IDY0LCAxMjogNDgsIDEzOiA0MCwgMjE6IDQ4LCAyMjogMTYsIDIzOiAxNiB9LFxuICAgIDM6IHsgMTE6IDk2LCAxMjogNTYsIDEzOiA0OCwgMjE6IDU2LCAyMjogMjQsIDIzOiAyNCB9LFxuICAgIDQ6IHsgMTE6IDEyOCwgMTI6IDY0LCAxMzogNTYsIDIxOiA2NCwgMjI6IDMyLCAyMzogMzIgfSxcbiAgICA1OiB7IDExOiAxNjAsIDEyOiA4MCwgMTM6IDY0LCAyMTogODAsIDIyOiA0MCwgMjM6IDQwIH0sXG4gICAgNjogeyAxMTogMTkyLCAxMjogOTYsIDEzOiA4MCwgMjE6IDk2LCAyMjogNDgsIDIzOiA0OCB9LFxuICAgIDc6IHsgMTE6IDIyNCwgMTI6IDExMiwgMTM6IDk2LCAyMTogMTEyLCAyMjogNTYsIDIzOiA1NiB9LFxuICAgIDg6IHsgMTE6IDI1NiwgMTI6IDEyOCwgMTM6IDExMiwgMjE6IDEyOCwgMjI6IDY0LCAyMzogNjQgfSxcbiAgICA5OiB7IDExOiAyODgsIDEyOiAxNjAsIDEzOiAxMjgsIDIxOiAxNDQsIDIyOiA4MCwgMjM6IDgwIH0sXG4gICAgMTA6IHsgMTE6IDMyMCwgMTI6IDE5MiwgMTM6IDE2MCwgMjE6IDE2MCwgMjI6IDk2LCAyMzogOTYgfSxcbiAgICAxMTogeyAxMTogMzUyLCAxMjogMjI0LCAxMzogMTkyLCAyMTogMTc2LCAyMjogMTEyLCAyMzogMTEyIH0sXG4gICAgMTI6IHsgMTE6IDM4NCwgMTI6IDI1NiwgMTM6IDIyNCwgMjE6IDE5MiwgMjI6IDEyOCwgMjM6IDEyOCB9LFxuICAgIDEzOiB7IDExOiA0MTYsIDEyOiAzMjAsIDEzOiAyNTYsIDIxOiAyMjQsIDIyOiAxNDQsIDIzOiAxNDQgfSxcbiAgICAxNDogeyAxMTogNDQ4LCAxMjogMzg0LCAxMzogMzIwLCAyMTogMjU2LCAyMjogMTYwLCAyMzogMTYwIH1cbn07XG5NcGVnRnJhbWVIZWFkZXIuc2FtcGxpbmdfcmF0ZV9mcmVxX2luZGV4ID0ge1xuICAgIDE6IHsgMDogNDQxMDAsIDE6IDQ4MDAwLCAyOiAzMjAwMCB9LFxuICAgIDI6IHsgMDogMjIwNTAsIDE6IDI0MDAwLCAyOiAxNjAwMCB9LFxuICAgIDIuNTogeyAwOiAxMTAyNSwgMTogMTIwMDAsIDI6IDgwMDAgfVxufTtcbk1wZWdGcmFtZUhlYWRlci5zYW1wbGVzSW5GcmFtZVRhYmxlID0gW1xuICAgIC8qIExheWVyICAgSSAgICBJSSAgIElJSSAqL1xuICAgIFswLCAzODQsIDExNTIsIDExNTJdLCAvLyBNUEVHLTFcbiAgICBbMCwgMzg0LCAxMTUyLCA1NzZdIC8vIE1QRUctMiguNVxuXTtcbi8qKlxuICogTVBFRyBBdWRpbyBMYXllciBJL0lJL0lJSVxuICovXG5jb25zdCBGcmFtZUhlYWRlciA9IHtcbiAgICBsZW46IDQsXG4gICAgZ2V0OiAoYnVmLCBvZmYpID0+IHtcbiAgICAgICAgcmV0dXJuIG5ldyBNcGVnRnJhbWVIZWFkZXIoYnVmLCBvZmYpO1xuICAgIH1cbn07XG5mdW5jdGlvbiBnZXRWYnJDb2RlY1Byb2ZpbGUodmJyU2NhbGUpIHtcbiAgICByZXR1cm4gYFYke01hdGguZmxvb3IoKDEwMCAtIHZiclNjYWxlKSAvIDEwKX1gO1xufVxuZXhwb3J0IGNsYXNzIE1wZWdQYXJzZXIgZXh0ZW5kcyBBYnN0cmFjdElEM1BhcnNlciB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XG4gICAgICAgIHRoaXMuZnJhbWVDb3VudCA9IDA7XG4gICAgICAgIHRoaXMuc3luY0ZyYW1lQ291bnQgPSAtMTtcbiAgICAgICAgdGhpcy5jb3VudFNraXBGcmFtZURhdGEgPSAwO1xuICAgICAgICB0aGlzLnRvdGFsRGF0YUxlbmd0aCA9IDA7XG4gICAgICAgIHRoaXMuYml0cmF0ZXMgPSBbXTtcbiAgICAgICAgdGhpcy5vZmZzZXQgPSAwO1xuICAgICAgICB0aGlzLmZyYW1lX3NpemUgPSAwO1xuICAgICAgICB0aGlzLmNyYyA9IG51bGw7XG4gICAgICAgIHRoaXMuY2FsY3VsYXRlRW9mRHVyYXRpb24gPSBmYWxzZTtcbiAgICAgICAgdGhpcy5zYW1wbGVzUGVyRnJhbWUgPSBudWxsO1xuICAgICAgICB0aGlzLmJ1Zl9mcmFtZV9oZWFkZXIgPSBuZXcgVWludDhBcnJheSg0KTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIE51bWJlciBvZiBieXRlcyBhbHJlYWR5IHBhcnNlZCBzaW5jZSBiZWdpbm5pbmcgb2Ygc3RyZWFtIC8gZmlsZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5tcGVnT2Zmc2V0ID0gbnVsbDtcbiAgICAgICAgdGhpcy5zeW5jUGVlayA9IHtcbiAgICAgICAgICAgIGJ1ZjogbmV3IFVpbnQ4QXJyYXkobWF4UGVla0xlbiksXG4gICAgICAgICAgICBsZW46IDBcbiAgICAgICAgfTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2FsbGVkIGFmdGVyIElEMyBoZWFkZXJzIGhhdmUgYmVlbiBwYXJzZWRcbiAgICAgKi9cbiAgICBhc3luYyBwb3N0SWQzdjJQYXJzZSgpIHtcbiAgICAgICAgdGhpcy5tZXRhZGF0YS5zZXRGb3JtYXQoJ2xvc3NsZXNzJywgZmFsc2UpO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgbGV0IHF1aXQgPSBmYWxzZTtcbiAgICAgICAgICAgIHdoaWxlICghcXVpdCkge1xuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuc3luYygpO1xuICAgICAgICAgICAgICAgIHF1aXQgPSBhd2FpdCB0aGlzLnBhcnNlQ29tbW9uTXBlZ0hlYWRlcigpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIGlmIChlcnIgaW5zdGFuY2VvZiBFbmRPZlN0cmVhbUVycm9yKSB7XG4gICAgICAgICAgICAgICAgZGVidWcoXCJFbmQtb2Ytc3RyZWFtXCIpO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmNhbGN1bGF0ZUVvZkR1cmF0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnNhbXBsZXNQZXJGcmFtZSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbnVtYmVyT2ZTYW1wbGVzID0gdGhpcy5mcmFtZUNvdW50ICogdGhpcy5zYW1wbGVzUGVyRnJhbWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1ldGFkYXRhLnNldEZvcm1hdCgnbnVtYmVyT2ZTYW1wbGVzJywgbnVtYmVyT2ZTYW1wbGVzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLm1ldGFkYXRhLmZvcm1hdC5zYW1wbGVSYXRlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZHVyYXRpb24gPSBudW1iZXJPZlNhbXBsZXMgLyB0aGlzLm1ldGFkYXRhLmZvcm1hdC5zYW1wbGVSYXRlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlYnVnKGBDYWxjdWxhdGUgZHVyYXRpb24gYXQgRU9GOiAke2R1cmF0aW9ufSBzZWMuYCwgZHVyYXRpb24pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubWV0YWRhdGEuc2V0Rm9ybWF0KCdkdXJhdGlvbicsIGR1cmF0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRocm93IGVycjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBDYWxsZWQgYWZ0ZXIgZmlsZSBoYXMgYmVlbiBmdWxseSBwYXJzZWQsIHRoaXMgYWxsb3dzLCBpZiBwcmVzZW50LCB0byBleGNsdWRlIHRoZSBJRDN2MS4xIGhlYWRlciBsZW5ndGhcbiAgICAgKi9cbiAgICBmaW5hbGl6ZSgpIHtcbiAgICAgICAgY29uc3QgZm9ybWF0ID0gdGhpcy5tZXRhZGF0YS5mb3JtYXQ7XG4gICAgICAgIGNvbnN0IGhhc0lEM3YxID0gISF0aGlzLm1ldGFkYXRhLm5hdGl2ZS5JRDN2MTtcbiAgICAgICAgaWYgKHRoaXMubXBlZ09mZnNldCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgaWYgKGZvcm1hdC5kdXJhdGlvbiAmJiB0aGlzLnRva2VuaXplci5maWxlSW5mby5zaXplKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbXBlZ1NpemUgPSB0aGlzLnRva2VuaXplci5maWxlSW5mby5zaXplIC0gdGhpcy5tcGVnT2Zmc2V0IC0gKGhhc0lEM3YxID8gMTI4IDogMCk7XG4gICAgICAgICAgICAgICAgaWYgKGZvcm1hdC5jb2RlY1Byb2ZpbGUgJiYgZm9ybWF0LmNvZGVjUHJvZmlsZVswXSA9PT0gJ1YnKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubWV0YWRhdGEuc2V0Rm9ybWF0KCdiaXRyYXRlJywgbXBlZ1NpemUgKiA4IC8gZm9ybWF0LmR1cmF0aW9uKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICh0aGlzLnRva2VuaXplci5maWxlSW5mby5zaXplICYmIGZvcm1hdC5jb2RlY1Byb2ZpbGUgPT09ICdDQlInKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbXBlZ1NpemUgPSB0aGlzLnRva2VuaXplci5maWxlSW5mby5zaXplIC0gdGhpcy5tcGVnT2Zmc2V0IC0gKGhhc0lEM3YxID8gMTI4IDogMCk7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuZnJhbWVfc2l6ZSAhPT0gbnVsbCAmJiB0aGlzLnNhbXBsZXNQZXJGcmFtZSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBudW1iZXJPZlNhbXBsZXMgPSBNYXRoLnJvdW5kKG1wZWdTaXplIC8gdGhpcy5mcmFtZV9zaXplKSAqIHRoaXMuc2FtcGxlc1BlckZyYW1lO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm1ldGFkYXRhLnNldEZvcm1hdCgnbnVtYmVyT2ZTYW1wbGVzJywgbnVtYmVyT2ZTYW1wbGVzKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGZvcm1hdC5zYW1wbGVSYXRlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBkdXJhdGlvbiA9IG51bWJlck9mU2FtcGxlcyAvIGZvcm1hdC5zYW1wbGVSYXRlO1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVidWcoXCJDYWxjdWxhdGUgQ0JSIGR1cmF0aW9uIGJhc2VkIG9uIGZpbGUgc2l6ZTogJXNcIiwgZHVyYXRpb24pO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5tZXRhZGF0YS5zZXRGb3JtYXQoJ2R1cmF0aW9uJywgZHVyYXRpb24pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGFzeW5jIHN5bmMoKSB7XG4gICAgICAgIGxldCBnb3RGaXJzdFN5bmMgPSBmYWxzZTtcbiAgICAgICAgd2hpbGUgKHRydWUpIHtcbiAgICAgICAgICAgIGxldCBibyA9IDA7XG4gICAgICAgICAgICB0aGlzLnN5bmNQZWVrLmxlbiA9IGF3YWl0IHRoaXMudG9rZW5pemVyLnBlZWtCdWZmZXIodGhpcy5zeW5jUGVlay5idWYsIHsgbGVuZ3RoOiBtYXhQZWVrTGVuLCBtYXlCZUxlc3M6IHRydWUgfSk7XG4gICAgICAgICAgICBpZiAodGhpcy5zeW5jUGVlay5sZW4gPD0gMTYzKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVuZE9mU3RyZWFtRXJyb3IoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICAgICAgICAgICAgaWYgKGdvdEZpcnN0U3luYyAmJiAodGhpcy5zeW5jUGVlay5idWZbYm9dICYgMHhFMCkgPT09IDB4RTApIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5idWZfZnJhbWVfaGVhZGVyWzBdID0gTXBlZ0ZyYW1lSGVhZGVyLlN5bmNCeXRlMTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5idWZfZnJhbWVfaGVhZGVyWzFdID0gdGhpcy5zeW5jUGVlay5idWZbYm9dO1xuICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnRva2VuaXplci5pZ25vcmUoYm8pO1xuICAgICAgICAgICAgICAgICAgICBkZWJ1ZyhgU3luYyBhdCBvZmZzZXQ9JHt0aGlzLnRva2VuaXplci5wb3NpdGlvbiAtIDF9LCBmcmFtZUNvdW50PSR7dGhpcy5mcmFtZUNvdW50fWApO1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5zeW5jRnJhbWVDb3VudCA9PT0gdGhpcy5mcmFtZUNvdW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWJ1ZyhgUmUtc3luY2VkIE1QRUcgc3RyZWFtLCBmcmFtZUNvdW50PSR7dGhpcy5mcmFtZUNvdW50fWApO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5mcmFtZUNvdW50ID0gMDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZnJhbWVfc2l6ZSA9IDA7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zeW5jRnJhbWVDb3VudCA9IHRoaXMuZnJhbWVDb3VudDtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuOyAvLyBzeW5jXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGdvdEZpcnN0U3luYyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIGJvID0gdGhpcy5zeW5jUGVlay5idWYuaW5kZXhPZihNcGVnRnJhbWVIZWFkZXIuU3luY0J5dGUxLCBibyk7XG4gICAgICAgICAgICAgICAgaWYgKGJvID09PSAtMSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5zeW5jUGVlay5sZW4gPCB0aGlzLnN5bmNQZWVrLmJ1Zi5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFbmRPZlN0cmVhbUVycm9yKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy50b2tlbml6ZXIuaWdub3JlKHRoaXMuc3luY1BlZWsubGVuKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7IC8vIGNvbnRpbnVlIHdpdGggbmV4dCBidWZmZXJcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgKytibztcbiAgICAgICAgICAgICAgICBnb3RGaXJzdFN5bmMgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENvbWJpbmVkIEFEVFMgJiBNUEVHIChNUDIgJiBNUDMpIGhlYWRlciBoYW5kbGluZ1xuICAgICAqIEByZXR1cm4ge1Byb21pc2U8Ym9vbGVhbj59IHRydWUgaWYgcGFyc2VyIHNob3VsZCBxdWl0XG4gICAgICovXG4gICAgYXN5bmMgcGFyc2VDb21tb25NcGVnSGVhZGVyKCkge1xuICAgICAgICBpZiAodGhpcy5mcmFtZUNvdW50ID09PSAwKSB7XG4gICAgICAgICAgICB0aGlzLm1wZWdPZmZzZXQgPSB0aGlzLnRva2VuaXplci5wb3NpdGlvbiAtIDE7XG4gICAgICAgIH1cbiAgICAgICAgYXdhaXQgdGhpcy50b2tlbml6ZXIucGVla0J1ZmZlcih0aGlzLmJ1Zl9mcmFtZV9oZWFkZXIsIHsgb2Zmc2V0OiAxLCBsZW5ndGg6IDMgfSk7XG4gICAgICAgIGxldCBoZWFkZXI7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBoZWFkZXIgPSBGcmFtZUhlYWRlci5nZXQodGhpcy5idWZfZnJhbWVfaGVhZGVyLCAwKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICBhd2FpdCB0aGlzLnRva2VuaXplci5pZ25vcmUoMSk7XG4gICAgICAgICAgICBpZiAoZXJyIGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICAgICAgICAgICAgICB0aGlzLm1ldGFkYXRhLmFkZFdhcm5pbmcoYFBhcnNlIGVycm9yOiAke2Vyci5tZXNzYWdlfWApO1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsgLy8gc3luY1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhyb3cgZXJyO1xuICAgICAgICB9XG4gICAgICAgIGF3YWl0IHRoaXMudG9rZW5pemVyLmlnbm9yZSgzKTtcbiAgICAgICAgdGhpcy5tZXRhZGF0YS5zZXRGb3JtYXQoJ2NvbnRhaW5lcicsIGhlYWRlci5jb250YWluZXIpO1xuICAgICAgICB0aGlzLm1ldGFkYXRhLnNldEZvcm1hdCgnY29kZWMnLCBoZWFkZXIuY29kZWMpO1xuICAgICAgICB0aGlzLm1ldGFkYXRhLnNldEZvcm1hdCgnbG9zc2xlc3MnLCBmYWxzZSk7XG4gICAgICAgIHRoaXMubWV0YWRhdGEuc2V0Rm9ybWF0KCdzYW1wbGVSYXRlJywgaGVhZGVyLnNhbXBsaW5nUmF0ZSk7XG4gICAgICAgIHRoaXMuZnJhbWVDb3VudCsrO1xuICAgICAgICByZXR1cm4gaGVhZGVyLnZlcnNpb24gIT09IG51bGwgJiYgaGVhZGVyLnZlcnNpb24gPj0gMiAmJiBoZWFkZXIubGF5ZXIgPT09IDAgPyB0aGlzLnBhcnNlQWR0cyhoZWFkZXIpIDogdGhpcy5wYXJzZUF1ZGlvRnJhbWVIZWFkZXIoaGVhZGVyKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQHJldHVybiB7UHJvbWlzZTxib29sZWFuPn0gdHJ1ZSBpZiBwYXJzZXIgc2hvdWxkIHF1aXRcbiAgICAgKi9cbiAgICBhc3luYyBwYXJzZUF1ZGlvRnJhbWVIZWFkZXIoaGVhZGVyKSB7XG4gICAgICAgIHRoaXMubWV0YWRhdGEuc2V0Rm9ybWF0KCdudW1iZXJPZkNoYW5uZWxzJywgaGVhZGVyLmNoYW5uZWxNb2RlID09PSAnbW9ubycgPyAxIDogMik7XG4gICAgICAgIHRoaXMubWV0YWRhdGEuc2V0Rm9ybWF0KCdiaXRyYXRlJywgaGVhZGVyLmJpdHJhdGUpO1xuICAgICAgICBpZiAodGhpcy5mcmFtZUNvdW50IDwgMjAgKiAxMDAwMCkge1xuICAgICAgICAgICAgZGVidWcoJ29mZnNldD0lcyBNUCVzIGJpdHJhdGU9JXMgc2FtcGxlLXJhdGU9JXMnLCB0aGlzLnRva2VuaXplci5wb3NpdGlvbiAtIDQsIGhlYWRlci5sYXllciwgaGVhZGVyLmJpdHJhdGUsIGhlYWRlci5zYW1wbGluZ1JhdGUpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHNsb3Rfc2l6ZSA9IGhlYWRlci5jYWxjU2xvdFNpemUoKTtcbiAgICAgICAgaWYgKHNsb3Rfc2l6ZSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdpbnZhbGlkIHNsb3Rfc2l6ZScpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHNhbXBsZXNfcGVyX2ZyYW1lID0gaGVhZGVyLmNhbGNTYW1wbGVzUGVyRnJhbWUoKTtcbiAgICAgICAgZGVidWcoYHNhbXBsZXNfcGVyX2ZyYW1lPSR7c2FtcGxlc19wZXJfZnJhbWV9YCk7XG4gICAgICAgIGNvbnN0IGJwcyA9IHNhbXBsZXNfcGVyX2ZyYW1lIC8gOC4wO1xuICAgICAgICBpZiAoaGVhZGVyLmJpdHJhdGUgIT09IG51bGwgJiYgaGVhZGVyLnNhbXBsaW5nUmF0ZSAhPSBudWxsKSB7XG4gICAgICAgICAgICBjb25zdCBmc2l6ZSA9IChicHMgKiBoZWFkZXIuYml0cmF0ZSAvIGhlYWRlci5zYW1wbGluZ1JhdGUpICsgKChoZWFkZXIucGFkZGluZykgPyBzbG90X3NpemUgOiAwKTtcbiAgICAgICAgICAgIHRoaXMuZnJhbWVfc2l6ZSA9IE1hdGguZmxvb3IoZnNpemUpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuYXVkaW9GcmFtZUhlYWRlciA9IGhlYWRlcjtcbiAgICAgICAgaWYgKGhlYWRlci5iaXRyYXRlICE9PSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLmJpdHJhdGVzLnB1c2goaGVhZGVyLmJpdHJhdGUpO1xuICAgICAgICB9XG4gICAgICAgIC8vIHh0cmEgaGVhZGVyIG9ubHkgZXhpc3RzIGluIGZpcnN0IGZyYW1lXG4gICAgICAgIGlmICh0aGlzLmZyYW1lQ291bnQgPT09IDEpIHtcbiAgICAgICAgICAgIHRoaXMub2Zmc2V0ID0gRnJhbWVIZWFkZXIubGVuO1xuICAgICAgICAgICAgYXdhaXQgdGhpcy5za2lwU2lkZUluZm9ybWF0aW9uKCk7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuZnJhbWVDb3VudCA9PT0gMykge1xuICAgICAgICAgICAgLy8gdGhlIHN0cmVhbSBpcyBDQlIgaWYgdGhlIGZpcnN0IDMgZnJhbWUgYml0cmF0ZXMgYXJlIHRoZSBzYW1lXG4gICAgICAgICAgICBpZiAodGhpcy5hcmVBbGxTYW1lKHRoaXMuYml0cmF0ZXMpKSB7XG4gICAgICAgICAgICAgICAgLy8gQWN0dWFsIGNhbGN1bGF0aW9uIHdpbGwgYmUgZG9uZSBpbiBmaW5hbGl6ZVxuICAgICAgICAgICAgICAgIHRoaXMuc2FtcGxlc1BlckZyYW1lID0gc2FtcGxlc19wZXJfZnJhbWU7XG4gICAgICAgICAgICAgICAgdGhpcy5tZXRhZGF0YS5zZXRGb3JtYXQoJ2NvZGVjUHJvZmlsZScsICdDQlInKTtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy50b2tlbml6ZXIuZmlsZUluZm8uc2l6ZSlcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7IC8vIFdpbGwgY2FsY3VsYXRlIGR1cmF0aW9uIGJhc2VkIG9uIHRoZSBmaWxlIHNpemVcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHRoaXMubWV0YWRhdGEuZm9ybWF0LmR1cmF0aW9uKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7IC8vIFdlIGFscmVhZHkgZ290IHRoZSBkdXJhdGlvbiwgc3RvcCBwcm9jZXNzaW5nIE1QRUcgc3RyZWFtIGFueSBmdXJ0aGVyXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIXRoaXMub3B0aW9ucy5kdXJhdGlvbikge1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlOyAvLyBFbmZvcmNlIGR1cmF0aW9uIG5vdCBlbmFibGVkLCBzdG9wIHByb2Nlc3NpbmcgZW50aXJlIHN0cmVhbVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIG9uY2Ugd2Uga25vdyB0aGUgZmlsZSBpcyBWQlIgYXR0YWNoIGxpc3RlbmVyIHRvIGVuZCBvZlxuICAgICAgICAvLyBzdHJlYW0gc28gd2UgY2FuIGRvIHRoZSBkdXJhdGlvbiBjYWxjdWxhdGlvbiB3aGVuIHdlXG4gICAgICAgIC8vIGhhdmUgY291bnRlZCBhbGwgdGhlIGZyYW1lc1xuICAgICAgICBpZiAodGhpcy5vcHRpb25zLmR1cmF0aW9uICYmIHRoaXMuZnJhbWVDb3VudCA9PT0gNCkge1xuICAgICAgICAgICAgdGhpcy5zYW1wbGVzUGVyRnJhbWUgPSBzYW1wbGVzX3Blcl9mcmFtZTtcbiAgICAgICAgICAgIHRoaXMuY2FsY3VsYXRlRW9mRHVyYXRpb24gPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMub2Zmc2V0ID0gNDtcbiAgICAgICAgaWYgKGhlYWRlci5pc1Byb3RlY3RlZEJ5Q1JDKSB7XG4gICAgICAgICAgICBhd2FpdCB0aGlzLnBhcnNlQ3JjKCk7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgYXdhaXQgdGhpcy5za2lwU2lkZUluZm9ybWF0aW9uKCk7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgYXN5bmMgcGFyc2VBZHRzKGhlYWRlcikge1xuICAgICAgICBjb25zdCBidWYgPSBuZXcgVWludDhBcnJheSgzKTtcbiAgICAgICAgYXdhaXQgdGhpcy50b2tlbml6ZXIucmVhZEJ1ZmZlcihidWYpO1xuICAgICAgICBoZWFkZXIuZnJhbWVMZW5ndGggKz0gY29tbW9uLmdldEJpdEFsbGlnbmVkTnVtYmVyKGJ1ZiwgMCwgMCwgMTEpO1xuICAgICAgICB0aGlzLnRvdGFsRGF0YUxlbmd0aCArPSBoZWFkZXIuZnJhbWVMZW5ndGg7XG4gICAgICAgIHRoaXMuc2FtcGxlc1BlckZyYW1lID0gMTAyNDtcbiAgICAgICAgaWYgKGhlYWRlci5zYW1wbGluZ1JhdGUgIT09IG51bGwpIHtcbiAgICAgICAgICAgIGNvbnN0IGZyYW1lc1BlclNlYyA9IGhlYWRlci5zYW1wbGluZ1JhdGUgLyB0aGlzLnNhbXBsZXNQZXJGcmFtZTtcbiAgICAgICAgICAgIGNvbnN0IGJ5dGVzUGVyRnJhbWUgPSB0aGlzLmZyYW1lQ291bnQgPT09IDAgPyAwIDogdGhpcy50b3RhbERhdGFMZW5ndGggLyB0aGlzLmZyYW1lQ291bnQ7XG4gICAgICAgICAgICBjb25zdCBiaXRyYXRlID0gOCAqIGJ5dGVzUGVyRnJhbWUgKiBmcmFtZXNQZXJTZWMgKyAwLjU7XG4gICAgICAgICAgICB0aGlzLm1ldGFkYXRhLnNldEZvcm1hdCgnYml0cmF0ZScsIGJpdHJhdGUpO1xuICAgICAgICAgICAgZGVidWcoYGZyYW1lLWNvdW50PSR7dGhpcy5mcmFtZUNvdW50fSwgc2l6ZT0ke2hlYWRlci5mcmFtZUxlbmd0aH0gYnl0ZXMsIGJpdC1yYXRlPSR7Yml0cmF0ZX1gKTtcbiAgICAgICAgfVxuICAgICAgICBhd2FpdCB0aGlzLnRva2VuaXplci5pZ25vcmUoaGVhZGVyLmZyYW1lTGVuZ3RoID4gNyA/IGhlYWRlci5mcmFtZUxlbmd0aCAtIDcgOiAxKTtcbiAgICAgICAgLy8gQ29uc3VtZSByZW1haW5pbmcgaGVhZGVyIGFuZCBmcmFtZSBkYXRhXG4gICAgICAgIGlmICh0aGlzLmZyYW1lQ291bnQgPT09IDMpIHtcbiAgICAgICAgICAgIHRoaXMubWV0YWRhdGEuc2V0Rm9ybWF0KCdjb2RlY1Byb2ZpbGUnLCBoZWFkZXIuY29kZWNQcm9maWxlKTtcbiAgICAgICAgICAgIGlmIChoZWFkZXIubXA0Q2hhbm5lbENvbmZpZykge1xuICAgICAgICAgICAgICAgIHRoaXMubWV0YWRhdGEuc2V0Rm9ybWF0KCdudW1iZXJPZkNoYW5uZWxzJywgaGVhZGVyLm1wNENoYW5uZWxDb25maWcubGVuZ3RoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLm9wdGlvbnMuZHVyYXRpb24pIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNhbGN1bGF0ZUVvZkR1cmF0aW9uID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlOyAvLyBTdG9wIHBhcnNpbmcgYWZ0ZXIgdGhlIHRoaXJkIGZyYW1lXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBhc3luYyBwYXJzZUNyYygpIHtcbiAgICAgICAgdGhpcy5jcmMgPSBhd2FpdCB0aGlzLnRva2VuaXplci5yZWFkTnVtYmVyKFRva2VuLklOVDE2X0JFKTtcbiAgICAgICAgdGhpcy5vZmZzZXQgKz0gMjtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2tpcFNpZGVJbmZvcm1hdGlvbigpO1xuICAgIH1cbiAgICBhc3luYyBza2lwU2lkZUluZm9ybWF0aW9uKCkge1xuICAgICAgICBpZiAodGhpcy5hdWRpb0ZyYW1lSGVhZGVyKSB7XG4gICAgICAgICAgICBjb25zdCBzaWRlaW5mb19sZW5ndGggPSB0aGlzLmF1ZGlvRnJhbWVIZWFkZXIuY2FsY3VsYXRlU2lkZUluZm9MZW5ndGgoKTtcbiAgICAgICAgICAgIGlmIChzaWRlaW5mb19sZW5ndGggIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnRva2VuaXplci5yZWFkVG9rZW4obmV3IFRva2VuLlVpbnQ4QXJyYXlUeXBlKHNpZGVpbmZvX2xlbmd0aCkpO1xuICAgICAgICAgICAgICAgIC8vIHNpZGUgaW5mb3JtYXRpb25cbiAgICAgICAgICAgICAgICB0aGlzLm9mZnNldCArPSBzaWRlaW5mb19sZW5ndGg7XG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5yZWFkWHRyYUluZm9IZWFkZXIoKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgYXN5bmMgcmVhZFh0cmFJbmZvSGVhZGVyKCkge1xuICAgICAgICBjb25zdCBoZWFkZXJUYWcgPSBhd2FpdCB0aGlzLnRva2VuaXplci5yZWFkVG9rZW4oSW5mb1RhZ0hlYWRlclRhZyk7XG4gICAgICAgIHRoaXMub2Zmc2V0ICs9IEluZm9UYWdIZWFkZXJUYWcubGVuOyAvLyAxMlxuICAgICAgICBzd2l0Y2ggKGhlYWRlclRhZykge1xuICAgICAgICAgICAgY2FzZSAnSW5mbyc6XG4gICAgICAgICAgICAgICAgdGhpcy5tZXRhZGF0YS5zZXRGb3JtYXQoJ2NvZGVjUHJvZmlsZScsICdDQlInKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5yZWFkWGluZ0luZm9IZWFkZXIoKTtcbiAgICAgICAgICAgIGNhc2UgJ1hpbmcnOiB7XG4gICAgICAgICAgICAgICAgY29uc3QgaW5mb1RhZyA9IGF3YWl0IHRoaXMucmVhZFhpbmdJbmZvSGVhZGVyKCk7XG4gICAgICAgICAgICAgICAgaWYgKGluZm9UYWcudmJyU2NhbGUgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY29kZWNQcm9maWxlID0gZ2V0VmJyQ29kZWNQcm9maWxlKGluZm9UYWcudmJyU2NhbGUpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm1ldGFkYXRhLnNldEZvcm1hdCgnY29kZWNQcm9maWxlJywgY29kZWNQcm9maWxlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlICdYdHJhJzpcbiAgICAgICAgICAgICAgICAvLyBUb0RvOiA/Pz9cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ0xBTUUnOiB7XG4gICAgICAgICAgICAgICAgY29uc3QgdmVyc2lvbiA9IGF3YWl0IHRoaXMudG9rZW5pemVyLnJlYWRUb2tlbihMYW1lRW5jb2RlclZlcnNpb24pO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmZyYW1lX3NpemUgIT09IG51bGwgJiYgdGhpcy5mcmFtZV9zaXplID49IHRoaXMub2Zmc2V0ICsgTGFtZUVuY29kZXJWZXJzaW9uLmxlbikge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm9mZnNldCArPSBMYW1lRW5jb2RlclZlcnNpb24ubGVuO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm1ldGFkYXRhLnNldEZvcm1hdCgndG9vbCcsIGBMQU1FICR7dmVyc2lvbn1gKTtcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5za2lwRnJhbWVEYXRhKHRoaXMuZnJhbWVfc2l6ZSAtIHRoaXMub2Zmc2V0KTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMubWV0YWRhdGEuYWRkV2FybmluZygnQ29ycnVwdCBMQU1FIGhlYWRlcicpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gVG9EbzogPz8/XG4gICAgICAgIH1cbiAgICAgICAgLy8gVG9EbzogcHJvbWlzZSBkdXJhdGlvbj8/P1xuICAgICAgICBjb25zdCBmcmFtZURhdGFMZWZ0ID0gdGhpcy5mcmFtZV9zaXplIC0gdGhpcy5vZmZzZXQ7XG4gICAgICAgIGlmIChmcmFtZURhdGFMZWZ0IDwgMCkge1xuICAgICAgICAgICAgdGhpcy5tZXRhZGF0YS5hZGRXYXJuaW5nKGBGcmFtZSAke3RoaXMuZnJhbWVDb3VudH1jb3JydXB0OiBuZWdhdGl2ZSBmcmFtZURhdGFMZWZ0YCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBhd2FpdCB0aGlzLnNraXBGcmFtZURhdGEoZnJhbWVEYXRhTGVmdCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlZjogaHR0cDovL2dhYnJpZWwubXAzLXRlY2gub3JnL21wM2luZm90YWcuaHRtbFxuICAgICAqIEByZXR1cm5zIHtQcm9taXNlPHN0cmluZz59XG4gICAgICovXG4gICAgYXN5bmMgcmVhZFhpbmdJbmZvSGVhZGVyKCkge1xuICAgICAgICBjb25zdCBvZmZzZXQgPSB0aGlzLnRva2VuaXplci5wb3NpdGlvbjtcbiAgICAgICAgY29uc3QgaW5mb1RhZyA9IGF3YWl0IHJlYWRYaW5nSGVhZGVyKHRoaXMudG9rZW5pemVyKTtcbiAgICAgICAgdGhpcy5vZmZzZXQgKz0gdGhpcy50b2tlbml6ZXIucG9zaXRpb24gLSBvZmZzZXQ7XG4gICAgICAgIGlmIChpbmZvVGFnLmxhbWUpIHtcbiAgICAgICAgICAgIHRoaXMubWV0YWRhdGEuc2V0Rm9ybWF0KCd0b29sJywgYExBTUUgJHtjb21tb24uc3RyaXBOdWxscyhpbmZvVGFnLmxhbWUudmVyc2lvbil9YCk7XG4gICAgICAgICAgICBpZiAoaW5mb1RhZy5sYW1lLmV4dGVuZGVkKSB7XG4gICAgICAgICAgICAgICAgLy8gdGhpcy5tZXRhZGF0YS5zZXRGb3JtYXQoJ3RyYWNrR2FpbicsIGluZm9UYWcubGFtZS5leHRlbmRlZC50cmFja19nYWluKTtcbiAgICAgICAgICAgICAgICB0aGlzLm1ldGFkYXRhLnNldEZvcm1hdCgndHJhY2tQZWFrTGV2ZWwnLCBpbmZvVGFnLmxhbWUuZXh0ZW5kZWQudHJhY2tfcGVhayk7XG4gICAgICAgICAgICAgICAgaWYgKGluZm9UYWcubGFtZS5leHRlbmRlZC50cmFja19nYWluKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubWV0YWRhdGEuc2V0Rm9ybWF0KCd0cmFja0dhaW4nLCBpbmZvVGFnLmxhbWUuZXh0ZW5kZWQudHJhY2tfZ2Fpbi5hZGp1c3RtZW50KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGluZm9UYWcubGFtZS5leHRlbmRlZC5hbGJ1bV9nYWluKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubWV0YWRhdGEuc2V0Rm9ybWF0KCdhbGJ1bUdhaW4nLCBpbmZvVGFnLmxhbWUuZXh0ZW5kZWQuYWxidW1fZ2Fpbi5hZGp1c3RtZW50KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5tZXRhZGF0YS5zZXRGb3JtYXQoJ2R1cmF0aW9uJywgaW5mb1RhZy5sYW1lLmV4dGVuZGVkLm11c2ljX2xlbmd0aCAvIDEwMDApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChpbmZvVGFnLnN0cmVhbVNpemUgJiYgdGhpcy5hdWRpb0ZyYW1lSGVhZGVyICYmIGluZm9UYWcubnVtRnJhbWVzICE9PSBudWxsKSB7XG4gICAgICAgICAgICBjb25zdCBkdXJhdGlvbiA9IHRoaXMuYXVkaW9GcmFtZUhlYWRlci5jYWxjRHVyYXRpb24oaW5mb1RhZy5udW1GcmFtZXMpO1xuICAgICAgICAgICAgdGhpcy5tZXRhZGF0YS5zZXRGb3JtYXQoJ2R1cmF0aW9uJywgZHVyYXRpb24pO1xuICAgICAgICAgICAgZGVidWcoJ0dldCBkdXJhdGlvbiBmcm9tIFhpbmcgaGVhZGVyOiAlcycsIHRoaXMubWV0YWRhdGEuZm9ybWF0LmR1cmF0aW9uKTtcbiAgICAgICAgICAgIHJldHVybiBpbmZvVGFnO1xuICAgICAgICB9XG4gICAgICAgIC8vIGZyYW1lcyBmaWVsZCBpcyBub3QgcHJlc2VudFxuICAgICAgICBjb25zdCBmcmFtZURhdGFMZWZ0ID0gdGhpcy5mcmFtZV9zaXplIC0gdGhpcy5vZmZzZXQ7XG4gICAgICAgIGF3YWl0IHRoaXMuc2tpcEZyYW1lRGF0YShmcmFtZURhdGFMZWZ0KTtcbiAgICAgICAgcmV0dXJuIGluZm9UYWc7XG4gICAgfVxuICAgIGFzeW5jIHNraXBGcmFtZURhdGEoZnJhbWVEYXRhTGVmdCkge1xuICAgICAgICBpZiAoZnJhbWVEYXRhTGVmdCA8IDApXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2ZyYW1lLWRhdGEtbGVmdCBjYW5ub3QgYmUgbmVnYXRpdmUnKTtcbiAgICAgICAgYXdhaXQgdGhpcy50b2tlbml6ZXIuaWdub3JlKGZyYW1lRGF0YUxlZnQpO1xuICAgICAgICB0aGlzLmNvdW50U2tpcEZyYW1lRGF0YSArPSBmcmFtZURhdGFMZWZ0O1xuICAgIH1cbiAgICBhcmVBbGxTYW1lKGFycmF5KSB7XG4gICAgICAgIGNvbnN0IGZpcnN0ID0gYXJyYXlbMF07XG4gICAgICAgIHJldHVybiBhcnJheS5ldmVyeShlbGVtZW50ID0+IHtcbiAgICAgICAgICAgIHJldHVybiBlbGVtZW50ID09PSBmaXJzdDtcbiAgICAgICAgfSk7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9TXBlZ1BhcnNlci5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/music-metadata/lib/mpeg/MpegParser.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/music-metadata/lib/mpeg/ReplayGainDataFormat.js":
/*!**********************************************************************!*\
  !*** ./node_modules/music-metadata/lib/mpeg/ReplayGainDataFormat.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ReplayGain: () => (/* binding */ ReplayGain)\n/* harmony export */ });\n/* harmony import */ var _common_Util_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../common/Util.js */ \"(ssr)/./node_modules/music-metadata/lib/common/Util.js\");\n\n/**\n * https://github.com/Borewit/music-metadata/wiki/Replay-Gain-Data-Format#name-code\n */\nvar NameCode;\n(function (NameCode) {\n    /**\n     * not set\n     */\n    NameCode[NameCode[\"not_set\"] = 0] = \"not_set\";\n    /**\n     * Radio Gain Adjustment\n     */\n    NameCode[NameCode[\"radio\"] = 1] = \"radio\";\n    /**\n     * Audiophile Gain Adjustment\n     */\n    NameCode[NameCode[\"audiophile\"] = 2] = \"audiophile\";\n})(NameCode || (NameCode = {}));\n/**\n * https://github.com/Borewit/music-metadata/wiki/Replay-Gain-Data-Format#originator-code\n */\nvar ReplayGainOriginator;\n(function (ReplayGainOriginator) {\n    /**\n     * Replay Gain unspecified\n     */\n    ReplayGainOriginator[ReplayGainOriginator[\"unspecified\"] = 0] = \"unspecified\";\n    /**\n     * Replay Gain pre-set by artist/producer/mastering engineer\n     */\n    ReplayGainOriginator[ReplayGainOriginator[\"engineer\"] = 1] = \"engineer\";\n    /**\n     * Replay Gain set by user\n     */\n    ReplayGainOriginator[ReplayGainOriginator[\"user\"] = 2] = \"user\";\n    /**\n     * Replay Gain determined automatically, as described on this site\n     */\n    ReplayGainOriginator[ReplayGainOriginator[\"automatic\"] = 3] = \"automatic\";\n    /**\n     * Set by simple RMS average\n     */\n    ReplayGainOriginator[ReplayGainOriginator[\"rms_average\"] = 4] = \"rms_average\";\n})(ReplayGainOriginator || (ReplayGainOriginator = {}));\n/**\n * Replay Gain Data Format\n *\n * https://github.com/Borewit/music-metadata/wiki/Replay-Gain-Data-Format\n */\nconst ReplayGain = {\n    len: 2,\n    get: (buf, off) => {\n        const gain_type = _common_Util_js__WEBPACK_IMPORTED_MODULE_0__.getBitAllignedNumber(buf, off, 0, 3);\n        const sign = _common_Util_js__WEBPACK_IMPORTED_MODULE_0__.getBitAllignedNumber(buf, off, 6, 1);\n        const gain_adj = _common_Util_js__WEBPACK_IMPORTED_MODULE_0__.getBitAllignedNumber(buf, off, 7, 9) / 10.0;\n        if (gain_type > 0) {\n            return {\n                type: _common_Util_js__WEBPACK_IMPORTED_MODULE_0__.getBitAllignedNumber(buf, off, 0, 3),\n                origin: _common_Util_js__WEBPACK_IMPORTED_MODULE_0__.getBitAllignedNumber(buf, off, 3, 3),\n                adjustment: (sign ? -gain_adj : gain_adj)\n            };\n        }\n        return undefined;\n    }\n};\n//# sourceMappingURL=ReplayGainDataFormat.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbXVzaWMtbWV0YWRhdGEvbGliL21wZWcvUmVwbGF5R2FpbkRhdGFGb3JtYXQuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBNEM7QUFDNUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMsNEJBQTRCO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyxvREFBb0Q7QUFDckQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBLDBCQUEwQixpRUFBMkI7QUFDckQscUJBQXFCLGlFQUEyQjtBQUNoRCx5QkFBeUIsaUVBQTJCO0FBQ3BEO0FBQ0E7QUFDQSxzQkFBc0IsaUVBQTJCO0FBQ2pELHdCQUF3QixpRUFBMkI7QUFDbkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9kZXZlbGV2YXRlLy4vbm9kZV9tb2R1bGVzL211c2ljLW1ldGFkYXRhL2xpYi9tcGVnL1JlcGxheUdhaW5EYXRhRm9ybWF0LmpzPzk4YzMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICogYXMgY29tbW9uIGZyb20gJy4uL2NvbW1vbi9VdGlsLmpzJztcbi8qKlxuICogaHR0cHM6Ly9naXRodWIuY29tL0JvcmV3aXQvbXVzaWMtbWV0YWRhdGEvd2lraS9SZXBsYXktR2Fpbi1EYXRhLUZvcm1hdCNuYW1lLWNvZGVcbiAqL1xudmFyIE5hbWVDb2RlO1xuKGZ1bmN0aW9uIChOYW1lQ29kZSkge1xuICAgIC8qKlxuICAgICAqIG5vdCBzZXRcbiAgICAgKi9cbiAgICBOYW1lQ29kZVtOYW1lQ29kZVtcIm5vdF9zZXRcIl0gPSAwXSA9IFwibm90X3NldFwiO1xuICAgIC8qKlxuICAgICAqIFJhZGlvIEdhaW4gQWRqdXN0bWVudFxuICAgICAqL1xuICAgIE5hbWVDb2RlW05hbWVDb2RlW1wicmFkaW9cIl0gPSAxXSA9IFwicmFkaW9cIjtcbiAgICAvKipcbiAgICAgKiBBdWRpb3BoaWxlIEdhaW4gQWRqdXN0bWVudFxuICAgICAqL1xuICAgIE5hbWVDb2RlW05hbWVDb2RlW1wiYXVkaW9waGlsZVwiXSA9IDJdID0gXCJhdWRpb3BoaWxlXCI7XG59KShOYW1lQ29kZSB8fCAoTmFtZUNvZGUgPSB7fSkpO1xuLyoqXG4gKiBodHRwczovL2dpdGh1Yi5jb20vQm9yZXdpdC9tdXNpYy1tZXRhZGF0YS93aWtpL1JlcGxheS1HYWluLURhdGEtRm9ybWF0I29yaWdpbmF0b3ItY29kZVxuICovXG52YXIgUmVwbGF5R2Fpbk9yaWdpbmF0b3I7XG4oZnVuY3Rpb24gKFJlcGxheUdhaW5PcmlnaW5hdG9yKSB7XG4gICAgLyoqXG4gICAgICogUmVwbGF5IEdhaW4gdW5zcGVjaWZpZWRcbiAgICAgKi9cbiAgICBSZXBsYXlHYWluT3JpZ2luYXRvcltSZXBsYXlHYWluT3JpZ2luYXRvcltcInVuc3BlY2lmaWVkXCJdID0gMF0gPSBcInVuc3BlY2lmaWVkXCI7XG4gICAgLyoqXG4gICAgICogUmVwbGF5IEdhaW4gcHJlLXNldCBieSBhcnRpc3QvcHJvZHVjZXIvbWFzdGVyaW5nIGVuZ2luZWVyXG4gICAgICovXG4gICAgUmVwbGF5R2Fpbk9yaWdpbmF0b3JbUmVwbGF5R2Fpbk9yaWdpbmF0b3JbXCJlbmdpbmVlclwiXSA9IDFdID0gXCJlbmdpbmVlclwiO1xuICAgIC8qKlxuICAgICAqIFJlcGxheSBHYWluIHNldCBieSB1c2VyXG4gICAgICovXG4gICAgUmVwbGF5R2Fpbk9yaWdpbmF0b3JbUmVwbGF5R2Fpbk9yaWdpbmF0b3JbXCJ1c2VyXCJdID0gMl0gPSBcInVzZXJcIjtcbiAgICAvKipcbiAgICAgKiBSZXBsYXkgR2FpbiBkZXRlcm1pbmVkIGF1dG9tYXRpY2FsbHksIGFzIGRlc2NyaWJlZCBvbiB0aGlzIHNpdGVcbiAgICAgKi9cbiAgICBSZXBsYXlHYWluT3JpZ2luYXRvcltSZXBsYXlHYWluT3JpZ2luYXRvcltcImF1dG9tYXRpY1wiXSA9IDNdID0gXCJhdXRvbWF0aWNcIjtcbiAgICAvKipcbiAgICAgKiBTZXQgYnkgc2ltcGxlIFJNUyBhdmVyYWdlXG4gICAgICovXG4gICAgUmVwbGF5R2Fpbk9yaWdpbmF0b3JbUmVwbGF5R2Fpbk9yaWdpbmF0b3JbXCJybXNfYXZlcmFnZVwiXSA9IDRdID0gXCJybXNfYXZlcmFnZVwiO1xufSkoUmVwbGF5R2Fpbk9yaWdpbmF0b3IgfHwgKFJlcGxheUdhaW5PcmlnaW5hdG9yID0ge30pKTtcbi8qKlxuICogUmVwbGF5IEdhaW4gRGF0YSBGb3JtYXRcbiAqXG4gKiBodHRwczovL2dpdGh1Yi5jb20vQm9yZXdpdC9tdXNpYy1tZXRhZGF0YS93aWtpL1JlcGxheS1HYWluLURhdGEtRm9ybWF0XG4gKi9cbmV4cG9ydCBjb25zdCBSZXBsYXlHYWluID0ge1xuICAgIGxlbjogMixcbiAgICBnZXQ6IChidWYsIG9mZikgPT4ge1xuICAgICAgICBjb25zdCBnYWluX3R5cGUgPSBjb21tb24uZ2V0Qml0QWxsaWduZWROdW1iZXIoYnVmLCBvZmYsIDAsIDMpO1xuICAgICAgICBjb25zdCBzaWduID0gY29tbW9uLmdldEJpdEFsbGlnbmVkTnVtYmVyKGJ1Ziwgb2ZmLCA2LCAxKTtcbiAgICAgICAgY29uc3QgZ2Fpbl9hZGogPSBjb21tb24uZ2V0Qml0QWxsaWduZWROdW1iZXIoYnVmLCBvZmYsIDcsIDkpIC8gMTAuMDtcbiAgICAgICAgaWYgKGdhaW5fdHlwZSA+IDApIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgdHlwZTogY29tbW9uLmdldEJpdEFsbGlnbmVkTnVtYmVyKGJ1Ziwgb2ZmLCAwLCAzKSxcbiAgICAgICAgICAgICAgICBvcmlnaW46IGNvbW1vbi5nZXRCaXRBbGxpZ25lZE51bWJlcihidWYsIG9mZiwgMywgMyksXG4gICAgICAgICAgICAgICAgYWRqdXN0bWVudDogKHNpZ24gPyAtZ2Fpbl9hZGogOiBnYWluX2FkailcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9UmVwbGF5R2FpbkRhdGFGb3JtYXQuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/music-metadata/lib/mpeg/ReplayGainDataFormat.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/music-metadata/lib/mpeg/XingTag.js":
/*!*********************************************************!*\
  !*** ./node_modules/music-metadata/lib/mpeg/XingTag.js ***!
  \*********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   InfoTagHeaderTag: () => (/* binding */ InfoTagHeaderTag),\n/* harmony export */   LameEncoderVersion: () => (/* binding */ LameEncoderVersion),\n/* harmony export */   XingHeaderFlags: () => (/* binding */ XingHeaderFlags),\n/* harmony export */   readXingHeader: () => (/* binding */ readXingHeader)\n/* harmony export */ });\n/* harmony import */ var token_types__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! token-types */ \"(ssr)/./node_modules/token-types/lib/index.js\");\n/* harmony import */ var _common_Util_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../common/Util.js */ \"(ssr)/./node_modules/music-metadata/lib/common/Util.js\");\n/* harmony import */ var _ExtendedLameHeader_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./ExtendedLameHeader.js */ \"(ssr)/./node_modules/music-metadata/lib/mpeg/ExtendedLameHeader.js\");\n\n\n\n/**\n * Info Tag: Xing, LAME\n */\nconst InfoTagHeaderTag = new token_types__WEBPACK_IMPORTED_MODULE_0__.StringType(4, 'ascii');\n/**\n * LAME TAG value\n * Did not find any official documentation for this\n * Value e.g.: \"3.98.4\"\n */\nconst LameEncoderVersion = new token_types__WEBPACK_IMPORTED_MODULE_0__.StringType(6, 'ascii');\n/**\n * Info Tag\n * Ref: http://gabriel.mp3-tech.org/mp3infotag.html\n */\nconst XingHeaderFlags = {\n    len: 4,\n    get: (buf, off) => {\n        return {\n            frames: _common_Util_js__WEBPACK_IMPORTED_MODULE_1__.isBitSet(buf, off, 31),\n            bytes: _common_Util_js__WEBPACK_IMPORTED_MODULE_1__.isBitSet(buf, off, 30),\n            toc: _common_Util_js__WEBPACK_IMPORTED_MODULE_1__.isBitSet(buf, off, 29),\n            vbrScale: _common_Util_js__WEBPACK_IMPORTED_MODULE_1__.isBitSet(buf, off, 28)\n        };\n    }\n};\n// /**\n//  * XING Header Tag\n//  * Ref: http://gabriel.mp3-tech.org/mp3infotag.html\n//  */\nasync function readXingHeader(tokenizer) {\n    const flags = await tokenizer.readToken(XingHeaderFlags);\n    const xingInfoTag = { numFrames: null, streamSize: null, vbrScale: null };\n    if (flags.frames) {\n        xingInfoTag.numFrames = await tokenizer.readToken(token_types__WEBPACK_IMPORTED_MODULE_0__.UINT32_BE);\n    }\n    if (flags.bytes) {\n        xingInfoTag.streamSize = await tokenizer.readToken(token_types__WEBPACK_IMPORTED_MODULE_0__.UINT32_BE);\n    }\n    if (flags.toc) {\n        xingInfoTag.toc = new Uint8Array(100);\n        await tokenizer.readBuffer(xingInfoTag.toc);\n    }\n    if (flags.vbrScale) {\n        xingInfoTag.vbrScale = await tokenizer.readToken(token_types__WEBPACK_IMPORTED_MODULE_0__.UINT32_BE);\n    }\n    const lameTag = await tokenizer.peekToken(new token_types__WEBPACK_IMPORTED_MODULE_0__.StringType(4, 'ascii'));\n    if (lameTag === 'LAME') {\n        await tokenizer.ignore(4);\n        xingInfoTag.lame = {\n            version: await tokenizer.readToken(new token_types__WEBPACK_IMPORTED_MODULE_0__.StringType(5, 'ascii'))\n        };\n        const match = xingInfoTag.lame.version.match(/\\d+.\\d+/g);\n        if (match !== null) {\n            const majorMinorVersion = match[0]; // e.g. 3.97\n            const version = majorMinorVersion.split('.').map(n => Number.parseInt(n, 10));\n            if (version[0] >= 3 && version[1] >= 90) {\n                xingInfoTag.lame.extended = await tokenizer.readToken(_ExtendedLameHeader_js__WEBPACK_IMPORTED_MODULE_2__.ExtendedLameHeader);\n            }\n        }\n    }\n    return xingInfoTag;\n}\n//# sourceMappingURL=XingTag.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbXVzaWMtbWV0YWRhdGEvbGliL21wZWcvWGluZ1RhZy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQXFDO0FBQ0s7QUFDbUI7QUFDN0Q7QUFDQTtBQUNBO0FBQ08sNkJBQTZCLG1EQUFnQjtBQUNwRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ08sK0JBQStCLG1EQUFnQjtBQUN0RDtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLHFEQUFhO0FBQ2pDLG1CQUFtQixxREFBYTtBQUNoQyxpQkFBaUIscURBQWE7QUFDOUIsc0JBQXNCLHFEQUFhO0FBQ25DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBLDBCQUEwQjtBQUMxQjtBQUNBLDBEQUEwRCxrREFBZTtBQUN6RTtBQUNBO0FBQ0EsMkRBQTJELGtEQUFlO0FBQzFFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlEQUF5RCxrREFBZTtBQUN4RTtBQUNBLGtEQUFrRCxtREFBZ0I7QUFDbEU7QUFDQTtBQUNBO0FBQ0EsbURBQW1ELG1EQUFnQjtBQUNuRTtBQUNBO0FBQ0E7QUFDQSxnREFBZ0Q7QUFDaEQ7QUFDQTtBQUNBLHNFQUFzRSxzRUFBa0I7QUFDeEY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZGV2ZWxldmF0ZS8uL25vZGVfbW9kdWxlcy9tdXNpYy1tZXRhZGF0YS9saWIvbXBlZy9YaW5nVGFnLmpzPzAwYTQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICogYXMgVG9rZW4gZnJvbSAndG9rZW4tdHlwZXMnO1xuaW1wb3J0ICogYXMgdXRpbCBmcm9tICcuLi9jb21tb24vVXRpbC5qcyc7XG5pbXBvcnQgeyBFeHRlbmRlZExhbWVIZWFkZXIgfSBmcm9tICcuL0V4dGVuZGVkTGFtZUhlYWRlci5qcyc7XG4vKipcbiAqIEluZm8gVGFnOiBYaW5nLCBMQU1FXG4gKi9cbmV4cG9ydCBjb25zdCBJbmZvVGFnSGVhZGVyVGFnID0gbmV3IFRva2VuLlN0cmluZ1R5cGUoNCwgJ2FzY2lpJyk7XG4vKipcbiAqIExBTUUgVEFHIHZhbHVlXG4gKiBEaWQgbm90IGZpbmQgYW55IG9mZmljaWFsIGRvY3VtZW50YXRpb24gZm9yIHRoaXNcbiAqIFZhbHVlIGUuZy46IFwiMy45OC40XCJcbiAqL1xuZXhwb3J0IGNvbnN0IExhbWVFbmNvZGVyVmVyc2lvbiA9IG5ldyBUb2tlbi5TdHJpbmdUeXBlKDYsICdhc2NpaScpO1xuLyoqXG4gKiBJbmZvIFRhZ1xuICogUmVmOiBodHRwOi8vZ2FicmllbC5tcDMtdGVjaC5vcmcvbXAzaW5mb3RhZy5odG1sXG4gKi9cbmV4cG9ydCBjb25zdCBYaW5nSGVhZGVyRmxhZ3MgPSB7XG4gICAgbGVuOiA0LFxuICAgIGdldDogKGJ1Ziwgb2ZmKSA9PiB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBmcmFtZXM6IHV0aWwuaXNCaXRTZXQoYnVmLCBvZmYsIDMxKSxcbiAgICAgICAgICAgIGJ5dGVzOiB1dGlsLmlzQml0U2V0KGJ1Ziwgb2ZmLCAzMCksXG4gICAgICAgICAgICB0b2M6IHV0aWwuaXNCaXRTZXQoYnVmLCBvZmYsIDI5KSxcbiAgICAgICAgICAgIHZiclNjYWxlOiB1dGlsLmlzQml0U2V0KGJ1Ziwgb2ZmLCAyOClcbiAgICAgICAgfTtcbiAgICB9XG59O1xuLy8gLyoqXG4vLyAgKiBYSU5HIEhlYWRlciBUYWdcbi8vICAqIFJlZjogaHR0cDovL2dhYnJpZWwubXAzLXRlY2gub3JnL21wM2luZm90YWcuaHRtbFxuLy8gICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gcmVhZFhpbmdIZWFkZXIodG9rZW5pemVyKSB7XG4gICAgY29uc3QgZmxhZ3MgPSBhd2FpdCB0b2tlbml6ZXIucmVhZFRva2VuKFhpbmdIZWFkZXJGbGFncyk7XG4gICAgY29uc3QgeGluZ0luZm9UYWcgPSB7IG51bUZyYW1lczogbnVsbCwgc3RyZWFtU2l6ZTogbnVsbCwgdmJyU2NhbGU6IG51bGwgfTtcbiAgICBpZiAoZmxhZ3MuZnJhbWVzKSB7XG4gICAgICAgIHhpbmdJbmZvVGFnLm51bUZyYW1lcyA9IGF3YWl0IHRva2VuaXplci5yZWFkVG9rZW4oVG9rZW4uVUlOVDMyX0JFKTtcbiAgICB9XG4gICAgaWYgKGZsYWdzLmJ5dGVzKSB7XG4gICAgICAgIHhpbmdJbmZvVGFnLnN0cmVhbVNpemUgPSBhd2FpdCB0b2tlbml6ZXIucmVhZFRva2VuKFRva2VuLlVJTlQzMl9CRSk7XG4gICAgfVxuICAgIGlmIChmbGFncy50b2MpIHtcbiAgICAgICAgeGluZ0luZm9UYWcudG9jID0gbmV3IFVpbnQ4QXJyYXkoMTAwKTtcbiAgICAgICAgYXdhaXQgdG9rZW5pemVyLnJlYWRCdWZmZXIoeGluZ0luZm9UYWcudG9jKTtcbiAgICB9XG4gICAgaWYgKGZsYWdzLnZiclNjYWxlKSB7XG4gICAgICAgIHhpbmdJbmZvVGFnLnZiclNjYWxlID0gYXdhaXQgdG9rZW5pemVyLnJlYWRUb2tlbihUb2tlbi5VSU5UMzJfQkUpO1xuICAgIH1cbiAgICBjb25zdCBsYW1lVGFnID0gYXdhaXQgdG9rZW5pemVyLnBlZWtUb2tlbihuZXcgVG9rZW4uU3RyaW5nVHlwZSg0LCAnYXNjaWknKSk7XG4gICAgaWYgKGxhbWVUYWcgPT09ICdMQU1FJykge1xuICAgICAgICBhd2FpdCB0b2tlbml6ZXIuaWdub3JlKDQpO1xuICAgICAgICB4aW5nSW5mb1RhZy5sYW1lID0ge1xuICAgICAgICAgICAgdmVyc2lvbjogYXdhaXQgdG9rZW5pemVyLnJlYWRUb2tlbihuZXcgVG9rZW4uU3RyaW5nVHlwZSg1LCAnYXNjaWknKSlcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgbWF0Y2ggPSB4aW5nSW5mb1RhZy5sYW1lLnZlcnNpb24ubWF0Y2goL1xcZCsuXFxkKy9nKTtcbiAgICAgICAgaWYgKG1hdGNoICE9PSBudWxsKSB7XG4gICAgICAgICAgICBjb25zdCBtYWpvck1pbm9yVmVyc2lvbiA9IG1hdGNoWzBdOyAvLyBlLmcuIDMuOTdcbiAgICAgICAgICAgIGNvbnN0IHZlcnNpb24gPSBtYWpvck1pbm9yVmVyc2lvbi5zcGxpdCgnLicpLm1hcChuID0+IE51bWJlci5wYXJzZUludChuLCAxMCkpO1xuICAgICAgICAgICAgaWYgKHZlcnNpb25bMF0gPj0gMyAmJiB2ZXJzaW9uWzFdID49IDkwKSB7XG4gICAgICAgICAgICAgICAgeGluZ0luZm9UYWcubGFtZS5leHRlbmRlZCA9IGF3YWl0IHRva2VuaXplci5yZWFkVG9rZW4oRXh0ZW5kZWRMYW1lSGVhZGVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4geGluZ0luZm9UYWc7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1YaW5nVGFnLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/music-metadata/lib/mpeg/XingTag.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/music-metadata/lib/musepack/index.js":
/*!***********************************************************!*\
  !*** ./node_modules/music-metadata/lib/musepack/index.js ***!
  \***********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var debug__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! debug */ \"(ssr)/./node_modules/debug/src/index.js\");\n/* harmony import */ var token_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! token-types */ \"(ssr)/./node_modules/token-types/lib/index.js\");\n/* harmony import */ var _id3v2_AbstractID3Parser_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../id3v2/AbstractID3Parser.js */ \"(ssr)/./node_modules/music-metadata/lib/id3v2/AbstractID3Parser.js\");\n/* harmony import */ var _sv8_MpcSv8Parser_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./sv8/MpcSv8Parser.js */ \"(ssr)/./node_modules/music-metadata/lib/musepack/sv8/MpcSv8Parser.js\");\n/* harmony import */ var _sv7_MpcSv7Parser_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./sv7/MpcSv7Parser.js */ \"(ssr)/./node_modules/music-metadata/lib/musepack/sv7/MpcSv7Parser.js\");\n\n\n\n\n\nconst debug = debug__WEBPACK_IMPORTED_MODULE_0__('music-metadata:parser:musepack');\nclass MusepackParser extends _id3v2_AbstractID3Parser_js__WEBPACK_IMPORTED_MODULE_2__.AbstractID3Parser {\n    async postId3v2Parse() {\n        const signature = await this.tokenizer.peekToken(new token_types__WEBPACK_IMPORTED_MODULE_1__.StringType(3, 'latin1'));\n        let mpcParser;\n        switch (signature) {\n            case 'MP+': {\n                debug('Musepack stream-version 7');\n                mpcParser = new _sv7_MpcSv7Parser_js__WEBPACK_IMPORTED_MODULE_4__.MpcSv7Parser();\n                break;\n            }\n            case 'MPC': {\n                debug('Musepack stream-version 8');\n                mpcParser = new _sv8_MpcSv8Parser_js__WEBPACK_IMPORTED_MODULE_3__.MpcSv8Parser();\n                break;\n            }\n            default: {\n                throw new Error('Invalid Musepack signature prefix');\n            }\n        }\n        mpcParser.init(this.metadata, this.tokenizer, this.options);\n        return mpcParser.parse();\n    }\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (MusepackParser);\n//# sourceMappingURL=index.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbXVzaWMtbWV0YWRhdGEvbGliL211c2VwYWNrL2luZGV4LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUE4QjtBQUNPO0FBQzZCO0FBQ2I7QUFDQTtBQUNyRCxjQUFjLGtDQUFTO0FBQ3ZCLDZCQUE2QiwwRUFBaUI7QUFDOUM7QUFDQSw2REFBNkQsbURBQWdCO0FBQzdFO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDLDhEQUFZO0FBQzVDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDLDhEQUFZO0FBQzVDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUVBQWUsY0FBYyxFQUFDO0FBQzlCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZGV2ZWxldmF0ZS8uL25vZGVfbW9kdWxlcy9tdXNpYy1tZXRhZGF0YS9saWIvbXVzZXBhY2svaW5kZXguanM/YjQ3ZiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgaW5pdERlYnVnIGZyb20gJ2RlYnVnJztcbmltcG9ydCAqIGFzIFRva2VuIGZyb20gJ3Rva2VuLXR5cGVzJztcbmltcG9ydCB7IEFic3RyYWN0SUQzUGFyc2VyIH0gZnJvbSAnLi4vaWQzdjIvQWJzdHJhY3RJRDNQYXJzZXIuanMnO1xuaW1wb3J0IHsgTXBjU3Y4UGFyc2VyIH0gZnJvbSAnLi9zdjgvTXBjU3Y4UGFyc2VyLmpzJztcbmltcG9ydCB7IE1wY1N2N1BhcnNlciB9IGZyb20gJy4vc3Y3L01wY1N2N1BhcnNlci5qcyc7XG5jb25zdCBkZWJ1ZyA9IGluaXREZWJ1ZygnbXVzaWMtbWV0YWRhdGE6cGFyc2VyOm11c2VwYWNrJyk7XG5jbGFzcyBNdXNlcGFja1BhcnNlciBleHRlbmRzIEFic3RyYWN0SUQzUGFyc2VyIHtcbiAgICBhc3luYyBwb3N0SWQzdjJQYXJzZSgpIHtcbiAgICAgICAgY29uc3Qgc2lnbmF0dXJlID0gYXdhaXQgdGhpcy50b2tlbml6ZXIucGVla1Rva2VuKG5ldyBUb2tlbi5TdHJpbmdUeXBlKDMsICdsYXRpbjEnKSk7XG4gICAgICAgIGxldCBtcGNQYXJzZXI7XG4gICAgICAgIHN3aXRjaCAoc2lnbmF0dXJlKSB7XG4gICAgICAgICAgICBjYXNlICdNUCsnOiB7XG4gICAgICAgICAgICAgICAgZGVidWcoJ011c2VwYWNrIHN0cmVhbS12ZXJzaW9uIDcnKTtcbiAgICAgICAgICAgICAgICBtcGNQYXJzZXIgPSBuZXcgTXBjU3Y3UGFyc2VyKCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlICdNUEMnOiB7XG4gICAgICAgICAgICAgICAgZGVidWcoJ011c2VwYWNrIHN0cmVhbS12ZXJzaW9uIDgnKTtcbiAgICAgICAgICAgICAgICBtcGNQYXJzZXIgPSBuZXcgTXBjU3Y4UGFyc2VyKCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBkZWZhdWx0OiB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIE11c2VwYWNrIHNpZ25hdHVyZSBwcmVmaXgnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBtcGNQYXJzZXIuaW5pdCh0aGlzLm1ldGFkYXRhLCB0aGlzLnRva2VuaXplciwgdGhpcy5vcHRpb25zKTtcbiAgICAgICAgcmV0dXJuIG1wY1BhcnNlci5wYXJzZSgpO1xuICAgIH1cbn1cbmV4cG9ydCBkZWZhdWx0IE11c2VwYWNrUGFyc2VyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/music-metadata/lib/musepack/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/music-metadata/lib/musepack/sv7/BitReader.js":
/*!*******************************************************************!*\
  !*** ./node_modules/music-metadata/lib/musepack/sv7/BitReader.js ***!
  \*******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BitReader: () => (/* binding */ BitReader)\n/* harmony export */ });\n/* harmony import */ var token_types__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! token-types */ \"(ssr)/./node_modules/token-types/lib/index.js\");\n\nclass BitReader {\n    constructor(tokenizer) {\n        this.tokenizer = tokenizer;\n        this.pos = 0;\n        this.dword = null;\n    }\n    /**\n     *\n     * @param bits 1..30 bits\n     */\n    async read(bits) {\n        while (this.dword === null) {\n            this.dword = await this.tokenizer.readToken(token_types__WEBPACK_IMPORTED_MODULE_0__.UINT32_LE);\n        }\n        let out = this.dword;\n        this.pos += bits;\n        if (this.pos < 32) {\n            out >>>= (32 - this.pos);\n            return out & ((1 << bits) - 1);\n        }\n        this.pos -= 32;\n        if (this.pos === 0) {\n            this.dword = null;\n            return out & ((1 << bits) - 1);\n        }\n        this.dword = await this.tokenizer.readToken(token_types__WEBPACK_IMPORTED_MODULE_0__.UINT32_LE);\n        if (this.pos) {\n            out <<= this.pos;\n            out |= this.dword >>> (32 - this.pos);\n        }\n        return out & ((1 << bits) - 1);\n    }\n    async ignore(bits) {\n        if (this.pos > 0) {\n            const remaining = 32 - this.pos;\n            this.dword = null;\n            bits -= remaining;\n            this.pos = 0;\n        }\n        const remainder = bits % 32;\n        const numOfWords = (bits - remainder) / 32;\n        await this.tokenizer.ignore(numOfWords * 4);\n        return this.read(remainder);\n    }\n}\n//# sourceMappingURL=BitReader.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbXVzaWMtbWV0YWRhdGEvbGliL211c2VwYWNrL3N2Ny9CaXRSZWFkZXIuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBcUM7QUFDOUI7QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0RBQXdELGtEQUFlO0FBQ3ZFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9EQUFvRCxrREFBZTtBQUNuRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZGV2ZWxldmF0ZS8uL25vZGVfbW9kdWxlcy9tdXNpYy1tZXRhZGF0YS9saWIvbXVzZXBhY2svc3Y3L0JpdFJlYWRlci5qcz82NTIxIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAqIGFzIFRva2VuIGZyb20gJ3Rva2VuLXR5cGVzJztcbmV4cG9ydCBjbGFzcyBCaXRSZWFkZXIge1xuICAgIGNvbnN0cnVjdG9yKHRva2VuaXplcikge1xuICAgICAgICB0aGlzLnRva2VuaXplciA9IHRva2VuaXplcjtcbiAgICAgICAgdGhpcy5wb3MgPSAwO1xuICAgICAgICB0aGlzLmR3b3JkID0gbnVsbDtcbiAgICB9XG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBAcGFyYW0gYml0cyAxLi4zMCBiaXRzXG4gICAgICovXG4gICAgYXN5bmMgcmVhZChiaXRzKSB7XG4gICAgICAgIHdoaWxlICh0aGlzLmR3b3JkID09PSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLmR3b3JkID0gYXdhaXQgdGhpcy50b2tlbml6ZXIucmVhZFRva2VuKFRva2VuLlVJTlQzMl9MRSk7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IG91dCA9IHRoaXMuZHdvcmQ7XG4gICAgICAgIHRoaXMucG9zICs9IGJpdHM7XG4gICAgICAgIGlmICh0aGlzLnBvcyA8IDMyKSB7XG4gICAgICAgICAgICBvdXQgPj4+PSAoMzIgLSB0aGlzLnBvcyk7XG4gICAgICAgICAgICByZXR1cm4gb3V0ICYgKCgxIDw8IGJpdHMpIC0gMSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5wb3MgLT0gMzI7XG4gICAgICAgIGlmICh0aGlzLnBvcyA9PT0gMCkge1xuICAgICAgICAgICAgdGhpcy5kd29yZCA9IG51bGw7XG4gICAgICAgICAgICByZXR1cm4gb3V0ICYgKCgxIDw8IGJpdHMpIC0gMSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5kd29yZCA9IGF3YWl0IHRoaXMudG9rZW5pemVyLnJlYWRUb2tlbihUb2tlbi5VSU5UMzJfTEUpO1xuICAgICAgICBpZiAodGhpcy5wb3MpIHtcbiAgICAgICAgICAgIG91dCA8PD0gdGhpcy5wb3M7XG4gICAgICAgICAgICBvdXQgfD0gdGhpcy5kd29yZCA+Pj4gKDMyIC0gdGhpcy5wb3MpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBvdXQgJiAoKDEgPDwgYml0cykgLSAxKTtcbiAgICB9XG4gICAgYXN5bmMgaWdub3JlKGJpdHMpIHtcbiAgICAgICAgaWYgKHRoaXMucG9zID4gMCkge1xuICAgICAgICAgICAgY29uc3QgcmVtYWluaW5nID0gMzIgLSB0aGlzLnBvcztcbiAgICAgICAgICAgIHRoaXMuZHdvcmQgPSBudWxsO1xuICAgICAgICAgICAgYml0cyAtPSByZW1haW5pbmc7XG4gICAgICAgICAgICB0aGlzLnBvcyA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcmVtYWluZGVyID0gYml0cyAlIDMyO1xuICAgICAgICBjb25zdCBudW1PZldvcmRzID0gKGJpdHMgLSByZW1haW5kZXIpIC8gMzI7XG4gICAgICAgIGF3YWl0IHRoaXMudG9rZW5pemVyLmlnbm9yZShudW1PZldvcmRzICogNCk7XG4gICAgICAgIHJldHVybiB0aGlzLnJlYWQocmVtYWluZGVyKTtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1CaXRSZWFkZXIuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/music-metadata/lib/musepack/sv7/BitReader.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/music-metadata/lib/musepack/sv7/MpcSv7Parser.js":
/*!**********************************************************************!*\
  !*** ./node_modules/music-metadata/lib/musepack/sv7/MpcSv7Parser.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   MpcSv7Parser: () => (/* binding */ MpcSv7Parser)\n/* harmony export */ });\n/* harmony import */ var debug__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! debug */ \"(ssr)/./node_modules/debug/src/index.js\");\n/* harmony import */ var _common_BasicParser_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../common/BasicParser.js */ \"(ssr)/./node_modules/music-metadata/lib/common/BasicParser.js\");\n/* harmony import */ var _apev2_APEv2Parser_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../apev2/APEv2Parser.js */ \"(ssr)/./node_modules/music-metadata/lib/apev2/APEv2Parser.js\");\n/* harmony import */ var _BitReader_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./BitReader.js */ \"(ssr)/./node_modules/music-metadata/lib/musepack/sv7/BitReader.js\");\n/* harmony import */ var _StreamVersion7_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./StreamVersion7.js */ \"(ssr)/./node_modules/music-metadata/lib/musepack/sv7/StreamVersion7.js\");\n\n\n\n\n\nconst debug = debug__WEBPACK_IMPORTED_MODULE_0__('music-metadata:parser:musepack');\nclass MpcSv7Parser extends _common_BasicParser_js__WEBPACK_IMPORTED_MODULE_1__.BasicParser {\n    constructor() {\n        super(...arguments);\n        this.bitreader = null;\n        this.audioLength = 0;\n        this.duration = null;\n    }\n    async parse() {\n        const header = await this.tokenizer.readToken(_StreamVersion7_js__WEBPACK_IMPORTED_MODULE_4__.Header);\n        if (header.signature !== 'MP+')\n            throw new Error('Unexpected magic number');\n        debug(`stream-version=${header.streamMajorVersion}.${header.streamMinorVersion}`);\n        this.metadata.setFormat('container', 'Musepack, SV7');\n        this.metadata.setFormat('sampleRate', header.sampleFrequency);\n        const numberOfSamples = 1152 * (header.frameCount - 1) + header.lastFrameLength;\n        this.metadata.setFormat('numberOfSamples', numberOfSamples);\n        this.duration = numberOfSamples / header.sampleFrequency;\n        this.metadata.setFormat('duration', this.duration);\n        this.bitreader = new _BitReader_js__WEBPACK_IMPORTED_MODULE_3__.BitReader(this.tokenizer);\n        this.metadata.setFormat('numberOfChannels', header.midSideStereo || header.intensityStereo ? 2 : 1);\n        const version = await this.bitreader.read(8);\n        this.metadata.setFormat('codec', (version / 100).toFixed(2));\n        await this.skipAudioData(header.frameCount);\n        debug(`End of audio stream, switching to APEv2, offset=${this.tokenizer.position}`);\n        return _apev2_APEv2Parser_js__WEBPACK_IMPORTED_MODULE_2__.APEv2Parser.tryParseApeHeader(this.metadata, this.tokenizer, this.options);\n    }\n    async skipAudioData(frameCount) {\n        while (frameCount-- > 0) {\n            const frameLength = await this.bitreader.read(20);\n            this.audioLength += 20 + frameLength;\n            await this.bitreader.ignore(frameLength);\n        }\n        // last frame\n        const lastFrameLength = await this.bitreader.read(11);\n        this.audioLength += lastFrameLength;\n        if (this.duration !== null) {\n            this.metadata.setFormat('bitrate', this.audioLength / this.duration);\n        }\n    }\n}\n//# sourceMappingURL=MpcSv7Parser.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbXVzaWMtbWV0YWRhdGEvbGliL211c2VwYWNrL3N2Ny9NcGNTdjdQYXJzZXIuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQThCO0FBQzRCO0FBQ0Q7QUFDZDtBQUNBO0FBQzNDLGNBQWMsa0NBQVM7QUFDaEIsMkJBQTJCLCtEQUFXO0FBQzdDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0RBQXNELHNEQUFVO0FBQ2hFO0FBQ0E7QUFDQSxnQ0FBZ0MsMEJBQTBCLEdBQUcsMEJBQTBCO0FBQ3ZGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QixvREFBUztBQUN0QztBQUNBO0FBQ0E7QUFDQTtBQUNBLGlFQUFpRSx3QkFBd0I7QUFDekYsZUFBZSw4REFBVztBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2RldmVsZXZhdGUvLi9ub2RlX21vZHVsZXMvbXVzaWMtbWV0YWRhdGEvbGliL211c2VwYWNrL3N2Ny9NcGNTdjdQYXJzZXIuanM/NTgzMCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgaW5pdERlYnVnIGZyb20gJ2RlYnVnJztcbmltcG9ydCB7IEJhc2ljUGFyc2VyIH0gZnJvbSAnLi4vLi4vY29tbW9uL0Jhc2ljUGFyc2VyLmpzJztcbmltcG9ydCB7IEFQRXYyUGFyc2VyIH0gZnJvbSAnLi4vLi4vYXBldjIvQVBFdjJQYXJzZXIuanMnO1xuaW1wb3J0IHsgQml0UmVhZGVyIH0gZnJvbSAnLi9CaXRSZWFkZXIuanMnO1xuaW1wb3J0ICogYXMgU1Y3IGZyb20gJy4vU3RyZWFtVmVyc2lvbjcuanMnO1xuY29uc3QgZGVidWcgPSBpbml0RGVidWcoJ211c2ljLW1ldGFkYXRhOnBhcnNlcjptdXNlcGFjaycpO1xuZXhwb3J0IGNsYXNzIE1wY1N2N1BhcnNlciBleHRlbmRzIEJhc2ljUGFyc2VyIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoLi4uYXJndW1lbnRzKTtcbiAgICAgICAgdGhpcy5iaXRyZWFkZXIgPSBudWxsO1xuICAgICAgICB0aGlzLmF1ZGlvTGVuZ3RoID0gMDtcbiAgICAgICAgdGhpcy5kdXJhdGlvbiA9IG51bGw7XG4gICAgfVxuICAgIGFzeW5jIHBhcnNlKCkge1xuICAgICAgICBjb25zdCBoZWFkZXIgPSBhd2FpdCB0aGlzLnRva2VuaXplci5yZWFkVG9rZW4oU1Y3LkhlYWRlcik7XG4gICAgICAgIGlmIChoZWFkZXIuc2lnbmF0dXJlICE9PSAnTVArJylcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVW5leHBlY3RlZCBtYWdpYyBudW1iZXInKTtcbiAgICAgICAgZGVidWcoYHN0cmVhbS12ZXJzaW9uPSR7aGVhZGVyLnN0cmVhbU1ham9yVmVyc2lvbn0uJHtoZWFkZXIuc3RyZWFtTWlub3JWZXJzaW9ufWApO1xuICAgICAgICB0aGlzLm1ldGFkYXRhLnNldEZvcm1hdCgnY29udGFpbmVyJywgJ011c2VwYWNrLCBTVjcnKTtcbiAgICAgICAgdGhpcy5tZXRhZGF0YS5zZXRGb3JtYXQoJ3NhbXBsZVJhdGUnLCBoZWFkZXIuc2FtcGxlRnJlcXVlbmN5KTtcbiAgICAgICAgY29uc3QgbnVtYmVyT2ZTYW1wbGVzID0gMTE1MiAqIChoZWFkZXIuZnJhbWVDb3VudCAtIDEpICsgaGVhZGVyLmxhc3RGcmFtZUxlbmd0aDtcbiAgICAgICAgdGhpcy5tZXRhZGF0YS5zZXRGb3JtYXQoJ251bWJlck9mU2FtcGxlcycsIG51bWJlck9mU2FtcGxlcyk7XG4gICAgICAgIHRoaXMuZHVyYXRpb24gPSBudW1iZXJPZlNhbXBsZXMgLyBoZWFkZXIuc2FtcGxlRnJlcXVlbmN5O1xuICAgICAgICB0aGlzLm1ldGFkYXRhLnNldEZvcm1hdCgnZHVyYXRpb24nLCB0aGlzLmR1cmF0aW9uKTtcbiAgICAgICAgdGhpcy5iaXRyZWFkZXIgPSBuZXcgQml0UmVhZGVyKHRoaXMudG9rZW5pemVyKTtcbiAgICAgICAgdGhpcy5tZXRhZGF0YS5zZXRGb3JtYXQoJ251bWJlck9mQ2hhbm5lbHMnLCBoZWFkZXIubWlkU2lkZVN0ZXJlbyB8fCBoZWFkZXIuaW50ZW5zaXR5U3RlcmVvID8gMiA6IDEpO1xuICAgICAgICBjb25zdCB2ZXJzaW9uID0gYXdhaXQgdGhpcy5iaXRyZWFkZXIucmVhZCg4KTtcbiAgICAgICAgdGhpcy5tZXRhZGF0YS5zZXRGb3JtYXQoJ2NvZGVjJywgKHZlcnNpb24gLyAxMDApLnRvRml4ZWQoMikpO1xuICAgICAgICBhd2FpdCB0aGlzLnNraXBBdWRpb0RhdGEoaGVhZGVyLmZyYW1lQ291bnQpO1xuICAgICAgICBkZWJ1ZyhgRW5kIG9mIGF1ZGlvIHN0cmVhbSwgc3dpdGNoaW5nIHRvIEFQRXYyLCBvZmZzZXQ9JHt0aGlzLnRva2VuaXplci5wb3NpdGlvbn1gKTtcbiAgICAgICAgcmV0dXJuIEFQRXYyUGFyc2VyLnRyeVBhcnNlQXBlSGVhZGVyKHRoaXMubWV0YWRhdGEsIHRoaXMudG9rZW5pemVyLCB0aGlzLm9wdGlvbnMpO1xuICAgIH1cbiAgICBhc3luYyBza2lwQXVkaW9EYXRhKGZyYW1lQ291bnQpIHtcbiAgICAgICAgd2hpbGUgKGZyYW1lQ291bnQtLSA+IDApIHtcbiAgICAgICAgICAgIGNvbnN0IGZyYW1lTGVuZ3RoID0gYXdhaXQgdGhpcy5iaXRyZWFkZXIucmVhZCgyMCk7XG4gICAgICAgICAgICB0aGlzLmF1ZGlvTGVuZ3RoICs9IDIwICsgZnJhbWVMZW5ndGg7XG4gICAgICAgICAgICBhd2FpdCB0aGlzLmJpdHJlYWRlci5pZ25vcmUoZnJhbWVMZW5ndGgpO1xuICAgICAgICB9XG4gICAgICAgIC8vIGxhc3QgZnJhbWVcbiAgICAgICAgY29uc3QgbGFzdEZyYW1lTGVuZ3RoID0gYXdhaXQgdGhpcy5iaXRyZWFkZXIucmVhZCgxMSk7XG4gICAgICAgIHRoaXMuYXVkaW9MZW5ndGggKz0gbGFzdEZyYW1lTGVuZ3RoO1xuICAgICAgICBpZiAodGhpcy5kdXJhdGlvbiAhPT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy5tZXRhZGF0YS5zZXRGb3JtYXQoJ2JpdHJhdGUnLCB0aGlzLmF1ZGlvTGVuZ3RoIC8gdGhpcy5kdXJhdGlvbik7XG4gICAgICAgIH1cbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1NcGNTdjdQYXJzZXIuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/music-metadata/lib/musepack/sv7/MpcSv7Parser.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/music-metadata/lib/musepack/sv7/StreamVersion7.js":
/*!************************************************************************!*\
  !*** ./node_modules/music-metadata/lib/musepack/sv7/StreamVersion7.js ***!
  \************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Header: () => (/* binding */ Header)\n/* harmony export */ });\n/* harmony import */ var token_types__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! token-types */ \"(ssr)/./node_modules/token-types/lib/index.js\");\n/* harmony import */ var _common_Util_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../common/Util.js */ \"(ssr)/./node_modules/music-metadata/lib/common/Util.js\");\n\n\n/**\n * BASIC STRUCTURE\n */\nconst Header = {\n    len: 6 * 4,\n    get: (buf, off) => {\n        const header = {\n            // word 0\n            signature: new TextDecoder('latin1').decode(buf.subarray(off, off + 3)),\n            // versionIndex number * 1000 (3.81 = 3810) (remember that 4-byte alignment causes this to take 4-bytes)\n            streamMinorVersion: _common_Util_js__WEBPACK_IMPORTED_MODULE_1__.getBitAllignedNumber(buf, off + 3, 0, 4),\n            streamMajorVersion: _common_Util_js__WEBPACK_IMPORTED_MODULE_1__.getBitAllignedNumber(buf, off + 3, 4, 4),\n            // word 1\n            frameCount: token_types__WEBPACK_IMPORTED_MODULE_0__.UINT32_LE.get(buf, off + 4),\n            // word 2\n            maxLevel: token_types__WEBPACK_IMPORTED_MODULE_0__.UINT16_LE.get(buf, off + 8),\n            sampleFrequency: [44100, 48000, 37800, 32000][_common_Util_js__WEBPACK_IMPORTED_MODULE_1__.getBitAllignedNumber(buf, off + 10, 0, 2)],\n            link: _common_Util_js__WEBPACK_IMPORTED_MODULE_1__.getBitAllignedNumber(buf, off + 10, 2, 2),\n            profile: _common_Util_js__WEBPACK_IMPORTED_MODULE_1__.getBitAllignedNumber(buf, off + 10, 4, 4),\n            maxBand: _common_Util_js__WEBPACK_IMPORTED_MODULE_1__.getBitAllignedNumber(buf, off + 11, 0, 6),\n            intensityStereo: _common_Util_js__WEBPACK_IMPORTED_MODULE_1__.isBitSet(buf, off + 11, 6),\n            midSideStereo: _common_Util_js__WEBPACK_IMPORTED_MODULE_1__.isBitSet(buf, off + 11, 7),\n            // word 3\n            titlePeak: token_types__WEBPACK_IMPORTED_MODULE_0__.UINT16_LE.get(buf, off + 12),\n            titleGain: token_types__WEBPACK_IMPORTED_MODULE_0__.UINT16_LE.get(buf, off + 14),\n            // word 4\n            albumPeak: token_types__WEBPACK_IMPORTED_MODULE_0__.UINT16_LE.get(buf, off + 16),\n            albumGain: token_types__WEBPACK_IMPORTED_MODULE_0__.UINT16_LE.get(buf, off + 18),\n            // word\n            lastFrameLength: (token_types__WEBPACK_IMPORTED_MODULE_0__.UINT32_LE.get(buf, off + 20) >>> 20) & 0x7FF,\n            trueGapless: _common_Util_js__WEBPACK_IMPORTED_MODULE_1__.isBitSet(buf, off + 23, 0)\n        };\n        header.lastFrameLength = header.trueGapless ? (token_types__WEBPACK_IMPORTED_MODULE_0__.UINT32_LE.get(buf, 20) >>> 20) & 0x7FF : 0;\n        return header;\n    }\n};\n//# sourceMappingURL=StreamVersion7.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbXVzaWMtbWV0YWRhdGEvbGliL211c2VwYWNrL3N2Ny9TdHJlYW1WZXJzaW9uNy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBcUM7QUFDUTtBQUM3QztBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQyxpRUFBeUI7QUFDekQsZ0NBQWdDLGlFQUF5QjtBQUN6RDtBQUNBLHdCQUF3QixrREFBZTtBQUN2QztBQUNBLHNCQUFzQixrREFBZTtBQUNyQywwREFBMEQsaUVBQXlCO0FBQ25GLGtCQUFrQixpRUFBeUI7QUFDM0MscUJBQXFCLGlFQUF5QjtBQUM5QyxxQkFBcUIsaUVBQXlCO0FBQzlDLDZCQUE2QixxREFBYTtBQUMxQywyQkFBMkIscURBQWE7QUFDeEM7QUFDQSx1QkFBdUIsa0RBQWU7QUFDdEMsdUJBQXVCLGtEQUFlO0FBQ3RDO0FBQ0EsdUJBQXVCLGtEQUFlO0FBQ3RDLHVCQUF1QixrREFBZTtBQUN0QztBQUNBLDhCQUE4QixrREFBZTtBQUM3Qyx5QkFBeUIscURBQWE7QUFDdEM7QUFDQSx1REFBdUQsa0RBQWU7QUFDdEU7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9kZXZlbGV2YXRlLy4vbm9kZV9tb2R1bGVzL211c2ljLW1ldGFkYXRhL2xpYi9tdXNlcGFjay9zdjcvU3RyZWFtVmVyc2lvbjcuanM/YTUxZCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgKiBhcyBUb2tlbiBmcm9tICd0b2tlbi10eXBlcyc7XG5pbXBvcnQgKiBhcyB1dGlsIGZyb20gJy4uLy4uL2NvbW1vbi9VdGlsLmpzJztcbi8qKlxuICogQkFTSUMgU1RSVUNUVVJFXG4gKi9cbmV4cG9ydCBjb25zdCBIZWFkZXIgPSB7XG4gICAgbGVuOiA2ICogNCxcbiAgICBnZXQ6IChidWYsIG9mZikgPT4ge1xuICAgICAgICBjb25zdCBoZWFkZXIgPSB7XG4gICAgICAgICAgICAvLyB3b3JkIDBcbiAgICAgICAgICAgIHNpZ25hdHVyZTogbmV3IFRleHREZWNvZGVyKCdsYXRpbjEnKS5kZWNvZGUoYnVmLnN1YmFycmF5KG9mZiwgb2ZmICsgMykpLFxuICAgICAgICAgICAgLy8gdmVyc2lvbkluZGV4IG51bWJlciAqIDEwMDAgKDMuODEgPSAzODEwKSAocmVtZW1iZXIgdGhhdCA0LWJ5dGUgYWxpZ25tZW50IGNhdXNlcyB0aGlzIHRvIHRha2UgNC1ieXRlcylcbiAgICAgICAgICAgIHN0cmVhbU1pbm9yVmVyc2lvbjogdXRpbC5nZXRCaXRBbGxpZ25lZE51bWJlcihidWYsIG9mZiArIDMsIDAsIDQpLFxuICAgICAgICAgICAgc3RyZWFtTWFqb3JWZXJzaW9uOiB1dGlsLmdldEJpdEFsbGlnbmVkTnVtYmVyKGJ1Ziwgb2ZmICsgMywgNCwgNCksXG4gICAgICAgICAgICAvLyB3b3JkIDFcbiAgICAgICAgICAgIGZyYW1lQ291bnQ6IFRva2VuLlVJTlQzMl9MRS5nZXQoYnVmLCBvZmYgKyA0KSxcbiAgICAgICAgICAgIC8vIHdvcmQgMlxuICAgICAgICAgICAgbWF4TGV2ZWw6IFRva2VuLlVJTlQxNl9MRS5nZXQoYnVmLCBvZmYgKyA4KSxcbiAgICAgICAgICAgIHNhbXBsZUZyZXF1ZW5jeTogWzQ0MTAwLCA0ODAwMCwgMzc4MDAsIDMyMDAwXVt1dGlsLmdldEJpdEFsbGlnbmVkTnVtYmVyKGJ1Ziwgb2ZmICsgMTAsIDAsIDIpXSxcbiAgICAgICAgICAgIGxpbms6IHV0aWwuZ2V0Qml0QWxsaWduZWROdW1iZXIoYnVmLCBvZmYgKyAxMCwgMiwgMiksXG4gICAgICAgICAgICBwcm9maWxlOiB1dGlsLmdldEJpdEFsbGlnbmVkTnVtYmVyKGJ1Ziwgb2ZmICsgMTAsIDQsIDQpLFxuICAgICAgICAgICAgbWF4QmFuZDogdXRpbC5nZXRCaXRBbGxpZ25lZE51bWJlcihidWYsIG9mZiArIDExLCAwLCA2KSxcbiAgICAgICAgICAgIGludGVuc2l0eVN0ZXJlbzogdXRpbC5pc0JpdFNldChidWYsIG9mZiArIDExLCA2KSxcbiAgICAgICAgICAgIG1pZFNpZGVTdGVyZW86IHV0aWwuaXNCaXRTZXQoYnVmLCBvZmYgKyAxMSwgNyksXG4gICAgICAgICAgICAvLyB3b3JkIDNcbiAgICAgICAgICAgIHRpdGxlUGVhazogVG9rZW4uVUlOVDE2X0xFLmdldChidWYsIG9mZiArIDEyKSxcbiAgICAgICAgICAgIHRpdGxlR2FpbjogVG9rZW4uVUlOVDE2X0xFLmdldChidWYsIG9mZiArIDE0KSxcbiAgICAgICAgICAgIC8vIHdvcmQgNFxuICAgICAgICAgICAgYWxidW1QZWFrOiBUb2tlbi5VSU5UMTZfTEUuZ2V0KGJ1Ziwgb2ZmICsgMTYpLFxuICAgICAgICAgICAgYWxidW1HYWluOiBUb2tlbi5VSU5UMTZfTEUuZ2V0KGJ1Ziwgb2ZmICsgMTgpLFxuICAgICAgICAgICAgLy8gd29yZFxuICAgICAgICAgICAgbGFzdEZyYW1lTGVuZ3RoOiAoVG9rZW4uVUlOVDMyX0xFLmdldChidWYsIG9mZiArIDIwKSA+Pj4gMjApICYgMHg3RkYsXG4gICAgICAgICAgICB0cnVlR2FwbGVzczogdXRpbC5pc0JpdFNldChidWYsIG9mZiArIDIzLCAwKVxuICAgICAgICB9O1xuICAgICAgICBoZWFkZXIubGFzdEZyYW1lTGVuZ3RoID0gaGVhZGVyLnRydWVHYXBsZXNzID8gKFRva2VuLlVJTlQzMl9MRS5nZXQoYnVmLCAyMCkgPj4+IDIwKSAmIDB4N0ZGIDogMDtcbiAgICAgICAgcmV0dXJuIGhlYWRlcjtcbiAgICB9XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9U3RyZWFtVmVyc2lvbjcuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/music-metadata/lib/musepack/sv7/StreamVersion7.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/music-metadata/lib/musepack/sv8/MpcSv8Parser.js":
/*!**********************************************************************!*\
  !*** ./node_modules/music-metadata/lib/musepack/sv8/MpcSv8Parser.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   MpcSv8Parser: () => (/* binding */ MpcSv8Parser)\n/* harmony export */ });\n/* harmony import */ var debug__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! debug */ \"(ssr)/./node_modules/debug/src/index.js\");\n/* harmony import */ var _common_BasicParser_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../common/BasicParser.js */ \"(ssr)/./node_modules/music-metadata/lib/common/BasicParser.js\");\n/* harmony import */ var _apev2_APEv2Parser_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../apev2/APEv2Parser.js */ \"(ssr)/./node_modules/music-metadata/lib/apev2/APEv2Parser.js\");\n/* harmony import */ var _common_FourCC_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../common/FourCC.js */ \"(ssr)/./node_modules/music-metadata/lib/common/FourCC.js\");\n/* harmony import */ var _StreamVersion8_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./StreamVersion8.js */ \"(ssr)/./node_modules/music-metadata/lib/musepack/sv8/StreamVersion8.js\");\n\n\n\n\n\nconst debug = debug__WEBPACK_IMPORTED_MODULE_0__('music-metadata:parser:musepack');\nclass MpcSv8Parser extends _common_BasicParser_js__WEBPACK_IMPORTED_MODULE_1__.BasicParser {\n    constructor() {\n        super(...arguments);\n        this.audioLength = 0;\n    }\n    async parse() {\n        const signature = await this.tokenizer.readToken(_common_FourCC_js__WEBPACK_IMPORTED_MODULE_3__.FourCcToken);\n        if (signature !== 'MPCK')\n            throw new Error('Invalid Magic number');\n        this.metadata.setFormat('container', 'Musepack, SV8');\n        return this.parsePacket();\n    }\n    async parsePacket() {\n        const sv8reader = new _StreamVersion8_js__WEBPACK_IMPORTED_MODULE_4__.StreamReader(this.tokenizer);\n        do {\n            const header = await sv8reader.readPacketHeader();\n            debug(`packet-header key=${header.key}, payloadLength=${header.payloadLength}`);\n            switch (header.key) {\n                case 'SH': { // Stream Header\n                    const sh = await sv8reader.readStreamHeader(header.payloadLength);\n                    this.metadata.setFormat('numberOfSamples', sh.sampleCount);\n                    this.metadata.setFormat('sampleRate', sh.sampleFrequency);\n                    this.metadata.setFormat('duration', sh.sampleCount / sh.sampleFrequency);\n                    this.metadata.setFormat('numberOfChannels', sh.channelCount);\n                    break;\n                }\n                case 'AP': // Audio Packet\n                    this.audioLength += header.payloadLength;\n                    await this.tokenizer.ignore(header.payloadLength);\n                    break;\n                case 'RG': // Replaygain\n                case 'EI': // Encoder Info\n                case 'SO': // Seek Table Offset\n                case 'ST': // Seek Table\n                case 'CT': // Chapter-Tag\n                    await this.tokenizer.ignore(header.payloadLength);\n                    break;\n                case 'SE': // Stream End\n                    if (this.metadata.format.duration) {\n                        this.metadata.setFormat('bitrate', this.audioLength * 8 / this.metadata.format.duration);\n                    }\n                    return _apev2_APEv2Parser_js__WEBPACK_IMPORTED_MODULE_2__.APEv2Parser.tryParseApeHeader(this.metadata, this.tokenizer, this.options);\n                default:\n                    throw new Error(`Unexpected header: ${header.key}`);\n            }\n        } while (true);\n    }\n}\n//# sourceMappingURL=MpcSv8Parser.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbXVzaWMtbWV0YWRhdGEvbGliL211c2VwYWNrL3N2OC9NcGNTdjhQYXJzZXIuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQThCO0FBQzRCO0FBQ0Q7QUFDSjtBQUNWO0FBQzNDLGNBQWMsa0NBQVM7QUFDaEIsMkJBQTJCLCtEQUFXO0FBQzdDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5REFBeUQsMERBQVc7QUFDcEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOEJBQThCLDREQUFnQjtBQUM5QztBQUNBO0FBQ0EsdUNBQXVDLFdBQVcsa0JBQWtCLHFCQUFxQjtBQUN6RjtBQUNBLDZCQUE2QjtBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQiw4REFBVztBQUN0QztBQUNBLDBEQUEwRCxXQUFXO0FBQ3JFO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2RldmVsZXZhdGUvLi9ub2RlX21vZHVsZXMvbXVzaWMtbWV0YWRhdGEvbGliL211c2VwYWNrL3N2OC9NcGNTdjhQYXJzZXIuanM/YzM2YSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgaW5pdERlYnVnIGZyb20gJ2RlYnVnJztcbmltcG9ydCB7IEJhc2ljUGFyc2VyIH0gZnJvbSAnLi4vLi4vY29tbW9uL0Jhc2ljUGFyc2VyLmpzJztcbmltcG9ydCB7IEFQRXYyUGFyc2VyIH0gZnJvbSAnLi4vLi4vYXBldjIvQVBFdjJQYXJzZXIuanMnO1xuaW1wb3J0IHsgRm91ckNjVG9rZW4gfSBmcm9tICcuLi8uLi9jb21tb24vRm91ckNDLmpzJztcbmltcG9ydCAqIGFzIFNWOCBmcm9tICcuL1N0cmVhbVZlcnNpb244LmpzJztcbmNvbnN0IGRlYnVnID0gaW5pdERlYnVnKCdtdXNpYy1tZXRhZGF0YTpwYXJzZXI6bXVzZXBhY2snKTtcbmV4cG9ydCBjbGFzcyBNcGNTdjhQYXJzZXIgZXh0ZW5kcyBCYXNpY1BhcnNlciB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XG4gICAgICAgIHRoaXMuYXVkaW9MZW5ndGggPSAwO1xuICAgIH1cbiAgICBhc3luYyBwYXJzZSgpIHtcbiAgICAgICAgY29uc3Qgc2lnbmF0dXJlID0gYXdhaXQgdGhpcy50b2tlbml6ZXIucmVhZFRva2VuKEZvdXJDY1Rva2VuKTtcbiAgICAgICAgaWYgKHNpZ25hdHVyZSAhPT0gJ01QQ0snKVxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIE1hZ2ljIG51bWJlcicpO1xuICAgICAgICB0aGlzLm1ldGFkYXRhLnNldEZvcm1hdCgnY29udGFpbmVyJywgJ011c2VwYWNrLCBTVjgnKTtcbiAgICAgICAgcmV0dXJuIHRoaXMucGFyc2VQYWNrZXQoKTtcbiAgICB9XG4gICAgYXN5bmMgcGFyc2VQYWNrZXQoKSB7XG4gICAgICAgIGNvbnN0IHN2OHJlYWRlciA9IG5ldyBTVjguU3RyZWFtUmVhZGVyKHRoaXMudG9rZW5pemVyKTtcbiAgICAgICAgZG8ge1xuICAgICAgICAgICAgY29uc3QgaGVhZGVyID0gYXdhaXQgc3Y4cmVhZGVyLnJlYWRQYWNrZXRIZWFkZXIoKTtcbiAgICAgICAgICAgIGRlYnVnKGBwYWNrZXQtaGVhZGVyIGtleT0ke2hlYWRlci5rZXl9LCBwYXlsb2FkTGVuZ3RoPSR7aGVhZGVyLnBheWxvYWRMZW5ndGh9YCk7XG4gICAgICAgICAgICBzd2l0Y2ggKGhlYWRlci5rZXkpIHtcbiAgICAgICAgICAgICAgICBjYXNlICdTSCc6IHsgLy8gU3RyZWFtIEhlYWRlclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBzaCA9IGF3YWl0IHN2OHJlYWRlci5yZWFkU3RyZWFtSGVhZGVyKGhlYWRlci5wYXlsb2FkTGVuZ3RoKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tZXRhZGF0YS5zZXRGb3JtYXQoJ251bWJlck9mU2FtcGxlcycsIHNoLnNhbXBsZUNvdW50KTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tZXRhZGF0YS5zZXRGb3JtYXQoJ3NhbXBsZVJhdGUnLCBzaC5zYW1wbGVGcmVxdWVuY3kpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm1ldGFkYXRhLnNldEZvcm1hdCgnZHVyYXRpb24nLCBzaC5zYW1wbGVDb3VudCAvIHNoLnNhbXBsZUZyZXF1ZW5jeSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubWV0YWRhdGEuc2V0Rm9ybWF0KCdudW1iZXJPZkNoYW5uZWxzJywgc2guY2hhbm5lbENvdW50KTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhc2UgJ0FQJzogLy8gQXVkaW8gUGFja2V0XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYXVkaW9MZW5ndGggKz0gaGVhZGVyLnBheWxvYWRMZW5ndGg7XG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMudG9rZW5pemVyLmlnbm9yZShoZWFkZXIucGF5bG9hZExlbmd0aCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ1JHJzogLy8gUmVwbGF5Z2FpblxuICAgICAgICAgICAgICAgIGNhc2UgJ0VJJzogLy8gRW5jb2RlciBJbmZvXG4gICAgICAgICAgICAgICAgY2FzZSAnU08nOiAvLyBTZWVrIFRhYmxlIE9mZnNldFxuICAgICAgICAgICAgICAgIGNhc2UgJ1NUJzogLy8gU2VlayBUYWJsZVxuICAgICAgICAgICAgICAgIGNhc2UgJ0NUJzogLy8gQ2hhcHRlci1UYWdcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy50b2tlbml6ZXIuaWdub3JlKGhlYWRlci5wYXlsb2FkTGVuZ3RoKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAnU0UnOiAvLyBTdHJlYW0gRW5kXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLm1ldGFkYXRhLmZvcm1hdC5kdXJhdGlvbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5tZXRhZGF0YS5zZXRGb3JtYXQoJ2JpdHJhdGUnLCB0aGlzLmF1ZGlvTGVuZ3RoICogOCAvIHRoaXMubWV0YWRhdGEuZm9ybWF0LmR1cmF0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gQVBFdjJQYXJzZXIudHJ5UGFyc2VBcGVIZWFkZXIodGhpcy5tZXRhZGF0YSwgdGhpcy50b2tlbml6ZXIsIHRoaXMub3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBVbmV4cGVjdGVkIGhlYWRlcjogJHtoZWFkZXIua2V5fWApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IHdoaWxlICh0cnVlKTtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1NcGNTdjhQYXJzZXIuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/music-metadata/lib/musepack/sv8/MpcSv8Parser.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/music-metadata/lib/musepack/sv8/StreamVersion8.js":
/*!************************************************************************!*\
  !*** ./node_modules/music-metadata/lib/musepack/sv8/StreamVersion8.js ***!
  \************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   StreamReader: () => (/* binding */ StreamReader)\n/* harmony export */ });\n/* harmony import */ var token_types__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! token-types */ \"(ssr)/./node_modules/token-types/lib/index.js\");\n/* harmony import */ var debug__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! debug */ \"(ssr)/./node_modules/debug/src/index.js\");\n/* harmony import */ var _common_Util_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../common/Util.js */ \"(ssr)/./node_modules/music-metadata/lib/common/Util.js\");\n\n\n\nconst debug = debug__WEBPACK_IMPORTED_MODULE_1__('music-metadata:parser:musepack:sv8');\nconst PacketKey = new token_types__WEBPACK_IMPORTED_MODULE_0__.StringType(2, 'latin1');\n/**\n * Stream Header Packet part 1\n * Ref: http://trac.musepack.net/musepack/wiki/SV8Specification#StreamHeaderPacket\n */\nconst SH_part1 = {\n    len: 5,\n    get: (buf, off) => {\n        return {\n            crc: token_types__WEBPACK_IMPORTED_MODULE_0__.UINT32_LE.get(buf, off),\n            streamVersion: token_types__WEBPACK_IMPORTED_MODULE_0__.UINT8.get(buf, off + 4)\n        };\n    }\n};\n/**\n * Stream Header Packet part 3\n * Ref: http://trac.musepack.net/musepack/wiki/SV8Specification#StreamHeaderPacket\n */\nconst SH_part3 = {\n    len: 2,\n    get: (buf, off) => {\n        return {\n            sampleFrequency: [44100, 48000, 37800, 32000][_common_Util_js__WEBPACK_IMPORTED_MODULE_2__.getBitAllignedNumber(buf, off, 0, 3)],\n            maxUsedBands: _common_Util_js__WEBPACK_IMPORTED_MODULE_2__.getBitAllignedNumber(buf, off, 3, 5),\n            channelCount: _common_Util_js__WEBPACK_IMPORTED_MODULE_2__.getBitAllignedNumber(buf, off + 1, 0, 4) + 1,\n            msUsed: _common_Util_js__WEBPACK_IMPORTED_MODULE_2__.isBitSet(buf, off + 1, 4),\n            audioBlockFrames: _common_Util_js__WEBPACK_IMPORTED_MODULE_2__.getBitAllignedNumber(buf, off + 1, 5, 3)\n        };\n    }\n};\nclass StreamReader {\n    constructor(tokenizer) {\n        this.tokenizer = tokenizer;\n    }\n    async readPacketHeader() {\n        const key = await this.tokenizer.readToken(PacketKey);\n        const size = await this.readVariableSizeField();\n        return {\n            key,\n            payloadLength: size.value - 2 - size.len\n        };\n    }\n    async readStreamHeader(size) {\n        const streamHeader = {};\n        debug(`Reading SH at offset=${this.tokenizer.position}`);\n        const part1 = await this.tokenizer.readToken(SH_part1);\n        size -= SH_part1.len;\n        Object.assign(streamHeader, part1);\n        debug(`SH.streamVersion = ${part1.streamVersion}`);\n        const sampleCount = await this.readVariableSizeField();\n        size -= sampleCount.len;\n        streamHeader.sampleCount = sampleCount.value;\n        const bs = await this.readVariableSizeField();\n        size -= bs.len;\n        streamHeader.beginningOfSilence = bs.value;\n        const part3 = await this.tokenizer.readToken(SH_part3);\n        size -= SH_part3.len;\n        Object.assign(streamHeader, part3);\n        // assert.equal(size, 0);\n        await this.tokenizer.ignore(size);\n        return streamHeader;\n    }\n    async readVariableSizeField(len = 1, hb = 0) {\n        let n = await this.tokenizer.readNumber(token_types__WEBPACK_IMPORTED_MODULE_0__.UINT8);\n        if ((n & 0x80) === 0) {\n            return { len, value: hb + n };\n        }\n        n &= 0x7F;\n        n += hb;\n        return this.readVariableSizeField(len + 1, n << 7);\n    }\n}\n//# sourceMappingURL=StreamVersion8.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbXVzaWMtbWV0YWRhdGEvbGliL211c2VwYWNrL3N2OC9TdHJlYW1WZXJzaW9uOC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQXFDO0FBQ1A7QUFDZTtBQUM3QyxjQUFjLGtDQUFTO0FBQ3ZCLHNCQUFzQixtREFBZ0I7QUFDdEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQixrREFBZTtBQUNoQywyQkFBMkIsOENBQVc7QUFDdEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBEQUEwRCxpRUFBeUI7QUFDbkYsMEJBQTBCLGlFQUF5QjtBQUNuRCwwQkFBMEIsaUVBQXlCO0FBQ25ELG9CQUFvQixxREFBYTtBQUNqQyw4QkFBOEIsaUVBQXlCO0FBQ3ZEO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQ0FBc0Msd0JBQXdCO0FBQzlEO0FBQ0E7QUFDQTtBQUNBLG9DQUFvQyxvQkFBb0I7QUFDeEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdEQUFnRCw4Q0FBVztBQUMzRDtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2RldmVsZXZhdGUvLi9ub2RlX21vZHVsZXMvbXVzaWMtbWV0YWRhdGEvbGliL211c2VwYWNrL3N2OC9TdHJlYW1WZXJzaW9uOC5qcz9lZGIyIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAqIGFzIFRva2VuIGZyb20gJ3Rva2VuLXR5cGVzJztcbmltcG9ydCBpbml0RGVidWcgZnJvbSAnZGVidWcnO1xuaW1wb3J0ICogYXMgdXRpbCBmcm9tICcuLi8uLi9jb21tb24vVXRpbC5qcyc7XG5jb25zdCBkZWJ1ZyA9IGluaXREZWJ1ZygnbXVzaWMtbWV0YWRhdGE6cGFyc2VyOm11c2VwYWNrOnN2OCcpO1xuY29uc3QgUGFja2V0S2V5ID0gbmV3IFRva2VuLlN0cmluZ1R5cGUoMiwgJ2xhdGluMScpO1xuLyoqXG4gKiBTdHJlYW0gSGVhZGVyIFBhY2tldCBwYXJ0IDFcbiAqIFJlZjogaHR0cDovL3RyYWMubXVzZXBhY2submV0L211c2VwYWNrL3dpa2kvU1Y4U3BlY2lmaWNhdGlvbiNTdHJlYW1IZWFkZXJQYWNrZXRcbiAqL1xuY29uc3QgU0hfcGFydDEgPSB7XG4gICAgbGVuOiA1LFxuICAgIGdldDogKGJ1Ziwgb2ZmKSA9PiB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBjcmM6IFRva2VuLlVJTlQzMl9MRS5nZXQoYnVmLCBvZmYpLFxuICAgICAgICAgICAgc3RyZWFtVmVyc2lvbjogVG9rZW4uVUlOVDguZ2V0KGJ1Ziwgb2ZmICsgNClcbiAgICAgICAgfTtcbiAgICB9XG59O1xuLyoqXG4gKiBTdHJlYW0gSGVhZGVyIFBhY2tldCBwYXJ0IDNcbiAqIFJlZjogaHR0cDovL3RyYWMubXVzZXBhY2submV0L211c2VwYWNrL3dpa2kvU1Y4U3BlY2lmaWNhdGlvbiNTdHJlYW1IZWFkZXJQYWNrZXRcbiAqL1xuY29uc3QgU0hfcGFydDMgPSB7XG4gICAgbGVuOiAyLFxuICAgIGdldDogKGJ1Ziwgb2ZmKSA9PiB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBzYW1wbGVGcmVxdWVuY3k6IFs0NDEwMCwgNDgwMDAsIDM3ODAwLCAzMjAwMF1bdXRpbC5nZXRCaXRBbGxpZ25lZE51bWJlcihidWYsIG9mZiwgMCwgMyldLFxuICAgICAgICAgICAgbWF4VXNlZEJhbmRzOiB1dGlsLmdldEJpdEFsbGlnbmVkTnVtYmVyKGJ1Ziwgb2ZmLCAzLCA1KSxcbiAgICAgICAgICAgIGNoYW5uZWxDb3VudDogdXRpbC5nZXRCaXRBbGxpZ25lZE51bWJlcihidWYsIG9mZiArIDEsIDAsIDQpICsgMSxcbiAgICAgICAgICAgIG1zVXNlZDogdXRpbC5pc0JpdFNldChidWYsIG9mZiArIDEsIDQpLFxuICAgICAgICAgICAgYXVkaW9CbG9ja0ZyYW1lczogdXRpbC5nZXRCaXRBbGxpZ25lZE51bWJlcihidWYsIG9mZiArIDEsIDUsIDMpXG4gICAgICAgIH07XG4gICAgfVxufTtcbmV4cG9ydCBjbGFzcyBTdHJlYW1SZWFkZXIge1xuICAgIGNvbnN0cnVjdG9yKHRva2VuaXplcikge1xuICAgICAgICB0aGlzLnRva2VuaXplciA9IHRva2VuaXplcjtcbiAgICB9XG4gICAgYXN5bmMgcmVhZFBhY2tldEhlYWRlcigpIHtcbiAgICAgICAgY29uc3Qga2V5ID0gYXdhaXQgdGhpcy50b2tlbml6ZXIucmVhZFRva2VuKFBhY2tldEtleSk7XG4gICAgICAgIGNvbnN0IHNpemUgPSBhd2FpdCB0aGlzLnJlYWRWYXJpYWJsZVNpemVGaWVsZCgpO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAga2V5LFxuICAgICAgICAgICAgcGF5bG9hZExlbmd0aDogc2l6ZS52YWx1ZSAtIDIgLSBzaXplLmxlblxuICAgICAgICB9O1xuICAgIH1cbiAgICBhc3luYyByZWFkU3RyZWFtSGVhZGVyKHNpemUpIHtcbiAgICAgICAgY29uc3Qgc3RyZWFtSGVhZGVyID0ge307XG4gICAgICAgIGRlYnVnKGBSZWFkaW5nIFNIIGF0IG9mZnNldD0ke3RoaXMudG9rZW5pemVyLnBvc2l0aW9ufWApO1xuICAgICAgICBjb25zdCBwYXJ0MSA9IGF3YWl0IHRoaXMudG9rZW5pemVyLnJlYWRUb2tlbihTSF9wYXJ0MSk7XG4gICAgICAgIHNpemUgLT0gU0hfcGFydDEubGVuO1xuICAgICAgICBPYmplY3QuYXNzaWduKHN0cmVhbUhlYWRlciwgcGFydDEpO1xuICAgICAgICBkZWJ1ZyhgU0guc3RyZWFtVmVyc2lvbiA9ICR7cGFydDEuc3RyZWFtVmVyc2lvbn1gKTtcbiAgICAgICAgY29uc3Qgc2FtcGxlQ291bnQgPSBhd2FpdCB0aGlzLnJlYWRWYXJpYWJsZVNpemVGaWVsZCgpO1xuICAgICAgICBzaXplIC09IHNhbXBsZUNvdW50LmxlbjtcbiAgICAgICAgc3RyZWFtSGVhZGVyLnNhbXBsZUNvdW50ID0gc2FtcGxlQ291bnQudmFsdWU7XG4gICAgICAgIGNvbnN0IGJzID0gYXdhaXQgdGhpcy5yZWFkVmFyaWFibGVTaXplRmllbGQoKTtcbiAgICAgICAgc2l6ZSAtPSBicy5sZW47XG4gICAgICAgIHN0cmVhbUhlYWRlci5iZWdpbm5pbmdPZlNpbGVuY2UgPSBicy52YWx1ZTtcbiAgICAgICAgY29uc3QgcGFydDMgPSBhd2FpdCB0aGlzLnRva2VuaXplci5yZWFkVG9rZW4oU0hfcGFydDMpO1xuICAgICAgICBzaXplIC09IFNIX3BhcnQzLmxlbjtcbiAgICAgICAgT2JqZWN0LmFzc2lnbihzdHJlYW1IZWFkZXIsIHBhcnQzKTtcbiAgICAgICAgLy8gYXNzZXJ0LmVxdWFsKHNpemUsIDApO1xuICAgICAgICBhd2FpdCB0aGlzLnRva2VuaXplci5pZ25vcmUoc2l6ZSk7XG4gICAgICAgIHJldHVybiBzdHJlYW1IZWFkZXI7XG4gICAgfVxuICAgIGFzeW5jIHJlYWRWYXJpYWJsZVNpemVGaWVsZChsZW4gPSAxLCBoYiA9IDApIHtcbiAgICAgICAgbGV0IG4gPSBhd2FpdCB0aGlzLnRva2VuaXplci5yZWFkTnVtYmVyKFRva2VuLlVJTlQ4KTtcbiAgICAgICAgaWYgKChuICYgMHg4MCkgPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiB7IGxlbiwgdmFsdWU6IGhiICsgbiB9O1xuICAgICAgICB9XG4gICAgICAgIG4gJj0gMHg3RjtcbiAgICAgICAgbiArPSBoYjtcbiAgICAgICAgcmV0dXJuIHRoaXMucmVhZFZhcmlhYmxlU2l6ZUZpZWxkKGxlbiArIDEsIG4gPDwgNyk7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9U3RyZWFtVmVyc2lvbjguanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/music-metadata/lib/musepack/sv8/StreamVersion8.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/music-metadata/lib/ogg/OggParser.js":
/*!**********************************************************!*\
  !*** ./node_modules/music-metadata/lib/ogg/OggParser.js ***!
  \**********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   OggParser: () => (/* binding */ OggParser),\n/* harmony export */   SegmentTable: () => (/* binding */ SegmentTable)\n/* harmony export */ });\n/* harmony import */ var token_types__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! token-types */ \"(ssr)/./node_modules/token-types/lib/index.js\");\n/* harmony import */ var strtok3__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! strtok3 */ \"(ssr)/./node_modules/strtok3/lib/index.js\");\n/* harmony import */ var debug__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! debug */ \"(ssr)/./node_modules/debug/src/index.js\");\n/* harmony import */ var _common_Util_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../common/Util.js */ \"(ssr)/./node_modules/music-metadata/lib/common/Util.js\");\n/* harmony import */ var _common_FourCC_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../common/FourCC.js */ \"(ssr)/./node_modules/music-metadata/lib/common/FourCC.js\");\n/* harmony import */ var _common_BasicParser_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../common/BasicParser.js */ \"(ssr)/./node_modules/music-metadata/lib/common/BasicParser.js\");\n/* harmony import */ var _vorbis_VorbisParser_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./vorbis/VorbisParser.js */ \"(ssr)/./node_modules/music-metadata/lib/ogg/vorbis/VorbisParser.js\");\n/* harmony import */ var _opus_OpusParser_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./opus/OpusParser.js */ \"(ssr)/./node_modules/music-metadata/lib/ogg/opus/OpusParser.js\");\n/* harmony import */ var _speex_SpeexParser_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./speex/SpeexParser.js */ \"(ssr)/./node_modules/music-metadata/lib/ogg/speex/SpeexParser.js\");\n/* harmony import */ var _theora_TheoraParser_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./theora/TheoraParser.js */ \"(ssr)/./node_modules/music-metadata/lib/ogg/theora/TheoraParser.js\");\n\n\n\n\n\n\n\n\n\n\nconst debug = debug__WEBPACK_IMPORTED_MODULE_2__('music-metadata:parser:ogg');\nclass SegmentTable {\n    static sum(buf, off, len) {\n        const dv = new DataView(buf.buffer, 0);\n        let s = 0;\n        for (let i = off; i < off + len; ++i) {\n            s += dv.getUint8(i);\n        }\n        return s;\n    }\n    constructor(header) {\n        this.len = header.page_segments;\n    }\n    get(buf, off) {\n        return {\n            totalPageSize: SegmentTable.sum(buf, off, this.len)\n        };\n    }\n}\n/**\n * Parser for Ogg logical bitstream framing\n */\nclass OggParser extends _common_BasicParser_js__WEBPACK_IMPORTED_MODULE_5__.BasicParser {\n    constructor() {\n        super(...arguments);\n        this.header = null;\n        this.pageNumber = 0;\n        this.pageConsumer = null;\n    }\n    /**\n     * Parse page\n     * @returns {Promise<void>}\n     */\n    async parse() {\n        debug('pos=%s, parsePage()', this.tokenizer.position);\n        try {\n            let header;\n            do {\n                header = await this.tokenizer.readToken(OggParser.Header);\n                if (header.capturePattern !== 'OggS')\n                    throw new Error('Invalid Ogg capture pattern');\n                this.metadata.setFormat('container', 'Ogg');\n                this.header = header;\n                this.pageNumber = header.pageSequenceNo;\n                debug('page#=%s, Ogg.id=%s', header.pageSequenceNo, header.capturePattern);\n                const segmentTable = await this.tokenizer.readToken(new SegmentTable(header));\n                debug('totalPageSize=%s', segmentTable.totalPageSize);\n                const pageData = await this.tokenizer.readToken(new token_types__WEBPACK_IMPORTED_MODULE_0__.Uint8ArrayType(segmentTable.totalPageSize));\n                debug('firstPage=%s, lastPage=%s, continued=%s', header.headerType.firstPage, header.headerType.lastPage, header.headerType.continued);\n                if (header.headerType.firstPage) {\n                    const id = new TextDecoder('ascii').decode(pageData.subarray(0, 7));\n                    switch (id) {\n                        case '\\x01vorbis': // Ogg/Vorbis\n                            debug('Set page consumer to Ogg/Vorbis');\n                            this.pageConsumer = new _vorbis_VorbisParser_js__WEBPACK_IMPORTED_MODULE_6__.VorbisParser(this.metadata, this.options);\n                            break;\n                        case 'OpusHea': // Ogg/Opus\n                            debug('Set page consumer to Ogg/Opus');\n                            this.pageConsumer = new _opus_OpusParser_js__WEBPACK_IMPORTED_MODULE_7__.OpusParser(this.metadata, this.options, this.tokenizer);\n                            break;\n                        case 'Speex  ': // Ogg/Speex\n                            debug('Set page consumer to Ogg/Speex');\n                            this.pageConsumer = new _speex_SpeexParser_js__WEBPACK_IMPORTED_MODULE_8__.SpeexParser(this.metadata, this.options, this.tokenizer);\n                            break;\n                        case 'fishead':\n                        case '\\x00theora': // Ogg/Theora\n                            debug('Set page consumer to Ogg/Theora');\n                            this.pageConsumer = new _theora_TheoraParser_js__WEBPACK_IMPORTED_MODULE_9__.TheoraParser(this.metadata, this.options, this.tokenizer);\n                            break;\n                        default:\n                            throw new Error(`gg audio-codec not recognized (id=${id})`);\n                    }\n                }\n                await this.pageConsumer.parsePage(header, pageData);\n            } while (!header.headerType.lastPage);\n        }\n        catch (err) {\n            if (err instanceof Error) {\n                if (err instanceof strtok3__WEBPACK_IMPORTED_MODULE_1__.EndOfStreamError) {\n                    this.metadata.addWarning('Last OGG-page is not marked with last-page flag');\n                    debug(\"End-of-stream\");\n                    this.metadata.addWarning('Last OGG-page is not marked with last-page flag');\n                    if (this.header) {\n                        this.pageConsumer.calculateDuration(this.header);\n                    }\n                }\n                else if (err.message.startsWith('FourCC')) {\n                    if (this.pageNumber > 0) {\n                        // ignore this error: work-around if last OGG-page is not marked with last-page flag\n                        this.metadata.addWarning('Invalid FourCC ID, maybe last OGG-page is not marked with last-page flag');\n                        await this.pageConsumer.flush();\n                    }\n                }\n            }\n            else\n                throw err;\n        }\n    }\n}\nOggParser.Header = {\n    len: 27,\n    get: (buf, off) => {\n        return {\n            capturePattern: _common_FourCC_js__WEBPACK_IMPORTED_MODULE_4__.FourCcToken.get(buf, off),\n            version: token_types__WEBPACK_IMPORTED_MODULE_0__.UINT8.get(buf, off + 4),\n            headerType: {\n                continued: _common_Util_js__WEBPACK_IMPORTED_MODULE_3__.getBit(buf, off + 5, 0),\n                firstPage: _common_Util_js__WEBPACK_IMPORTED_MODULE_3__.getBit(buf, off + 5, 1),\n                lastPage: _common_Util_js__WEBPACK_IMPORTED_MODULE_3__.getBit(buf, off + 5, 2)\n            },\n            // packet_flag: Token.UINT8.get(buf, off + 5),\n            absoluteGranulePosition: Number(token_types__WEBPACK_IMPORTED_MODULE_0__.UINT64_LE.get(buf, off + 6)),\n            streamSerialNumber: token_types__WEBPACK_IMPORTED_MODULE_0__.UINT32_LE.get(buf, off + 14),\n            pageSequenceNo: token_types__WEBPACK_IMPORTED_MODULE_0__.UINT32_LE.get(buf, off + 18),\n            pageChecksum: token_types__WEBPACK_IMPORTED_MODULE_0__.UINT32_LE.get(buf, off + 22),\n            page_segments: token_types__WEBPACK_IMPORTED_MODULE_0__.UINT8.get(buf, off + 26)\n        };\n    }\n};\n//# sourceMappingURL=OggParser.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbXVzaWMtbWV0YWRhdGEvbGliL29nZy9PZ2dQYXJzZXIuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7O0FBQXFDO0FBQ007QUFDYjtBQUNZO0FBQ1E7QUFDSztBQUNDO0FBQ047QUFDRztBQUNHO0FBQ3hELGNBQWMsa0NBQVM7QUFDaEI7QUFDUDtBQUNBO0FBQ0E7QUFDQSwwQkFBMEIsZUFBZTtBQUN6QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPLHdCQUF3QiwrREFBVztBQUMxQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9FQUFvRSx1REFBb0I7QUFDeEY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0RBQW9ELGlFQUFZO0FBQ2hFO0FBQ0E7QUFDQTtBQUNBLG9EQUFvRCwyREFBVTtBQUM5RDtBQUNBO0FBQ0E7QUFDQSxvREFBb0QsOERBQVc7QUFDL0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvREFBb0QsaUVBQVk7QUFDaEU7QUFDQTtBQUNBLGlGQUFpRixHQUFHO0FBQ3BGO0FBQ0E7QUFDQTtBQUNBLGNBQWM7QUFDZDtBQUNBO0FBQ0E7QUFDQSxtQ0FBbUMscURBQWdCO0FBQ25EO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRCQUE0QiwwREFBVztBQUN2QyxxQkFBcUIsOENBQVc7QUFDaEM7QUFDQSwyQkFBMkIsbURBQVc7QUFDdEMsMkJBQTJCLG1EQUFXO0FBQ3RDLDBCQUEwQixtREFBVztBQUNyQyxhQUFhO0FBQ2I7QUFDQSw0Q0FBNEMsa0RBQWU7QUFDM0QsZ0NBQWdDLGtEQUFlO0FBQy9DLDRCQUE0QixrREFBZTtBQUMzQywwQkFBMEIsa0RBQWU7QUFDekMsMkJBQTJCLDhDQUFXO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZGV2ZWxldmF0ZS8uL25vZGVfbW9kdWxlcy9tdXNpYy1tZXRhZGF0YS9saWIvb2dnL09nZ1BhcnNlci5qcz9jZDgzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAqIGFzIFRva2VuIGZyb20gJ3Rva2VuLXR5cGVzJztcbmltcG9ydCB7IEVuZE9mU3RyZWFtRXJyb3IgfSBmcm9tICdzdHJ0b2szJztcbmltcG9ydCBpbml0RGVidWcgZnJvbSAnZGVidWcnO1xuaW1wb3J0ICogYXMgdXRpbCBmcm9tICcuLi9jb21tb24vVXRpbC5qcyc7XG5pbXBvcnQgeyBGb3VyQ2NUb2tlbiB9IGZyb20gJy4uL2NvbW1vbi9Gb3VyQ0MuanMnO1xuaW1wb3J0IHsgQmFzaWNQYXJzZXIgfSBmcm9tICcuLi9jb21tb24vQmFzaWNQYXJzZXIuanMnO1xuaW1wb3J0IHsgVm9yYmlzUGFyc2VyIH0gZnJvbSAnLi92b3JiaXMvVm9yYmlzUGFyc2VyLmpzJztcbmltcG9ydCB7IE9wdXNQYXJzZXIgfSBmcm9tICcuL29wdXMvT3B1c1BhcnNlci5qcyc7XG5pbXBvcnQgeyBTcGVleFBhcnNlciB9IGZyb20gJy4vc3BlZXgvU3BlZXhQYXJzZXIuanMnO1xuaW1wb3J0IHsgVGhlb3JhUGFyc2VyIH0gZnJvbSAnLi90aGVvcmEvVGhlb3JhUGFyc2VyLmpzJztcbmNvbnN0IGRlYnVnID0gaW5pdERlYnVnKCdtdXNpYy1tZXRhZGF0YTpwYXJzZXI6b2dnJyk7XG5leHBvcnQgY2xhc3MgU2VnbWVudFRhYmxlIHtcbiAgICBzdGF0aWMgc3VtKGJ1Ziwgb2ZmLCBsZW4pIHtcbiAgICAgICAgY29uc3QgZHYgPSBuZXcgRGF0YVZpZXcoYnVmLmJ1ZmZlciwgMCk7XG4gICAgICAgIGxldCBzID0gMDtcbiAgICAgICAgZm9yIChsZXQgaSA9IG9mZjsgaSA8IG9mZiArIGxlbjsgKytpKSB7XG4gICAgICAgICAgICBzICs9IGR2LmdldFVpbnQ4KGkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzO1xuICAgIH1cbiAgICBjb25zdHJ1Y3RvcihoZWFkZXIpIHtcbiAgICAgICAgdGhpcy5sZW4gPSBoZWFkZXIucGFnZV9zZWdtZW50cztcbiAgICB9XG4gICAgZ2V0KGJ1Ziwgb2ZmKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB0b3RhbFBhZ2VTaXplOiBTZWdtZW50VGFibGUuc3VtKGJ1Ziwgb2ZmLCB0aGlzLmxlbilcbiAgICAgICAgfTtcbiAgICB9XG59XG4vKipcbiAqIFBhcnNlciBmb3IgT2dnIGxvZ2ljYWwgYml0c3RyZWFtIGZyYW1pbmdcbiAqL1xuZXhwb3J0IGNsYXNzIE9nZ1BhcnNlciBleHRlbmRzIEJhc2ljUGFyc2VyIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoLi4uYXJndW1lbnRzKTtcbiAgICAgICAgdGhpcy5oZWFkZXIgPSBudWxsO1xuICAgICAgICB0aGlzLnBhZ2VOdW1iZXIgPSAwO1xuICAgICAgICB0aGlzLnBhZ2VDb25zdW1lciA9IG51bGw7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFBhcnNlIHBhZ2VcbiAgICAgKiBAcmV0dXJucyB7UHJvbWlzZTx2b2lkPn1cbiAgICAgKi9cbiAgICBhc3luYyBwYXJzZSgpIHtcbiAgICAgICAgZGVidWcoJ3Bvcz0lcywgcGFyc2VQYWdlKCknLCB0aGlzLnRva2VuaXplci5wb3NpdGlvbik7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBsZXQgaGVhZGVyO1xuICAgICAgICAgICAgZG8ge1xuICAgICAgICAgICAgICAgIGhlYWRlciA9IGF3YWl0IHRoaXMudG9rZW5pemVyLnJlYWRUb2tlbihPZ2dQYXJzZXIuSGVhZGVyKTtcbiAgICAgICAgICAgICAgICBpZiAoaGVhZGVyLmNhcHR1cmVQYXR0ZXJuICE9PSAnT2dnUycpXG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBPZ2cgY2FwdHVyZSBwYXR0ZXJuJyk7XG4gICAgICAgICAgICAgICAgdGhpcy5tZXRhZGF0YS5zZXRGb3JtYXQoJ2NvbnRhaW5lcicsICdPZ2cnKTtcbiAgICAgICAgICAgICAgICB0aGlzLmhlYWRlciA9IGhlYWRlcjtcbiAgICAgICAgICAgICAgICB0aGlzLnBhZ2VOdW1iZXIgPSBoZWFkZXIucGFnZVNlcXVlbmNlTm87XG4gICAgICAgICAgICAgICAgZGVidWcoJ3BhZ2UjPSVzLCBPZ2cuaWQ9JXMnLCBoZWFkZXIucGFnZVNlcXVlbmNlTm8sIGhlYWRlci5jYXB0dXJlUGF0dGVybik7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2VnbWVudFRhYmxlID0gYXdhaXQgdGhpcy50b2tlbml6ZXIucmVhZFRva2VuKG5ldyBTZWdtZW50VGFibGUoaGVhZGVyKSk7XG4gICAgICAgICAgICAgICAgZGVidWcoJ3RvdGFsUGFnZVNpemU9JXMnLCBzZWdtZW50VGFibGUudG90YWxQYWdlU2l6ZSk7XG4gICAgICAgICAgICAgICAgY29uc3QgcGFnZURhdGEgPSBhd2FpdCB0aGlzLnRva2VuaXplci5yZWFkVG9rZW4obmV3IFRva2VuLlVpbnQ4QXJyYXlUeXBlKHNlZ21lbnRUYWJsZS50b3RhbFBhZ2VTaXplKSk7XG4gICAgICAgICAgICAgICAgZGVidWcoJ2ZpcnN0UGFnZT0lcywgbGFzdFBhZ2U9JXMsIGNvbnRpbnVlZD0lcycsIGhlYWRlci5oZWFkZXJUeXBlLmZpcnN0UGFnZSwgaGVhZGVyLmhlYWRlclR5cGUubGFzdFBhZ2UsIGhlYWRlci5oZWFkZXJUeXBlLmNvbnRpbnVlZCk7XG4gICAgICAgICAgICAgICAgaWYgKGhlYWRlci5oZWFkZXJUeXBlLmZpcnN0UGFnZSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBpZCA9IG5ldyBUZXh0RGVjb2RlcignYXNjaWknKS5kZWNvZGUocGFnZURhdGEuc3ViYXJyYXkoMCwgNykpO1xuICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKGlkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdcXHgwMXZvcmJpcyc6IC8vIE9nZy9Wb3JiaXNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWJ1ZygnU2V0IHBhZ2UgY29uc3VtZXIgdG8gT2dnL1ZvcmJpcycpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGFnZUNvbnN1bWVyID0gbmV3IFZvcmJpc1BhcnNlcih0aGlzLm1ldGFkYXRhLCB0aGlzLm9wdGlvbnMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnT3B1c0hlYSc6IC8vIE9nZy9PcHVzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVidWcoJ1NldCBwYWdlIGNvbnN1bWVyIHRvIE9nZy9PcHVzJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wYWdlQ29uc3VtZXIgPSBuZXcgT3B1c1BhcnNlcih0aGlzLm1ldGFkYXRhLCB0aGlzLm9wdGlvbnMsIHRoaXMudG9rZW5pemVyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ1NwZWV4ICAnOiAvLyBPZ2cvU3BlZXhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWJ1ZygnU2V0IHBhZ2UgY29uc3VtZXIgdG8gT2dnL1NwZWV4Jyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wYWdlQ29uc3VtZXIgPSBuZXcgU3BlZXhQYXJzZXIodGhpcy5tZXRhZGF0YSwgdGhpcy5vcHRpb25zLCB0aGlzLnRva2VuaXplcik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdmaXNoZWFkJzpcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ1xceDAwdGhlb3JhJzogLy8gT2dnL1RoZW9yYVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlYnVnKCdTZXQgcGFnZSBjb25zdW1lciB0byBPZ2cvVGhlb3JhJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wYWdlQ29uc3VtZXIgPSBuZXcgVGhlb3JhUGFyc2VyKHRoaXMubWV0YWRhdGEsIHRoaXMub3B0aW9ucywgdGhpcy50b2tlbml6ZXIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYGdnIGF1ZGlvLWNvZGVjIG5vdCByZWNvZ25pemVkIChpZD0ke2lkfSlgKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnBhZ2VDb25zdW1lci5wYXJzZVBhZ2UoaGVhZGVyLCBwYWdlRGF0YSk7XG4gICAgICAgICAgICB9IHdoaWxlICghaGVhZGVyLmhlYWRlclR5cGUubGFzdFBhZ2UpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIGlmIChlcnIgaW5zdGFuY2VvZiBFcnJvcikge1xuICAgICAgICAgICAgICAgIGlmIChlcnIgaW5zdGFuY2VvZiBFbmRPZlN0cmVhbUVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubWV0YWRhdGEuYWRkV2FybmluZygnTGFzdCBPR0ctcGFnZSBpcyBub3QgbWFya2VkIHdpdGggbGFzdC1wYWdlIGZsYWcnKTtcbiAgICAgICAgICAgICAgICAgICAgZGVidWcoXCJFbmQtb2Ytc3RyZWFtXCIpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm1ldGFkYXRhLmFkZFdhcm5pbmcoJ0xhc3QgT0dHLXBhZ2UgaXMgbm90IG1hcmtlZCB3aXRoIGxhc3QtcGFnZSBmbGFnJyk7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmhlYWRlcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wYWdlQ29uc3VtZXIuY2FsY3VsYXRlRHVyYXRpb24odGhpcy5oZWFkZXIpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGVyci5tZXNzYWdlLnN0YXJ0c1dpdGgoJ0ZvdXJDQycpKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnBhZ2VOdW1iZXIgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBpZ25vcmUgdGhpcyBlcnJvcjogd29yay1hcm91bmQgaWYgbGFzdCBPR0ctcGFnZSBpcyBub3QgbWFya2VkIHdpdGggbGFzdC1wYWdlIGZsYWdcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubWV0YWRhdGEuYWRkV2FybmluZygnSW52YWxpZCBGb3VyQ0MgSUQsIG1heWJlIGxhc3QgT0dHLXBhZ2UgaXMgbm90IG1hcmtlZCB3aXRoIGxhc3QtcGFnZSBmbGFnJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnBhZ2VDb25zdW1lci5mbHVzaCgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIHRocm93IGVycjtcbiAgICAgICAgfVxuICAgIH1cbn1cbk9nZ1BhcnNlci5IZWFkZXIgPSB7XG4gICAgbGVuOiAyNyxcbiAgICBnZXQ6IChidWYsIG9mZikgPT4ge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgY2FwdHVyZVBhdHRlcm46IEZvdXJDY1Rva2VuLmdldChidWYsIG9mZiksXG4gICAgICAgICAgICB2ZXJzaW9uOiBUb2tlbi5VSU5UOC5nZXQoYnVmLCBvZmYgKyA0KSxcbiAgICAgICAgICAgIGhlYWRlclR5cGU6IHtcbiAgICAgICAgICAgICAgICBjb250aW51ZWQ6IHV0aWwuZ2V0Qml0KGJ1Ziwgb2ZmICsgNSwgMCksXG4gICAgICAgICAgICAgICAgZmlyc3RQYWdlOiB1dGlsLmdldEJpdChidWYsIG9mZiArIDUsIDEpLFxuICAgICAgICAgICAgICAgIGxhc3RQYWdlOiB1dGlsLmdldEJpdChidWYsIG9mZiArIDUsIDIpXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgLy8gcGFja2V0X2ZsYWc6IFRva2VuLlVJTlQ4LmdldChidWYsIG9mZiArIDUpLFxuICAgICAgICAgICAgYWJzb2x1dGVHcmFudWxlUG9zaXRpb246IE51bWJlcihUb2tlbi5VSU5UNjRfTEUuZ2V0KGJ1Ziwgb2ZmICsgNikpLFxuICAgICAgICAgICAgc3RyZWFtU2VyaWFsTnVtYmVyOiBUb2tlbi5VSU5UMzJfTEUuZ2V0KGJ1Ziwgb2ZmICsgMTQpLFxuICAgICAgICAgICAgcGFnZVNlcXVlbmNlTm86IFRva2VuLlVJTlQzMl9MRS5nZXQoYnVmLCBvZmYgKyAxOCksXG4gICAgICAgICAgICBwYWdlQ2hlY2tzdW06IFRva2VuLlVJTlQzMl9MRS5nZXQoYnVmLCBvZmYgKyAyMiksXG4gICAgICAgICAgICBwYWdlX3NlZ21lbnRzOiBUb2tlbi5VSU5UOC5nZXQoYnVmLCBvZmYgKyAyNilcbiAgICAgICAgfTtcbiAgICB9XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9T2dnUGFyc2VyLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/music-metadata/lib/ogg/OggParser.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/music-metadata/lib/ogg/opus/Opus.js":
/*!**********************************************************!*\
  !*** ./node_modules/music-metadata/lib/ogg/opus/Opus.js ***!
  \**********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   IdHeader: () => (/* binding */ IdHeader)\n/* harmony export */ });\n/* harmony import */ var token_types__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! token-types */ \"(ssr)/./node_modules/token-types/lib/index.js\");\n\n/**\n * Opus ID Header parser\n * Ref: https://wiki.xiph.org/OggOpus#ID_Header\n */\nclass IdHeader {\n    constructor(len) {\n        this.len = len;\n        if (len < 19) {\n            throw new Error(\"ID-header-page 0 should be at least 19 bytes long\");\n        }\n    }\n    get(buf, off) {\n        return {\n            magicSignature: new token_types__WEBPACK_IMPORTED_MODULE_0__.StringType(8, 'ascii').get(buf, off + 0),\n            version: token_types__WEBPACK_IMPORTED_MODULE_0__.UINT8.get(buf, off + 8),\n            channelCount: token_types__WEBPACK_IMPORTED_MODULE_0__.UINT8.get(buf, off + 9),\n            preSkip: token_types__WEBPACK_IMPORTED_MODULE_0__.UINT16_LE.get(buf, off + 10),\n            inputSampleRate: token_types__WEBPACK_IMPORTED_MODULE_0__.UINT32_LE.get(buf, off + 12),\n            outputGain: token_types__WEBPACK_IMPORTED_MODULE_0__.UINT16_LE.get(buf, off + 16),\n            channelMapping: token_types__WEBPACK_IMPORTED_MODULE_0__.UINT8.get(buf, off + 18)\n        };\n    }\n}\n//# sourceMappingURL=Opus.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbXVzaWMtbWV0YWRhdGEvbGliL29nZy9vcHVzL09wdXMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBcUM7QUFDckM7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQ0FBZ0MsbURBQWdCO0FBQ2hELHFCQUFxQiw4Q0FBVztBQUNoQywwQkFBMEIsOENBQVc7QUFDckMscUJBQXFCLGtEQUFlO0FBQ3BDLDZCQUE2QixrREFBZTtBQUM1Qyx3QkFBd0Isa0RBQWU7QUFDdkMsNEJBQTRCLDhDQUFXO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZGV2ZWxldmF0ZS8uL25vZGVfbW9kdWxlcy9tdXNpYy1tZXRhZGF0YS9saWIvb2dnL29wdXMvT3B1cy5qcz9lNDRhIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAqIGFzIFRva2VuIGZyb20gJ3Rva2VuLXR5cGVzJztcbi8qKlxuICogT3B1cyBJRCBIZWFkZXIgcGFyc2VyXG4gKiBSZWY6IGh0dHBzOi8vd2lraS54aXBoLm9yZy9PZ2dPcHVzI0lEX0hlYWRlclxuICovXG5leHBvcnQgY2xhc3MgSWRIZWFkZXIge1xuICAgIGNvbnN0cnVjdG9yKGxlbikge1xuICAgICAgICB0aGlzLmxlbiA9IGxlbjtcbiAgICAgICAgaWYgKGxlbiA8IDE5KSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJRC1oZWFkZXItcGFnZSAwIHNob3VsZCBiZSBhdCBsZWFzdCAxOSBieXRlcyBsb25nXCIpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGdldChidWYsIG9mZikge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgbWFnaWNTaWduYXR1cmU6IG5ldyBUb2tlbi5TdHJpbmdUeXBlKDgsICdhc2NpaScpLmdldChidWYsIG9mZiArIDApLFxuICAgICAgICAgICAgdmVyc2lvbjogVG9rZW4uVUlOVDguZ2V0KGJ1Ziwgb2ZmICsgOCksXG4gICAgICAgICAgICBjaGFubmVsQ291bnQ6IFRva2VuLlVJTlQ4LmdldChidWYsIG9mZiArIDkpLFxuICAgICAgICAgICAgcHJlU2tpcDogVG9rZW4uVUlOVDE2X0xFLmdldChidWYsIG9mZiArIDEwKSxcbiAgICAgICAgICAgIGlucHV0U2FtcGxlUmF0ZTogVG9rZW4uVUlOVDMyX0xFLmdldChidWYsIG9mZiArIDEyKSxcbiAgICAgICAgICAgIG91dHB1dEdhaW46IFRva2VuLlVJTlQxNl9MRS5nZXQoYnVmLCBvZmYgKyAxNiksXG4gICAgICAgICAgICBjaGFubmVsTWFwcGluZzogVG9rZW4uVUlOVDguZ2V0KGJ1Ziwgb2ZmICsgMTgpXG4gICAgICAgIH07XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9T3B1cy5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/music-metadata/lib/ogg/opus/Opus.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/music-metadata/lib/ogg/opus/OpusParser.js":
/*!****************************************************************!*\
  !*** ./node_modules/music-metadata/lib/ogg/opus/OpusParser.js ***!
  \****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   OpusParser: () => (/* binding */ OpusParser)\n/* harmony export */ });\n/* harmony import */ var token_types__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! token-types */ \"(ssr)/./node_modules/token-types/lib/index.js\");\n/* harmony import */ var _vorbis_VorbisParser_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../vorbis/VorbisParser.js */ \"(ssr)/./node_modules/music-metadata/lib/ogg/vorbis/VorbisParser.js\");\n/* harmony import */ var _Opus_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Opus.js */ \"(ssr)/./node_modules/music-metadata/lib/ogg/opus/Opus.js\");\n\n\n\n/**\n * Opus parser\n * Internet Engineering Task Force (IETF) - RFC 6716\n * Used by OggParser\n */\nclass OpusParser extends _vorbis_VorbisParser_js__WEBPACK_IMPORTED_MODULE_1__.VorbisParser {\n    constructor(metadata, options, tokenizer) {\n        super(metadata, options);\n        this.tokenizer = tokenizer;\n        this.idHeader = null;\n        this.lastPos = -1;\n    }\n    /**\n     * Parse first Opus Ogg page\n     * @param {IPageHeader} header\n     * @param {Uint8Array} pageData\n     */\n    parseFirstPage(header, pageData) {\n        this.metadata.setFormat('codec', 'Opus');\n        // Parse Opus ID Header\n        this.idHeader = new _Opus_js__WEBPACK_IMPORTED_MODULE_2__.IdHeader(pageData.length).get(pageData, 0);\n        if (this.idHeader.magicSignature !== \"OpusHead\")\n            throw new Error(\"Illegal ogg/Opus magic-signature\");\n        this.metadata.setFormat('sampleRate', this.idHeader.inputSampleRate);\n        this.metadata.setFormat('numberOfChannels', this.idHeader.channelCount);\n    }\n    async parseFullPage(pageData) {\n        const magicSignature = new token_types__WEBPACK_IMPORTED_MODULE_0__.StringType(8, 'ascii').get(pageData, 0);\n        switch (magicSignature) {\n            case 'OpusTags':\n                await this.parseUserCommentList(pageData, 8);\n                this.lastPos = this.tokenizer.position - pageData.length;\n                break;\n            default:\n                break;\n        }\n    }\n    calculateDuration(header) {\n        if (this.metadata.format.sampleRate && header.absoluteGranulePosition >= 0) {\n            // Calculate duration\n            const pos_48bit = header.absoluteGranulePosition - this.idHeader.preSkip;\n            this.metadata.setFormat('numberOfSamples', pos_48bit);\n            this.metadata.setFormat('duration', pos_48bit / 48000);\n            if (this.lastPos !== -1 && this.tokenizer.fileInfo.size && this.metadata.format.duration) {\n                const dataSize = this.tokenizer.fileInfo.size - this.lastPos;\n                this.metadata.setFormat('bitrate', 8 * dataSize / this.metadata.format.duration);\n            }\n        }\n    }\n}\n//# sourceMappingURL=OpusParser.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbXVzaWMtbWV0YWRhdGEvbGliL29nZy9vcHVzL09wdXNQYXJzZXIuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFxQztBQUNvQjtBQUN2QjtBQUNsQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ08seUJBQXlCLGlFQUFZO0FBQzVDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLGFBQWE7QUFDNUIsZUFBZSxZQUFZO0FBQzNCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLDhDQUFhO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1DQUFtQyxtREFBZ0I7QUFDbkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2RldmVsZXZhdGUvLi9ub2RlX21vZHVsZXMvbXVzaWMtbWV0YWRhdGEvbGliL29nZy9vcHVzL09wdXNQYXJzZXIuanM/YmU4OCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgKiBhcyBUb2tlbiBmcm9tICd0b2tlbi10eXBlcyc7XG5pbXBvcnQgeyBWb3JiaXNQYXJzZXIgfSBmcm9tICcuLi92b3JiaXMvVm9yYmlzUGFyc2VyLmpzJztcbmltcG9ydCAqIGFzIE9wdXMgZnJvbSAnLi9PcHVzLmpzJztcbi8qKlxuICogT3B1cyBwYXJzZXJcbiAqIEludGVybmV0IEVuZ2luZWVyaW5nIFRhc2sgRm9yY2UgKElFVEYpIC0gUkZDIDY3MTZcbiAqIFVzZWQgYnkgT2dnUGFyc2VyXG4gKi9cbmV4cG9ydCBjbGFzcyBPcHVzUGFyc2VyIGV4dGVuZHMgVm9yYmlzUGFyc2VyIHtcbiAgICBjb25zdHJ1Y3RvcihtZXRhZGF0YSwgb3B0aW9ucywgdG9rZW5pemVyKSB7XG4gICAgICAgIHN1cGVyKG1ldGFkYXRhLCBvcHRpb25zKTtcbiAgICAgICAgdGhpcy50b2tlbml6ZXIgPSB0b2tlbml6ZXI7XG4gICAgICAgIHRoaXMuaWRIZWFkZXIgPSBudWxsO1xuICAgICAgICB0aGlzLmxhc3RQb3MgPSAtMTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUGFyc2UgZmlyc3QgT3B1cyBPZ2cgcGFnZVxuICAgICAqIEBwYXJhbSB7SVBhZ2VIZWFkZXJ9IGhlYWRlclxuICAgICAqIEBwYXJhbSB7VWludDhBcnJheX0gcGFnZURhdGFcbiAgICAgKi9cbiAgICBwYXJzZUZpcnN0UGFnZShoZWFkZXIsIHBhZ2VEYXRhKSB7XG4gICAgICAgIHRoaXMubWV0YWRhdGEuc2V0Rm9ybWF0KCdjb2RlYycsICdPcHVzJyk7XG4gICAgICAgIC8vIFBhcnNlIE9wdXMgSUQgSGVhZGVyXG4gICAgICAgIHRoaXMuaWRIZWFkZXIgPSBuZXcgT3B1cy5JZEhlYWRlcihwYWdlRGF0YS5sZW5ndGgpLmdldChwYWdlRGF0YSwgMCk7XG4gICAgICAgIGlmICh0aGlzLmlkSGVhZGVyLm1hZ2ljU2lnbmF0dXJlICE9PSBcIk9wdXNIZWFkXCIpXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbGxlZ2FsIG9nZy9PcHVzIG1hZ2ljLXNpZ25hdHVyZVwiKTtcbiAgICAgICAgdGhpcy5tZXRhZGF0YS5zZXRGb3JtYXQoJ3NhbXBsZVJhdGUnLCB0aGlzLmlkSGVhZGVyLmlucHV0U2FtcGxlUmF0ZSk7XG4gICAgICAgIHRoaXMubWV0YWRhdGEuc2V0Rm9ybWF0KCdudW1iZXJPZkNoYW5uZWxzJywgdGhpcy5pZEhlYWRlci5jaGFubmVsQ291bnQpO1xuICAgIH1cbiAgICBhc3luYyBwYXJzZUZ1bGxQYWdlKHBhZ2VEYXRhKSB7XG4gICAgICAgIGNvbnN0IG1hZ2ljU2lnbmF0dXJlID0gbmV3IFRva2VuLlN0cmluZ1R5cGUoOCwgJ2FzY2lpJykuZ2V0KHBhZ2VEYXRhLCAwKTtcbiAgICAgICAgc3dpdGNoIChtYWdpY1NpZ25hdHVyZSkge1xuICAgICAgICAgICAgY2FzZSAnT3B1c1RhZ3MnOlxuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMucGFyc2VVc2VyQ29tbWVudExpc3QocGFnZURhdGEsIDgpO1xuICAgICAgICAgICAgICAgIHRoaXMubGFzdFBvcyA9IHRoaXMudG9rZW5pemVyLnBvc2l0aW9uIC0gcGFnZURhdGEubGVuZ3RoO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cbiAgICBjYWxjdWxhdGVEdXJhdGlvbihoZWFkZXIpIHtcbiAgICAgICAgaWYgKHRoaXMubWV0YWRhdGEuZm9ybWF0LnNhbXBsZVJhdGUgJiYgaGVhZGVyLmFic29sdXRlR3JhbnVsZVBvc2l0aW9uID49IDApIHtcbiAgICAgICAgICAgIC8vIENhbGN1bGF0ZSBkdXJhdGlvblxuICAgICAgICAgICAgY29uc3QgcG9zXzQ4Yml0ID0gaGVhZGVyLmFic29sdXRlR3JhbnVsZVBvc2l0aW9uIC0gdGhpcy5pZEhlYWRlci5wcmVTa2lwO1xuICAgICAgICAgICAgdGhpcy5tZXRhZGF0YS5zZXRGb3JtYXQoJ251bWJlck9mU2FtcGxlcycsIHBvc180OGJpdCk7XG4gICAgICAgICAgICB0aGlzLm1ldGFkYXRhLnNldEZvcm1hdCgnZHVyYXRpb24nLCBwb3NfNDhiaXQgLyA0ODAwMCk7XG4gICAgICAgICAgICBpZiAodGhpcy5sYXN0UG9zICE9PSAtMSAmJiB0aGlzLnRva2VuaXplci5maWxlSW5mby5zaXplICYmIHRoaXMubWV0YWRhdGEuZm9ybWF0LmR1cmF0aW9uKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZGF0YVNpemUgPSB0aGlzLnRva2VuaXplci5maWxlSW5mby5zaXplIC0gdGhpcy5sYXN0UG9zO1xuICAgICAgICAgICAgICAgIHRoaXMubWV0YWRhdGEuc2V0Rm9ybWF0KCdiaXRyYXRlJywgOCAqIGRhdGFTaXplIC8gdGhpcy5tZXRhZGF0YS5mb3JtYXQuZHVyYXRpb24pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9T3B1c1BhcnNlci5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/music-metadata/lib/ogg/opus/OpusParser.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/music-metadata/lib/ogg/speex/Speex.js":
/*!************************************************************!*\
  !*** ./node_modules/music-metadata/lib/ogg/speex/Speex.js ***!
  \************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Header: () => (/* binding */ Header)\n/* harmony export */ });\n/* harmony import */ var token_types__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! token-types */ \"(ssr)/./node_modules/token-types/lib/index.js\");\n/* harmony import */ var _common_Util_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../common/Util.js */ \"(ssr)/./node_modules/music-metadata/lib/common/Util.js\");\n\n\n/**\n * Speex Header Packet\n * Ref: https://www.speex.org/docs/manual/speex-manual/node8.html#SECTION00830000000000000000\n */\nconst Header = {\n    len: 80,\n    get: (buf, off) => {\n        return {\n            speex: new token_types__WEBPACK_IMPORTED_MODULE_0__.StringType(8, 'ascii').get(buf, off + 0),\n            version: _common_Util_js__WEBPACK_IMPORTED_MODULE_1__.trimRightNull(new token_types__WEBPACK_IMPORTED_MODULE_0__.StringType(20, 'ascii').get(buf, off + 8)),\n            version_id: token_types__WEBPACK_IMPORTED_MODULE_0__.INT32_LE.get(buf, off + 28),\n            header_size: token_types__WEBPACK_IMPORTED_MODULE_0__.INT32_LE.get(buf, off + 32),\n            rate: token_types__WEBPACK_IMPORTED_MODULE_0__.INT32_LE.get(buf, off + 36),\n            mode: token_types__WEBPACK_IMPORTED_MODULE_0__.INT32_LE.get(buf, off + 40),\n            mode_bitstream_version: token_types__WEBPACK_IMPORTED_MODULE_0__.INT32_LE.get(buf, off + 44),\n            nb_channels: token_types__WEBPACK_IMPORTED_MODULE_0__.INT32_LE.get(buf, off + 48),\n            bitrate: token_types__WEBPACK_IMPORTED_MODULE_0__.INT32_LE.get(buf, off + 52),\n            frame_size: token_types__WEBPACK_IMPORTED_MODULE_0__.INT32_LE.get(buf, off + 56),\n            vbr: token_types__WEBPACK_IMPORTED_MODULE_0__.INT32_LE.get(buf, off + 60),\n            frames_per_packet: token_types__WEBPACK_IMPORTED_MODULE_0__.INT32_LE.get(buf, off + 64),\n            extra_headers: token_types__WEBPACK_IMPORTED_MODULE_0__.INT32_LE.get(buf, off + 68),\n            reserved1: token_types__WEBPACK_IMPORTED_MODULE_0__.INT32_LE.get(buf, off + 72),\n            reserved2: token_types__WEBPACK_IMPORTED_MODULE_0__.INT32_LE.get(buf, off + 76)\n        };\n    }\n};\n//# sourceMappingURL=Speex.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbXVzaWMtbWV0YWRhdGEvbGliL29nZy9zcGVleC9TcGVleC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBcUM7QUFDUTtBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCLG1EQUFnQjtBQUN2QyxxQkFBcUIsMERBQWtCLEtBQUssbURBQWdCO0FBQzVELHdCQUF3QixpREFBYztBQUN0Qyx5QkFBeUIsaURBQWM7QUFDdkMsa0JBQWtCLGlEQUFjO0FBQ2hDLGtCQUFrQixpREFBYztBQUNoQyxvQ0FBb0MsaURBQWM7QUFDbEQseUJBQXlCLGlEQUFjO0FBQ3ZDLHFCQUFxQixpREFBYztBQUNuQyx3QkFBd0IsaURBQWM7QUFDdEMsaUJBQWlCLGlEQUFjO0FBQy9CLCtCQUErQixpREFBYztBQUM3QywyQkFBMkIsaURBQWM7QUFDekMsdUJBQXVCLGlEQUFjO0FBQ3JDLHVCQUF1QixpREFBYztBQUNyQztBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2RldmVsZXZhdGUvLi9ub2RlX21vZHVsZXMvbXVzaWMtbWV0YWRhdGEvbGliL29nZy9zcGVleC9TcGVleC5qcz9kMGYyIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAqIGFzIFRva2VuIGZyb20gJ3Rva2VuLXR5cGVzJztcbmltcG9ydCAqIGFzIHV0aWwgZnJvbSAnLi4vLi4vY29tbW9uL1V0aWwuanMnO1xuLyoqXG4gKiBTcGVleCBIZWFkZXIgUGFja2V0XG4gKiBSZWY6IGh0dHBzOi8vd3d3LnNwZWV4Lm9yZy9kb2NzL21hbnVhbC9zcGVleC1tYW51YWwvbm9kZTguaHRtbCNTRUNUSU9OMDA4MzAwMDAwMDAwMDAwMDAwMDBcbiAqL1xuZXhwb3J0IGNvbnN0IEhlYWRlciA9IHtcbiAgICBsZW46IDgwLFxuICAgIGdldDogKGJ1Ziwgb2ZmKSA9PiB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBzcGVleDogbmV3IFRva2VuLlN0cmluZ1R5cGUoOCwgJ2FzY2lpJykuZ2V0KGJ1Ziwgb2ZmICsgMCksXG4gICAgICAgICAgICB2ZXJzaW9uOiB1dGlsLnRyaW1SaWdodE51bGwobmV3IFRva2VuLlN0cmluZ1R5cGUoMjAsICdhc2NpaScpLmdldChidWYsIG9mZiArIDgpKSxcbiAgICAgICAgICAgIHZlcnNpb25faWQ6IFRva2VuLklOVDMyX0xFLmdldChidWYsIG9mZiArIDI4KSxcbiAgICAgICAgICAgIGhlYWRlcl9zaXplOiBUb2tlbi5JTlQzMl9MRS5nZXQoYnVmLCBvZmYgKyAzMiksXG4gICAgICAgICAgICByYXRlOiBUb2tlbi5JTlQzMl9MRS5nZXQoYnVmLCBvZmYgKyAzNiksXG4gICAgICAgICAgICBtb2RlOiBUb2tlbi5JTlQzMl9MRS5nZXQoYnVmLCBvZmYgKyA0MCksXG4gICAgICAgICAgICBtb2RlX2JpdHN0cmVhbV92ZXJzaW9uOiBUb2tlbi5JTlQzMl9MRS5nZXQoYnVmLCBvZmYgKyA0NCksXG4gICAgICAgICAgICBuYl9jaGFubmVsczogVG9rZW4uSU5UMzJfTEUuZ2V0KGJ1Ziwgb2ZmICsgNDgpLFxuICAgICAgICAgICAgYml0cmF0ZTogVG9rZW4uSU5UMzJfTEUuZ2V0KGJ1Ziwgb2ZmICsgNTIpLFxuICAgICAgICAgICAgZnJhbWVfc2l6ZTogVG9rZW4uSU5UMzJfTEUuZ2V0KGJ1Ziwgb2ZmICsgNTYpLFxuICAgICAgICAgICAgdmJyOiBUb2tlbi5JTlQzMl9MRS5nZXQoYnVmLCBvZmYgKyA2MCksXG4gICAgICAgICAgICBmcmFtZXNfcGVyX3BhY2tldDogVG9rZW4uSU5UMzJfTEUuZ2V0KGJ1Ziwgb2ZmICsgNjQpLFxuICAgICAgICAgICAgZXh0cmFfaGVhZGVyczogVG9rZW4uSU5UMzJfTEUuZ2V0KGJ1Ziwgb2ZmICsgNjgpLFxuICAgICAgICAgICAgcmVzZXJ2ZWQxOiBUb2tlbi5JTlQzMl9MRS5nZXQoYnVmLCBvZmYgKyA3MiksXG4gICAgICAgICAgICByZXNlcnZlZDI6IFRva2VuLklOVDMyX0xFLmdldChidWYsIG9mZiArIDc2KVxuICAgICAgICB9O1xuICAgIH1cbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1TcGVleC5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/music-metadata/lib/ogg/speex/Speex.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/music-metadata/lib/ogg/speex/SpeexParser.js":
/*!******************************************************************!*\
  !*** ./node_modules/music-metadata/lib/ogg/speex/SpeexParser.js ***!
  \******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   SpeexParser: () => (/* binding */ SpeexParser)\n/* harmony export */ });\n/* harmony import */ var debug__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! debug */ \"(ssr)/./node_modules/debug/src/index.js\");\n/* harmony import */ var _vorbis_VorbisParser_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../vorbis/VorbisParser.js */ \"(ssr)/./node_modules/music-metadata/lib/ogg/vorbis/VorbisParser.js\");\n/* harmony import */ var _Speex_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Speex.js */ \"(ssr)/./node_modules/music-metadata/lib/ogg/speex/Speex.js\");\n\n\n\nconst debug = debug__WEBPACK_IMPORTED_MODULE_0__('music-metadata:parser:ogg:speex');\n/**\n * Speex, RFC 5574\n * Ref:\n * - https://www.speex.org/docs/manual/speex-manual/\n * - https://tools.ietf.org/html/rfc5574\n */\nclass SpeexParser extends _vorbis_VorbisParser_js__WEBPACK_IMPORTED_MODULE_1__.VorbisParser {\n    constructor(metadata, options, tokenizer) {\n        super(metadata, options);\n        this.tokenizer = tokenizer;\n    }\n    /**\n     * Parse first Speex Ogg page\n     * @param {IPageHeader} header\n     * @param {Uint8Array} pageData\n     */\n    parseFirstPage(header, pageData) {\n        debug('First Ogg/Speex page');\n        const speexHeader = _Speex_js__WEBPACK_IMPORTED_MODULE_2__.Header.get(pageData, 0);\n        this.metadata.setFormat('codec', `Speex ${speexHeader.version}`);\n        this.metadata.setFormat('numberOfChannels', speexHeader.nb_channels);\n        this.metadata.setFormat('sampleRate', speexHeader.rate);\n        if (speexHeader.bitrate !== -1) {\n            this.metadata.setFormat('bitrate', speexHeader.bitrate);\n        }\n    }\n}\n//# sourceMappingURL=SpeexParser.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbXVzaWMtbWV0YWRhdGEvbGliL29nZy9zcGVleC9TcGVleFBhcnNlci5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQThCO0FBQzJCO0FBQ3JCO0FBQ3BDLGNBQWMsa0NBQVM7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ08sMEJBQTBCLGlFQUFZO0FBQzdDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsYUFBYTtBQUM1QixlQUFlLFlBQVk7QUFDM0I7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLDZDQUFZO0FBQ3hDLGtEQUFrRCxvQkFBb0I7QUFDdEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2RldmVsZXZhdGUvLi9ub2RlX21vZHVsZXMvbXVzaWMtbWV0YWRhdGEvbGliL29nZy9zcGVleC9TcGVleFBhcnNlci5qcz9lNmNhIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBpbml0RGVidWcgZnJvbSAnZGVidWcnO1xuaW1wb3J0IHsgVm9yYmlzUGFyc2VyIH0gZnJvbSAnLi4vdm9yYmlzL1ZvcmJpc1BhcnNlci5qcyc7XG5pbXBvcnQgKiBhcyBTcGVleCBmcm9tICcuL1NwZWV4LmpzJztcbmNvbnN0IGRlYnVnID0gaW5pdERlYnVnKCdtdXNpYy1tZXRhZGF0YTpwYXJzZXI6b2dnOnNwZWV4Jyk7XG4vKipcbiAqIFNwZWV4LCBSRkMgNTU3NFxuICogUmVmOlxuICogLSBodHRwczovL3d3dy5zcGVleC5vcmcvZG9jcy9tYW51YWwvc3BlZXgtbWFudWFsL1xuICogLSBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjNTU3NFxuICovXG5leHBvcnQgY2xhc3MgU3BlZXhQYXJzZXIgZXh0ZW5kcyBWb3JiaXNQYXJzZXIge1xuICAgIGNvbnN0cnVjdG9yKG1ldGFkYXRhLCBvcHRpb25zLCB0b2tlbml6ZXIpIHtcbiAgICAgICAgc3VwZXIobWV0YWRhdGEsIG9wdGlvbnMpO1xuICAgICAgICB0aGlzLnRva2VuaXplciA9IHRva2VuaXplcjtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUGFyc2UgZmlyc3QgU3BlZXggT2dnIHBhZ2VcbiAgICAgKiBAcGFyYW0ge0lQYWdlSGVhZGVyfSBoZWFkZXJcbiAgICAgKiBAcGFyYW0ge1VpbnQ4QXJyYXl9IHBhZ2VEYXRhXG4gICAgICovXG4gICAgcGFyc2VGaXJzdFBhZ2UoaGVhZGVyLCBwYWdlRGF0YSkge1xuICAgICAgICBkZWJ1ZygnRmlyc3QgT2dnL1NwZWV4IHBhZ2UnKTtcbiAgICAgICAgY29uc3Qgc3BlZXhIZWFkZXIgPSBTcGVleC5IZWFkZXIuZ2V0KHBhZ2VEYXRhLCAwKTtcbiAgICAgICAgdGhpcy5tZXRhZGF0YS5zZXRGb3JtYXQoJ2NvZGVjJywgYFNwZWV4ICR7c3BlZXhIZWFkZXIudmVyc2lvbn1gKTtcbiAgICAgICAgdGhpcy5tZXRhZGF0YS5zZXRGb3JtYXQoJ251bWJlck9mQ2hhbm5lbHMnLCBzcGVleEhlYWRlci5uYl9jaGFubmVscyk7XG4gICAgICAgIHRoaXMubWV0YWRhdGEuc2V0Rm9ybWF0KCdzYW1wbGVSYXRlJywgc3BlZXhIZWFkZXIucmF0ZSk7XG4gICAgICAgIGlmIChzcGVleEhlYWRlci5iaXRyYXRlICE9PSAtMSkge1xuICAgICAgICAgICAgdGhpcy5tZXRhZGF0YS5zZXRGb3JtYXQoJ2JpdHJhdGUnLCBzcGVleEhlYWRlci5iaXRyYXRlKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVNwZWV4UGFyc2VyLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/music-metadata/lib/ogg/speex/SpeexParser.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/music-metadata/lib/ogg/theora/Theora.js":
/*!**************************************************************!*\
  !*** ./node_modules/music-metadata/lib/ogg/theora/Theora.js ***!
  \**************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   IdentificationHeader: () => (/* binding */ IdentificationHeader)\n/* harmony export */ });\n/* harmony import */ var token_types__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! token-types */ \"(ssr)/./node_modules/token-types/lib/index.js\");\n\n/**\n * 6.2 Identification Header\n * Ref: https://theora.org/doc/Theora.pdf: 6.2 Identification Header Decode\n */\nconst IdentificationHeader = {\n    len: 42,\n    get: (buf, off) => {\n        return {\n            id: new token_types__WEBPACK_IMPORTED_MODULE_0__.StringType(7, 'ascii').get(buf, off),\n            vmaj: token_types__WEBPACK_IMPORTED_MODULE_0__.UINT8.get(buf, off + 7),\n            vmin: token_types__WEBPACK_IMPORTED_MODULE_0__.UINT8.get(buf, off + 8),\n            vrev: token_types__WEBPACK_IMPORTED_MODULE_0__.UINT8.get(buf, off + 9),\n            vmbw: token_types__WEBPACK_IMPORTED_MODULE_0__.UINT16_BE.get(buf, off + 10),\n            vmbh: token_types__WEBPACK_IMPORTED_MODULE_0__.UINT16_BE.get(buf, off + 17),\n            nombr: token_types__WEBPACK_IMPORTED_MODULE_0__.UINT24_BE.get(buf, off + 37),\n            nqual: token_types__WEBPACK_IMPORTED_MODULE_0__.UINT8.get(buf, off + 40)\n        };\n    }\n};\n//# sourceMappingURL=Theora.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbXVzaWMtbWV0YWRhdGEvbGliL29nZy90aGVvcmEvVGhlb3JhLmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQXFDO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsbURBQWdCO0FBQ3BDLGtCQUFrQiw4Q0FBVztBQUM3QixrQkFBa0IsOENBQVc7QUFDN0Isa0JBQWtCLDhDQUFXO0FBQzdCLGtCQUFrQixrREFBZTtBQUNqQyxrQkFBa0Isa0RBQWU7QUFDakMsbUJBQW1CLGtEQUFlO0FBQ2xDLG1CQUFtQiw4Q0FBVztBQUM5QjtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2RldmVsZXZhdGUvLi9ub2RlX21vZHVsZXMvbXVzaWMtbWV0YWRhdGEvbGliL29nZy90aGVvcmEvVGhlb3JhLmpzPzhhNjAiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICogYXMgVG9rZW4gZnJvbSAndG9rZW4tdHlwZXMnO1xuLyoqXG4gKiA2LjIgSWRlbnRpZmljYXRpb24gSGVhZGVyXG4gKiBSZWY6IGh0dHBzOi8vdGhlb3JhLm9yZy9kb2MvVGhlb3JhLnBkZjogNi4yIElkZW50aWZpY2F0aW9uIEhlYWRlciBEZWNvZGVcbiAqL1xuZXhwb3J0IGNvbnN0IElkZW50aWZpY2F0aW9uSGVhZGVyID0ge1xuICAgIGxlbjogNDIsXG4gICAgZ2V0OiAoYnVmLCBvZmYpID0+IHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGlkOiBuZXcgVG9rZW4uU3RyaW5nVHlwZSg3LCAnYXNjaWknKS5nZXQoYnVmLCBvZmYpLFxuICAgICAgICAgICAgdm1hajogVG9rZW4uVUlOVDguZ2V0KGJ1Ziwgb2ZmICsgNyksXG4gICAgICAgICAgICB2bWluOiBUb2tlbi5VSU5UOC5nZXQoYnVmLCBvZmYgKyA4KSxcbiAgICAgICAgICAgIHZyZXY6IFRva2VuLlVJTlQ4LmdldChidWYsIG9mZiArIDkpLFxuICAgICAgICAgICAgdm1idzogVG9rZW4uVUlOVDE2X0JFLmdldChidWYsIG9mZiArIDEwKSxcbiAgICAgICAgICAgIHZtYmg6IFRva2VuLlVJTlQxNl9CRS5nZXQoYnVmLCBvZmYgKyAxNyksXG4gICAgICAgICAgICBub21icjogVG9rZW4uVUlOVDI0X0JFLmdldChidWYsIG9mZiArIDM3KSxcbiAgICAgICAgICAgIG5xdWFsOiBUb2tlbi5VSU5UOC5nZXQoYnVmLCBvZmYgKyA0MClcbiAgICAgICAgfTtcbiAgICB9XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9VGhlb3JhLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/music-metadata/lib/ogg/theora/Theora.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/music-metadata/lib/ogg/theora/TheoraParser.js":
/*!********************************************************************!*\
  !*** ./node_modules/music-metadata/lib/ogg/theora/TheoraParser.js ***!
  \********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   TheoraParser: () => (/* binding */ TheoraParser)\n/* harmony export */ });\n/* harmony import */ var debug__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! debug */ \"(ssr)/./node_modules/debug/src/index.js\");\n/* harmony import */ var _Theora_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Theora.js */ \"(ssr)/./node_modules/music-metadata/lib/ogg/theora/Theora.js\");\n\n\nconst debug = debug__WEBPACK_IMPORTED_MODULE_0__('music-metadata:parser:ogg:theora');\n/**\n * Ref:\n * - https://theora.org/doc/Theora.pdf\n */\nclass TheoraParser {\n    constructor(metadata, options, tokenizer) {\n        this.metadata = metadata;\n        this.tokenizer = tokenizer;\n    }\n    /**\n     * Vorbis 1 parser\n     * @param header Ogg Page Header\n     * @param pageData Page data\n     */\n    async parsePage(header, pageData) {\n        if (header.headerType.firstPage) {\n            await this.parseFirstPage(header, pageData);\n        }\n    }\n    async flush() {\n        debug('flush');\n    }\n    calculateDuration(header) {\n        debug('duration calculation not implemented');\n    }\n    /**\n     * Parse first Theora Ogg page. the initial identification header packet\n     * @param {IPageHeader} header\n     * @param {Buffer} pageData\n     */\n    async parseFirstPage(header, pageData) {\n        debug('First Ogg/Theora page');\n        this.metadata.setFormat('codec', 'Theora');\n        const idHeader = _Theora_js__WEBPACK_IMPORTED_MODULE_1__.IdentificationHeader.get(pageData, 0);\n        this.metadata.setFormat('bitrate', idHeader.nombr);\n    }\n}\n//# sourceMappingURL=TheoraParser.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbXVzaWMtbWV0YWRhdGEvbGliL29nZy90aGVvcmEvVGhlb3JhUGFyc2VyLmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUE4QjtBQUNxQjtBQUNuRCxjQUFjLGtDQUFTO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsYUFBYTtBQUM1QixlQUFlLFFBQVE7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUIsNERBQW9CO0FBQzdDO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZGV2ZWxldmF0ZS8uL25vZGVfbW9kdWxlcy9tdXNpYy1tZXRhZGF0YS9saWIvb2dnL3RoZW9yYS9UaGVvcmFQYXJzZXIuanM/ODI4OCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgaW5pdERlYnVnIGZyb20gJ2RlYnVnJztcbmltcG9ydCB7IElkZW50aWZpY2F0aW9uSGVhZGVyIH0gZnJvbSAnLi9UaGVvcmEuanMnO1xuY29uc3QgZGVidWcgPSBpbml0RGVidWcoJ211c2ljLW1ldGFkYXRhOnBhcnNlcjpvZ2c6dGhlb3JhJyk7XG4vKipcbiAqIFJlZjpcbiAqIC0gaHR0cHM6Ly90aGVvcmEub3JnL2RvYy9UaGVvcmEucGRmXG4gKi9cbmV4cG9ydCBjbGFzcyBUaGVvcmFQYXJzZXIge1xuICAgIGNvbnN0cnVjdG9yKG1ldGFkYXRhLCBvcHRpb25zLCB0b2tlbml6ZXIpIHtcbiAgICAgICAgdGhpcy5tZXRhZGF0YSA9IG1ldGFkYXRhO1xuICAgICAgICB0aGlzLnRva2VuaXplciA9IHRva2VuaXplcjtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVm9yYmlzIDEgcGFyc2VyXG4gICAgICogQHBhcmFtIGhlYWRlciBPZ2cgUGFnZSBIZWFkZXJcbiAgICAgKiBAcGFyYW0gcGFnZURhdGEgUGFnZSBkYXRhXG4gICAgICovXG4gICAgYXN5bmMgcGFyc2VQYWdlKGhlYWRlciwgcGFnZURhdGEpIHtcbiAgICAgICAgaWYgKGhlYWRlci5oZWFkZXJUeXBlLmZpcnN0UGFnZSkge1xuICAgICAgICAgICAgYXdhaXQgdGhpcy5wYXJzZUZpcnN0UGFnZShoZWFkZXIsIHBhZ2VEYXRhKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBhc3luYyBmbHVzaCgpIHtcbiAgICAgICAgZGVidWcoJ2ZsdXNoJyk7XG4gICAgfVxuICAgIGNhbGN1bGF0ZUR1cmF0aW9uKGhlYWRlcikge1xuICAgICAgICBkZWJ1ZygnZHVyYXRpb24gY2FsY3VsYXRpb24gbm90IGltcGxlbWVudGVkJyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFBhcnNlIGZpcnN0IFRoZW9yYSBPZ2cgcGFnZS4gdGhlIGluaXRpYWwgaWRlbnRpZmljYXRpb24gaGVhZGVyIHBhY2tldFxuICAgICAqIEBwYXJhbSB7SVBhZ2VIZWFkZXJ9IGhlYWRlclxuICAgICAqIEBwYXJhbSB7QnVmZmVyfSBwYWdlRGF0YVxuICAgICAqL1xuICAgIGFzeW5jIHBhcnNlRmlyc3RQYWdlKGhlYWRlciwgcGFnZURhdGEpIHtcbiAgICAgICAgZGVidWcoJ0ZpcnN0IE9nZy9UaGVvcmEgcGFnZScpO1xuICAgICAgICB0aGlzLm1ldGFkYXRhLnNldEZvcm1hdCgnY29kZWMnLCAnVGhlb3JhJyk7XG4gICAgICAgIGNvbnN0IGlkSGVhZGVyID0gSWRlbnRpZmljYXRpb25IZWFkZXIuZ2V0KHBhZ2VEYXRhLCAwKTtcbiAgICAgICAgdGhpcy5tZXRhZGF0YS5zZXRGb3JtYXQoJ2JpdHJhdGUnLCBpZEhlYWRlci5ub21icik7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9VGhlb3JhUGFyc2VyLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/music-metadata/lib/ogg/theora/TheoraParser.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/music-metadata/lib/ogg/vorbis/Vorbis.js":
/*!**************************************************************!*\
  !*** ./node_modules/music-metadata/lib/ogg/vorbis/Vorbis.js ***!
  \**************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   CommonHeader: () => (/* binding */ CommonHeader),\n/* harmony export */   IdentificationHeader: () => (/* binding */ IdentificationHeader),\n/* harmony export */   VorbisPictureToken: () => (/* binding */ VorbisPictureToken)\n/* harmony export */ });\n/* harmony import */ var token_types__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! token-types */ \"(ssr)/./node_modules/token-types/lib/index.js\");\n/* harmony import */ var _id3v2_ID3v2Token_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../id3v2/ID3v2Token.js */ \"(ssr)/./node_modules/music-metadata/lib/id3v2/ID3v2Token.js\");\n\n\n/**\n * Parse the METADATA_BLOCK_PICTURE\n * Ref: https://wiki.xiph.org/VorbisComment#METADATA_BLOCK_PICTURE\n * Ref: https://xiph.org/flac/format.html#metadata_block_picture\n * // ToDo: move to ID3 / APIC?\n */\nclass VorbisPictureToken {\n    static fromBase64(base64str) {\n        return VorbisPictureToken.fromBuffer(Uint8Array.from(atob(base64str), c => c.charCodeAt(0)));\n    }\n    static fromBuffer(buffer) {\n        const pic = new VorbisPictureToken(buffer.length);\n        return pic.get(buffer, 0);\n    }\n    constructor(len) {\n        this.len = len;\n    }\n    get(buffer, offset) {\n        const type = _id3v2_ID3v2Token_js__WEBPACK_IMPORTED_MODULE_1__.AttachedPictureType[token_types__WEBPACK_IMPORTED_MODULE_0__.UINT32_BE.get(buffer, offset)];\n        offset += 4;\n        const mimeLen = token_types__WEBPACK_IMPORTED_MODULE_0__.UINT32_BE.get(buffer, offset);\n        offset += 4;\n        const format = new token_types__WEBPACK_IMPORTED_MODULE_0__.StringType(mimeLen, 'utf-8').get(buffer, offset);\n        offset += mimeLen;\n        const descLen = token_types__WEBPACK_IMPORTED_MODULE_0__.UINT32_BE.get(buffer, offset);\n        offset += 4;\n        const description = new token_types__WEBPACK_IMPORTED_MODULE_0__.StringType(descLen, 'utf-8').get(buffer, offset);\n        offset += descLen;\n        const width = token_types__WEBPACK_IMPORTED_MODULE_0__.UINT32_BE.get(buffer, offset);\n        offset += 4;\n        const height = token_types__WEBPACK_IMPORTED_MODULE_0__.UINT32_BE.get(buffer, offset);\n        offset += 4;\n        const colour_depth = token_types__WEBPACK_IMPORTED_MODULE_0__.UINT32_BE.get(buffer, offset);\n        offset += 4;\n        const indexed_color = token_types__WEBPACK_IMPORTED_MODULE_0__.UINT32_BE.get(buffer, offset);\n        offset += 4;\n        const picDataLen = token_types__WEBPACK_IMPORTED_MODULE_0__.UINT32_BE.get(buffer, offset);\n        offset += 4;\n        const data = Uint8Array.from(buffer.slice(offset, offset + picDataLen));\n        return {\n            type,\n            format,\n            description,\n            width,\n            height,\n            colour_depth,\n            indexed_color,\n            data\n        };\n    }\n}\n/**\n * Comment header decoder\n * Ref: https://xiph.org/vorbis/doc/Vorbis_I_spec.html#x1-620004.2.1\n */\nconst CommonHeader = {\n    len: 7,\n    get: (buf, off) => {\n        return {\n            packetType: token_types__WEBPACK_IMPORTED_MODULE_0__.UINT8.get(buf, off),\n            vorbis: new token_types__WEBPACK_IMPORTED_MODULE_0__.StringType(6, 'ascii').get(buf, off + 1)\n        };\n    }\n};\n/**\n * Identification header decoder\n * Ref: https://xiph.org/vorbis/doc/Vorbis_I_spec.html#x1-630004.2.2\n */\nconst IdentificationHeader = {\n    len: 23,\n    get: (uint8Array, off) => {\n        return {\n            version: token_types__WEBPACK_IMPORTED_MODULE_0__.UINT32_LE.get(uint8Array, off + 0),\n            channelMode: token_types__WEBPACK_IMPORTED_MODULE_0__.UINT8.get(uint8Array, off + 4),\n            sampleRate: token_types__WEBPACK_IMPORTED_MODULE_0__.UINT32_LE.get(uint8Array, off + 5),\n            bitrateMax: token_types__WEBPACK_IMPORTED_MODULE_0__.UINT32_LE.get(uint8Array, off + 9),\n            bitrateNominal: token_types__WEBPACK_IMPORTED_MODULE_0__.UINT32_LE.get(uint8Array, off + 13),\n            bitrateMin: token_types__WEBPACK_IMPORTED_MODULE_0__.UINT32_LE.get(uint8Array, off + 17)\n        };\n    }\n};\n//# sourceMappingURL=Vorbis.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbXVzaWMtbWV0YWRhdGEvbGliL29nZy92b3JiaXMvVm9yYmlzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQXFDO0FBQzJCO0FBQ2hFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQixxRUFBbUIsQ0FBQyxrREFBZTtBQUN4RDtBQUNBLHdCQUF3QixrREFBZTtBQUN2QztBQUNBLDJCQUEyQixtREFBZ0I7QUFDM0M7QUFDQSx3QkFBd0Isa0RBQWU7QUFDdkM7QUFDQSxnQ0FBZ0MsbURBQWdCO0FBQ2hEO0FBQ0Esc0JBQXNCLGtEQUFlO0FBQ3JDO0FBQ0EsdUJBQXVCLGtEQUFlO0FBQ3RDO0FBQ0EsNkJBQTZCLGtEQUFlO0FBQzVDO0FBQ0EsOEJBQThCLGtEQUFlO0FBQzdDO0FBQ0EsMkJBQTJCLGtEQUFlO0FBQzFDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLDhDQUFXO0FBQ25DLHdCQUF3QixtREFBZ0I7QUFDeEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQixrREFBZTtBQUNwQyx5QkFBeUIsOENBQVc7QUFDcEMsd0JBQXdCLGtEQUFlO0FBQ3ZDLHdCQUF3QixrREFBZTtBQUN2Qyw0QkFBNEIsa0RBQWU7QUFDM0Msd0JBQXdCLGtEQUFlO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZGV2ZWxldmF0ZS8uL25vZGVfbW9kdWxlcy9tdXNpYy1tZXRhZGF0YS9saWIvb2dnL3ZvcmJpcy9Wb3JiaXMuanM/OGI4NCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgKiBhcyBUb2tlbiBmcm9tICd0b2tlbi10eXBlcyc7XG5pbXBvcnQgeyBBdHRhY2hlZFBpY3R1cmVUeXBlIH0gZnJvbSAnLi4vLi4vaWQzdjIvSUQzdjJUb2tlbi5qcyc7XG4vKipcbiAqIFBhcnNlIHRoZSBNRVRBREFUQV9CTE9DS19QSUNUVVJFXG4gKiBSZWY6IGh0dHBzOi8vd2lraS54aXBoLm9yZy9Wb3JiaXNDb21tZW50I01FVEFEQVRBX0JMT0NLX1BJQ1RVUkVcbiAqIFJlZjogaHR0cHM6Ly94aXBoLm9yZy9mbGFjL2Zvcm1hdC5odG1sI21ldGFkYXRhX2Jsb2NrX3BpY3R1cmVcbiAqIC8vIFRvRG86IG1vdmUgdG8gSUQzIC8gQVBJQz9cbiAqL1xuZXhwb3J0IGNsYXNzIFZvcmJpc1BpY3R1cmVUb2tlbiB7XG4gICAgc3RhdGljIGZyb21CYXNlNjQoYmFzZTY0c3RyKSB7XG4gICAgICAgIHJldHVybiBWb3JiaXNQaWN0dXJlVG9rZW4uZnJvbUJ1ZmZlcihVaW50OEFycmF5LmZyb20oYXRvYihiYXNlNjRzdHIpLCBjID0+IGMuY2hhckNvZGVBdCgwKSkpO1xuICAgIH1cbiAgICBzdGF0aWMgZnJvbUJ1ZmZlcihidWZmZXIpIHtcbiAgICAgICAgY29uc3QgcGljID0gbmV3IFZvcmJpc1BpY3R1cmVUb2tlbihidWZmZXIubGVuZ3RoKTtcbiAgICAgICAgcmV0dXJuIHBpYy5nZXQoYnVmZmVyLCAwKTtcbiAgICB9XG4gICAgY29uc3RydWN0b3IobGVuKSB7XG4gICAgICAgIHRoaXMubGVuID0gbGVuO1xuICAgIH1cbiAgICBnZXQoYnVmZmVyLCBvZmZzZXQpIHtcbiAgICAgICAgY29uc3QgdHlwZSA9IEF0dGFjaGVkUGljdHVyZVR5cGVbVG9rZW4uVUlOVDMyX0JFLmdldChidWZmZXIsIG9mZnNldCldO1xuICAgICAgICBvZmZzZXQgKz0gNDtcbiAgICAgICAgY29uc3QgbWltZUxlbiA9IFRva2VuLlVJTlQzMl9CRS5nZXQoYnVmZmVyLCBvZmZzZXQpO1xuICAgICAgICBvZmZzZXQgKz0gNDtcbiAgICAgICAgY29uc3QgZm9ybWF0ID0gbmV3IFRva2VuLlN0cmluZ1R5cGUobWltZUxlbiwgJ3V0Zi04JykuZ2V0KGJ1ZmZlciwgb2Zmc2V0KTtcbiAgICAgICAgb2Zmc2V0ICs9IG1pbWVMZW47XG4gICAgICAgIGNvbnN0IGRlc2NMZW4gPSBUb2tlbi5VSU5UMzJfQkUuZ2V0KGJ1ZmZlciwgb2Zmc2V0KTtcbiAgICAgICAgb2Zmc2V0ICs9IDQ7XG4gICAgICAgIGNvbnN0IGRlc2NyaXB0aW9uID0gbmV3IFRva2VuLlN0cmluZ1R5cGUoZGVzY0xlbiwgJ3V0Zi04JykuZ2V0KGJ1ZmZlciwgb2Zmc2V0KTtcbiAgICAgICAgb2Zmc2V0ICs9IGRlc2NMZW47XG4gICAgICAgIGNvbnN0IHdpZHRoID0gVG9rZW4uVUlOVDMyX0JFLmdldChidWZmZXIsIG9mZnNldCk7XG4gICAgICAgIG9mZnNldCArPSA0O1xuICAgICAgICBjb25zdCBoZWlnaHQgPSBUb2tlbi5VSU5UMzJfQkUuZ2V0KGJ1ZmZlciwgb2Zmc2V0KTtcbiAgICAgICAgb2Zmc2V0ICs9IDQ7XG4gICAgICAgIGNvbnN0IGNvbG91cl9kZXB0aCA9IFRva2VuLlVJTlQzMl9CRS5nZXQoYnVmZmVyLCBvZmZzZXQpO1xuICAgICAgICBvZmZzZXQgKz0gNDtcbiAgICAgICAgY29uc3QgaW5kZXhlZF9jb2xvciA9IFRva2VuLlVJTlQzMl9CRS5nZXQoYnVmZmVyLCBvZmZzZXQpO1xuICAgICAgICBvZmZzZXQgKz0gNDtcbiAgICAgICAgY29uc3QgcGljRGF0YUxlbiA9IFRva2VuLlVJTlQzMl9CRS5nZXQoYnVmZmVyLCBvZmZzZXQpO1xuICAgICAgICBvZmZzZXQgKz0gNDtcbiAgICAgICAgY29uc3QgZGF0YSA9IFVpbnQ4QXJyYXkuZnJvbShidWZmZXIuc2xpY2Uob2Zmc2V0LCBvZmZzZXQgKyBwaWNEYXRhTGVuKSk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB0eXBlLFxuICAgICAgICAgICAgZm9ybWF0LFxuICAgICAgICAgICAgZGVzY3JpcHRpb24sXG4gICAgICAgICAgICB3aWR0aCxcbiAgICAgICAgICAgIGhlaWdodCxcbiAgICAgICAgICAgIGNvbG91cl9kZXB0aCxcbiAgICAgICAgICAgIGluZGV4ZWRfY29sb3IsXG4gICAgICAgICAgICBkYXRhXG4gICAgICAgIH07XG4gICAgfVxufVxuLyoqXG4gKiBDb21tZW50IGhlYWRlciBkZWNvZGVyXG4gKiBSZWY6IGh0dHBzOi8veGlwaC5vcmcvdm9yYmlzL2RvYy9Wb3JiaXNfSV9zcGVjLmh0bWwjeDEtNjIwMDA0LjIuMVxuICovXG5leHBvcnQgY29uc3QgQ29tbW9uSGVhZGVyID0ge1xuICAgIGxlbjogNyxcbiAgICBnZXQ6IChidWYsIG9mZikgPT4ge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgcGFja2V0VHlwZTogVG9rZW4uVUlOVDguZ2V0KGJ1Ziwgb2ZmKSxcbiAgICAgICAgICAgIHZvcmJpczogbmV3IFRva2VuLlN0cmluZ1R5cGUoNiwgJ2FzY2lpJykuZ2V0KGJ1Ziwgb2ZmICsgMSlcbiAgICAgICAgfTtcbiAgICB9XG59O1xuLyoqXG4gKiBJZGVudGlmaWNhdGlvbiBoZWFkZXIgZGVjb2RlclxuICogUmVmOiBodHRwczovL3hpcGgub3JnL3ZvcmJpcy9kb2MvVm9yYmlzX0lfc3BlYy5odG1sI3gxLTYzMDAwNC4yLjJcbiAqL1xuZXhwb3J0IGNvbnN0IElkZW50aWZpY2F0aW9uSGVhZGVyID0ge1xuICAgIGxlbjogMjMsXG4gICAgZ2V0OiAodWludDhBcnJheSwgb2ZmKSA9PiB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB2ZXJzaW9uOiBUb2tlbi5VSU5UMzJfTEUuZ2V0KHVpbnQ4QXJyYXksIG9mZiArIDApLFxuICAgICAgICAgICAgY2hhbm5lbE1vZGU6IFRva2VuLlVJTlQ4LmdldCh1aW50OEFycmF5LCBvZmYgKyA0KSxcbiAgICAgICAgICAgIHNhbXBsZVJhdGU6IFRva2VuLlVJTlQzMl9MRS5nZXQodWludDhBcnJheSwgb2ZmICsgNSksXG4gICAgICAgICAgICBiaXRyYXRlTWF4OiBUb2tlbi5VSU5UMzJfTEUuZ2V0KHVpbnQ4QXJyYXksIG9mZiArIDkpLFxuICAgICAgICAgICAgYml0cmF0ZU5vbWluYWw6IFRva2VuLlVJTlQzMl9MRS5nZXQodWludDhBcnJheSwgb2ZmICsgMTMpLFxuICAgICAgICAgICAgYml0cmF0ZU1pbjogVG9rZW4uVUlOVDMyX0xFLmdldCh1aW50OEFycmF5LCBvZmYgKyAxNylcbiAgICAgICAgfTtcbiAgICB9XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Vm9yYmlzLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/music-metadata/lib/ogg/vorbis/Vorbis.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/music-metadata/lib/ogg/vorbis/VorbisDecoder.js":
/*!*********************************************************************!*\
  !*** ./node_modules/music-metadata/lib/ogg/vorbis/VorbisDecoder.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   VorbisDecoder: () => (/* binding */ VorbisDecoder)\n/* harmony export */ });\n/* harmony import */ var token_types__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! token-types */ \"(ssr)/./node_modules/token-types/lib/index.js\");\n\nclass VorbisDecoder {\n    constructor(data, offset) {\n        this.data = data;\n        this.offset = offset;\n    }\n    readInt32() {\n        const value = token_types__WEBPACK_IMPORTED_MODULE_0__.UINT32_LE.get(this.data, this.offset);\n        this.offset += 4;\n        return value;\n    }\n    readStringUtf8() {\n        const len = this.readInt32();\n        const value = new TextDecoder('utf-8').decode(this.data.subarray(this.offset, this.offset + len));\n        this.offset += len;\n        return value;\n    }\n    parseUserComment() {\n        const offset0 = this.offset;\n        const v = this.readStringUtf8();\n        const idx = v.indexOf('=');\n        return {\n            key: v.slice(0, idx).toUpperCase(),\n            value: v.slice(idx + 1),\n            len: this.offset - offset0\n        };\n    }\n}\n//# sourceMappingURL=VorbisDecoder.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbXVzaWMtbWV0YWRhdGEvbGliL29nZy92b3JiaXMvVm9yYmlzRGVjb2Rlci5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUFxQztBQUM5QjtBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0Isa0RBQWU7QUFDckM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZGV2ZWxldmF0ZS8uL25vZGVfbW9kdWxlcy9tdXNpYy1tZXRhZGF0YS9saWIvb2dnL3ZvcmJpcy9Wb3JiaXNEZWNvZGVyLmpzPzM3MmQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICogYXMgVG9rZW4gZnJvbSAndG9rZW4tdHlwZXMnO1xuZXhwb3J0IGNsYXNzIFZvcmJpc0RlY29kZXIge1xuICAgIGNvbnN0cnVjdG9yKGRhdGEsIG9mZnNldCkge1xuICAgICAgICB0aGlzLmRhdGEgPSBkYXRhO1xuICAgICAgICB0aGlzLm9mZnNldCA9IG9mZnNldDtcbiAgICB9XG4gICAgcmVhZEludDMyKCkge1xuICAgICAgICBjb25zdCB2YWx1ZSA9IFRva2VuLlVJTlQzMl9MRS5nZXQodGhpcy5kYXRhLCB0aGlzLm9mZnNldCk7XG4gICAgICAgIHRoaXMub2Zmc2V0ICs9IDQ7XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG4gICAgcmVhZFN0cmluZ1V0ZjgoKSB7XG4gICAgICAgIGNvbnN0IGxlbiA9IHRoaXMucmVhZEludDMyKCk7XG4gICAgICAgIGNvbnN0IHZhbHVlID0gbmV3IFRleHREZWNvZGVyKCd1dGYtOCcpLmRlY29kZSh0aGlzLmRhdGEuc3ViYXJyYXkodGhpcy5vZmZzZXQsIHRoaXMub2Zmc2V0ICsgbGVuKSk7XG4gICAgICAgIHRoaXMub2Zmc2V0ICs9IGxlbjtcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH1cbiAgICBwYXJzZVVzZXJDb21tZW50KCkge1xuICAgICAgICBjb25zdCBvZmZzZXQwID0gdGhpcy5vZmZzZXQ7XG4gICAgICAgIGNvbnN0IHYgPSB0aGlzLnJlYWRTdHJpbmdVdGY4KCk7XG4gICAgICAgIGNvbnN0IGlkeCA9IHYuaW5kZXhPZignPScpO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAga2V5OiB2LnNsaWNlKDAsIGlkeCkudG9VcHBlckNhc2UoKSxcbiAgICAgICAgICAgIHZhbHVlOiB2LnNsaWNlKGlkeCArIDEpLFxuICAgICAgICAgICAgbGVuOiB0aGlzLm9mZnNldCAtIG9mZnNldDBcbiAgICAgICAgfTtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1Wb3JiaXNEZWNvZGVyLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/music-metadata/lib/ogg/vorbis/VorbisDecoder.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/music-metadata/lib/ogg/vorbis/VorbisParser.js":
/*!********************************************************************!*\
  !*** ./node_modules/music-metadata/lib/ogg/vorbis/VorbisParser.js ***!
  \********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   VorbisParser: () => (/* binding */ VorbisParser)\n/* harmony export */ });\n/* harmony import */ var token_types__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! token-types */ \"(ssr)/./node_modules/token-types/lib/index.js\");\n/* harmony import */ var debug__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! debug */ \"(ssr)/./node_modules/debug/src/index.js\");\n/* harmony import */ var _VorbisDecoder_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./VorbisDecoder.js */ \"(ssr)/./node_modules/music-metadata/lib/ogg/vorbis/VorbisDecoder.js\");\n/* harmony import */ var _Vorbis_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Vorbis.js */ \"(ssr)/./node_modules/music-metadata/lib/ogg/vorbis/Vorbis.js\");\n\n\n\n\nconst debug = debug__WEBPACK_IMPORTED_MODULE_1__('music-metadata:parser:ogg:vorbis1');\n/**\n * Vorbis 1 Parser.\n * Used by OggParser\n */\nclass VorbisParser {\n    constructor(metadata, options) {\n        this.metadata = metadata;\n        this.options = options;\n        this.pageSegments = [];\n    }\n    /**\n     * Vorbis 1 parser\n     * @param header Ogg Page Header\n     * @param pageData Page data\n     */\n    async parsePage(header, pageData) {\n        if (header.headerType.firstPage) {\n            this.parseFirstPage(header, pageData);\n        }\n        else {\n            if (header.headerType.continued) {\n                if (this.pageSegments.length === 0) {\n                    throw new Error('Cannot continue on previous page');\n                }\n                this.pageSegments.push(pageData);\n            }\n            if (header.headerType.lastPage || !header.headerType.continued) {\n                // Flush page segments\n                if (this.pageSegments.length > 0) {\n                    const fullPage = VorbisParser.mergeUint8Arrays(this.pageSegments);\n                    await this.parseFullPage(fullPage);\n                }\n                // Reset page segments\n                this.pageSegments = header.headerType.lastPage ? [] : [pageData];\n            }\n        }\n        if (header.headerType.lastPage) {\n            this.calculateDuration(header);\n        }\n    }\n    static mergeUint8Arrays(arrays) {\n        const totalSize = arrays.reduce((acc, e) => acc + e.length, 0);\n        const merged = new Uint8Array(totalSize);\n        arrays.forEach((array, i, _arrays) => {\n            const offset = _arrays.slice(0, i).reduce((acc, e) => acc + e.length, 0);\n            merged.set(array, offset);\n        });\n        return merged;\n    }\n    async flush() {\n        await this.parseFullPage(VorbisParser.mergeUint8Arrays(this.pageSegments));\n    }\n    async parseUserComment(pageData, offset) {\n        const decoder = new _VorbisDecoder_js__WEBPACK_IMPORTED_MODULE_2__.VorbisDecoder(pageData, offset);\n        const tag = decoder.parseUserComment();\n        await this.addTag(tag.key, tag.value);\n        return tag.len;\n    }\n    async addTag(id, value) {\n        if (id === 'METADATA_BLOCK_PICTURE' && (typeof value === 'string')) {\n            if (this.options.skipCovers) {\n                debug(\"Ignore picture\");\n                return;\n            }\n            value = _Vorbis_js__WEBPACK_IMPORTED_MODULE_3__.VorbisPictureToken.fromBase64(value);\n            debug(`Push picture: id=${id}, format=${value.format}`);\n        }\n        else {\n            debug(`Push tag: id=${id}, value=${value}`);\n        }\n        await this.metadata.addTag('vorbis', id, value);\n    }\n    calculateDuration(header) {\n        if (this.metadata.format.sampleRate && header.absoluteGranulePosition >= 0) {\n            // Calculate duration\n            this.metadata.setFormat('numberOfSamples', header.absoluteGranulePosition);\n            this.metadata.setFormat('duration', header.absoluteGranulePosition / this.metadata.format.sampleRate);\n        }\n    }\n    /**\n     * Parse first Ogg/Vorbis page\n     * @param header\n     * @param pageData\n     */\n    parseFirstPage(header, pageData) {\n        this.metadata.setFormat('codec', 'Vorbis I');\n        debug('Parse first page');\n        // Parse  Vorbis common header\n        const commonHeader = _Vorbis_js__WEBPACK_IMPORTED_MODULE_3__.CommonHeader.get(pageData, 0);\n        if (commonHeader.vorbis !== 'vorbis')\n            throw new Error('Metadata does not look like Vorbis');\n        if (commonHeader.packetType === 1) {\n            const idHeader = _Vorbis_js__WEBPACK_IMPORTED_MODULE_3__.IdentificationHeader.get(pageData, _Vorbis_js__WEBPACK_IMPORTED_MODULE_3__.CommonHeader.len);\n            this.metadata.setFormat('sampleRate', idHeader.sampleRate);\n            this.metadata.setFormat('bitrate', idHeader.bitrateNominal);\n            this.metadata.setFormat('numberOfChannels', idHeader.channelMode);\n            debug('sample-rate=%s[hz], bitrate=%s[b/s], channel-mode=%s', idHeader.sampleRate, idHeader.bitrateNominal, idHeader.channelMode);\n        }\n        else\n            throw new Error('First Ogg page should be type 1: the identification header');\n    }\n    async parseFullPage(pageData) {\n        // New page\n        const commonHeader = _Vorbis_js__WEBPACK_IMPORTED_MODULE_3__.CommonHeader.get(pageData, 0);\n        debug('Parse full page: type=%s, byteLength=%s', commonHeader.packetType, pageData.byteLength);\n        switch (commonHeader.packetType) {\n            case 3: //  type 3: comment header\n                return this.parseUserCommentList(pageData, _Vorbis_js__WEBPACK_IMPORTED_MODULE_3__.CommonHeader.len);\n            case 1: // type 1: the identification header\n            case 5: // type 5: setup header type\n                break; // ignore\n        }\n    }\n    /**\n     * Ref: https://xiph.org/vorbis/doc/Vorbis_I_spec.html#x1-840005.2\n     */\n    async parseUserCommentList(pageData, offset) {\n        const strLen = token_types__WEBPACK_IMPORTED_MODULE_0__.UINT32_LE.get(pageData, offset);\n        offset += 4;\n        // const vendorString = new Token.StringType(strLen, 'utf-8').get(pageData, offset);\n        offset += strLen;\n        let userCommentListLength = token_types__WEBPACK_IMPORTED_MODULE_0__.UINT32_LE.get(pageData, offset);\n        offset += 4;\n        while (userCommentListLength-- > 0) {\n            offset += (await this.parseUserComment(pageData, offset));\n        }\n    }\n}\n//# sourceMappingURL=VorbisParser.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbXVzaWMtbWV0YWRhdGEvbGliL29nZy92b3JiaXMvVm9yYmlzUGFyc2VyLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQXFDO0FBQ1A7QUFDcUI7QUFDa0M7QUFDckYsY0FBYyxrQ0FBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIsNERBQWE7QUFDekM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsMERBQWtCO0FBQ3RDLHNDQUFzQyxHQUFHLFdBQVcsYUFBYTtBQUNqRTtBQUNBO0FBQ0Esa0NBQWtDLEdBQUcsVUFBVSxNQUFNO0FBQ3JEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCLG9EQUFZO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBLDZCQUE2Qiw0REFBb0IsZUFBZSxvREFBWTtBQUM1RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QixvREFBWTtBQUN6QztBQUNBO0FBQ0E7QUFDQSwyREFBMkQsb0RBQVk7QUFDdkU7QUFDQTtBQUNBLHVCQUF1QjtBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUIsa0RBQWU7QUFDdEM7QUFDQTtBQUNBO0FBQ0Esb0NBQW9DLGtEQUFlO0FBQ25EO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZGV2ZWxldmF0ZS8uL25vZGVfbW9kdWxlcy9tdXNpYy1tZXRhZGF0YS9saWIvb2dnL3ZvcmJpcy9Wb3JiaXNQYXJzZXIuanM/YjZhMSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgKiBhcyBUb2tlbiBmcm9tICd0b2tlbi10eXBlcyc7XG5pbXBvcnQgZGVidWdJbml0IGZyb20gJ2RlYnVnJztcbmltcG9ydCB7IFZvcmJpc0RlY29kZXIgfSBmcm9tICcuL1ZvcmJpc0RlY29kZXIuanMnO1xuaW1wb3J0IHsgQ29tbW9uSGVhZGVyLCBJZGVudGlmaWNhdGlvbkhlYWRlciwgVm9yYmlzUGljdHVyZVRva2VuIH0gZnJvbSAnLi9Wb3JiaXMuanMnO1xuY29uc3QgZGVidWcgPSBkZWJ1Z0luaXQoJ211c2ljLW1ldGFkYXRhOnBhcnNlcjpvZ2c6dm9yYmlzMScpO1xuLyoqXG4gKiBWb3JiaXMgMSBQYXJzZXIuXG4gKiBVc2VkIGJ5IE9nZ1BhcnNlclxuICovXG5leHBvcnQgY2xhc3MgVm9yYmlzUGFyc2VyIHtcbiAgICBjb25zdHJ1Y3RvcihtZXRhZGF0YSwgb3B0aW9ucykge1xuICAgICAgICB0aGlzLm1ldGFkYXRhID0gbWV0YWRhdGE7XG4gICAgICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnM7XG4gICAgICAgIHRoaXMucGFnZVNlZ21lbnRzID0gW107XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFZvcmJpcyAxIHBhcnNlclxuICAgICAqIEBwYXJhbSBoZWFkZXIgT2dnIFBhZ2UgSGVhZGVyXG4gICAgICogQHBhcmFtIHBhZ2VEYXRhIFBhZ2UgZGF0YVxuICAgICAqL1xuICAgIGFzeW5jIHBhcnNlUGFnZShoZWFkZXIsIHBhZ2VEYXRhKSB7XG4gICAgICAgIGlmIChoZWFkZXIuaGVhZGVyVHlwZS5maXJzdFBhZ2UpIHtcbiAgICAgICAgICAgIHRoaXMucGFyc2VGaXJzdFBhZ2UoaGVhZGVyLCBwYWdlRGF0YSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpZiAoaGVhZGVyLmhlYWRlclR5cGUuY29udGludWVkKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMucGFnZVNlZ21lbnRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCBjb250aW51ZSBvbiBwcmV2aW91cyBwYWdlJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMucGFnZVNlZ21lbnRzLnB1c2gocGFnZURhdGEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGhlYWRlci5oZWFkZXJUeXBlLmxhc3RQYWdlIHx8ICFoZWFkZXIuaGVhZGVyVHlwZS5jb250aW51ZWQpIHtcbiAgICAgICAgICAgICAgICAvLyBGbHVzaCBwYWdlIHNlZ21lbnRzXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMucGFnZVNlZ21lbnRzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZnVsbFBhZ2UgPSBWb3JiaXNQYXJzZXIubWVyZ2VVaW50OEFycmF5cyh0aGlzLnBhZ2VTZWdtZW50cyk7XG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMucGFyc2VGdWxsUGFnZShmdWxsUGFnZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIFJlc2V0IHBhZ2Ugc2VnbWVudHNcbiAgICAgICAgICAgICAgICB0aGlzLnBhZ2VTZWdtZW50cyA9IGhlYWRlci5oZWFkZXJUeXBlLmxhc3RQYWdlID8gW10gOiBbcGFnZURhdGFdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChoZWFkZXIuaGVhZGVyVHlwZS5sYXN0UGFnZSkge1xuICAgICAgICAgICAgdGhpcy5jYWxjdWxhdGVEdXJhdGlvbihoZWFkZXIpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHN0YXRpYyBtZXJnZVVpbnQ4QXJyYXlzKGFycmF5cykge1xuICAgICAgICBjb25zdCB0b3RhbFNpemUgPSBhcnJheXMucmVkdWNlKChhY2MsIGUpID0+IGFjYyArIGUubGVuZ3RoLCAwKTtcbiAgICAgICAgY29uc3QgbWVyZ2VkID0gbmV3IFVpbnQ4QXJyYXkodG90YWxTaXplKTtcbiAgICAgICAgYXJyYXlzLmZvckVhY2goKGFycmF5LCBpLCBfYXJyYXlzKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBvZmZzZXQgPSBfYXJyYXlzLnNsaWNlKDAsIGkpLnJlZHVjZSgoYWNjLCBlKSA9PiBhY2MgKyBlLmxlbmd0aCwgMCk7XG4gICAgICAgICAgICBtZXJnZWQuc2V0KGFycmF5LCBvZmZzZXQpO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIG1lcmdlZDtcbiAgICB9XG4gICAgYXN5bmMgZmx1c2goKSB7XG4gICAgICAgIGF3YWl0IHRoaXMucGFyc2VGdWxsUGFnZShWb3JiaXNQYXJzZXIubWVyZ2VVaW50OEFycmF5cyh0aGlzLnBhZ2VTZWdtZW50cykpO1xuICAgIH1cbiAgICBhc3luYyBwYXJzZVVzZXJDb21tZW50KHBhZ2VEYXRhLCBvZmZzZXQpIHtcbiAgICAgICAgY29uc3QgZGVjb2RlciA9IG5ldyBWb3JiaXNEZWNvZGVyKHBhZ2VEYXRhLCBvZmZzZXQpO1xuICAgICAgICBjb25zdCB0YWcgPSBkZWNvZGVyLnBhcnNlVXNlckNvbW1lbnQoKTtcbiAgICAgICAgYXdhaXQgdGhpcy5hZGRUYWcodGFnLmtleSwgdGFnLnZhbHVlKTtcbiAgICAgICAgcmV0dXJuIHRhZy5sZW47XG4gICAgfVxuICAgIGFzeW5jIGFkZFRhZyhpZCwgdmFsdWUpIHtcbiAgICAgICAgaWYgKGlkID09PSAnTUVUQURBVEFfQkxPQ0tfUElDVFVSRScgJiYgKHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycpKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5vcHRpb25zLnNraXBDb3ZlcnMpIHtcbiAgICAgICAgICAgICAgICBkZWJ1ZyhcIklnbm9yZSBwaWN0dXJlXCIpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhbHVlID0gVm9yYmlzUGljdHVyZVRva2VuLmZyb21CYXNlNjQodmFsdWUpO1xuICAgICAgICAgICAgZGVidWcoYFB1c2ggcGljdHVyZTogaWQ9JHtpZH0sIGZvcm1hdD0ke3ZhbHVlLmZvcm1hdH1gKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGRlYnVnKGBQdXNoIHRhZzogaWQ9JHtpZH0sIHZhbHVlPSR7dmFsdWV9YCk7XG4gICAgICAgIH1cbiAgICAgICAgYXdhaXQgdGhpcy5tZXRhZGF0YS5hZGRUYWcoJ3ZvcmJpcycsIGlkLCB2YWx1ZSk7XG4gICAgfVxuICAgIGNhbGN1bGF0ZUR1cmF0aW9uKGhlYWRlcikge1xuICAgICAgICBpZiAodGhpcy5tZXRhZGF0YS5mb3JtYXQuc2FtcGxlUmF0ZSAmJiBoZWFkZXIuYWJzb2x1dGVHcmFudWxlUG9zaXRpb24gPj0gMCkge1xuICAgICAgICAgICAgLy8gQ2FsY3VsYXRlIGR1cmF0aW9uXG4gICAgICAgICAgICB0aGlzLm1ldGFkYXRhLnNldEZvcm1hdCgnbnVtYmVyT2ZTYW1wbGVzJywgaGVhZGVyLmFic29sdXRlR3JhbnVsZVBvc2l0aW9uKTtcbiAgICAgICAgICAgIHRoaXMubWV0YWRhdGEuc2V0Rm9ybWF0KCdkdXJhdGlvbicsIGhlYWRlci5hYnNvbHV0ZUdyYW51bGVQb3NpdGlvbiAvIHRoaXMubWV0YWRhdGEuZm9ybWF0LnNhbXBsZVJhdGUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFBhcnNlIGZpcnN0IE9nZy9Wb3JiaXMgcGFnZVxuICAgICAqIEBwYXJhbSBoZWFkZXJcbiAgICAgKiBAcGFyYW0gcGFnZURhdGFcbiAgICAgKi9cbiAgICBwYXJzZUZpcnN0UGFnZShoZWFkZXIsIHBhZ2VEYXRhKSB7XG4gICAgICAgIHRoaXMubWV0YWRhdGEuc2V0Rm9ybWF0KCdjb2RlYycsICdWb3JiaXMgSScpO1xuICAgICAgICBkZWJ1ZygnUGFyc2UgZmlyc3QgcGFnZScpO1xuICAgICAgICAvLyBQYXJzZSAgVm9yYmlzIGNvbW1vbiBoZWFkZXJcbiAgICAgICAgY29uc3QgY29tbW9uSGVhZGVyID0gQ29tbW9uSGVhZGVyLmdldChwYWdlRGF0YSwgMCk7XG4gICAgICAgIGlmIChjb21tb25IZWFkZXIudm9yYmlzICE9PSAndm9yYmlzJylcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignTWV0YWRhdGEgZG9lcyBub3QgbG9vayBsaWtlIFZvcmJpcycpO1xuICAgICAgICBpZiAoY29tbW9uSGVhZGVyLnBhY2tldFR5cGUgPT09IDEpIHtcbiAgICAgICAgICAgIGNvbnN0IGlkSGVhZGVyID0gSWRlbnRpZmljYXRpb25IZWFkZXIuZ2V0KHBhZ2VEYXRhLCBDb21tb25IZWFkZXIubGVuKTtcbiAgICAgICAgICAgIHRoaXMubWV0YWRhdGEuc2V0Rm9ybWF0KCdzYW1wbGVSYXRlJywgaWRIZWFkZXIuc2FtcGxlUmF0ZSk7XG4gICAgICAgICAgICB0aGlzLm1ldGFkYXRhLnNldEZvcm1hdCgnYml0cmF0ZScsIGlkSGVhZGVyLmJpdHJhdGVOb21pbmFsKTtcbiAgICAgICAgICAgIHRoaXMubWV0YWRhdGEuc2V0Rm9ybWF0KCdudW1iZXJPZkNoYW5uZWxzJywgaWRIZWFkZXIuY2hhbm5lbE1vZGUpO1xuICAgICAgICAgICAgZGVidWcoJ3NhbXBsZS1yYXRlPSVzW2h6XSwgYml0cmF0ZT0lc1tiL3NdLCBjaGFubmVsLW1vZGU9JXMnLCBpZEhlYWRlci5zYW1wbGVSYXRlLCBpZEhlYWRlci5iaXRyYXRlTm9taW5hbCwgaWRIZWFkZXIuY2hhbm5lbE1vZGUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignRmlyc3QgT2dnIHBhZ2Ugc2hvdWxkIGJlIHR5cGUgMTogdGhlIGlkZW50aWZpY2F0aW9uIGhlYWRlcicpO1xuICAgIH1cbiAgICBhc3luYyBwYXJzZUZ1bGxQYWdlKHBhZ2VEYXRhKSB7XG4gICAgICAgIC8vIE5ldyBwYWdlXG4gICAgICAgIGNvbnN0IGNvbW1vbkhlYWRlciA9IENvbW1vbkhlYWRlci5nZXQocGFnZURhdGEsIDApO1xuICAgICAgICBkZWJ1ZygnUGFyc2UgZnVsbCBwYWdlOiB0eXBlPSVzLCBieXRlTGVuZ3RoPSVzJywgY29tbW9uSGVhZGVyLnBhY2tldFR5cGUsIHBhZ2VEYXRhLmJ5dGVMZW5ndGgpO1xuICAgICAgICBzd2l0Y2ggKGNvbW1vbkhlYWRlci5wYWNrZXRUeXBlKSB7XG4gICAgICAgICAgICBjYXNlIDM6IC8vICB0eXBlIDM6IGNvbW1lbnQgaGVhZGVyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMucGFyc2VVc2VyQ29tbWVudExpc3QocGFnZURhdGEsIENvbW1vbkhlYWRlci5sZW4pO1xuICAgICAgICAgICAgY2FzZSAxOiAvLyB0eXBlIDE6IHRoZSBpZGVudGlmaWNhdGlvbiBoZWFkZXJcbiAgICAgICAgICAgIGNhc2UgNTogLy8gdHlwZSA1OiBzZXR1cCBoZWFkZXIgdHlwZVxuICAgICAgICAgICAgICAgIGJyZWFrOyAvLyBpZ25vcmVcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZWY6IGh0dHBzOi8veGlwaC5vcmcvdm9yYmlzL2RvYy9Wb3JiaXNfSV9zcGVjLmh0bWwjeDEtODQwMDA1LjJcbiAgICAgKi9cbiAgICBhc3luYyBwYXJzZVVzZXJDb21tZW50TGlzdChwYWdlRGF0YSwgb2Zmc2V0KSB7XG4gICAgICAgIGNvbnN0IHN0ckxlbiA9IFRva2VuLlVJTlQzMl9MRS5nZXQocGFnZURhdGEsIG9mZnNldCk7XG4gICAgICAgIG9mZnNldCArPSA0O1xuICAgICAgICAvLyBjb25zdCB2ZW5kb3JTdHJpbmcgPSBuZXcgVG9rZW4uU3RyaW5nVHlwZShzdHJMZW4sICd1dGYtOCcpLmdldChwYWdlRGF0YSwgb2Zmc2V0KTtcbiAgICAgICAgb2Zmc2V0ICs9IHN0ckxlbjtcbiAgICAgICAgbGV0IHVzZXJDb21tZW50TGlzdExlbmd0aCA9IFRva2VuLlVJTlQzMl9MRS5nZXQocGFnZURhdGEsIG9mZnNldCk7XG4gICAgICAgIG9mZnNldCArPSA0O1xuICAgICAgICB3aGlsZSAodXNlckNvbW1lbnRMaXN0TGVuZ3RoLS0gPiAwKSB7XG4gICAgICAgICAgICBvZmZzZXQgKz0gKGF3YWl0IHRoaXMucGFyc2VVc2VyQ29tbWVudChwYWdlRGF0YSwgb2Zmc2V0KSk7XG4gICAgICAgIH1cbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1Wb3JiaXNQYXJzZXIuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/music-metadata/lib/ogg/vorbis/VorbisParser.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/music-metadata/lib/ogg/vorbis/VorbisTagMapper.js":
/*!***********************************************************************!*\
  !*** ./node_modules/music-metadata/lib/ogg/vorbis/VorbisTagMapper.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   VorbisTagMapper: () => (/* binding */ VorbisTagMapper)\n/* harmony export */ });\n/* harmony import */ var _common_GenericTagMapper_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../common/GenericTagMapper.js */ \"(ssr)/./node_modules/music-metadata/lib/common/GenericTagMapper.js\");\n\n/**\n * Vorbis tag mappings\n *\n * Mapping from native header format to one or possibly more 'common' entries\n * The common entries aim to read the same information from different media files\n * independent of the underlying format\n */\nconst vorbisTagMap = {\n    TITLE: 'title',\n    ARTIST: 'artist',\n    ARTISTS: 'artists',\n    ALBUMARTIST: 'albumartist',\n    'ALBUM ARTIST': 'albumartist',\n    ALBUM: 'album',\n    DATE: 'date',\n    ORIGINALDATE: 'originaldate',\n    ORIGINALYEAR: 'originalyear',\n    RELEASEDATE: 'releasedate',\n    COMMENT: 'comment',\n    TRACKNUMBER: 'track',\n    DISCNUMBER: 'disk',\n    GENRE: 'genre',\n    METADATA_BLOCK_PICTURE: 'picture',\n    COMPOSER: 'composer',\n    LYRICS: 'lyrics',\n    ALBUMSORT: 'albumsort',\n    TITLESORT: 'titlesort',\n    WORK: 'work',\n    ARTISTSORT: 'artistsort',\n    ALBUMARTISTSORT: 'albumartistsort',\n    COMPOSERSORT: 'composersort',\n    LYRICIST: 'lyricist',\n    WRITER: 'writer',\n    CONDUCTOR: 'conductor',\n    // 'PERFORMER=artist (instrument)': 'performer:instrument', // ToDo\n    REMIXER: 'remixer',\n    ARRANGER: 'arranger',\n    ENGINEER: 'engineer',\n    PRODUCER: 'producer',\n    DJMIXER: 'djmixer',\n    MIXER: 'mixer',\n    LABEL: 'label',\n    GROUPING: 'grouping',\n    SUBTITLE: 'subtitle',\n    DISCSUBTITLE: 'discsubtitle',\n    TRACKTOTAL: 'totaltracks',\n    DISCTOTAL: 'totaldiscs',\n    COMPILATION: 'compilation',\n    RATING: 'rating',\n    BPM: 'bpm',\n    KEY: 'key',\n    MOOD: 'mood',\n    MEDIA: 'media',\n    CATALOGNUMBER: 'catalognumber',\n    RELEASESTATUS: 'releasestatus',\n    RELEASETYPE: 'releasetype',\n    RELEASECOUNTRY: 'releasecountry',\n    SCRIPT: 'script',\n    LANGUAGE: 'language',\n    COPYRIGHT: 'copyright',\n    LICENSE: 'license',\n    ENCODEDBY: 'encodedby',\n    ENCODERSETTINGS: 'encodersettings',\n    BARCODE: 'barcode',\n    ISRC: 'isrc',\n    ASIN: 'asin',\n    MUSICBRAINZ_TRACKID: 'musicbrainz_recordingid',\n    MUSICBRAINZ_RELEASETRACKID: 'musicbrainz_trackid',\n    MUSICBRAINZ_ALBUMID: 'musicbrainz_albumid',\n    MUSICBRAINZ_ARTISTID: 'musicbrainz_artistid',\n    MUSICBRAINZ_ALBUMARTISTID: 'musicbrainz_albumartistid',\n    MUSICBRAINZ_RELEASEGROUPID: 'musicbrainz_releasegroupid',\n    MUSICBRAINZ_WORKID: 'musicbrainz_workid',\n    MUSICBRAINZ_TRMID: 'musicbrainz_trmid',\n    MUSICBRAINZ_DISCID: 'musicbrainz_discid',\n    ACOUSTID_ID: 'acoustid_id',\n    ACOUSTID_ID_FINGERPRINT: 'acoustid_fingerprint',\n    MUSICIP_PUID: 'musicip_puid',\n    // 'FINGERPRINT=MusicMagic Fingerprint {fingerprint}': 'musicip_fingerprint', // ToDo\n    WEBSITE: 'website',\n    NOTES: 'notes',\n    TOTALTRACKS: 'totaltracks',\n    TOTALDISCS: 'totaldiscs',\n    // Discogs\n    DISCOGS_ARTIST_ID: 'discogs_artist_id',\n    DISCOGS_ARTISTS: 'artists',\n    DISCOGS_ARTIST_NAME: 'artists',\n    DISCOGS_ALBUM_ARTISTS: 'albumartist',\n    DISCOGS_CATALOG: 'catalognumber',\n    DISCOGS_COUNTRY: 'releasecountry',\n    DISCOGS_DATE: 'originaldate',\n    DISCOGS_LABEL: 'label',\n    DISCOGS_LABEL_ID: 'discogs_label_id',\n    DISCOGS_MASTER_RELEASE_ID: 'discogs_master_release_id',\n    DISCOGS_RATING: 'discogs_rating',\n    DISCOGS_RELEASED: 'date',\n    DISCOGS_RELEASE_ID: 'discogs_release_id',\n    DISCOGS_VOTES: 'discogs_votes',\n    CATALOGID: 'catalognumber',\n    STYLE: 'genre',\n    //\n    REPLAYGAIN_TRACK_GAIN: 'replaygain_track_gain',\n    REPLAYGAIN_TRACK_PEAK: 'replaygain_track_peak',\n    REPLAYGAIN_ALBUM_GAIN: 'replaygain_album_gain',\n    REPLAYGAIN_ALBUM_PEAK: 'replaygain_album_peak',\n    // To Sure if these (REPLAYGAIN_MINMAX, REPLAYGAIN_ALBUM_MINMAX & REPLAYGAIN_UNDO) are used for Vorbis:\n    REPLAYGAIN_MINMAX: 'replaygain_track_minmax',\n    REPLAYGAIN_ALBUM_MINMAX: 'replaygain_album_minmax',\n    REPLAYGAIN_UNDO: 'replaygain_undo'\n};\nclass VorbisTagMapper extends _common_GenericTagMapper_js__WEBPACK_IMPORTED_MODULE_0__.CommonTagMapper {\n    static toRating(email, rating, maxScore) {\n        return {\n            source: email ? email.toLowerCase() : undefined,\n            rating: (Number.parseFloat(rating) / maxScore) * _common_GenericTagMapper_js__WEBPACK_IMPORTED_MODULE_0__.CommonTagMapper.maxRatingScore\n        };\n    }\n    constructor() {\n        super(['vorbis'], vorbisTagMap);\n    }\n    postMap(tag) {\n        if (tag.id === 'RATING') {\n            // The way Winamp 5.666 assigns rating\n            tag.value = VorbisTagMapper.toRating(undefined, tag.value, 100);\n        }\n        else if (tag.id.indexOf('RATING:') === 0) {\n            const keys = tag.id.split(':');\n            tag.value = VorbisTagMapper.toRating(keys[1], tag.value, 1);\n            tag.id = keys[0];\n        }\n    }\n}\n//# sourceMappingURL=VorbisTagMapper.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbXVzaWMtbWV0YWRhdGEvbGliL29nZy92b3JiaXMvVm9yYmlzVGFnTWFwcGVyLmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQW1FO0FBQ25FO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRDQUE0QyxZQUFZO0FBQ3hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ08sOEJBQThCLHdFQUFlO0FBQ3BEO0FBQ0E7QUFDQTtBQUNBLDZEQUE2RCx3RUFBZTtBQUM1RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9kZXZlbGV2YXRlLy4vbm9kZV9tb2R1bGVzL211c2ljLW1ldGFkYXRhL2xpYi9vZ2cvdm9yYmlzL1ZvcmJpc1RhZ01hcHBlci5qcz8xZWZlIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IENvbW1vblRhZ01hcHBlciB9IGZyb20gJy4uLy4uL2NvbW1vbi9HZW5lcmljVGFnTWFwcGVyLmpzJztcbi8qKlxuICogVm9yYmlzIHRhZyBtYXBwaW5nc1xuICpcbiAqIE1hcHBpbmcgZnJvbSBuYXRpdmUgaGVhZGVyIGZvcm1hdCB0byBvbmUgb3IgcG9zc2libHkgbW9yZSAnY29tbW9uJyBlbnRyaWVzXG4gKiBUaGUgY29tbW9uIGVudHJpZXMgYWltIHRvIHJlYWQgdGhlIHNhbWUgaW5mb3JtYXRpb24gZnJvbSBkaWZmZXJlbnQgbWVkaWEgZmlsZXNcbiAqIGluZGVwZW5kZW50IG9mIHRoZSB1bmRlcmx5aW5nIGZvcm1hdFxuICovXG5jb25zdCB2b3JiaXNUYWdNYXAgPSB7XG4gICAgVElUTEU6ICd0aXRsZScsXG4gICAgQVJUSVNUOiAnYXJ0aXN0JyxcbiAgICBBUlRJU1RTOiAnYXJ0aXN0cycsXG4gICAgQUxCVU1BUlRJU1Q6ICdhbGJ1bWFydGlzdCcsXG4gICAgJ0FMQlVNIEFSVElTVCc6ICdhbGJ1bWFydGlzdCcsXG4gICAgQUxCVU06ICdhbGJ1bScsXG4gICAgREFURTogJ2RhdGUnLFxuICAgIE9SSUdJTkFMREFURTogJ29yaWdpbmFsZGF0ZScsXG4gICAgT1JJR0lOQUxZRUFSOiAnb3JpZ2luYWx5ZWFyJyxcbiAgICBSRUxFQVNFREFURTogJ3JlbGVhc2VkYXRlJyxcbiAgICBDT01NRU5UOiAnY29tbWVudCcsXG4gICAgVFJBQ0tOVU1CRVI6ICd0cmFjaycsXG4gICAgRElTQ05VTUJFUjogJ2Rpc2snLFxuICAgIEdFTlJFOiAnZ2VucmUnLFxuICAgIE1FVEFEQVRBX0JMT0NLX1BJQ1RVUkU6ICdwaWN0dXJlJyxcbiAgICBDT01QT1NFUjogJ2NvbXBvc2VyJyxcbiAgICBMWVJJQ1M6ICdseXJpY3MnLFxuICAgIEFMQlVNU09SVDogJ2FsYnVtc29ydCcsXG4gICAgVElUTEVTT1JUOiAndGl0bGVzb3J0JyxcbiAgICBXT1JLOiAnd29yaycsXG4gICAgQVJUSVNUU09SVDogJ2FydGlzdHNvcnQnLFxuICAgIEFMQlVNQVJUSVNUU09SVDogJ2FsYnVtYXJ0aXN0c29ydCcsXG4gICAgQ09NUE9TRVJTT1JUOiAnY29tcG9zZXJzb3J0JyxcbiAgICBMWVJJQ0lTVDogJ2x5cmljaXN0JyxcbiAgICBXUklURVI6ICd3cml0ZXInLFxuICAgIENPTkRVQ1RPUjogJ2NvbmR1Y3RvcicsXG4gICAgLy8gJ1BFUkZPUk1FUj1hcnRpc3TCoChpbnN0cnVtZW50KSc6ICdwZXJmb3JtZXI6aW5zdHJ1bWVudCcsIC8vIFRvRG9cbiAgICBSRU1JWEVSOiAncmVtaXhlcicsXG4gICAgQVJSQU5HRVI6ICdhcnJhbmdlcicsXG4gICAgRU5HSU5FRVI6ICdlbmdpbmVlcicsXG4gICAgUFJPRFVDRVI6ICdwcm9kdWNlcicsXG4gICAgREpNSVhFUjogJ2RqbWl4ZXInLFxuICAgIE1JWEVSOiAnbWl4ZXInLFxuICAgIExBQkVMOiAnbGFiZWwnLFxuICAgIEdST1VQSU5HOiAnZ3JvdXBpbmcnLFxuICAgIFNVQlRJVExFOiAnc3VidGl0bGUnLFxuICAgIERJU0NTVUJUSVRMRTogJ2Rpc2NzdWJ0aXRsZScsXG4gICAgVFJBQ0tUT1RBTDogJ3RvdGFsdHJhY2tzJyxcbiAgICBESVNDVE9UQUw6ICd0b3RhbGRpc2NzJyxcbiAgICBDT01QSUxBVElPTjogJ2NvbXBpbGF0aW9uJyxcbiAgICBSQVRJTkc6ICdyYXRpbmcnLFxuICAgIEJQTTogJ2JwbScsXG4gICAgS0VZOiAna2V5JyxcbiAgICBNT09EOiAnbW9vZCcsXG4gICAgTUVESUE6ICdtZWRpYScsXG4gICAgQ0FUQUxPR05VTUJFUjogJ2NhdGFsb2dudW1iZXInLFxuICAgIFJFTEVBU0VTVEFUVVM6ICdyZWxlYXNlc3RhdHVzJyxcbiAgICBSRUxFQVNFVFlQRTogJ3JlbGVhc2V0eXBlJyxcbiAgICBSRUxFQVNFQ09VTlRSWTogJ3JlbGVhc2Vjb3VudHJ5JyxcbiAgICBTQ1JJUFQ6ICdzY3JpcHQnLFxuICAgIExBTkdVQUdFOiAnbGFuZ3VhZ2UnLFxuICAgIENPUFlSSUdIVDogJ2NvcHlyaWdodCcsXG4gICAgTElDRU5TRTogJ2xpY2Vuc2UnLFxuICAgIEVOQ09ERURCWTogJ2VuY29kZWRieScsXG4gICAgRU5DT0RFUlNFVFRJTkdTOiAnZW5jb2RlcnNldHRpbmdzJyxcbiAgICBCQVJDT0RFOiAnYmFyY29kZScsXG4gICAgSVNSQzogJ2lzcmMnLFxuICAgIEFTSU46ICdhc2luJyxcbiAgICBNVVNJQ0JSQUlOWl9UUkFDS0lEOiAnbXVzaWNicmFpbnpfcmVjb3JkaW5naWQnLFxuICAgIE1VU0lDQlJBSU5aX1JFTEVBU0VUUkFDS0lEOiAnbXVzaWNicmFpbnpfdHJhY2tpZCcsXG4gICAgTVVTSUNCUkFJTlpfQUxCVU1JRDogJ211c2ljYnJhaW56X2FsYnVtaWQnLFxuICAgIE1VU0lDQlJBSU5aX0FSVElTVElEOiAnbXVzaWNicmFpbnpfYXJ0aXN0aWQnLFxuICAgIE1VU0lDQlJBSU5aX0FMQlVNQVJUSVNUSUQ6ICdtdXNpY2JyYWluel9hbGJ1bWFydGlzdGlkJyxcbiAgICBNVVNJQ0JSQUlOWl9SRUxFQVNFR1JPVVBJRDogJ211c2ljYnJhaW56X3JlbGVhc2Vncm91cGlkJyxcbiAgICBNVVNJQ0JSQUlOWl9XT1JLSUQ6ICdtdXNpY2JyYWluel93b3JraWQnLFxuICAgIE1VU0lDQlJBSU5aX1RSTUlEOiAnbXVzaWNicmFpbnpfdHJtaWQnLFxuICAgIE1VU0lDQlJBSU5aX0RJU0NJRDogJ211c2ljYnJhaW56X2Rpc2NpZCcsXG4gICAgQUNPVVNUSURfSUQ6ICdhY291c3RpZF9pZCcsXG4gICAgQUNPVVNUSURfSURfRklOR0VSUFJJTlQ6ICdhY291c3RpZF9maW5nZXJwcmludCcsXG4gICAgTVVTSUNJUF9QVUlEOiAnbXVzaWNpcF9wdWlkJyxcbiAgICAvLyAnRklOR0VSUFJJTlQ9TXVzaWNNYWdpYyBGaW5nZXJwcmludMKge2ZpbmdlcnByaW50fSc6ICdtdXNpY2lwX2ZpbmdlcnByaW50JywgLy8gVG9Eb1xuICAgIFdFQlNJVEU6ICd3ZWJzaXRlJyxcbiAgICBOT1RFUzogJ25vdGVzJyxcbiAgICBUT1RBTFRSQUNLUzogJ3RvdGFsdHJhY2tzJyxcbiAgICBUT1RBTERJU0NTOiAndG90YWxkaXNjcycsXG4gICAgLy8gRGlzY29nc1xuICAgIERJU0NPR1NfQVJUSVNUX0lEOiAnZGlzY29nc19hcnRpc3RfaWQnLFxuICAgIERJU0NPR1NfQVJUSVNUUzogJ2FydGlzdHMnLFxuICAgIERJU0NPR1NfQVJUSVNUX05BTUU6ICdhcnRpc3RzJyxcbiAgICBESVNDT0dTX0FMQlVNX0FSVElTVFM6ICdhbGJ1bWFydGlzdCcsXG4gICAgRElTQ09HU19DQVRBTE9HOiAnY2F0YWxvZ251bWJlcicsXG4gICAgRElTQ09HU19DT1VOVFJZOiAncmVsZWFzZWNvdW50cnknLFxuICAgIERJU0NPR1NfREFURTogJ29yaWdpbmFsZGF0ZScsXG4gICAgRElTQ09HU19MQUJFTDogJ2xhYmVsJyxcbiAgICBESVNDT0dTX0xBQkVMX0lEOiAnZGlzY29nc19sYWJlbF9pZCcsXG4gICAgRElTQ09HU19NQVNURVJfUkVMRUFTRV9JRDogJ2Rpc2NvZ3NfbWFzdGVyX3JlbGVhc2VfaWQnLFxuICAgIERJU0NPR1NfUkFUSU5HOiAnZGlzY29nc19yYXRpbmcnLFxuICAgIERJU0NPR1NfUkVMRUFTRUQ6ICdkYXRlJyxcbiAgICBESVNDT0dTX1JFTEVBU0VfSUQ6ICdkaXNjb2dzX3JlbGVhc2VfaWQnLFxuICAgIERJU0NPR1NfVk9URVM6ICdkaXNjb2dzX3ZvdGVzJyxcbiAgICBDQVRBTE9HSUQ6ICdjYXRhbG9nbnVtYmVyJyxcbiAgICBTVFlMRTogJ2dlbnJlJyxcbiAgICAvL1xuICAgIFJFUExBWUdBSU5fVFJBQ0tfR0FJTjogJ3JlcGxheWdhaW5fdHJhY2tfZ2FpbicsXG4gICAgUkVQTEFZR0FJTl9UUkFDS19QRUFLOiAncmVwbGF5Z2Fpbl90cmFja19wZWFrJyxcbiAgICBSRVBMQVlHQUlOX0FMQlVNX0dBSU46ICdyZXBsYXlnYWluX2FsYnVtX2dhaW4nLFxuICAgIFJFUExBWUdBSU5fQUxCVU1fUEVBSzogJ3JlcGxheWdhaW5fYWxidW1fcGVhaycsXG4gICAgLy8gVG8gU3VyZSBpZiB0aGVzZSAoUkVQTEFZR0FJTl9NSU5NQVgsIFJFUExBWUdBSU5fQUxCVU1fTUlOTUFYICYgUkVQTEFZR0FJTl9VTkRPKSBhcmUgdXNlZCBmb3IgVm9yYmlzOlxuICAgIFJFUExBWUdBSU5fTUlOTUFYOiAncmVwbGF5Z2Fpbl90cmFja19taW5tYXgnLFxuICAgIFJFUExBWUdBSU5fQUxCVU1fTUlOTUFYOiAncmVwbGF5Z2Fpbl9hbGJ1bV9taW5tYXgnLFxuICAgIFJFUExBWUdBSU5fVU5ETzogJ3JlcGxheWdhaW5fdW5kbydcbn07XG5leHBvcnQgY2xhc3MgVm9yYmlzVGFnTWFwcGVyIGV4dGVuZHMgQ29tbW9uVGFnTWFwcGVyIHtcbiAgICBzdGF0aWMgdG9SYXRpbmcoZW1haWwsIHJhdGluZywgbWF4U2NvcmUpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHNvdXJjZTogZW1haWwgPyBlbWFpbC50b0xvd2VyQ2FzZSgpIDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgcmF0aW5nOiAoTnVtYmVyLnBhcnNlRmxvYXQocmF0aW5nKSAvIG1heFNjb3JlKSAqIENvbW1vblRhZ01hcHBlci5tYXhSYXRpbmdTY29yZVxuICAgICAgICB9O1xuICAgIH1cbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoWyd2b3JiaXMnXSwgdm9yYmlzVGFnTWFwKTtcbiAgICB9XG4gICAgcG9zdE1hcCh0YWcpIHtcbiAgICAgICAgaWYgKHRhZy5pZCA9PT0gJ1JBVElORycpIHtcbiAgICAgICAgICAgIC8vIFRoZSB3YXkgV2luYW1wIDUuNjY2IGFzc2lnbnMgcmF0aW5nXG4gICAgICAgICAgICB0YWcudmFsdWUgPSBWb3JiaXNUYWdNYXBwZXIudG9SYXRpbmcodW5kZWZpbmVkLCB0YWcudmFsdWUsIDEwMCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGFnLmlkLmluZGV4T2YoJ1JBVElORzonKSA9PT0gMCkge1xuICAgICAgICAgICAgY29uc3Qga2V5cyA9IHRhZy5pZC5zcGxpdCgnOicpO1xuICAgICAgICAgICAgdGFnLnZhbHVlID0gVm9yYmlzVGFnTWFwcGVyLnRvUmF0aW5nKGtleXNbMV0sIHRhZy52YWx1ZSwgMSk7XG4gICAgICAgICAgICB0YWcuaWQgPSBrZXlzWzBdO1xuICAgICAgICB9XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Vm9yYmlzVGFnTWFwcGVyLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/music-metadata/lib/ogg/vorbis/VorbisTagMapper.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/music-metadata/lib/riff/RiffChunk.js":
/*!***********************************************************!*\
  !*** ./node_modules/music-metadata/lib/riff/RiffChunk.js ***!
  \***********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Header: () => (/* binding */ Header),\n/* harmony export */   ListInfoTagValue: () => (/* binding */ ListInfoTagValue)\n/* harmony export */ });\n/* harmony import */ var token_types__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! token-types */ \"(ssr)/./node_modules/token-types/lib/index.js\");\n\n/**\n * Common RIFF chunk header\n */\nconst Header = {\n    len: 8,\n    get: (buf, off) => {\n        return {\n            // Group-ID\n            chunkID: new token_types__WEBPACK_IMPORTED_MODULE_0__.StringType(4, 'latin1').get(buf, off),\n            // Size\n            chunkSize: token_types__WEBPACK_IMPORTED_MODULE_0__.UINT32_LE.get(buf, off + 4)\n        };\n    }\n};\n/**\n * Token to parse RIFF-INFO tag value\n */\nclass ListInfoTagValue {\n    constructor(tagHeader) {\n        this.tagHeader = tagHeader;\n        this.len = tagHeader.chunkSize;\n        this.len += this.len & 1; // if it is an odd length, round up to even\n    }\n    get(buf, off) {\n        return new token_types__WEBPACK_IMPORTED_MODULE_0__.StringType(this.tagHeader.chunkSize, 'ascii').get(buf, off);\n    }\n}\n//# sourceMappingURL=RiffChunk.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbXVzaWMtbWV0YWRhdGEvbGliL3JpZmYvUmlmZkNodW5rLmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFxQztBQUNyQztBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCLG1EQUFnQjtBQUN6QztBQUNBLHVCQUF1QixrREFBZTtBQUN0QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBLGtDQUFrQztBQUNsQztBQUNBO0FBQ0EsbUJBQW1CLG1EQUFnQjtBQUNuQztBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9kZXZlbGV2YXRlLy4vbm9kZV9tb2R1bGVzL211c2ljLW1ldGFkYXRhL2xpYi9yaWZmL1JpZmZDaHVuay5qcz8xOTE3Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAqIGFzIFRva2VuIGZyb20gJ3Rva2VuLXR5cGVzJztcbi8qKlxuICogQ29tbW9uIFJJRkYgY2h1bmsgaGVhZGVyXG4gKi9cbmV4cG9ydCBjb25zdCBIZWFkZXIgPSB7XG4gICAgbGVuOiA4LFxuICAgIGdldDogKGJ1Ziwgb2ZmKSA9PiB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAvLyBHcm91cC1JRFxuICAgICAgICAgICAgY2h1bmtJRDogbmV3IFRva2VuLlN0cmluZ1R5cGUoNCwgJ2xhdGluMScpLmdldChidWYsIG9mZiksXG4gICAgICAgICAgICAvLyBTaXplXG4gICAgICAgICAgICBjaHVua1NpemU6IFRva2VuLlVJTlQzMl9MRS5nZXQoYnVmLCBvZmYgKyA0KVxuICAgICAgICB9O1xuICAgIH1cbn07XG4vKipcbiAqIFRva2VuIHRvIHBhcnNlIFJJRkYtSU5GTyB0YWcgdmFsdWVcbiAqL1xuZXhwb3J0IGNsYXNzIExpc3RJbmZvVGFnVmFsdWUge1xuICAgIGNvbnN0cnVjdG9yKHRhZ0hlYWRlcikge1xuICAgICAgICB0aGlzLnRhZ0hlYWRlciA9IHRhZ0hlYWRlcjtcbiAgICAgICAgdGhpcy5sZW4gPSB0YWdIZWFkZXIuY2h1bmtTaXplO1xuICAgICAgICB0aGlzLmxlbiArPSB0aGlzLmxlbiAmIDE7IC8vIGlmIGl0IGlzIGFuIG9kZCBsZW5ndGgsIHJvdW5kIHVwIHRvIGV2ZW5cbiAgICB9XG4gICAgZ2V0KGJ1Ziwgb2ZmKSB7XG4gICAgICAgIHJldHVybiBuZXcgVG9rZW4uU3RyaW5nVHlwZSh0aGlzLnRhZ0hlYWRlci5jaHVua1NpemUsICdhc2NpaScpLmdldChidWYsIG9mZik7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9UmlmZkNodW5rLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/music-metadata/lib/riff/RiffChunk.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/music-metadata/lib/riff/RiffInfoTagMap.js":
/*!****************************************************************!*\
  !*** ./node_modules/music-metadata/lib/riff/RiffInfoTagMap.js ***!
  \****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   RiffInfoTagMapper: () => (/* binding */ RiffInfoTagMapper),\n/* harmony export */   riffInfoTagMap: () => (/* binding */ riffInfoTagMap)\n/* harmony export */ });\n/* harmony import */ var _common_GenericTagMapper_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../common/GenericTagMapper.js */ \"(ssr)/./node_modules/music-metadata/lib/common/GenericTagMapper.js\");\n\n/**\n * RIFF Info Tags; part of the EXIF 2.3\n * Ref: http://owl.phy.queensu.ca/~phil/exiftool/TagNames/RIFF.html#Info\n */\nconst riffInfoTagMap = {\n    IART: 'artist', // Artist\n    ICRD: 'date', // DateCreated\n    INAM: 'title', // Title\n    TITL: 'title',\n    IPRD: 'album', // Product\n    ITRK: 'track',\n    IPRT: 'track', // Additional tag for track index\n    COMM: 'comment', // Comments\n    ICMT: 'comment', // Country\n    ICNT: 'releasecountry',\n    GNRE: 'genre', // Genre\n    IWRI: 'writer', // WrittenBy\n    RATE: 'rating',\n    YEAR: 'year',\n    ISFT: 'encodedby', // Software\n    CODE: 'encodedby', // EncodedBy\n    TURL: 'website', // URL,\n    IGNR: 'genre', // Genre\n    IENG: 'engineer', // Engineer\n    ITCH: 'technician', // Technician\n    IMED: 'media', // Original Media\n    IRPD: 'album' // Product, where the file was intended for\n};\nclass RiffInfoTagMapper extends _common_GenericTagMapper_js__WEBPACK_IMPORTED_MODULE_0__.CommonTagMapper {\n    constructor() {\n        super(['exif'], riffInfoTagMap);\n    }\n}\n//# sourceMappingURL=RiffInfoTagMap.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbXVzaWMtbWV0YWRhdGEvbGliL3JpZmYvUmlmZkluZm9UYWdNYXAuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQWdFO0FBQ2hFO0FBQ0EsbUJBQW1CO0FBQ25CO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTyxnQ0FBZ0Msd0VBQWU7QUFDdEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2RldmVsZXZhdGUvLi9ub2RlX21vZHVsZXMvbXVzaWMtbWV0YWRhdGEvbGliL3JpZmYvUmlmZkluZm9UYWdNYXAuanM/OTM1NyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBDb21tb25UYWdNYXBwZXIgfSBmcm9tICcuLi9jb21tb24vR2VuZXJpY1RhZ01hcHBlci5qcyc7XG4vKipcbiAqIFJJRkYgSW5mbyBUYWdzOyBwYXJ0IG9mIHRoZSBFWElGIDIuM1xuICogUmVmOiBodHRwOi8vb3dsLnBoeS5xdWVlbnN1LmNhL35waGlsL2V4aWZ0b29sL1RhZ05hbWVzL1JJRkYuaHRtbCNJbmZvXG4gKi9cbmV4cG9ydCBjb25zdCByaWZmSW5mb1RhZ01hcCA9IHtcbiAgICBJQVJUOiAnYXJ0aXN0JywgLy8gQXJ0aXN0XG4gICAgSUNSRDogJ2RhdGUnLCAvLyBEYXRlQ3JlYXRlZFxuICAgIElOQU06ICd0aXRsZScsIC8vIFRpdGxlXG4gICAgVElUTDogJ3RpdGxlJyxcbiAgICBJUFJEOiAnYWxidW0nLCAvLyBQcm9kdWN0XG4gICAgSVRSSzogJ3RyYWNrJyxcbiAgICBJUFJUOiAndHJhY2snLCAvLyBBZGRpdGlvbmFsIHRhZyBmb3IgdHJhY2sgaW5kZXhcbiAgICBDT01NOiAnY29tbWVudCcsIC8vIENvbW1lbnRzXG4gICAgSUNNVDogJ2NvbW1lbnQnLCAvLyBDb3VudHJ5XG4gICAgSUNOVDogJ3JlbGVhc2Vjb3VudHJ5JyxcbiAgICBHTlJFOiAnZ2VucmUnLCAvLyBHZW5yZVxuICAgIElXUkk6ICd3cml0ZXInLCAvLyBXcml0dGVuQnlcbiAgICBSQVRFOiAncmF0aW5nJyxcbiAgICBZRUFSOiAneWVhcicsXG4gICAgSVNGVDogJ2VuY29kZWRieScsIC8vIFNvZnR3YXJlXG4gICAgQ09ERTogJ2VuY29kZWRieScsIC8vIEVuY29kZWRCeVxuICAgIFRVUkw6ICd3ZWJzaXRlJywgLy8gVVJMLFxuICAgIElHTlI6ICdnZW5yZScsIC8vIEdlbnJlXG4gICAgSUVORzogJ2VuZ2luZWVyJywgLy8gRW5naW5lZXJcbiAgICBJVENIOiAndGVjaG5pY2lhbicsIC8vIFRlY2huaWNpYW5cbiAgICBJTUVEOiAnbWVkaWEnLCAvLyBPcmlnaW5hbCBNZWRpYVxuICAgIElSUEQ6ICdhbGJ1bScgLy8gUHJvZHVjdCwgd2hlcmUgdGhlIGZpbGUgd2FzIGludGVuZGVkIGZvclxufTtcbmV4cG9ydCBjbGFzcyBSaWZmSW5mb1RhZ01hcHBlciBleHRlbmRzIENvbW1vblRhZ01hcHBlciB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKFsnZXhpZiddLCByaWZmSW5mb1RhZ01hcCk7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9UmlmZkluZm9UYWdNYXAuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/music-metadata/lib/riff/RiffInfoTagMap.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/music-metadata/lib/type.js":
/*!*************************************************!*\
  !*** ./node_modules/music-metadata/lib/type.js ***!
  \*************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   LyricsContentType: () => (/* reexport safe */ _id3v2_ID3v2Token_js__WEBPACK_IMPORTED_MODULE_1__.LyricsContentType),\n/* harmony export */   TimestampFormat: () => (/* reexport safe */ _id3v2_ID3v2Token_js__WEBPACK_IMPORTED_MODULE_1__.TimestampFormat),\n/* harmony export */   TrackType: () => (/* reexport safe */ _matroska_types_js__WEBPACK_IMPORTED_MODULE_0__.TrackType)\n/* harmony export */ });\n/* harmony import */ var _matroska_types_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./matroska/types.js */ \"(ssr)/./node_modules/music-metadata/lib/matroska/types.js\");\n/* harmony import */ var _id3v2_ID3v2Token_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./id3v2/ID3v2Token.js */ \"(ssr)/./node_modules/music-metadata/lib/id3v2/ID3v2Token.js\");\n\n\n//# sourceMappingURL=type.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbXVzaWMtbWV0YWRhdGEvbGliL3R5cGUuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBZ0Q7QUFDMkI7QUFDM0UiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9kZXZlbGV2YXRlLy4vbm9kZV9tb2R1bGVzL211c2ljLW1ldGFkYXRhL2xpYi90eXBlLmpzPzc1MjMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IHsgVHJhY2tUeXBlIH0gZnJvbSAnLi9tYXRyb3NrYS90eXBlcy5qcyc7XG5leHBvcnQgeyBMeXJpY3NDb250ZW50VHlwZSwgVGltZXN0YW1wRm9ybWF0IH0gZnJvbSAnLi9pZDN2Mi9JRDN2MlRva2VuLmpzJztcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXR5cGUuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/music-metadata/lib/type.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/music-metadata/lib/wav/BwfChunk.js":
/*!*********************************************************!*\
  !*** ./node_modules/music-metadata/lib/wav/BwfChunk.js ***!
  \*********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BroadcastAudioExtensionChunk: () => (/* binding */ BroadcastAudioExtensionChunk)\n/* harmony export */ });\n/* harmony import */ var token_types__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! token-types */ \"(ssr)/./node_modules/token-types/lib/index.js\");\n/* harmony import */ var _common_Util_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../common/Util.js */ \"(ssr)/./node_modules/music-metadata/lib/common/Util.js\");\n\n\n/**\n * Broadcast Audio Extension Chunk\n * Ref: https://tech.ebu.ch/docs/tech/tech3285.pdf\n */\nconst BroadcastAudioExtensionChunk = {\n    len: 420,\n    get: (uint8array, off) => {\n        return {\n            description: (0,_common_Util_js__WEBPACK_IMPORTED_MODULE_1__.stripNulls)(new token_types__WEBPACK_IMPORTED_MODULE_0__.StringType(256, 'ascii').get(uint8array, off)).trim(),\n            originator: (0,_common_Util_js__WEBPACK_IMPORTED_MODULE_1__.stripNulls)(new token_types__WEBPACK_IMPORTED_MODULE_0__.StringType(32, 'ascii').get(uint8array, off + 256)).trim(),\n            originatorReference: (0,_common_Util_js__WEBPACK_IMPORTED_MODULE_1__.stripNulls)(new token_types__WEBPACK_IMPORTED_MODULE_0__.StringType(32, 'ascii').get(uint8array, off + 288)).trim(),\n            originationDate: (0,_common_Util_js__WEBPACK_IMPORTED_MODULE_1__.stripNulls)(new token_types__WEBPACK_IMPORTED_MODULE_0__.StringType(10, 'ascii').get(uint8array, off + 320)).trim(),\n            originationTime: (0,_common_Util_js__WEBPACK_IMPORTED_MODULE_1__.stripNulls)(new token_types__WEBPACK_IMPORTED_MODULE_0__.StringType(8, 'ascii').get(uint8array, off + 330)).trim(),\n            timeReferenceLow: token_types__WEBPACK_IMPORTED_MODULE_0__.UINT32_LE.get(uint8array, off + 338),\n            timeReferenceHigh: token_types__WEBPACK_IMPORTED_MODULE_0__.UINT32_LE.get(uint8array, off + 342),\n            version: token_types__WEBPACK_IMPORTED_MODULE_0__.UINT16_LE.get(uint8array, off + 346),\n            umid: new token_types__WEBPACK_IMPORTED_MODULE_0__.Uint8ArrayType(64).get(uint8array, off + 348),\n            loudnessValue: token_types__WEBPACK_IMPORTED_MODULE_0__.UINT16_LE.get(uint8array, off + 412),\n            maxTruePeakLevel: token_types__WEBPACK_IMPORTED_MODULE_0__.UINT16_LE.get(uint8array, off + 414),\n            maxMomentaryLoudness: token_types__WEBPACK_IMPORTED_MODULE_0__.UINT16_LE.get(uint8array, off + 416),\n            maxShortTermLoudness: token_types__WEBPACK_IMPORTED_MODULE_0__.UINT16_LE.get(uint8array, off + 418)\n        };\n    }\n};\n//# sourceMappingURL=BwfChunk.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbXVzaWMtbWV0YWRhdGEvbGliL3dhdi9Cd2ZDaHVuay5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBcUM7QUFDVTtBQUMvQztBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0EseUJBQXlCLDJEQUFVLEtBQUssbURBQWdCO0FBQ3hELHdCQUF3QiwyREFBVSxLQUFLLG1EQUFnQjtBQUN2RCxpQ0FBaUMsMkRBQVUsS0FBSyxtREFBZ0I7QUFDaEUsNkJBQTZCLDJEQUFVLEtBQUssbURBQWdCO0FBQzVELDZCQUE2QiwyREFBVSxLQUFLLG1EQUFnQjtBQUM1RCw4QkFBOEIsa0RBQWU7QUFDN0MsK0JBQStCLGtEQUFlO0FBQzlDLHFCQUFxQixrREFBZTtBQUNwQyxzQkFBc0IsdURBQW9CO0FBQzFDLDJCQUEyQixrREFBZTtBQUMxQyw4QkFBOEIsa0RBQWU7QUFDN0Msa0NBQWtDLGtEQUFlO0FBQ2pELGtDQUFrQyxrREFBZTtBQUNqRDtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2RldmVsZXZhdGUvLi9ub2RlX21vZHVsZXMvbXVzaWMtbWV0YWRhdGEvbGliL3dhdi9Cd2ZDaHVuay5qcz9jMTcyIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAqIGFzIFRva2VuIGZyb20gJ3Rva2VuLXR5cGVzJztcbmltcG9ydCB7IHN0cmlwTnVsbHMgfSBmcm9tICcuLi9jb21tb24vVXRpbC5qcyc7XG4vKipcbiAqIEJyb2FkY2FzdCBBdWRpbyBFeHRlbnNpb24gQ2h1bmtcbiAqIFJlZjogaHR0cHM6Ly90ZWNoLmVidS5jaC9kb2NzL3RlY2gvdGVjaDMyODUucGRmXG4gKi9cbmV4cG9ydCBjb25zdCBCcm9hZGNhc3RBdWRpb0V4dGVuc2lvbkNodW5rID0ge1xuICAgIGxlbjogNDIwLFxuICAgIGdldDogKHVpbnQ4YXJyYXksIG9mZikgPT4ge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgZGVzY3JpcHRpb246IHN0cmlwTnVsbHMobmV3IFRva2VuLlN0cmluZ1R5cGUoMjU2LCAnYXNjaWknKS5nZXQodWludDhhcnJheSwgb2ZmKSkudHJpbSgpLFxuICAgICAgICAgICAgb3JpZ2luYXRvcjogc3RyaXBOdWxscyhuZXcgVG9rZW4uU3RyaW5nVHlwZSgzMiwgJ2FzY2lpJykuZ2V0KHVpbnQ4YXJyYXksIG9mZiArIDI1NikpLnRyaW0oKSxcbiAgICAgICAgICAgIG9yaWdpbmF0b3JSZWZlcmVuY2U6IHN0cmlwTnVsbHMobmV3IFRva2VuLlN0cmluZ1R5cGUoMzIsICdhc2NpaScpLmdldCh1aW50OGFycmF5LCBvZmYgKyAyODgpKS50cmltKCksXG4gICAgICAgICAgICBvcmlnaW5hdGlvbkRhdGU6IHN0cmlwTnVsbHMobmV3IFRva2VuLlN0cmluZ1R5cGUoMTAsICdhc2NpaScpLmdldCh1aW50OGFycmF5LCBvZmYgKyAzMjApKS50cmltKCksXG4gICAgICAgICAgICBvcmlnaW5hdGlvblRpbWU6IHN0cmlwTnVsbHMobmV3IFRva2VuLlN0cmluZ1R5cGUoOCwgJ2FzY2lpJykuZ2V0KHVpbnQ4YXJyYXksIG9mZiArIDMzMCkpLnRyaW0oKSxcbiAgICAgICAgICAgIHRpbWVSZWZlcmVuY2VMb3c6IFRva2VuLlVJTlQzMl9MRS5nZXQodWludDhhcnJheSwgb2ZmICsgMzM4KSxcbiAgICAgICAgICAgIHRpbWVSZWZlcmVuY2VIaWdoOiBUb2tlbi5VSU5UMzJfTEUuZ2V0KHVpbnQ4YXJyYXksIG9mZiArIDM0MiksXG4gICAgICAgICAgICB2ZXJzaW9uOiBUb2tlbi5VSU5UMTZfTEUuZ2V0KHVpbnQ4YXJyYXksIG9mZiArIDM0NiksXG4gICAgICAgICAgICB1bWlkOiBuZXcgVG9rZW4uVWludDhBcnJheVR5cGUoNjQpLmdldCh1aW50OGFycmF5LCBvZmYgKyAzNDgpLFxuICAgICAgICAgICAgbG91ZG5lc3NWYWx1ZTogVG9rZW4uVUlOVDE2X0xFLmdldCh1aW50OGFycmF5LCBvZmYgKyA0MTIpLFxuICAgICAgICAgICAgbWF4VHJ1ZVBlYWtMZXZlbDogVG9rZW4uVUlOVDE2X0xFLmdldCh1aW50OGFycmF5LCBvZmYgKyA0MTQpLFxuICAgICAgICAgICAgbWF4TW9tZW50YXJ5TG91ZG5lc3M6IFRva2VuLlVJTlQxNl9MRS5nZXQodWludDhhcnJheSwgb2ZmICsgNDE2KSxcbiAgICAgICAgICAgIG1heFNob3J0VGVybUxvdWRuZXNzOiBUb2tlbi5VSU5UMTZfTEUuZ2V0KHVpbnQ4YXJyYXksIG9mZiArIDQxOClcbiAgICAgICAgfTtcbiAgICB9XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9QndmQ2h1bmsuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/music-metadata/lib/wav/BwfChunk.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/music-metadata/lib/wav/WaveChunk.js":
/*!**********************************************************!*\
  !*** ./node_modules/music-metadata/lib/wav/WaveChunk.js ***!
  \**********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   FactChunk: () => (/* binding */ FactChunk),\n/* harmony export */   Format: () => (/* binding */ Format),\n/* harmony export */   WaveFormat: () => (/* binding */ WaveFormat)\n/* harmony export */ });\n/* harmony import */ var token_types__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! token-types */ \"(ssr)/./node_modules/token-types/lib/index.js\");\n\n/**\n * Ref: https://msdn.microsoft.com/en-us/library/windows/desktop/dd317599(v=vs.85).aspx\n */\nvar WaveFormat;\n(function (WaveFormat) {\n    WaveFormat[WaveFormat[\"PCM\"] = 1] = \"PCM\";\n    // MPEG-4 and AAC Audio Types\n    WaveFormat[WaveFormat[\"ADPCM\"] = 2] = \"ADPCM\";\n    WaveFormat[WaveFormat[\"IEEE_FLOAT\"] = 3] = \"IEEE_FLOAT\";\n    WaveFormat[WaveFormat[\"MPEG_ADTS_AAC\"] = 5632] = \"MPEG_ADTS_AAC\";\n    WaveFormat[WaveFormat[\"MPEG_LOAS\"] = 5634] = \"MPEG_LOAS\";\n    WaveFormat[WaveFormat[\"RAW_AAC1\"] = 255] = \"RAW_AAC1\";\n    // Dolby Audio Types\n    WaveFormat[WaveFormat[\"DOLBY_AC3_SPDIF\"] = 146] = \"DOLBY_AC3_SPDIF\";\n    WaveFormat[WaveFormat[\"DVM\"] = 8192] = \"DVM\";\n    WaveFormat[WaveFormat[\"RAW_SPORT\"] = 576] = \"RAW_SPORT\";\n    WaveFormat[WaveFormat[\"ESST_AC3\"] = 577] = \"ESST_AC3\";\n    WaveFormat[WaveFormat[\"DRM\"] = 9] = \"DRM\";\n    WaveFormat[WaveFormat[\"DTS2\"] = 8193] = \"DTS2\";\n    WaveFormat[WaveFormat[\"MPEG\"] = 80] = \"MPEG\";\n})(WaveFormat || (WaveFormat = {}));\n/**\n * format chunk; chunk-id is \"fmt \"\n * http://soundfile.sapp.org/doc/WaveFormat/\n */\nclass Format {\n    constructor(header) {\n        if (header.chunkSize < 16)\n            throw new Error('Invalid chunk size');\n        this.len = header.chunkSize;\n    }\n    get(buf, off) {\n        return {\n            wFormatTag: token_types__WEBPACK_IMPORTED_MODULE_0__.UINT16_LE.get(buf, off),\n            nChannels: token_types__WEBPACK_IMPORTED_MODULE_0__.UINT16_LE.get(buf, off + 2),\n            nSamplesPerSec: token_types__WEBPACK_IMPORTED_MODULE_0__.UINT32_LE.get(buf, off + 4),\n            nAvgBytesPerSec: token_types__WEBPACK_IMPORTED_MODULE_0__.UINT32_LE.get(buf, off + 8),\n            nBlockAlign: token_types__WEBPACK_IMPORTED_MODULE_0__.UINT16_LE.get(buf, off + 12),\n            wBitsPerSample: token_types__WEBPACK_IMPORTED_MODULE_0__.UINT16_LE.get(buf, off + 14)\n        };\n    }\n}\n/**\n * Fact chunk; chunk-id is \"fact\"\n * http://www-mmsp.ece.mcgill.ca/Documents/AudioFormats/WAVE/WAVE.html\n * http://www.recordingblogs.com/wiki/fact-chunk-of-a-wave-file\n */\nclass FactChunk {\n    constructor(header) {\n        if (header.chunkSize < 4) {\n            throw new Error('Invalid fact chunk size.');\n        }\n        this.len = header.chunkSize;\n    }\n    get(buf, off) {\n        return {\n            dwSampleLength: token_types__WEBPACK_IMPORTED_MODULE_0__.UINT32_LE.get(buf, off)\n        };\n    }\n}\n//# sourceMappingURL=WaveChunk.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbXVzaWMtbWV0YWRhdGEvbGliL3dhdi9XYXZlQ2h1bmsuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFxQztBQUNyQztBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyxnQ0FBZ0M7QUFDakM7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0Isa0RBQWU7QUFDdkMsdUJBQXVCLGtEQUFlO0FBQ3RDLDRCQUE0QixrREFBZTtBQUMzQyw2QkFBNkIsa0RBQWU7QUFDNUMseUJBQXlCLGtEQUFlO0FBQ3hDLDRCQUE0QixrREFBZTtBQUMzQztBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWU7QUFDZjtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIsa0RBQWU7QUFDM0M7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9kZXZlbGV2YXRlLy4vbm9kZV9tb2R1bGVzL211c2ljLW1ldGFkYXRhL2xpYi93YXYvV2F2ZUNodW5rLmpzPzJmNTMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICogYXMgVG9rZW4gZnJvbSAndG9rZW4tdHlwZXMnO1xuLyoqXG4gKiBSZWY6IGh0dHBzOi8vbXNkbi5taWNyb3NvZnQuY29tL2VuLXVzL2xpYnJhcnkvd2luZG93cy9kZXNrdG9wL2RkMzE3NTk5KHY9dnMuODUpLmFzcHhcbiAqL1xuZXhwb3J0IHZhciBXYXZlRm9ybWF0O1xuKGZ1bmN0aW9uIChXYXZlRm9ybWF0KSB7XG4gICAgV2F2ZUZvcm1hdFtXYXZlRm9ybWF0W1wiUENNXCJdID0gMV0gPSBcIlBDTVwiO1xuICAgIC8vIE1QRUctNCBhbmQgQUFDIEF1ZGlvIFR5cGVzXG4gICAgV2F2ZUZvcm1hdFtXYXZlRm9ybWF0W1wiQURQQ01cIl0gPSAyXSA9IFwiQURQQ01cIjtcbiAgICBXYXZlRm9ybWF0W1dhdmVGb3JtYXRbXCJJRUVFX0ZMT0FUXCJdID0gM10gPSBcIklFRUVfRkxPQVRcIjtcbiAgICBXYXZlRm9ybWF0W1dhdmVGb3JtYXRbXCJNUEVHX0FEVFNfQUFDXCJdID0gNTYzMl0gPSBcIk1QRUdfQURUU19BQUNcIjtcbiAgICBXYXZlRm9ybWF0W1dhdmVGb3JtYXRbXCJNUEVHX0xPQVNcIl0gPSA1NjM0XSA9IFwiTVBFR19MT0FTXCI7XG4gICAgV2F2ZUZvcm1hdFtXYXZlRm9ybWF0W1wiUkFXX0FBQzFcIl0gPSAyNTVdID0gXCJSQVdfQUFDMVwiO1xuICAgIC8vIERvbGJ5IEF1ZGlvIFR5cGVzXG4gICAgV2F2ZUZvcm1hdFtXYXZlRm9ybWF0W1wiRE9MQllfQUMzX1NQRElGXCJdID0gMTQ2XSA9IFwiRE9MQllfQUMzX1NQRElGXCI7XG4gICAgV2F2ZUZvcm1hdFtXYXZlRm9ybWF0W1wiRFZNXCJdID0gODE5Ml0gPSBcIkRWTVwiO1xuICAgIFdhdmVGb3JtYXRbV2F2ZUZvcm1hdFtcIlJBV19TUE9SVFwiXSA9IDU3Nl0gPSBcIlJBV19TUE9SVFwiO1xuICAgIFdhdmVGb3JtYXRbV2F2ZUZvcm1hdFtcIkVTU1RfQUMzXCJdID0gNTc3XSA9IFwiRVNTVF9BQzNcIjtcbiAgICBXYXZlRm9ybWF0W1dhdmVGb3JtYXRbXCJEUk1cIl0gPSA5XSA9IFwiRFJNXCI7XG4gICAgV2F2ZUZvcm1hdFtXYXZlRm9ybWF0W1wiRFRTMlwiXSA9IDgxOTNdID0gXCJEVFMyXCI7XG4gICAgV2F2ZUZvcm1hdFtXYXZlRm9ybWF0W1wiTVBFR1wiXSA9IDgwXSA9IFwiTVBFR1wiO1xufSkoV2F2ZUZvcm1hdCB8fCAoV2F2ZUZvcm1hdCA9IHt9KSk7XG4vKipcbiAqIGZvcm1hdCBjaHVuazsgY2h1bmstaWQgaXMgXCJmbXQgXCJcbiAqIGh0dHA6Ly9zb3VuZGZpbGUuc2FwcC5vcmcvZG9jL1dhdmVGb3JtYXQvXG4gKi9cbmV4cG9ydCBjbGFzcyBGb3JtYXQge1xuICAgIGNvbnN0cnVjdG9yKGhlYWRlcikge1xuICAgICAgICBpZiAoaGVhZGVyLmNodW5rU2l6ZSA8IDE2KVxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIGNodW5rIHNpemUnKTtcbiAgICAgICAgdGhpcy5sZW4gPSBoZWFkZXIuY2h1bmtTaXplO1xuICAgIH1cbiAgICBnZXQoYnVmLCBvZmYpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHdGb3JtYXRUYWc6IFRva2VuLlVJTlQxNl9MRS5nZXQoYnVmLCBvZmYpLFxuICAgICAgICAgICAgbkNoYW5uZWxzOiBUb2tlbi5VSU5UMTZfTEUuZ2V0KGJ1Ziwgb2ZmICsgMiksXG4gICAgICAgICAgICBuU2FtcGxlc1BlclNlYzogVG9rZW4uVUlOVDMyX0xFLmdldChidWYsIG9mZiArIDQpLFxuICAgICAgICAgICAgbkF2Z0J5dGVzUGVyU2VjOiBUb2tlbi5VSU5UMzJfTEUuZ2V0KGJ1Ziwgb2ZmICsgOCksXG4gICAgICAgICAgICBuQmxvY2tBbGlnbjogVG9rZW4uVUlOVDE2X0xFLmdldChidWYsIG9mZiArIDEyKSxcbiAgICAgICAgICAgIHdCaXRzUGVyU2FtcGxlOiBUb2tlbi5VSU5UMTZfTEUuZ2V0KGJ1Ziwgb2ZmICsgMTQpXG4gICAgICAgIH07XG4gICAgfVxufVxuLyoqXG4gKiBGYWN0IGNodW5rOyBjaHVuay1pZCBpcyBcImZhY3RcIlxuICogaHR0cDovL3d3dy1tbXNwLmVjZS5tY2dpbGwuY2EvRG9jdW1lbnRzL0F1ZGlvRm9ybWF0cy9XQVZFL1dBVkUuaHRtbFxuICogaHR0cDovL3d3dy5yZWNvcmRpbmdibG9ncy5jb20vd2lraS9mYWN0LWNodW5rLW9mLWEtd2F2ZS1maWxlXG4gKi9cbmV4cG9ydCBjbGFzcyBGYWN0Q2h1bmsge1xuICAgIGNvbnN0cnVjdG9yKGhlYWRlcikge1xuICAgICAgICBpZiAoaGVhZGVyLmNodW5rU2l6ZSA8IDQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBmYWN0IGNodW5rIHNpemUuJyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5sZW4gPSBoZWFkZXIuY2h1bmtTaXplO1xuICAgIH1cbiAgICBnZXQoYnVmLCBvZmYpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGR3U2FtcGxlTGVuZ3RoOiBUb2tlbi5VSU5UMzJfTEUuZ2V0KGJ1Ziwgb2ZmKVxuICAgICAgICB9O1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVdhdmVDaHVuay5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/music-metadata/lib/wav/WaveChunk.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/music-metadata/lib/wav/WaveParser.js":
/*!***********************************************************!*\
  !*** ./node_modules/music-metadata/lib/wav/WaveParser.js ***!
  \***********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   WaveParser: () => (/* binding */ WaveParser)\n/* harmony export */ });\n/* harmony import */ var strtok3__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! strtok3 */ \"(ssr)/./node_modules/strtok3/lib/index.js\");\n/* harmony import */ var token_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! token-types */ \"(ssr)/./node_modules/token-types/lib/index.js\");\n/* harmony import */ var debug__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! debug */ \"(ssr)/./node_modules/debug/src/index.js\");\n/* harmony import */ var _riff_RiffChunk_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../riff/RiffChunk.js */ \"(ssr)/./node_modules/music-metadata/lib/riff/RiffChunk.js\");\n/* harmony import */ var _WaveChunk_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./WaveChunk.js */ \"(ssr)/./node_modules/music-metadata/lib/wav/WaveChunk.js\");\n/* harmony import */ var _id3v2_ID3v2Parser_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../id3v2/ID3v2Parser.js */ \"(ssr)/./node_modules/music-metadata/lib/id3v2/ID3v2Parser.js\");\n/* harmony import */ var _common_Util_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../common/Util.js */ \"(ssr)/./node_modules/music-metadata/lib/common/Util.js\");\n/* harmony import */ var _common_FourCC_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../common/FourCC.js */ \"(ssr)/./node_modules/music-metadata/lib/common/FourCC.js\");\n/* harmony import */ var _common_BasicParser_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../common/BasicParser.js */ \"(ssr)/./node_modules/music-metadata/lib/common/BasicParser.js\");\n/* harmony import */ var _BwfChunk_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./BwfChunk.js */ \"(ssr)/./node_modules/music-metadata/lib/wav/BwfChunk.js\");\n\n\n\n\n\n\n\n\n\n\nconst debug = debug__WEBPACK_IMPORTED_MODULE_2__('music-metadata:parser:RIFF');\n/**\n * Resource Interchange File Format (RIFF) Parser\n *\n * WAVE PCM soundfile format\n *\n * Ref:\n * - http://www.johnloomis.org/cpe102/asgn/asgn1/riff.html\n * - http://soundfile.sapp.org/doc/WaveFormat\n *\n * ToDo: Split WAVE part from RIFF parser\n */\nclass WaveParser extends _common_BasicParser_js__WEBPACK_IMPORTED_MODULE_8__.BasicParser {\n    constructor() {\n        super(...arguments);\n        this.blockAlign = 0;\n    }\n    async parse() {\n        const riffHeader = await this.tokenizer.readToken(_riff_RiffChunk_js__WEBPACK_IMPORTED_MODULE_3__.Header);\n        debug(`pos=${this.tokenizer.position}, parse: chunkID=${riffHeader.chunkID}`);\n        if (riffHeader.chunkID !== 'RIFF')\n            return; // Not RIFF format\n        return this.parseRiffChunk(riffHeader.chunkSize).catch(err => {\n            if (!(err instanceof strtok3__WEBPACK_IMPORTED_MODULE_0__.EndOfStreamError)) {\n                throw err;\n            }\n        });\n    }\n    async parseRiffChunk(chunkSize) {\n        const type = await this.tokenizer.readToken(_common_FourCC_js__WEBPACK_IMPORTED_MODULE_7__.FourCcToken);\n        this.metadata.setFormat('container', type);\n        switch (type) {\n            case 'WAVE':\n                return this.readWaveChunk(chunkSize - _common_FourCC_js__WEBPACK_IMPORTED_MODULE_7__.FourCcToken.len);\n            default:\n                throw new Error(`Unsupported RIFF format: RIFF/${type}`);\n        }\n    }\n    async readWaveChunk(remaining) {\n        while (remaining >= _riff_RiffChunk_js__WEBPACK_IMPORTED_MODULE_3__.Header.len) {\n            const header = await this.tokenizer.readToken(_riff_RiffChunk_js__WEBPACK_IMPORTED_MODULE_3__.Header);\n            remaining -= _riff_RiffChunk_js__WEBPACK_IMPORTED_MODULE_3__.Header.len + header.chunkSize;\n            if (header.chunkSize > remaining) {\n                this.metadata.addWarning('Data chunk size exceeds file size');\n            }\n            this.header = header;\n            debug(`pos=${this.tokenizer.position}, readChunk: chunkID=RIFF/WAVE/${header.chunkID}`);\n            switch (header.chunkID) {\n                case 'LIST':\n                    await this.parseListTag(header);\n                    break;\n                case 'fact': // extended Format chunk,\n                    this.metadata.setFormat('lossless', false);\n                    this.fact = await this.tokenizer.readToken(new _WaveChunk_js__WEBPACK_IMPORTED_MODULE_4__.FactChunk(header));\n                    break;\n                case 'fmt ': { // The Util Chunk, non-PCM Formats\n                    const fmt = await this.tokenizer.readToken(new _WaveChunk_js__WEBPACK_IMPORTED_MODULE_4__.Format(header));\n                    let subFormat = _WaveChunk_js__WEBPACK_IMPORTED_MODULE_4__.WaveFormat[fmt.wFormatTag];\n                    if (!subFormat) {\n                        debug(`WAVE/non-PCM format=${fmt.wFormatTag}`);\n                        subFormat = `non-PCM (${fmt.wFormatTag})`;\n                    }\n                    this.metadata.setFormat('codec', subFormat);\n                    this.metadata.setFormat('bitsPerSample', fmt.wBitsPerSample);\n                    this.metadata.setFormat('sampleRate', fmt.nSamplesPerSec);\n                    this.metadata.setFormat('numberOfChannels', fmt.nChannels);\n                    this.metadata.setFormat('bitrate', fmt.nBlockAlign * fmt.nSamplesPerSec * 8);\n                    this.blockAlign = fmt.nBlockAlign;\n                    break;\n                }\n                case 'id3 ': // The way Picard, FooBar currently stores, ID3 meta-data\n                case 'ID3 ': { // The way Mp3Tags stores ID3 meta-data\n                    const id3_data = await this.tokenizer.readToken(new token_types__WEBPACK_IMPORTED_MODULE_1__.Uint8ArrayType(header.chunkSize));\n                    const rst = strtok3__WEBPACK_IMPORTED_MODULE_0__.fromBuffer(id3_data);\n                    await new _id3v2_ID3v2Parser_js__WEBPACK_IMPORTED_MODULE_5__.ID3v2Parser().parse(this.metadata, rst, this.options);\n                    break;\n                }\n                case 'data': { // PCM-data\n                    if (this.metadata.format.lossless !== false) {\n                        this.metadata.setFormat('lossless', true);\n                    }\n                    let chunkSize = header.chunkSize;\n                    if (this.tokenizer.fileInfo.size) {\n                        const calcRemaining = this.tokenizer.fileInfo.size - this.tokenizer.position;\n                        if (calcRemaining < chunkSize) {\n                            this.metadata.addWarning('data chunk length exceeding file length');\n                            chunkSize = calcRemaining;\n                        }\n                    }\n                    const numberOfSamples = this.fact ? this.fact.dwSampleLength : (chunkSize === 0xffffffff ? undefined : chunkSize / this.blockAlign);\n                    if (numberOfSamples) {\n                        this.metadata.setFormat('numberOfSamples', numberOfSamples);\n                        if (this.metadata.format.sampleRate) {\n                            this.metadata.setFormat('duration', numberOfSamples / this.metadata.format.sampleRate);\n                        }\n                    }\n                    if (this.metadata.format.codec === 'ADPCM') { // ADPCM is 4 bits lossy encoding resulting in 352kbps\n                        this.metadata.setFormat('bitrate', 352000);\n                    }\n                    else if (this.metadata.format.sampleRate) {\n                        this.metadata.setFormat('bitrate', this.blockAlign * this.metadata.format.sampleRate * 8);\n                    }\n                    await this.tokenizer.ignore(header.chunkSize);\n                    break;\n                }\n                case 'bext': { // Broadcast Audio Extension chunk\thttps://tech.ebu.ch/docs/tech/tech3285.pdf\n                    const bext = await this.tokenizer.readToken(_BwfChunk_js__WEBPACK_IMPORTED_MODULE_9__.BroadcastAudioExtensionChunk);\n                    Object.keys(bext).forEach(key => {\n                        this.metadata.addTag('exif', `bext.${key}`, bext[key]);\n                    });\n                    const bextRemaining = header.chunkSize - _BwfChunk_js__WEBPACK_IMPORTED_MODULE_9__.BroadcastAudioExtensionChunk.len;\n                    await this.tokenizer.ignore(bextRemaining);\n                    break;\n                }\n                case '\\x00\\x00\\x00\\x00': // padding ??\n                    debug(`Ignore padding chunk: RIFF/${header.chunkID} of ${header.chunkSize} bytes`);\n                    this.metadata.addWarning(`Ignore chunk: RIFF/${header.chunkID}`);\n                    await this.tokenizer.ignore(header.chunkSize);\n                    break;\n                default:\n                    debug(`Ignore chunk: RIFF/${header.chunkID} of ${header.chunkSize} bytes`);\n                    this.metadata.addWarning(`Ignore chunk: RIFF/${header.chunkID}`);\n                    await this.tokenizer.ignore(header.chunkSize);\n            }\n            if (this.header.chunkSize % 2 === 1) {\n                debug('Read odd padding byte'); // https://wiki.multimedia.cx/index.php/RIFF\n                await this.tokenizer.ignore(1);\n            }\n        }\n    }\n    async parseListTag(listHeader) {\n        const listType = await this.tokenizer.readToken(new token_types__WEBPACK_IMPORTED_MODULE_1__.StringType(4, 'latin1'));\n        debug('pos=%s, parseListTag: chunkID=RIFF/WAVE/LIST/%s', this.tokenizer.position, listType);\n        switch (listType) {\n            case 'INFO':\n                return this.parseRiffInfoTags(listHeader.chunkSize - 4);\n            default:\n                this.metadata.addWarning(`Ignore chunk: RIFF/WAVE/LIST/${listType}`);\n                debug(`Ignoring chunkID=RIFF/WAVE/LIST/${listType}`);\n                return this.tokenizer.ignore(listHeader.chunkSize - 4).then();\n        }\n    }\n    async parseRiffInfoTags(chunkSize) {\n        while (chunkSize >= 8) {\n            const header = await this.tokenizer.readToken(_riff_RiffChunk_js__WEBPACK_IMPORTED_MODULE_3__.Header);\n            const valueToken = new _riff_RiffChunk_js__WEBPACK_IMPORTED_MODULE_3__.ListInfoTagValue(header);\n            const value = await this.tokenizer.readToken(valueToken);\n            this.addTag(header.chunkID, _common_Util_js__WEBPACK_IMPORTED_MODULE_6__.stripNulls(value));\n            chunkSize -= (8 + valueToken.len);\n        }\n        if (chunkSize !== 0) {\n            throw new Error(`Illegal remaining size: ${chunkSize}`);\n        }\n    }\n    addTag(id, value) {\n        this.metadata.addTag('exif', id, value);\n    }\n}\n//# sourceMappingURL=WaveParser.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbXVzaWMtbWV0YWRhdGEvbGliL3dhdi9XYXZlUGFyc2VyLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7O0FBQW1DO0FBQ0U7QUFDUDtBQUNlO0FBQ0Q7QUFDVTtBQUNaO0FBQ1E7QUFDSztBQUNNO0FBQzdELGNBQWMsa0NBQVM7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPLHlCQUF5QiwrREFBVztBQUMzQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMERBQTBELHNEQUFXO0FBQ3JFLHFCQUFxQix3QkFBd0IsbUJBQW1CLG1CQUFtQjtBQUNuRjtBQUNBLG9CQUFvQjtBQUNwQjtBQUNBLGlDQUFpQyxxREFBd0I7QUFDekQ7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0Esb0RBQW9ELDBEQUFXO0FBQy9EO0FBQ0E7QUFDQTtBQUNBLHNEQUFzRCwwREFBVztBQUNqRTtBQUNBLGlFQUFpRSxLQUFLO0FBQ3RFO0FBQ0E7QUFDQTtBQUNBLDRCQUE0QixzREFBVztBQUN2QywwREFBMEQsc0RBQVc7QUFDckUseUJBQXlCLHNEQUFXO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCLHdCQUF3QixpQ0FBaUMsZUFBZTtBQUNqRztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtRUFBbUUsb0RBQW1CO0FBQ3RGO0FBQ0EsK0JBQStCO0FBQy9CLG1FQUFtRSxpREFBZ0I7QUFDbkYsb0NBQW9DLHFEQUFvQjtBQUN4RDtBQUNBLHFEQUFxRCxlQUFlO0FBQ3BFLGdEQUFnRCxlQUFlO0FBQy9EO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0JBQStCO0FBQy9CLHdFQUF3RSx1REFBb0I7QUFDNUYsZ0NBQWdDLCtDQUFrQjtBQUNsRCw4QkFBOEIsOERBQVc7QUFDekM7QUFDQTtBQUNBLCtCQUErQjtBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrRUFBa0U7QUFDbEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtCQUErQjtBQUMvQixnRUFBZ0Usc0VBQTRCO0FBQzVGO0FBQ0EsNkRBQTZELElBQUk7QUFDakUscUJBQXFCO0FBQ3JCLDZEQUE2RCxzRUFBNEI7QUFDekY7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3REFBd0QsZ0JBQWdCLEtBQUssa0JBQWtCO0FBQy9GLG1FQUFtRSxlQUFlO0FBQ2xGO0FBQ0E7QUFDQTtBQUNBLGdEQUFnRCxnQkFBZ0IsS0FBSyxrQkFBa0I7QUFDdkYsbUVBQW1FLGVBQWU7QUFDbEY7QUFDQTtBQUNBO0FBQ0EsZ0RBQWdEO0FBQ2hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0REFBNEQsbURBQWdCO0FBQzVFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5RUFBeUUsU0FBUztBQUNsRix5REFBeUQsU0FBUztBQUNsRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMERBQTBELHNEQUFXO0FBQ3JFLG1DQUFtQyxnRUFBcUI7QUFDeEQ7QUFDQSx3Q0FBd0MsdURBQWU7QUFDdkQ7QUFDQTtBQUNBO0FBQ0EsdURBQXVELFVBQVU7QUFDakU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9kZXZlbGV2YXRlLy4vbm9kZV9tb2R1bGVzL211c2ljLW1ldGFkYXRhL2xpYi93YXYvV2F2ZVBhcnNlci5qcz8wZTg0Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAqIGFzIHN0cnRvazMgZnJvbSAnc3RydG9rMyc7XG5pbXBvcnQgKiBhcyBUb2tlbiBmcm9tICd0b2tlbi10eXBlcyc7XG5pbXBvcnQgaW5pdERlYnVnIGZyb20gJ2RlYnVnJztcbmltcG9ydCAqIGFzIHJpZmYgZnJvbSAnLi4vcmlmZi9SaWZmQ2h1bmsuanMnO1xuaW1wb3J0ICogYXMgV2F2ZUNodW5rIGZyb20gJy4vV2F2ZUNodW5rLmpzJztcbmltcG9ydCB7IElEM3YyUGFyc2VyIH0gZnJvbSAnLi4vaWQzdjIvSUQzdjJQYXJzZXIuanMnO1xuaW1wb3J0ICogYXMgdXRpbCBmcm9tICcuLi9jb21tb24vVXRpbC5qcyc7XG5pbXBvcnQgeyBGb3VyQ2NUb2tlbiB9IGZyb20gJy4uL2NvbW1vbi9Gb3VyQ0MuanMnO1xuaW1wb3J0IHsgQmFzaWNQYXJzZXIgfSBmcm9tICcuLi9jb21tb24vQmFzaWNQYXJzZXIuanMnO1xuaW1wb3J0IHsgQnJvYWRjYXN0QXVkaW9FeHRlbnNpb25DaHVuayB9IGZyb20gJy4vQndmQ2h1bmsuanMnO1xuY29uc3QgZGVidWcgPSBpbml0RGVidWcoJ211c2ljLW1ldGFkYXRhOnBhcnNlcjpSSUZGJyk7XG4vKipcbiAqIFJlc291cmNlIEludGVyY2hhbmdlIEZpbGUgRm9ybWF0IChSSUZGKSBQYXJzZXJcbiAqXG4gKiBXQVZFIFBDTSBzb3VuZGZpbGUgZm9ybWF0XG4gKlxuICogUmVmOlxuICogLSBodHRwOi8vd3d3LmpvaG5sb29taXMub3JnL2NwZTEwMi9hc2duL2FzZ24xL3JpZmYuaHRtbFxuICogLSBodHRwOi8vc291bmRmaWxlLnNhcHAub3JnL2RvYy9XYXZlRm9ybWF0XG4gKlxuICogVG9EbzogU3BsaXQgV0FWRSBwYXJ0IGZyb20gUklGRiBwYXJzZXJcbiAqL1xuZXhwb3J0IGNsYXNzIFdhdmVQYXJzZXIgZXh0ZW5kcyBCYXNpY1BhcnNlciB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XG4gICAgICAgIHRoaXMuYmxvY2tBbGlnbiA9IDA7XG4gICAgfVxuICAgIGFzeW5jIHBhcnNlKCkge1xuICAgICAgICBjb25zdCByaWZmSGVhZGVyID0gYXdhaXQgdGhpcy50b2tlbml6ZXIucmVhZFRva2VuKHJpZmYuSGVhZGVyKTtcbiAgICAgICAgZGVidWcoYHBvcz0ke3RoaXMudG9rZW5pemVyLnBvc2l0aW9ufSwgcGFyc2U6IGNodW5rSUQ9JHtyaWZmSGVhZGVyLmNodW5rSUR9YCk7XG4gICAgICAgIGlmIChyaWZmSGVhZGVyLmNodW5rSUQgIT09ICdSSUZGJylcbiAgICAgICAgICAgIHJldHVybjsgLy8gTm90IFJJRkYgZm9ybWF0XG4gICAgICAgIHJldHVybiB0aGlzLnBhcnNlUmlmZkNodW5rKHJpZmZIZWFkZXIuY2h1bmtTaXplKS5jYXRjaChlcnIgPT4ge1xuICAgICAgICAgICAgaWYgKCEoZXJyIGluc3RhbmNlb2Ygc3RydG9rMy5FbmRPZlN0cmVhbUVycm9yKSkge1xuICAgICAgICAgICAgICAgIHRocm93IGVycjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGFzeW5jIHBhcnNlUmlmZkNodW5rKGNodW5rU2l6ZSkge1xuICAgICAgICBjb25zdCB0eXBlID0gYXdhaXQgdGhpcy50b2tlbml6ZXIucmVhZFRva2VuKEZvdXJDY1Rva2VuKTtcbiAgICAgICAgdGhpcy5tZXRhZGF0YS5zZXRGb3JtYXQoJ2NvbnRhaW5lcicsIHR5cGUpO1xuICAgICAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgICAgIGNhc2UgJ1dBVkUnOlxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnJlYWRXYXZlQ2h1bmsoY2h1bmtTaXplIC0gRm91ckNjVG9rZW4ubGVuKTtcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBVbnN1cHBvcnRlZCBSSUZGIGZvcm1hdDogUklGRi8ke3R5cGV9YCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgYXN5bmMgcmVhZFdhdmVDaHVuayhyZW1haW5pbmcpIHtcbiAgICAgICAgd2hpbGUgKHJlbWFpbmluZyA+PSByaWZmLkhlYWRlci5sZW4pIHtcbiAgICAgICAgICAgIGNvbnN0IGhlYWRlciA9IGF3YWl0IHRoaXMudG9rZW5pemVyLnJlYWRUb2tlbihyaWZmLkhlYWRlcik7XG4gICAgICAgICAgICByZW1haW5pbmcgLT0gcmlmZi5IZWFkZXIubGVuICsgaGVhZGVyLmNodW5rU2l6ZTtcbiAgICAgICAgICAgIGlmIChoZWFkZXIuY2h1bmtTaXplID4gcmVtYWluaW5nKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5tZXRhZGF0YS5hZGRXYXJuaW5nKCdEYXRhIGNodW5rIHNpemUgZXhjZWVkcyBmaWxlIHNpemUnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuaGVhZGVyID0gaGVhZGVyO1xuICAgICAgICAgICAgZGVidWcoYHBvcz0ke3RoaXMudG9rZW5pemVyLnBvc2l0aW9ufSwgcmVhZENodW5rOiBjaHVua0lEPVJJRkYvV0FWRS8ke2hlYWRlci5jaHVua0lEfWApO1xuICAgICAgICAgICAgc3dpdGNoIChoZWFkZXIuY2h1bmtJRCkge1xuICAgICAgICAgICAgICAgIGNhc2UgJ0xJU1QnOlxuICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnBhcnNlTGlzdFRhZyhoZWFkZXIpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdmYWN0JzogLy8gZXh0ZW5kZWQgRm9ybWF0IGNodW5rLFxuICAgICAgICAgICAgICAgICAgICB0aGlzLm1ldGFkYXRhLnNldEZvcm1hdCgnbG9zc2xlc3MnLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZmFjdCA9IGF3YWl0IHRoaXMudG9rZW5pemVyLnJlYWRUb2tlbihuZXcgV2F2ZUNodW5rLkZhY3RDaHVuayhoZWFkZXIpKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAnZm10ICc6IHsgLy8gVGhlIFV0aWwgQ2h1bmssIG5vbi1QQ00gRm9ybWF0c1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBmbXQgPSBhd2FpdCB0aGlzLnRva2VuaXplci5yZWFkVG9rZW4obmV3IFdhdmVDaHVuay5Gb3JtYXQoaGVhZGVyKSk7XG4gICAgICAgICAgICAgICAgICAgIGxldCBzdWJGb3JtYXQgPSBXYXZlQ2h1bmsuV2F2ZUZvcm1hdFtmbXQud0Zvcm1hdFRhZ107XG4gICAgICAgICAgICAgICAgICAgIGlmICghc3ViRm9ybWF0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWJ1ZyhgV0FWRS9ub24tUENNIGZvcm1hdD0ke2ZtdC53Rm9ybWF0VGFnfWApO1xuICAgICAgICAgICAgICAgICAgICAgICAgc3ViRm9ybWF0ID0gYG5vbi1QQ00gKCR7Zm10LndGb3JtYXRUYWd9KWA7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tZXRhZGF0YS5zZXRGb3JtYXQoJ2NvZGVjJywgc3ViRm9ybWF0KTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tZXRhZGF0YS5zZXRGb3JtYXQoJ2JpdHNQZXJTYW1wbGUnLCBmbXQud0JpdHNQZXJTYW1wbGUpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm1ldGFkYXRhLnNldEZvcm1hdCgnc2FtcGxlUmF0ZScsIGZtdC5uU2FtcGxlc1BlclNlYyk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubWV0YWRhdGEuc2V0Rm9ybWF0KCdudW1iZXJPZkNoYW5uZWxzJywgZm10Lm5DaGFubmVscyk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubWV0YWRhdGEuc2V0Rm9ybWF0KCdiaXRyYXRlJywgZm10Lm5CbG9ja0FsaWduICogZm10Lm5TYW1wbGVzUGVyU2VjICogOCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYmxvY2tBbGlnbiA9IGZtdC5uQmxvY2tBbGlnbjtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhc2UgJ2lkMyAnOiAvLyBUaGUgd2F5IFBpY2FyZCwgRm9vQmFyIGN1cnJlbnRseSBzdG9yZXMsIElEMyBtZXRhLWRhdGFcbiAgICAgICAgICAgICAgICBjYXNlICdJRDMgJzogeyAvLyBUaGUgd2F5IE1wM1RhZ3Mgc3RvcmVzIElEMyBtZXRhLWRhdGFcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaWQzX2RhdGEgPSBhd2FpdCB0aGlzLnRva2VuaXplci5yZWFkVG9rZW4obmV3IFRva2VuLlVpbnQ4QXJyYXlUeXBlKGhlYWRlci5jaHVua1NpemUpKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcnN0ID0gc3RydG9rMy5mcm9tQnVmZmVyKGlkM19kYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgbmV3IElEM3YyUGFyc2VyKCkucGFyc2UodGhpcy5tZXRhZGF0YSwgcnN0LCB0aGlzLm9wdGlvbnMpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2FzZSAnZGF0YSc6IHsgLy8gUENNLWRhdGFcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMubWV0YWRhdGEuZm9ybWF0Lmxvc3NsZXNzICE9PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5tZXRhZGF0YS5zZXRGb3JtYXQoJ2xvc3NsZXNzJywgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbGV0IGNodW5rU2l6ZSA9IGhlYWRlci5jaHVua1NpemU7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnRva2VuaXplci5maWxlSW5mby5zaXplKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjYWxjUmVtYWluaW5nID0gdGhpcy50b2tlbml6ZXIuZmlsZUluZm8uc2l6ZSAtIHRoaXMudG9rZW5pemVyLnBvc2l0aW9uO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNhbGNSZW1haW5pbmcgPCBjaHVua1NpemUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1ldGFkYXRhLmFkZFdhcm5pbmcoJ2RhdGEgY2h1bmsgbGVuZ3RoIGV4Y2VlZGluZyBmaWxlIGxlbmd0aCcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNodW5rU2l6ZSA9IGNhbGNSZW1haW5pbmc7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbnVtYmVyT2ZTYW1wbGVzID0gdGhpcy5mYWN0ID8gdGhpcy5mYWN0LmR3U2FtcGxlTGVuZ3RoIDogKGNodW5rU2l6ZSA9PT0gMHhmZmZmZmZmZiA/IHVuZGVmaW5lZCA6IGNodW5rU2l6ZSAvIHRoaXMuYmxvY2tBbGlnbik7XG4gICAgICAgICAgICAgICAgICAgIGlmIChudW1iZXJPZlNhbXBsZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubWV0YWRhdGEuc2V0Rm9ybWF0KCdudW1iZXJPZlNhbXBsZXMnLCBudW1iZXJPZlNhbXBsZXMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMubWV0YWRhdGEuZm9ybWF0LnNhbXBsZVJhdGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1ldGFkYXRhLnNldEZvcm1hdCgnZHVyYXRpb24nLCBudW1iZXJPZlNhbXBsZXMgLyB0aGlzLm1ldGFkYXRhLmZvcm1hdC5zYW1wbGVSYXRlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5tZXRhZGF0YS5mb3JtYXQuY29kZWMgPT09ICdBRFBDTScpIHsgLy8gQURQQ00gaXMgNCBiaXRzIGxvc3N5IGVuY29kaW5nIHJlc3VsdGluZyBpbiAzNTJrYnBzXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1ldGFkYXRhLnNldEZvcm1hdCgnYml0cmF0ZScsIDM1MjAwMCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAodGhpcy5tZXRhZGF0YS5mb3JtYXQuc2FtcGxlUmF0ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5tZXRhZGF0YS5zZXRGb3JtYXQoJ2JpdHJhdGUnLCB0aGlzLmJsb2NrQWxpZ24gKiB0aGlzLm1ldGFkYXRhLmZvcm1hdC5zYW1wbGVSYXRlICogOCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy50b2tlbml6ZXIuaWdub3JlKGhlYWRlci5jaHVua1NpemUpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2FzZSAnYmV4dCc6IHsgLy8gQnJvYWRjYXN0IEF1ZGlvIEV4dGVuc2lvbiBjaHVua1x0aHR0cHM6Ly90ZWNoLmVidS5jaC9kb2NzL3RlY2gvdGVjaDMyODUucGRmXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGJleHQgPSBhd2FpdCB0aGlzLnRva2VuaXplci5yZWFkVG9rZW4oQnJvYWRjYXN0QXVkaW9FeHRlbnNpb25DaHVuayk7XG4gICAgICAgICAgICAgICAgICAgIE9iamVjdC5rZXlzKGJleHQpLmZvckVhY2goa2V5ID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubWV0YWRhdGEuYWRkVGFnKCdleGlmJywgYGJleHQuJHtrZXl9YCwgYmV4dFtrZXldKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGJleHRSZW1haW5pbmcgPSBoZWFkZXIuY2h1bmtTaXplIC0gQnJvYWRjYXN0QXVkaW9FeHRlbnNpb25DaHVuay5sZW47XG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMudG9rZW5pemVyLmlnbm9yZShiZXh0UmVtYWluaW5nKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhc2UgJ1xceDAwXFx4MDBcXHgwMFxceDAwJzogLy8gcGFkZGluZyA/P1xuICAgICAgICAgICAgICAgICAgICBkZWJ1ZyhgSWdub3JlIHBhZGRpbmcgY2h1bms6IFJJRkYvJHtoZWFkZXIuY2h1bmtJRH0gb2YgJHtoZWFkZXIuY2h1bmtTaXplfSBieXRlc2ApO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm1ldGFkYXRhLmFkZFdhcm5pbmcoYElnbm9yZSBjaHVuazogUklGRi8ke2hlYWRlci5jaHVua0lEfWApO1xuICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnRva2VuaXplci5pZ25vcmUoaGVhZGVyLmNodW5rU2l6ZSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIGRlYnVnKGBJZ25vcmUgY2h1bms6IFJJRkYvJHtoZWFkZXIuY2h1bmtJRH0gb2YgJHtoZWFkZXIuY2h1bmtTaXplfSBieXRlc2ApO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm1ldGFkYXRhLmFkZFdhcm5pbmcoYElnbm9yZSBjaHVuazogUklGRi8ke2hlYWRlci5jaHVua0lEfWApO1xuICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnRva2VuaXplci5pZ25vcmUoaGVhZGVyLmNodW5rU2l6ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5oZWFkZXIuY2h1bmtTaXplICUgMiA9PT0gMSkge1xuICAgICAgICAgICAgICAgIGRlYnVnKCdSZWFkIG9kZCBwYWRkaW5nIGJ5dGUnKTsgLy8gaHR0cHM6Ly93aWtpLm11bHRpbWVkaWEuY3gvaW5kZXgucGhwL1JJRkZcbiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnRva2VuaXplci5pZ25vcmUoMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgYXN5bmMgcGFyc2VMaXN0VGFnKGxpc3RIZWFkZXIpIHtcbiAgICAgICAgY29uc3QgbGlzdFR5cGUgPSBhd2FpdCB0aGlzLnRva2VuaXplci5yZWFkVG9rZW4obmV3IFRva2VuLlN0cmluZ1R5cGUoNCwgJ2xhdGluMScpKTtcbiAgICAgICAgZGVidWcoJ3Bvcz0lcywgcGFyc2VMaXN0VGFnOiBjaHVua0lEPVJJRkYvV0FWRS9MSVNULyVzJywgdGhpcy50b2tlbml6ZXIucG9zaXRpb24sIGxpc3RUeXBlKTtcbiAgICAgICAgc3dpdGNoIChsaXN0VHlwZSkge1xuICAgICAgICAgICAgY2FzZSAnSU5GTyc6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMucGFyc2VSaWZmSW5mb1RhZ3MobGlzdEhlYWRlci5jaHVua1NpemUgLSA0KTtcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgdGhpcy5tZXRhZGF0YS5hZGRXYXJuaW5nKGBJZ25vcmUgY2h1bms6IFJJRkYvV0FWRS9MSVNULyR7bGlzdFR5cGV9YCk7XG4gICAgICAgICAgICAgICAgZGVidWcoYElnbm9yaW5nIGNodW5rSUQ9UklGRi9XQVZFL0xJU1QvJHtsaXN0VHlwZX1gKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy50b2tlbml6ZXIuaWdub3JlKGxpc3RIZWFkZXIuY2h1bmtTaXplIC0gNCkudGhlbigpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGFzeW5jIHBhcnNlUmlmZkluZm9UYWdzKGNodW5rU2l6ZSkge1xuICAgICAgICB3aGlsZSAoY2h1bmtTaXplID49IDgpIHtcbiAgICAgICAgICAgIGNvbnN0IGhlYWRlciA9IGF3YWl0IHRoaXMudG9rZW5pemVyLnJlYWRUb2tlbihyaWZmLkhlYWRlcik7XG4gICAgICAgICAgICBjb25zdCB2YWx1ZVRva2VuID0gbmV3IHJpZmYuTGlzdEluZm9UYWdWYWx1ZShoZWFkZXIpO1xuICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBhd2FpdCB0aGlzLnRva2VuaXplci5yZWFkVG9rZW4odmFsdWVUb2tlbik7XG4gICAgICAgICAgICB0aGlzLmFkZFRhZyhoZWFkZXIuY2h1bmtJRCwgdXRpbC5zdHJpcE51bGxzKHZhbHVlKSk7XG4gICAgICAgICAgICBjaHVua1NpemUgLT0gKDggKyB2YWx1ZVRva2VuLmxlbik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNodW5rU2l6ZSAhPT0gMCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBJbGxlZ2FsIHJlbWFpbmluZyBzaXplOiAke2NodW5rU2l6ZX1gKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBhZGRUYWcoaWQsIHZhbHVlKSB7XG4gICAgICAgIHRoaXMubWV0YWRhdGEuYWRkVGFnKCdleGlmJywgaWQsIHZhbHVlKTtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1XYXZlUGFyc2VyLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/music-metadata/lib/wav/WaveParser.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/music-metadata/lib/wavpack/WavPackParser.js":
/*!******************************************************************!*\
  !*** ./node_modules/music-metadata/lib/wavpack/WavPackParser.js ***!
  \******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   WavPackParser: () => (/* binding */ WavPackParser)\n/* harmony export */ });\n/* harmony import */ var token_types__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! token-types */ \"(ssr)/./node_modules/token-types/lib/index.js\");\n/* harmony import */ var _apev2_APEv2Parser_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../apev2/APEv2Parser.js */ \"(ssr)/./node_modules/music-metadata/lib/apev2/APEv2Parser.js\");\n/* harmony import */ var _common_FourCC_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../common/FourCC.js */ \"(ssr)/./node_modules/music-metadata/lib/common/FourCC.js\");\n/* harmony import */ var _common_BasicParser_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../common/BasicParser.js */ \"(ssr)/./node_modules/music-metadata/lib/common/BasicParser.js\");\n/* harmony import */ var _WavPackToken_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./WavPackToken.js */ \"(ssr)/./node_modules/music-metadata/lib/wavpack/WavPackToken.js\");\n/* harmony import */ var debug__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! debug */ \"(ssr)/./node_modules/debug/src/index.js\");\n/* harmony import */ var uint8array_extras__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! uint8array-extras */ \"(ssr)/./node_modules/uint8array-extras/index.js\");\n\n\n\n\n\n\n\nconst debug = debug__WEBPACK_IMPORTED_MODULE_5__('music-metadata:parser:WavPack');\n/**\n * WavPack Parser\n */\nclass WavPackParser extends _common_BasicParser_js__WEBPACK_IMPORTED_MODULE_3__.BasicParser {\n    constructor() {\n        super(...arguments);\n        this.audioDataSize = 0;\n    }\n    async parse() {\n        this.audioDataSize = 0;\n        // First parse all WavPack blocks\n        await this.parseWavPackBlocks();\n        // try to parse APEv2 header\n        return _apev2_APEv2Parser_js__WEBPACK_IMPORTED_MODULE_1__.APEv2Parser.tryParseApeHeader(this.metadata, this.tokenizer, this.options);\n    }\n    async parseWavPackBlocks() {\n        do {\n            const blockId = await this.tokenizer.peekToken(_common_FourCC_js__WEBPACK_IMPORTED_MODULE_2__.FourCcToken);\n            if (blockId !== 'wvpk')\n                break;\n            const header = await this.tokenizer.readToken(_WavPackToken_js__WEBPACK_IMPORTED_MODULE_4__.BlockHeaderToken);\n            if (header.BlockID !== 'wvpk')\n                throw new Error('Invalid WavPack Block-ID');\n            debug(`WavPack header blockIndex=${header.blockIndex}, len=${_WavPackToken_js__WEBPACK_IMPORTED_MODULE_4__.BlockHeaderToken.len}`);\n            if (header.blockIndex === 0 && !this.metadata.format.container) {\n                this.metadata.setFormat('container', 'WavPack');\n                this.metadata.setFormat('lossless', !header.flags.isHybrid);\n                // tagTypes: this.type,\n                this.metadata.setFormat('bitsPerSample', header.flags.bitsPerSample);\n                if (!header.flags.isDSD) {\n                    // In case isDSD, these values will ne set in ID_DSD_BLOCK\n                    this.metadata.setFormat('sampleRate', header.flags.samplingRate);\n                    this.metadata.setFormat('duration', header.totalSamples / header.flags.samplingRate);\n                }\n                this.metadata.setFormat('numberOfChannels', header.flags.isMono ? 1 : 2);\n                this.metadata.setFormat('numberOfSamples', header.totalSamples);\n                this.metadata.setFormat('codec', header.flags.isDSD ? 'DSD' : 'PCM');\n            }\n            const ignoreBytes = header.blockSize - (_WavPackToken_js__WEBPACK_IMPORTED_MODULE_4__.BlockHeaderToken.len - 8);\n            await (header.blockIndex === 0 ? this.parseMetadataSubBlock(header, ignoreBytes) : this.tokenizer.ignore(ignoreBytes));\n            if (header.blockSamples > 0) {\n                this.audioDataSize += header.blockSize; // Count audio data for bit-rate calculation\n            }\n        } while (!this.tokenizer.fileInfo.size || this.tokenizer.fileInfo.size - this.tokenizer.position >= _WavPackToken_js__WEBPACK_IMPORTED_MODULE_4__.BlockHeaderToken.len);\n        if (this.metadata.format.duration) {\n            this.metadata.setFormat('bitrate', this.audioDataSize * 8 / this.metadata.format.duration);\n        }\n    }\n    /**\n     * Ref: http://www.wavpack.com/WavPack5FileFormat.pdf, 3.0 Metadata Sub-blocks\n     * @param header Header\n     * @param remainingLength Remaining length\n     */\n    async parseMetadataSubBlock(header, remainingLength) {\n        let remaining = remainingLength;\n        while (remaining > _WavPackToken_js__WEBPACK_IMPORTED_MODULE_4__.MetadataIdToken.len) {\n            const id = await this.tokenizer.readToken(_WavPackToken_js__WEBPACK_IMPORTED_MODULE_4__.MetadataIdToken);\n            const dataSizeInWords = await this.tokenizer.readNumber(id.largeBlock ? token_types__WEBPACK_IMPORTED_MODULE_0__.UINT24_LE : token_types__WEBPACK_IMPORTED_MODULE_0__.UINT8);\n            const data = new Uint8Array(dataSizeInWords * 2 - (id.isOddSize ? 1 : 0));\n            await this.tokenizer.readBuffer(data);\n            debug(`Metadata Sub-Blocks functionId=0x${id.functionId.toString(16)}, id.largeBlock=${id.largeBlock},data-size=${data.length}`);\n            switch (id.functionId) {\n                case 0x0: // ID_DUMMY: could be used to pad WavPack blocks\n                    break;\n                case 0xe: { // ID_DSD_BLOCK\n                    debug('ID_DSD_BLOCK');\n                    // https://github.com/dbry/WavPack/issues/71#issuecomment-483094813\n                    const mp = 1 << token_types__WEBPACK_IMPORTED_MODULE_0__.UINT8.get(data, 0);\n                    const samplingRate = header.flags.samplingRate * mp * 8; // ToDo: second factor should be read from DSD-metadata block https://github.com/dbry/WavPack/issues/71#issuecomment-483094813\n                    if (!header.flags.isDSD)\n                        throw new Error('Only expect DSD block if DSD-flag is set');\n                    this.metadata.setFormat('sampleRate', samplingRate);\n                    this.metadata.setFormat('duration', header.totalSamples / samplingRate);\n                    break;\n                }\n                case 0x24: // ID_ALT_TRAILER: maybe used to embed original ID3 tag header\n                    debug('ID_ALT_TRAILER: trailer for non-wav files');\n                    break;\n                case 0x26: // ID_MD5_CHECKSUM\n                    this.metadata.setFormat('audioMD5', data);\n                    break;\n                case 0x2f: // ID_BLOCK_CHECKSUM\n                    debug(`ID_BLOCK_CHECKSUM: checksum=${(0,uint8array_extras__WEBPACK_IMPORTED_MODULE_6__.uint8ArrayToHex)(data)}`);\n                    break;\n                default:\n                    debug(`Ignore unsupported meta-sub-block-id functionId=0x${id.functionId.toString(16)}`);\n                    break;\n            }\n            remaining -= _WavPackToken_js__WEBPACK_IMPORTED_MODULE_4__.MetadataIdToken.len + (id.largeBlock ? token_types__WEBPACK_IMPORTED_MODULE_0__.UINT24_LE.len : token_types__WEBPACK_IMPORTED_MODULE_0__.UINT8.len) + dataSizeInWords * 2;\n            debug(`remainingLength=${remaining}`);\n            if (id.isOddSize)\n                this.tokenizer.ignore(1);\n        }\n        if (remaining !== 0)\n            throw new Error('metadata-sub-block should fit it remaining length');\n    }\n}\n//# sourceMappingURL=WavPackParser.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbXVzaWMtbWV0YWRhdGEvbGliL3dhdnBhY2svV2F2UGFja1BhcnNlci5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUFxQztBQUNpQjtBQUNKO0FBQ0s7QUFDZTtBQUN4QztBQUNzQjtBQUNwRCxjQUFjLGtDQUFTO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNPLDRCQUE0QiwrREFBVztBQUM5QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLDhEQUFXO0FBQzFCO0FBQ0E7QUFDQTtBQUNBLDJEQUEyRCwwREFBVztBQUN0RTtBQUNBO0FBQ0EsMERBQTBELDhEQUFnQjtBQUMxRTtBQUNBO0FBQ0EsK0NBQStDLGtCQUFrQixRQUFRLDhEQUFnQixLQUFLO0FBQzlGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvREFBb0QsOERBQWdCO0FBQ3BFO0FBQ0E7QUFDQSx3REFBd0Q7QUFDeEQ7QUFDQSxVQUFVLGtHQUFrRyw4REFBZ0I7QUFDNUg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQiw2REFBZTtBQUMxQyxzREFBc0QsNkRBQWU7QUFDckUsb0ZBQW9GLGtEQUFlLEdBQUcsOENBQVc7QUFDakg7QUFDQTtBQUNBLHNEQUFzRCwyQkFBMkIsa0JBQWtCLGNBQWMsYUFBYSxZQUFZO0FBQzFJO0FBQ0E7QUFDQTtBQUNBLDRCQUE0QjtBQUM1QjtBQUNBO0FBQ0Esb0NBQW9DLDhDQUFXO0FBQy9DLDZFQUE2RTtBQUM3RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlEQUF5RCxrRUFBZSxPQUFPO0FBQy9FO0FBQ0E7QUFDQSwrRUFBK0UsMkJBQTJCO0FBQzFHO0FBQ0E7QUFDQSx5QkFBeUIsNkRBQWUsd0JBQXdCLGtEQUFlLE9BQU8sOENBQVc7QUFDakcscUNBQXFDLFVBQVU7QUFDL0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2RldmVsZXZhdGUvLi9ub2RlX21vZHVsZXMvbXVzaWMtbWV0YWRhdGEvbGliL3dhdnBhY2svV2F2UGFja1BhcnNlci5qcz8yYzU0Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAqIGFzIFRva2VuIGZyb20gJ3Rva2VuLXR5cGVzJztcbmltcG9ydCB7IEFQRXYyUGFyc2VyIH0gZnJvbSAnLi4vYXBldjIvQVBFdjJQYXJzZXIuanMnO1xuaW1wb3J0IHsgRm91ckNjVG9rZW4gfSBmcm9tICcuLi9jb21tb24vRm91ckNDLmpzJztcbmltcG9ydCB7IEJhc2ljUGFyc2VyIH0gZnJvbSAnLi4vY29tbW9uL0Jhc2ljUGFyc2VyLmpzJztcbmltcG9ydCB7IEJsb2NrSGVhZGVyVG9rZW4sIE1ldGFkYXRhSWRUb2tlbiB9IGZyb20gJy4vV2F2UGFja1Rva2VuLmpzJztcbmltcG9ydCBpbml0RGVidWcgZnJvbSAnZGVidWcnO1xuaW1wb3J0IHsgdWludDhBcnJheVRvSGV4IH0gZnJvbSAndWludDhhcnJheS1leHRyYXMnO1xuY29uc3QgZGVidWcgPSBpbml0RGVidWcoJ211c2ljLW1ldGFkYXRhOnBhcnNlcjpXYXZQYWNrJyk7XG4vKipcbiAqIFdhdlBhY2sgUGFyc2VyXG4gKi9cbmV4cG9ydCBjbGFzcyBXYXZQYWNrUGFyc2VyIGV4dGVuZHMgQmFzaWNQYXJzZXIge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlciguLi5hcmd1bWVudHMpO1xuICAgICAgICB0aGlzLmF1ZGlvRGF0YVNpemUgPSAwO1xuICAgIH1cbiAgICBhc3luYyBwYXJzZSgpIHtcbiAgICAgICAgdGhpcy5hdWRpb0RhdGFTaXplID0gMDtcbiAgICAgICAgLy8gRmlyc3QgcGFyc2UgYWxsIFdhdlBhY2sgYmxvY2tzXG4gICAgICAgIGF3YWl0IHRoaXMucGFyc2VXYXZQYWNrQmxvY2tzKCk7XG4gICAgICAgIC8vIHRyeSB0byBwYXJzZSBBUEV2MiBoZWFkZXJcbiAgICAgICAgcmV0dXJuIEFQRXYyUGFyc2VyLnRyeVBhcnNlQXBlSGVhZGVyKHRoaXMubWV0YWRhdGEsIHRoaXMudG9rZW5pemVyLCB0aGlzLm9wdGlvbnMpO1xuICAgIH1cbiAgICBhc3luYyBwYXJzZVdhdlBhY2tCbG9ja3MoKSB7XG4gICAgICAgIGRvIHtcbiAgICAgICAgICAgIGNvbnN0IGJsb2NrSWQgPSBhd2FpdCB0aGlzLnRva2VuaXplci5wZWVrVG9rZW4oRm91ckNjVG9rZW4pO1xuICAgICAgICAgICAgaWYgKGJsb2NrSWQgIT09ICd3dnBrJylcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNvbnN0IGhlYWRlciA9IGF3YWl0IHRoaXMudG9rZW5pemVyLnJlYWRUb2tlbihCbG9ja0hlYWRlclRva2VuKTtcbiAgICAgICAgICAgIGlmIChoZWFkZXIuQmxvY2tJRCAhPT0gJ3d2cGsnKVxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBXYXZQYWNrIEJsb2NrLUlEJyk7XG4gICAgICAgICAgICBkZWJ1ZyhgV2F2UGFjayBoZWFkZXIgYmxvY2tJbmRleD0ke2hlYWRlci5ibG9ja0luZGV4fSwgbGVuPSR7QmxvY2tIZWFkZXJUb2tlbi5sZW59YCk7XG4gICAgICAgICAgICBpZiAoaGVhZGVyLmJsb2NrSW5kZXggPT09IDAgJiYgIXRoaXMubWV0YWRhdGEuZm9ybWF0LmNvbnRhaW5lcikge1xuICAgICAgICAgICAgICAgIHRoaXMubWV0YWRhdGEuc2V0Rm9ybWF0KCdjb250YWluZXInLCAnV2F2UGFjaycpO1xuICAgICAgICAgICAgICAgIHRoaXMubWV0YWRhdGEuc2V0Rm9ybWF0KCdsb3NzbGVzcycsICFoZWFkZXIuZmxhZ3MuaXNIeWJyaWQpO1xuICAgICAgICAgICAgICAgIC8vIHRhZ1R5cGVzOiB0aGlzLnR5cGUsXG4gICAgICAgICAgICAgICAgdGhpcy5tZXRhZGF0YS5zZXRGb3JtYXQoJ2JpdHNQZXJTYW1wbGUnLCBoZWFkZXIuZmxhZ3MuYml0c1BlclNhbXBsZSk7XG4gICAgICAgICAgICAgICAgaWYgKCFoZWFkZXIuZmxhZ3MuaXNEU0QpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gSW4gY2FzZSBpc0RTRCwgdGhlc2UgdmFsdWVzIHdpbGwgbmUgc2V0IGluIElEX0RTRF9CTE9DS1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm1ldGFkYXRhLnNldEZvcm1hdCgnc2FtcGxlUmF0ZScsIGhlYWRlci5mbGFncy5zYW1wbGluZ1JhdGUpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm1ldGFkYXRhLnNldEZvcm1hdCgnZHVyYXRpb24nLCBoZWFkZXIudG90YWxTYW1wbGVzIC8gaGVhZGVyLmZsYWdzLnNhbXBsaW5nUmF0ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMubWV0YWRhdGEuc2V0Rm9ybWF0KCdudW1iZXJPZkNoYW5uZWxzJywgaGVhZGVyLmZsYWdzLmlzTW9ubyA/IDEgOiAyKTtcbiAgICAgICAgICAgICAgICB0aGlzLm1ldGFkYXRhLnNldEZvcm1hdCgnbnVtYmVyT2ZTYW1wbGVzJywgaGVhZGVyLnRvdGFsU2FtcGxlcyk7XG4gICAgICAgICAgICAgICAgdGhpcy5tZXRhZGF0YS5zZXRGb3JtYXQoJ2NvZGVjJywgaGVhZGVyLmZsYWdzLmlzRFNEID8gJ0RTRCcgOiAnUENNJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBpZ25vcmVCeXRlcyA9IGhlYWRlci5ibG9ja1NpemUgLSAoQmxvY2tIZWFkZXJUb2tlbi5sZW4gLSA4KTtcbiAgICAgICAgICAgIGF3YWl0IChoZWFkZXIuYmxvY2tJbmRleCA9PT0gMCA/IHRoaXMucGFyc2VNZXRhZGF0YVN1YkJsb2NrKGhlYWRlciwgaWdub3JlQnl0ZXMpIDogdGhpcy50b2tlbml6ZXIuaWdub3JlKGlnbm9yZUJ5dGVzKSk7XG4gICAgICAgICAgICBpZiAoaGVhZGVyLmJsb2NrU2FtcGxlcyA+IDApIHtcbiAgICAgICAgICAgICAgICB0aGlzLmF1ZGlvRGF0YVNpemUgKz0gaGVhZGVyLmJsb2NrU2l6ZTsgLy8gQ291bnQgYXVkaW8gZGF0YSBmb3IgYml0LXJhdGUgY2FsY3VsYXRpb25cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSB3aGlsZSAoIXRoaXMudG9rZW5pemVyLmZpbGVJbmZvLnNpemUgfHwgdGhpcy50b2tlbml6ZXIuZmlsZUluZm8uc2l6ZSAtIHRoaXMudG9rZW5pemVyLnBvc2l0aW9uID49IEJsb2NrSGVhZGVyVG9rZW4ubGVuKTtcbiAgICAgICAgaWYgKHRoaXMubWV0YWRhdGEuZm9ybWF0LmR1cmF0aW9uKSB7XG4gICAgICAgICAgICB0aGlzLm1ldGFkYXRhLnNldEZvcm1hdCgnYml0cmF0ZScsIHRoaXMuYXVkaW9EYXRhU2l6ZSAqIDggLyB0aGlzLm1ldGFkYXRhLmZvcm1hdC5kdXJhdGlvbik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVmOiBodHRwOi8vd3d3LndhdnBhY2suY29tL1dhdlBhY2s1RmlsZUZvcm1hdC5wZGYsIDMuMCBNZXRhZGF0YSBTdWItYmxvY2tzXG4gICAgICogQHBhcmFtIGhlYWRlciBIZWFkZXJcbiAgICAgKiBAcGFyYW0gcmVtYWluaW5nTGVuZ3RoIFJlbWFpbmluZyBsZW5ndGhcbiAgICAgKi9cbiAgICBhc3luYyBwYXJzZU1ldGFkYXRhU3ViQmxvY2soaGVhZGVyLCByZW1haW5pbmdMZW5ndGgpIHtcbiAgICAgICAgbGV0IHJlbWFpbmluZyA9IHJlbWFpbmluZ0xlbmd0aDtcbiAgICAgICAgd2hpbGUgKHJlbWFpbmluZyA+IE1ldGFkYXRhSWRUb2tlbi5sZW4pIHtcbiAgICAgICAgICAgIGNvbnN0IGlkID0gYXdhaXQgdGhpcy50b2tlbml6ZXIucmVhZFRva2VuKE1ldGFkYXRhSWRUb2tlbik7XG4gICAgICAgICAgICBjb25zdCBkYXRhU2l6ZUluV29yZHMgPSBhd2FpdCB0aGlzLnRva2VuaXplci5yZWFkTnVtYmVyKGlkLmxhcmdlQmxvY2sgPyBUb2tlbi5VSU5UMjRfTEUgOiBUb2tlbi5VSU5UOCk7XG4gICAgICAgICAgICBjb25zdCBkYXRhID0gbmV3IFVpbnQ4QXJyYXkoZGF0YVNpemVJbldvcmRzICogMiAtIChpZC5pc09kZFNpemUgPyAxIDogMCkpO1xuICAgICAgICAgICAgYXdhaXQgdGhpcy50b2tlbml6ZXIucmVhZEJ1ZmZlcihkYXRhKTtcbiAgICAgICAgICAgIGRlYnVnKGBNZXRhZGF0YSBTdWItQmxvY2tzIGZ1bmN0aW9uSWQ9MHgke2lkLmZ1bmN0aW9uSWQudG9TdHJpbmcoMTYpfSwgaWQubGFyZ2VCbG9jaz0ke2lkLmxhcmdlQmxvY2t9LGRhdGEtc2l6ZT0ke2RhdGEubGVuZ3RofWApO1xuICAgICAgICAgICAgc3dpdGNoIChpZC5mdW5jdGlvbklkKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAweDA6IC8vIElEX0RVTU1ZOiBjb3VsZCBiZSB1c2VkIHRvIHBhZCBXYXZQYWNrIGJsb2Nrc1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDB4ZTogeyAvLyBJRF9EU0RfQkxPQ0tcbiAgICAgICAgICAgICAgICAgICAgZGVidWcoJ0lEX0RTRF9CTE9DSycpO1xuICAgICAgICAgICAgICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vZGJyeS9XYXZQYWNrL2lzc3Vlcy83MSNpc3N1ZWNvbW1lbnQtNDgzMDk0ODEzXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG1wID0gMSA8PCBUb2tlbi5VSU5UOC5nZXQoZGF0YSwgMCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHNhbXBsaW5nUmF0ZSA9IGhlYWRlci5mbGFncy5zYW1wbGluZ1JhdGUgKiBtcCAqIDg7IC8vIFRvRG86IHNlY29uZCBmYWN0b3Igc2hvdWxkIGJlIHJlYWQgZnJvbSBEU0QtbWV0YWRhdGEgYmxvY2sgaHR0cHM6Ly9naXRodWIuY29tL2RicnkvV2F2UGFjay9pc3N1ZXMvNzEjaXNzdWVjb21tZW50LTQ4MzA5NDgxM1xuICAgICAgICAgICAgICAgICAgICBpZiAoIWhlYWRlci5mbGFncy5pc0RTRClcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignT25seSBleHBlY3QgRFNEIGJsb2NrIGlmIERTRC1mbGFnIGlzIHNldCcpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm1ldGFkYXRhLnNldEZvcm1hdCgnc2FtcGxlUmF0ZScsIHNhbXBsaW5nUmF0ZSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubWV0YWRhdGEuc2V0Rm9ybWF0KCdkdXJhdGlvbicsIGhlYWRlci50b3RhbFNhbXBsZXMgLyBzYW1wbGluZ1JhdGUpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2FzZSAweDI0OiAvLyBJRF9BTFRfVFJBSUxFUjogbWF5YmUgdXNlZCB0byBlbWJlZCBvcmlnaW5hbCBJRDMgdGFnIGhlYWRlclxuICAgICAgICAgICAgICAgICAgICBkZWJ1ZygnSURfQUxUX1RSQUlMRVI6IHRyYWlsZXIgZm9yIG5vbi13YXYgZmlsZXMnKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAweDI2OiAvLyBJRF9NRDVfQ0hFQ0tTVU1cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tZXRhZGF0YS5zZXRGb3JtYXQoJ2F1ZGlvTUQ1JywgZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgMHgyZjogLy8gSURfQkxPQ0tfQ0hFQ0tTVU1cbiAgICAgICAgICAgICAgICAgICAgZGVidWcoYElEX0JMT0NLX0NIRUNLU1VNOiBjaGVja3N1bT0ke3VpbnQ4QXJyYXlUb0hleChkYXRhKX1gKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgZGVidWcoYElnbm9yZSB1bnN1cHBvcnRlZCBtZXRhLXN1Yi1ibG9jay1pZCBmdW5jdGlvbklkPTB4JHtpZC5mdW5jdGlvbklkLnRvU3RyaW5nKDE2KX1gKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZW1haW5pbmcgLT0gTWV0YWRhdGFJZFRva2VuLmxlbiArIChpZC5sYXJnZUJsb2NrID8gVG9rZW4uVUlOVDI0X0xFLmxlbiA6IFRva2VuLlVJTlQ4LmxlbikgKyBkYXRhU2l6ZUluV29yZHMgKiAyO1xuICAgICAgICAgICAgZGVidWcoYHJlbWFpbmluZ0xlbmd0aD0ke3JlbWFpbmluZ31gKTtcbiAgICAgICAgICAgIGlmIChpZC5pc09kZFNpemUpXG4gICAgICAgICAgICAgICAgdGhpcy50b2tlbml6ZXIuaWdub3JlKDEpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChyZW1haW5pbmcgIT09IDApXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ21ldGFkYXRhLXN1Yi1ibG9jayBzaG91bGQgZml0IGl0IHJlbWFpbmluZyBsZW5ndGgnKTtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1XYXZQYWNrUGFyc2VyLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/music-metadata/lib/wavpack/WavPackParser.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/music-metadata/lib/wavpack/WavPackToken.js":
/*!*****************************************************************!*\
  !*** ./node_modules/music-metadata/lib/wavpack/WavPackToken.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BlockHeaderToken: () => (/* binding */ BlockHeaderToken),\n/* harmony export */   MetadataIdToken: () => (/* binding */ MetadataIdToken)\n/* harmony export */ });\n/* harmony import */ var token_types__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! token-types */ \"(ssr)/./node_modules/token-types/lib/index.js\");\n/* harmony import */ var _common_FourCC_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../common/FourCC.js */ \"(ssr)/./node_modules/music-metadata/lib/common/FourCC.js\");\n\n\nconst SampleRates = [6000, 8000, 9600, 11025, 12000, 16000, 22050, 24000, 32000, 44100,\n    48000, 64000, 88200, 96000, 192000, -1];\n/**\n * WavPack Block Header\n *\n * 32-byte little-endian header at the front of every WavPack block\n *\n * Ref: http://www.wavpack.com/WavPack5FileFormat.pdf (page 2/6: 2.0 \"Block Header\")\n */\nconst BlockHeaderToken = {\n    len: 32,\n    get: (buf, off) => {\n        const flags = token_types__WEBPACK_IMPORTED_MODULE_0__.UINT32_LE.get(buf, off + 24);\n        const res = {\n            // should equal 'wvpk'\n            BlockID: _common_FourCC_js__WEBPACK_IMPORTED_MODULE_1__.FourCcToken.get(buf, off),\n            //  0x402 to 0x410 are valid for decode\n            blockSize: token_types__WEBPACK_IMPORTED_MODULE_0__.UINT32_LE.get(buf, off + 4),\n            //  0x402 (1026) to 0x410 are valid for decode\n            version: token_types__WEBPACK_IMPORTED_MODULE_0__.UINT16_LE.get(buf, off + 8),\n            //  40-bit total samples for entire file (if block_index == 0 and a value of -1 indicates an unknown length)\n            totalSamples: /* replace with bigint? (Token.UINT8.get(buf, off + 11) << 32) + */ token_types__WEBPACK_IMPORTED_MODULE_0__.UINT32_LE.get(buf, off + 12),\n            // 40-bit block_index\n            blockIndex: /* replace with bigint? (Token.UINT8.get(buf, off + 10) << 32) + */ token_types__WEBPACK_IMPORTED_MODULE_0__.UINT32_LE.get(buf, off + 16),\n            // 40-bit total samples for entire file (if block_index == 0 and a value of -1 indicates an unknown length)\n            blockSamples: token_types__WEBPACK_IMPORTED_MODULE_0__.UINT32_LE.get(buf, off + 20),\n            // various flags for id and decoding\n            flags: {\n                bitsPerSample: (1 + getBitAllignedNumber(flags, 0, 2)) * 8,\n                isMono: isBitSet(flags, 2),\n                isHybrid: isBitSet(flags, 3),\n                isJointStereo: isBitSet(flags, 4),\n                crossChannel: isBitSet(flags, 5),\n                hybridNoiseShaping: isBitSet(flags, 6),\n                floatingPoint: isBitSet(flags, 7),\n                samplingRate: SampleRates[getBitAllignedNumber(flags, 23, 4)],\n                isDSD: isBitSet(flags, 31)\n            },\n            // crc for actual decoded data\n            crc: new token_types__WEBPACK_IMPORTED_MODULE_0__.Uint8ArrayType(4).get(buf, off + 28)\n        };\n        if (res.flags.isDSD) {\n            res.totalSamples *= 8;\n        }\n        return res;\n    }\n};\n/**\n * 3.0 Metadata Sub-Blocks\n * Ref: http://www.wavpack.com/WavPack5FileFormat.pdf (page 4/6: 3.0 \"Metadata Sub-Block\")\n */\nconst MetadataIdToken = {\n    len: 1,\n    get: (buf, off) => {\n        return {\n            functionId: getBitAllignedNumber(buf[off], 0, 6), // functionId overlaps with isOptional flag\n            isOptional: isBitSet(buf[off], 5),\n            isOddSize: isBitSet(buf[off], 6),\n            largeBlock: isBitSet(buf[off], 7)\n        };\n    }\n};\nfunction isBitSet(flags, bitOffset) {\n    return getBitAllignedNumber(flags, bitOffset, 1) === 1;\n}\nfunction getBitAllignedNumber(flags, bitOffset, len) {\n    return (flags >>> bitOffset) & (0xffffffff >>> (32 - len));\n}\n//# sourceMappingURL=WavPackToken.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvbXVzaWMtbWV0YWRhdGEvbGliL3dhdnBhY2svV2F2UGFja1Rva2VuLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBcUM7QUFDYTtBQUNsRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQSxzQkFBc0Isa0RBQWU7QUFDckM7QUFDQTtBQUNBLHFCQUFxQiwwREFBVztBQUNoQztBQUNBLHVCQUF1QixrREFBZTtBQUN0QztBQUNBLHFCQUFxQixrREFBZTtBQUNwQztBQUNBLDhGQUE4RixrREFBZTtBQUM3RztBQUNBLDRGQUE0RixrREFBZTtBQUMzRztBQUNBLDBCQUEwQixrREFBZTtBQUN6QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0EscUJBQXFCLHVEQUFvQjtBQUN6QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZGV2ZWxldmF0ZS8uL25vZGVfbW9kdWxlcy9tdXNpYy1tZXRhZGF0YS9saWIvd2F2cGFjay9XYXZQYWNrVG9rZW4uanM/M2NmOSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgKiBhcyBUb2tlbiBmcm9tICd0b2tlbi10eXBlcyc7XG5pbXBvcnQgeyBGb3VyQ2NUb2tlbiB9IGZyb20gJy4uL2NvbW1vbi9Gb3VyQ0MuanMnO1xuY29uc3QgU2FtcGxlUmF0ZXMgPSBbNjAwMCwgODAwMCwgOTYwMCwgMTEwMjUsIDEyMDAwLCAxNjAwMCwgMjIwNTAsIDI0MDAwLCAzMjAwMCwgNDQxMDAsXG4gICAgNDgwMDAsIDY0MDAwLCA4ODIwMCwgOTYwMDAsIDE5MjAwMCwgLTFdO1xuLyoqXG4gKiBXYXZQYWNrIEJsb2NrIEhlYWRlclxuICpcbiAqIDMyLWJ5dGUgbGl0dGxlLWVuZGlhbiBoZWFkZXIgYXQgdGhlIGZyb250IG9mIGV2ZXJ5IFdhdlBhY2sgYmxvY2tcbiAqXG4gKiBSZWY6IGh0dHA6Ly93d3cud2F2cGFjay5jb20vV2F2UGFjazVGaWxlRm9ybWF0LnBkZiAocGFnZSAyLzY6IDIuMCBcIkJsb2NrIEhlYWRlclwiKVxuICovXG5leHBvcnQgY29uc3QgQmxvY2tIZWFkZXJUb2tlbiA9IHtcbiAgICBsZW46IDMyLFxuICAgIGdldDogKGJ1Ziwgb2ZmKSA9PiB7XG4gICAgICAgIGNvbnN0IGZsYWdzID0gVG9rZW4uVUlOVDMyX0xFLmdldChidWYsIG9mZiArIDI0KTtcbiAgICAgICAgY29uc3QgcmVzID0ge1xuICAgICAgICAgICAgLy8gc2hvdWxkIGVxdWFsICd3dnBrJ1xuICAgICAgICAgICAgQmxvY2tJRDogRm91ckNjVG9rZW4uZ2V0KGJ1Ziwgb2ZmKSxcbiAgICAgICAgICAgIC8vICAweDQwMiB0byAweDQxMCBhcmUgdmFsaWQgZm9yIGRlY29kZVxuICAgICAgICAgICAgYmxvY2tTaXplOiBUb2tlbi5VSU5UMzJfTEUuZ2V0KGJ1Ziwgb2ZmICsgNCksXG4gICAgICAgICAgICAvLyAgMHg0MDIgKDEwMjYpIHRvIDB4NDEwIGFyZSB2YWxpZCBmb3IgZGVjb2RlXG4gICAgICAgICAgICB2ZXJzaW9uOiBUb2tlbi5VSU5UMTZfTEUuZ2V0KGJ1Ziwgb2ZmICsgOCksXG4gICAgICAgICAgICAvLyAgNDAtYml0IHRvdGFsIHNhbXBsZXMgZm9yIGVudGlyZSBmaWxlIChpZiBibG9ja19pbmRleCA9PSAwIGFuZCBhIHZhbHVlIG9mIC0xIGluZGljYXRlcyBhbiB1bmtub3duIGxlbmd0aClcbiAgICAgICAgICAgIHRvdGFsU2FtcGxlczogLyogcmVwbGFjZSB3aXRoIGJpZ2ludD8gKFRva2VuLlVJTlQ4LmdldChidWYsIG9mZiArIDExKSA8PCAzMikgKyAqLyBUb2tlbi5VSU5UMzJfTEUuZ2V0KGJ1Ziwgb2ZmICsgMTIpLFxuICAgICAgICAgICAgLy8gNDAtYml0IGJsb2NrX2luZGV4XG4gICAgICAgICAgICBibG9ja0luZGV4OiAvKiByZXBsYWNlIHdpdGggYmlnaW50PyAoVG9rZW4uVUlOVDguZ2V0KGJ1Ziwgb2ZmICsgMTApIDw8IDMyKSArICovIFRva2VuLlVJTlQzMl9MRS5nZXQoYnVmLCBvZmYgKyAxNiksXG4gICAgICAgICAgICAvLyA0MC1iaXQgdG90YWwgc2FtcGxlcyBmb3IgZW50aXJlIGZpbGUgKGlmIGJsb2NrX2luZGV4ID09IDAgYW5kIGEgdmFsdWUgb2YgLTEgaW5kaWNhdGVzIGFuIHVua25vd24gbGVuZ3RoKVxuICAgICAgICAgICAgYmxvY2tTYW1wbGVzOiBUb2tlbi5VSU5UMzJfTEUuZ2V0KGJ1Ziwgb2ZmICsgMjApLFxuICAgICAgICAgICAgLy8gdmFyaW91cyBmbGFncyBmb3IgaWQgYW5kIGRlY29kaW5nXG4gICAgICAgICAgICBmbGFnczoge1xuICAgICAgICAgICAgICAgIGJpdHNQZXJTYW1wbGU6ICgxICsgZ2V0Qml0QWxsaWduZWROdW1iZXIoZmxhZ3MsIDAsIDIpKSAqIDgsXG4gICAgICAgICAgICAgICAgaXNNb25vOiBpc0JpdFNldChmbGFncywgMiksXG4gICAgICAgICAgICAgICAgaXNIeWJyaWQ6IGlzQml0U2V0KGZsYWdzLCAzKSxcbiAgICAgICAgICAgICAgICBpc0pvaW50U3RlcmVvOiBpc0JpdFNldChmbGFncywgNCksXG4gICAgICAgICAgICAgICAgY3Jvc3NDaGFubmVsOiBpc0JpdFNldChmbGFncywgNSksXG4gICAgICAgICAgICAgICAgaHlicmlkTm9pc2VTaGFwaW5nOiBpc0JpdFNldChmbGFncywgNiksXG4gICAgICAgICAgICAgICAgZmxvYXRpbmdQb2ludDogaXNCaXRTZXQoZmxhZ3MsIDcpLFxuICAgICAgICAgICAgICAgIHNhbXBsaW5nUmF0ZTogU2FtcGxlUmF0ZXNbZ2V0Qml0QWxsaWduZWROdW1iZXIoZmxhZ3MsIDIzLCA0KV0sXG4gICAgICAgICAgICAgICAgaXNEU0Q6IGlzQml0U2V0KGZsYWdzLCAzMSlcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAvLyBjcmMgZm9yIGFjdHVhbCBkZWNvZGVkIGRhdGFcbiAgICAgICAgICAgIGNyYzogbmV3IFRva2VuLlVpbnQ4QXJyYXlUeXBlKDQpLmdldChidWYsIG9mZiArIDI4KVxuICAgICAgICB9O1xuICAgICAgICBpZiAocmVzLmZsYWdzLmlzRFNEKSB7XG4gICAgICAgICAgICByZXMudG90YWxTYW1wbGVzICo9IDg7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlcztcbiAgICB9XG59O1xuLyoqXG4gKiAzLjAgTWV0YWRhdGEgU3ViLUJsb2Nrc1xuICogUmVmOiBodHRwOi8vd3d3LndhdnBhY2suY29tL1dhdlBhY2s1RmlsZUZvcm1hdC5wZGYgKHBhZ2UgNC82OiAzLjAgXCJNZXRhZGF0YSBTdWItQmxvY2tcIilcbiAqL1xuZXhwb3J0IGNvbnN0IE1ldGFkYXRhSWRUb2tlbiA9IHtcbiAgICBsZW46IDEsXG4gICAgZ2V0OiAoYnVmLCBvZmYpID0+IHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGZ1bmN0aW9uSWQ6IGdldEJpdEFsbGlnbmVkTnVtYmVyKGJ1ZltvZmZdLCAwLCA2KSwgLy8gZnVuY3Rpb25JZCBvdmVybGFwcyB3aXRoIGlzT3B0aW9uYWwgZmxhZ1xuICAgICAgICAgICAgaXNPcHRpb25hbDogaXNCaXRTZXQoYnVmW29mZl0sIDUpLFxuICAgICAgICAgICAgaXNPZGRTaXplOiBpc0JpdFNldChidWZbb2ZmXSwgNiksXG4gICAgICAgICAgICBsYXJnZUJsb2NrOiBpc0JpdFNldChidWZbb2ZmXSwgNylcbiAgICAgICAgfTtcbiAgICB9XG59O1xuZnVuY3Rpb24gaXNCaXRTZXQoZmxhZ3MsIGJpdE9mZnNldCkge1xuICAgIHJldHVybiBnZXRCaXRBbGxpZ25lZE51bWJlcihmbGFncywgYml0T2Zmc2V0LCAxKSA9PT0gMTtcbn1cbmZ1bmN0aW9uIGdldEJpdEFsbGlnbmVkTnVtYmVyKGZsYWdzLCBiaXRPZmZzZXQsIGxlbikge1xuICAgIHJldHVybiAoZmxhZ3MgPj4+IGJpdE9mZnNldCkgJiAoMHhmZmZmZmZmZiA+Pj4gKDMyIC0gbGVuKSk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1XYXZQYWNrVG9rZW4uanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/music-metadata/lib/wavpack/WavPackToken.js\n");

/***/ })

};
;